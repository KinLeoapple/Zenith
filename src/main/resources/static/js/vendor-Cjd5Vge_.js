var e,t,n,i=Object.defineProperty,o=e=>{throw TypeError(e)},r=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),s=(e,t,n)=>(((e,t,n)=>{t.has(e)||o("Cannot "+n)})(e,t,"access private method"),n);function a(e,t){for(var n=0;n<t.length;n++){const i=t[n];if("string"!=typeof i&&!Array.isArray(i))for(const t in i)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(i,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>i[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})})),n}var h={exports:{}},d={},g={exports:{}},f={},p=Symbol.for("react.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),L=Symbol.iterator;var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function T(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||D}function I(){}function M(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||D}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},I.prototype=T.prototype;var R=M.prototype=new I;R.constructor=M,E(R,T.prototype),R.isPureReactComponent=!0;var A=Array.isArray,O=Object.prototype.hasOwnProperty,P={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,n){var i,o={},r=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(r=""+t.key),t)O.call(t,i)&&!F.hasOwnProperty(i)&&(o[i]=t[i]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===o[i]&&(o[i]=a[i]);return{$$typeof:p,type:e,key:r,ref:s,props:o,_owner:P.current}}function z(e){return"object"==typeof e&&null!==e&&e.$$typeof===p}var V=/\/+/g;function W(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function H(e,t,n,i,o){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var s=!1;if(null===e)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case p:case m:s=!0}}if(s)return o=o(s=e),e=""===i?"."+W(s,0):i,A(o)?(n="",null!=e&&(n=e.replace(V,"$&/")+"/"),H(o,t,n,"",(function(e){return e}))):null!=o&&(z(o)&&(o=function(e,t){return{$$typeof:p,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(V,"$&/")+"/")+e)),t.push(o)),1;if(s=0,i=""===i?".":i+":",A(e))for(var a=0;a<e.length;a++){var l=i+W(r=e[a],a);s+=H(r,t,n,l,o)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(r=e.next()).done;)s+=H(r=r.value,t,n,l=i+W(r,a++),o);else if("object"===r)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $(e,t,n){if(null==e)return e;var i=[],o=0;return H(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},K={transition:null},q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:K,ReactCurrentOwner:P};function G(){throw Error("act(...) is not supported in production builds of React.")}f.Children={map:$,forEach:function(e,t,n){$(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return $(e,(function(){t++})),t},toArray:function(e){return $(e,(function(e){return e}))||[]},only:function(e){if(!z(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},f.Component=T,f.Fragment=v,f.Profiler=_,f.PureComponent=M,f.StrictMode=b,f.Suspense=S,f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,f.act=G,f.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=E({},e.props),o=e.key,r=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,s=P.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)O.call(t,l)&&!F.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:p,type:e.type,key:o,ref:r,props:i,_owner:s}},f.createContext=function(e){return(e={$$typeof:w,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:y,_context:e},e.Consumer=e},f.createElement=B,f.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},f.createRef=function(){return{current:null}},f.forwardRef=function(e){return{$$typeof:C,render:e}},f.isValidElement=z,f.lazy=function(e){return{$$typeof:k,_payload:{_status:-1,_result:e},_init:j}},f.memo=function(e,t){return{$$typeof:x,type:e,compare:void 0===t?null:t}},f.startTransition=function(e){var t=K.transition;K.transition={};try{e()}finally{K.transition=t}},f.unstable_act=G,f.useCallback=function(e,t){return U.current.useCallback(e,t)},f.useContext=function(e){return U.current.useContext(e)},f.useDebugValue=function(){},f.useDeferredValue=function(e){return U.current.useDeferredValue(e)},f.useEffect=function(e,t){return U.current.useEffect(e,t)},f.useId=function(){return U.current.useId()},f.useImperativeHandle=function(e,t,n){return U.current.useImperativeHandle(e,t,n)},f.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},f.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},f.useMemo=function(e,t){return U.current.useMemo(e,t)},f.useReducer=function(e,t,n){return U.current.useReducer(e,t,n)},f.useRef=function(e){return U.current.useRef(e)},f.useState=function(e){return U.current.useState(e)},f.useSyncExternalStore=function(e,t,n){return U.current.useSyncExternalStore(e,t,n)},f.useTransition=function(){return U.current.useTransition()},f.version="18.3.1",g.exports=f;var Y=g.exports;const X=c(Y),Z=a({__proto__:null,default:X},[Y]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Q=Y,J=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,ne=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function oe(e,t,n){var i,o={},r=null,s=null;for(i in void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(s=t.ref),t)te.call(t,i)&&!ie.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:J,type:e,key:r,ref:s,props:o,_owner:ne.current}}d.Fragment=ee,d.jsx=oe,d.jsxs=oe,h.exports=d;var re=h.exports,se={},ae={exports:{}},le={},ce={exports:{}},ue={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,g=!1,f=!1,p=!1,m="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var o=n(c);null!==o;){if(null===o.callback)i(c);else{if(!(o.startTime<=e))break;i(c),o.sortIndex=o.expirationTime,t(l,o)}o=n(c)}}function y(e){if(p=!1,_(e),!f)if(null!==n(l))f=!0,M(w);else{var t=n(c);null!==t&&R(y,t.startTime-e)}}function w(t,o){f=!1,p&&(p=!1,v(k),k=-1),g=!0;var r=d;try{for(_(o),h=n(l);null!==h&&(!(h.expirationTime>o)||t&&!E());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=o);o=e.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&i(l),_(o)}else i(l);h=n(l)}if(null!==h)var u=!0;else{var m=n(c);null!==m&&R(y,m.startTime-o),u=!1}return u}finally{h=null,d=r,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,x=null,k=-1,L=5,D=-1;function E(){return!(e.unstable_now()-D<L)}function N(){if(null!==x){var t=e.unstable_now();D=t;var n=!0;try{n=x(!0,t)}finally{n?C():(S=!1,x=null)}}else S=!1}if("function"==typeof b)C=function(){b(N)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=N,C=function(){I.postMessage(null)}}else C=function(){m(N,0)};function M(e){x=e,S||(S=!0,C())}function R(t,n){k=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||g||(f=!0,M(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(i,o,r){var s=e.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?s+r:s:r=s,i){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return i={id:u++,callback:o,priorityLevel:i,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(i.sortIndex=r,t(c,i),null===n(l)&&i===n(c)&&(p?(v(k),k=-1):p=!0,R(y,r-s))):(i.sortIndex=a,t(l,i),f||g||(f=!0,M(w))),i},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(ue),ce.exports=ue;var he=ce.exports,de=Y,ge=he;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pe=new Set,me={};function ve(e,t){be(e,t),be(e+"Capture",t)}function be(e,t){for(me[e]=t,e=0;e<t.length;e++)pe.add(t[e])}var _e=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ye=Object.prototype.hasOwnProperty,we=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ce={},Se={};function xe(e,t,n,i,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ke[e]=new xe(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ke[t]=new xe(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ke[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ke[e]=new xe(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ke[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ke[e]=new xe(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ke[e]=new xe(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ke[e]=new xe(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ke[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Le=/[\-:]([a-z])/g;function De(e){return e[1].toUpperCase()}function Ee(e,t,n,i){var o=ke.hasOwnProperty(t)?ke[t]:null;(null!==o?0!==o.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!ye.call(Se,e)||!ye.call(Ce,e)&&(we.test(e)?Se[e]=!0:(Ce[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Le,De);ke[t]=new xe(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Le,De);ke[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Le,De);ke[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ke[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)})),ke.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ke[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Ne=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),$e=Symbol.iterator;function je(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$e&&e[$e]||e["@@iterator"])?e:null}var Ue,Ke=Object.assign;function qe(e){if(void 0===Ue)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||""}return"\n"+Ue+e}var Ge=!1;function Ye(e,t){if(!e||Ge)return"";Ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"==typeof c.stack){for(var o=c.stack.split("\n"),r=i.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{Ge=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qe(e):""}function Xe(e){switch(e.tag){case 5:return qe(e.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return e=Ye(e.type,!1);case 11:return e=Ye(e.type.render,!1);case 1:return e=Ye(e.type,!0);default:return""}}function Ze(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Me:return"Fragment";case Ie:return"Portal";case Ae:return"Profiler";case Re:return"StrictMode";case Be:return"Suspense";case ze:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case Fe:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ve:return null!==(t=e.displayName||null)?t:Ze(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return Ze(e(t))}catch(n){}}return null}function Qe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ze(t);case 8:return t===Re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function et(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function tt(e){e._valueTracker||(e._valueTracker=function(e){var t=et(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function nt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=et(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function it(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ot(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function rt(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Je(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function st(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function at(e,t){st(e,t);var n=Je(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&ct(e,t.type,Je(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function lt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ct(e,t,n){"number"===t&&it(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ut=Array.isArray;function ht(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Je(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function dt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(fe(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(fe(92));if(ut(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Je(n)}}function ft(e,t){var n=Je(t.value),i=Je(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function pt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function mt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?mt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var bt,_t,yt=(_t=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((bt=bt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return _t(e,t)}))}:_t);function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];function xt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ct.hasOwnProperty(e)&&Ct[e]?(""+t).trim():t+"px"}function kt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=xt(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(Ct).forEach((function(e){St.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ct[t]=Ct[e]}))}));var Lt=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(e,t){if(t){if(Lt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(fe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(fe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(fe(62))}}function Et(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null,Rt=null;function At(e){if(e=Nr(e)){if("function"!=typeof It)throw Error(fe(280));var t=e.stateNode;t&&(t=Ir(t),It(e.stateNode,e.type,t))}}function Ot(e){Mt?Rt?Rt.push(e):Rt=[e]:Mt=e}function Pt(){if(Mt){var e=Mt,t=Rt;if(Rt=Mt=null,At(e),t)for(e=0;e<t.length;e++)At(t[e])}}function Ft(e,t){return e(t)}function Bt(){}var zt=!1;function Vt(e,t,n){if(zt)return e(t,n);zt=!0;try{return Ft(e,t,n)}finally{zt=!1,(null!==Mt||null!==Rt)&&(Bt(),Pt())}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var i=Ir(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(fe(231,t,typeof n));return n}var Ht=!1;if(_e)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(_t){Ht=!1}function jt(e,t,n,i,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ut=!1,Kt=null,qt=!1,Gt=null,Yt={onError:function(e){Ut=!0,Kt=e}};function Xt(e,t,n,i,o,r,s,a,l){Ut=!1,Kt=null,jt.apply(Yt,arguments)}function Zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Jt(e){if(Zt(e)!==e)throw Error(fe(188))}function en(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Zt(e)))throw Error(fe(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return Jt(o),e;if(r===i)return Jt(o),t;r=r.sibling}throw Error(fe(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==i)throw Error(fe(190))}if(3!==n.tag)throw Error(fe(188));return n.stateNode.current===n?e:t}(e))?tn(e):null}function tn(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=tn(e);if(null!==t)return t;e=e.sibling}return null}var nn=ge.unstable_scheduleCallback,on=ge.unstable_cancelCallback,rn=ge.unstable_shouldYield,sn=ge.unstable_requestPaint,an=ge.unstable_now,ln=ge.unstable_getCurrentPriorityLevel,cn=ge.unstable_ImmediatePriority,un=ge.unstable_UserBlockingPriority,hn=ge.unstable_NormalPriority,dn=ge.unstable_LowPriority,gn=ge.unstable_IdlePriority,fn=null,pn=null;var mn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(vn(e)/bn|0)|0},vn=Math.log,bn=Math.LN2;var _n=64,yn=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cn(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?i=wn(a):0!==(r&=s)&&(i=wn(r))}else 0!==(s=n&~o)?i=wn(s):0!==r&&(i=wn(r));if(0===i)return 0;if(0!==t&&t!==i&&!(t&o)&&((o=i&-i)>=(r=t&-t)||16===o&&4194240&r))return t;if(4&i&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-mn(t)),i|=e[n],t&=~o;return i}function Sn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kn(){var e=_n;return!(4194240&(_n<<=1))&&(_n=64),e}function Ln(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-mn(t)]=n}function En(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-mn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Nn=0;function Tn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var In,Mn,Rn,An,On,Pn=!1,Fn=[],Bn=null,zn=null,Vn=null,Wn=new Map,Hn=new Map,$n=[],jn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Un(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function Kn(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=Nr(t))&&Mn(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function qn(e){var t=Er(e.target);if(null!==t){var n=Zt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qt(n)))return e.blockedOn=t,void On(e.priority,(function(){Rn(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ri(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Nr(n))&&Mn(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Nt=i,n.target.dispatchEvent(i),Nt=null,t.shift()}return!0}function Yn(e,t,n){Gn(e)&&n.delete(t)}function Xn(){Pn=!1,null!==Bn&&Gn(Bn)&&(Bn=null),null!==zn&&Gn(zn)&&(zn=null),null!==Vn&&Gn(Vn)&&(Vn=null),Wn.forEach(Yn),Hn.forEach(Yn)}function Zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Pn||(Pn=!0,ge.unstable_scheduleCallback(ge.unstable_NormalPriority,Xn)))}function Qn(e){function t(t){return Zn(t,e)}if(0<Fn.length){Zn(Fn[0],e);for(var n=1;n<Fn.length;n++){var i=Fn[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Bn&&Zn(Bn,e),null!==zn&&Zn(zn,e),null!==Vn&&Zn(Vn,e),Wn.forEach(t),Hn.forEach(t),n=0;n<$n.length;n++)(i=$n[n]).blockedOn===e&&(i.blockedOn=null);for(;0<$n.length&&null===(n=$n[0]).blockedOn;)qn(n),null===n.blockedOn&&$n.shift()}var Jn=Ne.ReactCurrentBatchConfig,ei=!0;function ti(e,t,n,i){var o=Nn,r=Jn.transition;Jn.transition=null;try{Nn=1,ii(e,t,n,i)}finally{Nn=o,Jn.transition=r}}function ni(e,t,n,i){var o=Nn,r=Jn.transition;Jn.transition=null;try{Nn=4,ii(e,t,n,i)}finally{Nn=o,Jn.transition=r}}function ii(e,t,n,i){if(ei){var o=ri(e,t,n,i);if(null===o)er(e,t,i,oi,n),Un(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return Bn=Kn(Bn,e,t,n,i,o),!0;case"dragenter":return zn=Kn(zn,e,t,n,i,o),!0;case"mouseover":return Vn=Kn(Vn,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return Wn.set(r,Kn(Wn.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Hn.set(r,Kn(Hn.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(Un(e,i),4&t&&-1<jn.indexOf(e)){for(;null!==o;){var r=Nr(o);if(null!==r&&In(r),null===(r=ri(e,t,n,i))&&er(e,t,i,oi,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else er(e,t,i,null,n)}}var oi=null;function ri(e,t,n,i){if(oi=null,null!==(e=Er(e=Tt(i))))if(null===(t=Zt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Qt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oi=e,null}function si(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ln()){case cn:return 1;case un:return 4;case hn:case dn:return 16;case gn:return 536870912;default:return 16}default:return 16}}var ai=null,li=null,ci=null;function ui(){if(ci)return ci;var e,t,n=li,i=n.length,o="value"in ai?ai.value:ai.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return ci=o.slice(e,1<t?1-t:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function di(){return!0}function gi(){return!1}function fi(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?di:gi,this.isPropagationStopped=gi,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var pi,mi,vi,bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=fi(bi),yi=Ke({},bi,{view:0,detail:0}),wi=fi(yi),Ci=Ke({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&"mousemove"===e.type?(pi=e.screenX-vi.screenX,mi=e.screenY-vi.screenY):mi=pi=0,vi=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:mi}}),Si=fi(Ci),xi=fi(Ke({},Ci,{dataTransfer:0})),ki=fi(Ke({},yi,{relatedTarget:0})),Li=fi(Ke({},bi,{animationName:0,elapsedTime:0,pseudoElement:0})),Di=Ke({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ei=fi(Di),Ni=fi(Ke({},bi,{data:0})),Ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ri(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mi[e])&&!!t[e]}function Ai(){return Ri}var Oi=Ke({},yi,{key:function(e){if(e.key){var t=Ti[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(e){return"keypress"===e.type?hi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pi=fi(Oi),Fi=fi(Ke({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bi=fi(Ke({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai})),zi=fi(Ke({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vi=Ke({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wi=fi(Vi),Hi=[9,13,27,32],$i=_e&&"CompositionEvent"in window,ji=null;_e&&"documentMode"in document&&(ji=document.documentMode);var Ui=_e&&"TextEvent"in window&&!ji,Ki=_e&&(!$i||ji&&8<ji&&11>=ji),qi=String.fromCharCode(32),Gi=!1;function Yi(e,t){switch(e){case"keyup":return-1!==Hi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zi=!1;var Qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qi[e.type]:"textarea"===t}function eo(e,t,n,i){Ot(i),0<(t=nr(t,"onChange")).length&&(n=new _i("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var to=null,no=null;function io(e){Go(e,0)}function oo(e){if(nt(Tr(e)))return e}function ro(e,t){if("change"===e)return t}var so=!1;if(_e){var ao;if(_e){var lo="oninput"in document;if(!lo){var co=document.createElement("div");co.setAttribute("oninput","return;"),lo="function"==typeof co.oninput}ao=lo}else ao=!1;so=ao&&(!document.documentMode||9<document.documentMode)}function uo(){to&&(to.detachEvent("onpropertychange",ho),no=to=null)}function ho(e){if("value"===e.propertyName&&oo(no)){var t=[];eo(t,no,e,Tt(e)),Vt(io,t)}}function go(e,t,n){"focusin"===e?(uo(),no=n,(to=t).attachEvent("onpropertychange",ho)):"focusout"===e&&uo()}function fo(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return oo(no)}function po(e,t){if("click"===e)return oo(t)}function mo(e,t){if("input"===e||"change"===e)return oo(t)}var vo="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function bo(e,t){if(vo(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ye.call(t,o)||!vo(e[o],t[o]))return!1}return!0}function _o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yo(e,t){var n,i=_o(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=_o(i)}}function wo(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wo(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Co(){for(var e=window,t=it();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=it((e=t.contentWindow).document)}return t}function So(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xo(e){var t=Co(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wo(n.ownerDocument.documentElement,n)){if(null!==i&&So(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,r=Math.min(i.start,o);i=void 0===i.end?r:Math.min(i.end,o),!e.extend&&r>i&&(o=i,i=r,r=o),o=yo(n,r);var s=yo(n,i);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ko=_e&&"documentMode"in document&&11>=document.documentMode,Lo=null,Do=null,Eo=null,No=!1;function To(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;No||null==Lo||Lo!==it(i)||("selectionStart"in(i=Lo)&&So(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Eo&&bo(Eo,i)||(Eo=i,0<(i=nr(Do,"onSelect")).length&&(t=new _i("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Lo)))}function Io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mo={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},Ro={},Ao={};function Oo(e){if(Ro[e])return Ro[e];if(!Mo[e])return e;var t,n=Mo[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ao)return Ro[e]=n[t];return e}_e&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);var Po=Oo("animationend"),Fo=Oo("animationiteration"),Bo=Oo("animationstart"),zo=Oo("transitionend"),Vo=new Map,Wo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(e,t){Vo.set(e,t),ve(t,[e])}for(var $o=0;$o<Wo.length;$o++){var jo=Wo[$o];Ho(jo.toLowerCase(),"on"+(jo[0].toUpperCase()+jo.slice(1)))}Ho(Po,"onAnimationEnd"),Ho(Fo,"onAnimationIteration"),Ho(Bo,"onAnimationStart"),Ho("dblclick","onDoubleClick"),Ho("focusin","onFocus"),Ho("focusout","onBlur"),Ho(zo,"onTransitionEnd"),be("onMouseEnter",["mouseout","mouseover"]),be("onMouseLeave",["mouseout","mouseover"]),be("onPointerEnter",["pointerout","pointerover"]),be("onPointerLeave",["pointerout","pointerover"]),ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ko=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function qo(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,r,s,a,l){if(Xt.apply(this,arguments),Ut){if(!Ut)throw Error(fe(198));var c=Kt;Ut=!1,Kt=null,qt||(qt=!0,Gt=c)}}(i,t,void 0,e),e.currentTarget=null}function Go(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;qo(o,a,c),r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;qo(o,a,c),r=l}}}if(qt)throw e=Gt,qt=!1,Gt=null,e}function Yo(e,t){var n=t[kr];void 0===n&&(n=t[kr]=new Set);var i=e+"__bubble";n.has(i)||(Jo(t,e,2,!1),n.add(i))}function Xo(e,t,n){var i=0;t&&(i|=4),Jo(n,e,i,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[Zo]){e[Zo]=!0,pe.forEach((function(t){"selectionchange"!==t&&(Ko.has(t)||Xo(t,!1,e),Xo(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zo]||(t[Zo]=!0,Xo("selectionchange",!1,t))}}function Jo(e,t,n,i){switch(si(t)){case 1:var o=ti;break;case 4:o=ni;break;default:o=ii}n=o.bind(null,t,n,e),o=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function er(e,t,n,i,o){var r=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=Er(a)))return;if(5===(l=s.tag)||6===l){i=r=s;continue e}a=a.parentNode}}i=i.return}Vt((function(){var i=r,o=Tt(n),s=[];e:{var a=Vo.get(e);if(void 0!==a){var l=_i,c=e;switch(e){case"keypress":if(0===hi(n))break e;case"keydown":case"keyup":l=Pi;break;case"focusin":c="focus",l=ki;break;case"focusout":c="blur",l=ki;break;case"beforeblur":case"afterblur":l=ki;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bi;break;case Po:case Fo:case Bo:l=Li;break;case zo:l=zi;break;case"scroll":l=wi;break;case"wheel":l=Wi;break;case"copy":case"cut":case"paste":l=Ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Fi}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var g,f=i;null!==f;){var p=(g=f).stateNode;if(5===g.tag&&null!==p&&(g=p,null!==d&&(null!=(p=Wt(f,d))&&u.push(tr(f,p,g)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Er(c)&&!c[xr])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Er(c):null)&&(c!==(h=Zt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=Si,p="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Fi,p="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:Tr(l),g=null==c?a:Tr(c),(a=new u(p,f+"leave",l,n,o)).target=h,a.relatedTarget=g,p=null,Er(o)===i&&((u=new u(d,f+"enter",c,n,o)).target=g,u.relatedTarget=h,p=u),h=p,l&&c)e:{for(d=c,f=0,g=u=l;g;g=ir(g))f++;for(g=0,p=d;p;p=ir(p))g++;for(;0<f-g;)u=ir(u),f--;for(;0<g-f;)d=ir(d),g--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=ir(u),d=ir(d)}u=null}else u=null;null!==l&&or(s,a,l,u,!1),null!==c&&null!==h&&or(s,h,c,u,!0)}if("select"===(l=(a=i?Tr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=ro;else if(Ji(a))if(so)m=mo;else{m=fo;var v=go}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=po);switch(m&&(m=m(e,i))?eo(s,m,n,o):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ct(a,"number",a.value)),v=i?Tr(i):window,e){case"focusin":(Ji(v)||"true"===v.contentEditable)&&(Lo=v,Do=i,Eo=null);break;case"focusout":Eo=Do=Lo=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,To(s,n,o);break;case"selectionchange":if(ko)break;case"keydown":case"keyup":To(s,n,o)}var b;if($i)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zi?Yi(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Ki&&"ko"!==n.locale&&(Zi||"onCompositionStart"!==_?"onCompositionEnd"===_&&Zi&&(b=ui()):(li="value"in(ai=o)?ai.value:ai.textContent,Zi=!0)),0<(v=nr(i,_)).length&&(_=new Ni(_,e,null,n,o),s.push({event:_,listeners:v}),b?_.data=b:null!==(b=Xi(n))&&(_.data=b))),(b=Ui?function(e,t){switch(e){case"compositionend":return Xi(t);case"keypress":return 32!==t.which?null:(Gi=!0,qi);case"textInput":return(e=t.data)===qi&&Gi?null:e;default:return null}}(e,n):function(e,t){if(Zi)return"compositionend"===e||!$i&&Yi(e,t)?(e=ui(),ci=li=ai=null,Zi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ki&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=nr(i,"onBeforeInput")).length&&(o=new Ni("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:i}),o.data=b))}Go(s,t)}))}function tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nr(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Wt(e,n))&&i.unshift(tr(e,r,o)),null!=(r=Wt(e,t))&&i.push(tr(e,r,o))),e=e.return}return i}function ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function or(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Wt(n,r))&&s.unshift(tr(n,l,a)):o||null!=(l=Wt(n,r))&&s.push(tr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var rr=/\r\n?/g,sr=/\u0000|\uFFFD/g;function ar(e){return("string"==typeof e?e:""+e).replace(rr,"\n").replace(sr,"")}function lr(e,t,n){if(t=ar(t),ar(e)!==t&&n)throw Error(fe(425))}function cr(){}var ur=null,hr=null;function dr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var gr="function"==typeof setTimeout?setTimeout:void 0,fr="function"==typeof clearTimeout?clearTimeout:void 0,pr="function"==typeof Promise?Promise:void 0,mr="function"==typeof queueMicrotask?queueMicrotask:void 0!==pr?function(e){return pr.resolve(null).then(e).catch(vr)}:gr;function vr(e){setTimeout((function(){throw e}))}function br(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===i)return e.removeChild(o),void Qn(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=o}while(n);Qn(t)}function _r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Cr="__reactFiber$"+wr,Sr="__reactProps$"+wr,xr="__reactContainer$"+wr,kr="__reactEvents$"+wr,Lr="__reactListeners$"+wr,Dr="__reactHandles$"+wr;function Er(e){var t=e[Cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[Cr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yr(e);null!==e;){if(n=e[Cr])return n;e=yr(e)}return t}n=(e=n).parentNode}return null}function Nr(e){return!(e=e[Cr]||e[xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Tr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(fe(33))}function Ir(e){return e[Sr]||null}var Mr=[],Rr=-1;function Ar(e){return{current:e}}function Or(e){0>Rr||(e.current=Mr[Rr],Mr[Rr]=null,Rr--)}function Pr(e,t){Rr++,Mr[Rr]=e.current,e.current=t}var Fr={},Br=Ar(Fr),zr=Ar(!1),Vr=Fr;function Wr(e,t){var n=e.type.contextTypes;if(!n)return Fr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Hr(e){return null!=(e=e.childContextTypes)}function $r(){Or(zr),Or(Br)}function jr(e,t,n){if(Br.current!==Fr)throw Error(fe(168));Pr(Br,t),Pr(zr,n)}function Ur(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(fe(108,Qe(e)||"Unknown",o));return Ke({},n,i)}function Kr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,Vr=Br.current,Pr(Br,e),Pr(zr,zr.current),!0}function qr(e,t,n){var i=e.stateNode;if(!i)throw Error(fe(169));n?(e=Ur(e,t,Vr),i.__reactInternalMemoizedMergedChildContext=e,Or(zr),Or(Br),Pr(Br,e)):Or(zr),Pr(zr,n)}var Gr=null,Yr=!1,Xr=!1;function Zr(e){null===Gr?Gr=[e]:Gr.push(e)}function Qr(){if(!Xr&&null!==Gr){Xr=!0;var e=0,t=Nn;try{var n=Gr;for(Nn=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Gr=null,Yr=!1}catch(o){throw null!==Gr&&(Gr=Gr.slice(e+1)),nn(cn,Qr),o}finally{Nn=t,Xr=!1}}return null}var Jr=[],es=0,ts=null,ns=0,is=[],os=0,rs=null,ss=1,as="";function ls(e,t){Jr[es++]=ns,Jr[es++]=ts,ts=e,ns=t}function cs(e,t,n){is[os++]=ss,is[os++]=as,is[os++]=rs,rs=e;var i=ss;e=as;var o=32-mn(i)-1;i&=~(1<<o),n+=1;var r=32-mn(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,ss=1<<32-mn(t)+o|n<<o|i,as=r+e}else ss=1<<r|n<<o|i,as=e}function us(e){null!==e.return&&(ls(e,1),cs(e,1,0))}function hs(e){for(;e===ts;)ts=Jr[--es],Jr[es]=null,ns=Jr[--es],Jr[es]=null;for(;e===rs;)rs=is[--os],is[os]=null,as=is[--os],is[os]=null,ss=is[--os],is[os]=null}var ds=null,gs=null,fs=!1,ps=null;function ms(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ds=e,gs=_r(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ds=e,gs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==rs?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Vu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ds=e,gs=null,!0);default:return!1}}function bs(e){return!(!(1&e.mode)||128&e.flags)}function _s(e){if(fs){var t=gs;if(t){var n=t;if(!vs(e,t)){if(bs(e))throw Error(fe(418));t=_r(n.nextSibling);var i=ds;t&&vs(e,t)?ms(i,n):(e.flags=-4097&e.flags|2,fs=!1,ds=e)}}else{if(bs(e))throw Error(fe(418));e.flags=-4097&e.flags|2,fs=!1,ds=e}}}function ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ds=e}function ws(e){if(e!==ds)return!1;if(!fs)return ys(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!dr(e.type,e.memoizedProps)),t&&(t=gs)){if(bs(e))throw Cs(),Error(fe(418));for(;t;)ms(e,t),t=_r(t.nextSibling)}if(ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){gs=_r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}gs=null}}else gs=ds?_r(e.stateNode.nextSibling):null;return!0}function Cs(){for(var e=gs;e;)e=_r(e.nextSibling)}function Ss(){gs=ds=null,fs=!1}function xs(e){null===ps?ps=[e]:ps.push(e)}var ks=Ne.ReactCurrentBatchConfig;function Ls(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(fe(309));var i=n.stateNode}if(!i)throw Error(fe(147,e));var o=i,r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=o.refs;null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Es(e){return(0,e._init)(e._payload)}function Ns(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,i){return null===t||6!==t.tag?((t=Ku(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,i){var r=n.type;return r===Me?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===We&&Es(r)===t.type)?((i=o(t,n.props)).ref=Ls(e,t,n),i.return=e,i):((i=$u(n.type,n.key,n.props,null,e.mode,i)).ref=Ls(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=ju(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Te:return(n=$u(t.type,t.key,t.props,null,e.mode,n)).ref=Ls(e,null,t),n.return=e,n;case Ie:return(t=qu(t,e.mode,n)).return=e,t;case We:return h(e,(0,t._init)(t._payload),n)}if(ut(t)||je(t))return(t=ju(t,e.mode,n,null)).return=e,t;Ds(e,t)}return null}function d(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:a(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Te:return n.key===o?l(e,t,n,i):null;case Ie:return n.key===o?c(e,t,n,i):null;case We:return d(e,t,(o=n._init)(n._payload),i)}if(ut(n)||je(n))return null!==o?null:u(e,t,n,i,null);Ds(e,n)}return null}function g(e,t,n,i,o){if("string"==typeof i&&""!==i||"number"==typeof i)return a(t,e=e.get(n)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Te:return l(t,e=e.get(null===i.key?n:i.key)||null,i,o);case Ie:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o);case We:return g(e,t,n,(0,i._init)(i._payload),o)}if(ut(i)||je(i))return u(t,e=e.get(n)||null,i,o,null);Ds(t,i)}return null}return function a(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===Me&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Te:e:{for(var p=u.key,m=c;null!==m;){if(m.key===p){if((p=u.type)===Me){if(7===m.tag){n(l,m.sibling),(c=o(m,u.props.children)).return=l,l=c;break e}}else if(m.elementType===p||"object"==typeof p&&null!==p&&p.$$typeof===We&&Es(p)===m.type){n(l,m.sibling),(c=o(m,u.props)).ref=Ls(l,m,u),c.return=l,l=c;break e}n(l,m);break}t(l,m),m=m.sibling}u.type===Me?((c=ju(u.props.children,l.mode,f,u.key)).return=l,l=c):((f=$u(u.type,u.key,u.props,null,l.mode,f)).ref=Ls(l,c,u),f.return=l,l=f)}return s(l);case Ie:e:{for(m=u.key;null!==c;){if(c.key===m){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=o(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=qu(u,l.mode,f)).return=l,l=c}return s(l);case We:return a(l,c,(m=u._init)(u._payload),f)}if(ut(u))return function(o,s,a,l){for(var c=null,u=null,f=s,p=s=0,m=null;null!==f&&p<a.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var v=d(o,f,a[p],l);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(o,f),s=r(v,s,p),null===u?c=v:u.sibling=v,u=v,f=m}if(p===a.length)return n(o,f),fs&&ls(o,p),c;if(null===f){for(;p<a.length;p++)null!==(f=h(o,a[p],l))&&(s=r(f,s,p),null===u?c=f:u.sibling=f,u=f);return fs&&ls(o,p),c}for(f=i(o,f);p<a.length;p++)null!==(m=g(f,o,p,a[p],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),s=r(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&f.forEach((function(e){return t(o,e)})),fs&&ls(o,p),c}(l,c,u,f);if(je(u))return function(o,s,a,l){var c=je(a);if("function"!=typeof c)throw Error(fe(150));if(null==(a=c.call(a)))throw Error(fe(151));for(var u=c=null,f=s,p=s=0,m=null,v=a.next();null!==f&&!v.done;p++,v=a.next()){f.index>p?(m=f,f=null):m=f.sibling;var b=d(o,f,v.value,l);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(o,f),s=r(b,s,p),null===u?c=b:u.sibling=b,u=b,f=m}if(v.done)return n(o,f),fs&&ls(o,p),c;if(null===f){for(;!v.done;p++,v=a.next())null!==(v=h(o,v.value,l))&&(s=r(v,s,p),null===u?c=v:u.sibling=v,u=v);return fs&&ls(o,p),c}for(f=i(o,f);!v.done;p++,v=a.next())null!==(v=g(f,o,p,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?p:v.key),s=r(v,s,p),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(o,e)})),fs&&ls(o,p),c}(l,c,u,f);Ds(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=o(c,u)).return=l,l=c):(n(l,c),(c=Ku(u,l.mode,f)).return=l,l=c),s(l)):n(l,c)}}var Ts=Ns(!0),Is=Ns(!1),Ms=Ar(null),Rs=null,As=null,Os=null;function Ps(){Os=As=Rs=null}function Fs(e){var t=Ms.current;Or(Ms),e._currentValue=t}function Bs(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zs(e,t){Rs=e,Os=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(El=!0),e.firstContext=null)}function Vs(e){var t=e._currentValue;if(Os!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Rs)throw Error(fe(308));As=e,Rs.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Ws=null;function Hs(e){null===Ws?Ws=[e]:Ws.push(e)}function $s(e,t,n,i){var o=t.interleaved;return null===o?(n.next=n,Hs(t)):(n.next=o.next,o.next=n),t.interleaved=n,js(e,i)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Us=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&Fc){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,js(e,n)}return null===(o=i.interleaved)?(t.next=t,Hs(i)):(t.next=o.next,o.next=t),i.interleaved=t,js(e,n)}function Xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,En(e,n)}}function Zs(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,i){var o=e.updateQueue;Us=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=o.baseState;for(s=0,u=c=l=null,a=r;;){var d=a.lane,g=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,p=a;switch(d=t,g=n,p.tag){case 1:if("function"==typeof(f=p.payload)){h=f.call(g,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(d="function"==typeof(f=p.payload)?f.call(g,h,d):f))break e;h=Ke({},h,d);break e;case 2:Us=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=g,l=h):u=u.next=g,s|=d;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(d=a).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===u&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Uc|=s,e.lanes=s,e.memoizedState=h}}function Js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!=typeof o)throw Error(fe(191,o));o.call(i)}}}var ea={},ta=Ar(ea),na=Ar(ea),ia=Ar(ea);function oa(e){if(e===ea)throw Error(fe(174));return e}function ra(e,t){switch(Pr(ia,t),Pr(na,e),Pr(ta,ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vt(null,"");break;default:t=vt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Or(ta),Pr(ta,t)}function sa(){Or(ta),Or(na),Or(ia)}function aa(e){oa(ia.current);var t=oa(ta.current),n=vt(t,e.type);t!==n&&(Pr(na,e),Pr(ta,n))}function la(e){na.current===e&&(Or(ta),Or(na))}var ca=Ar(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function da(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var ga=Ne.ReactCurrentDispatcher,fa=Ne.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ba=null,_a=!1,ya=!1,wa=0,Ca=0;function Sa(){throw Error(fe(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vo(e[n],t[n]))return!1;return!0}function ka(e,t,n,i,o,r){if(pa=r,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ga.current=null===e||null===e.memoizedState?ll:cl,e=n(i,o),ya){r=0;do{if(ya=!1,wa=0,25<=r)throw Error(fe(301));r+=1,ba=va=null,t.updateQueue=null,ga.current=ul,e=n(i,o)}while(ya)}if(ga.current=al,t=null!==va&&null!==va.next,pa=0,ba=va=ma=null,_a=!1,t)throw Error(fe(300));return e}function La(){var e=0!==wa;return wa=0,e}function Da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ma.memoizedState=ba=e:ba=ba.next=e,ba}function Ea(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ba?ma.memoizedState:ba.next;if(null!==t)ba=t,va=e;else{if(null===e)throw Error(fe(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ba?ma.memoizedState=ba=e:ba=ba.next=e}return ba}function Na(e,t){return"function"==typeof t?t(e):t}function Ta(e){var t=Ea(),n=t.queue;if(null===n)throw Error(fe(311));n.lastRenderedReducer=e;var i=va,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,n.pending=null}if(null!==o){r=o.next,i=i.baseState;var a=s=null,l=null,c=r;do{var u=c.lane;if((pa&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=i):l=l.next=h,ma.lanes|=u,Uc|=u}c=c.next}while(null!==c&&c!==r);null===l?s=i:l.next=a,vo(i,t.memoizedState)||(El=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do{r=o.lane,ma.lanes|=r,Uc|=r,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Ea(),n=t.queue;if(null===n)throw Error(fe(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{r=e(r,s.action),s=s.next}while(s!==o);vo(r,t.memoizedState)||(El=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Ma(){}function Ra(e,t){var n=ma,i=Ea(),o=t(),r=!vo(i.memoizedState,o);if(r&&(i.memoizedState=o,El=!0),i=i.queue,Ua(Pa.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||null!==ba&&1&ba.memoizedState.tag){if(n.flags|=2048,Va(9,Oa.bind(null,n,i,o,t),void 0,null),null===Bc)throw Error(fe(349));30&pa||Aa(n,t,o)}return o}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,i){t.value=n,t.getSnapshot=i,Fa(t)&&Ba(e)}function Pa(e,t,n){return n((function(){Fa(t)&&Ba(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vo(e,n)}catch(i){return!0}}function Ba(e){var t=js(e,1);null!==t&&hu(t,e,1,-1)}function za(e){var t=Da();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=il.bind(null,ma,e),[t.memoizedState,e]}function Va(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Wa(){return Ea().memoizedState}function Ha(e,t,n,i){var o=Da();ma.flags|=e,o.memoizedState=Va(1|t,n,void 0,void 0===i?null:i)}function $a(e,t,n,i){var o=Ea();i=void 0===i?null:i;var r=void 0;if(null!==va){var s=va.memoizedState;if(r=s.destroy,null!==i&&xa(i,s.deps))return void(o.memoizedState=Va(t,n,r,i))}ma.flags|=e,o.memoizedState=Va(1|t,n,r,i)}function ja(e,t){return Ha(8390656,8,e,t)}function Ua(e,t){return $a(2048,8,e,t)}function Ka(e,t){return $a(4,2,e,t)}function qa(e,t){return $a(4,4,e,t)}function Ga(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!=n?n.concat([e]):null,$a(4,4,Ga.bind(null,t,e),n)}function Xa(){}function Za(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&xa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&xa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 21&pa?(vo(n,t)||(n=kn(),ma.lanes|=n,Uc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,El=!0),e.memoizedState=n)}function el(e,t){var n=Nn;Nn=0!==n&&4>n?n:4,e(!0);var i=fa.transition;fa.transition={};try{e(!1),t()}finally{Nn=n,fa.transition=i}}function tl(){return Ea().memoizedState}function nl(e,t,n){var i=uu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ol(e))rl(t,n);else if(null!==(n=$s(e,t,n,i))){hu(n,e,i,cu()),sl(n,t,i)}}function il(e,t,n){var i=uu(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ol(e))rl(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,vo(a,s)){var l=t.interleaved;return null===l?(o.next=o,Hs(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=$s(e,t,o,i))&&(hu(n,e,i,o=cu()),sl(n,t,i))}}function ol(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function rl(e,t){ya=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sl(e,t,n){if(4194240&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,En(e,n)}}var al={readContext:Vs,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ll={readContext:Vs,useCallback:function(e,t){return Da().memoizedState=[e,void 0===t?null:t],e},useContext:Vs,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ha(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=Da();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Da();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=nl.bind(null,ma,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Da().memoizedState=e},useState:za,useDebugValue:Xa,useDeferredValue:function(e){return Da().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=el.bind(null,e[1]),Da().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ma,o=Da();if(fs){if(void 0===n)throw Error(fe(407));n=n()}else{if(n=t(),null===Bc)throw Error(fe(349));30&pa||Aa(i,t,n)}o.memoizedState=n;var r={value:n,getSnapshot:t};return o.queue=r,ja(Pa.bind(null,i,r,e),[e]),i.flags|=2048,Va(9,Oa.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Da(),t=Bc.identifierPrefix;if(fs){var n=as;t=":"+t+"R"+(n=(ss&~(1<<32-mn(ss)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ca++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cl={readContext:Vs,useCallback:Za,useContext:Vs,useEffect:Ua,useImperativeHandle:Ya,useInsertionEffect:Ka,useLayoutEffect:qa,useMemo:Qa,useReducer:Ta,useRef:Wa,useState:function(){return Ta(Na)},useDebugValue:Xa,useDeferredValue:function(e){return Ja(Ea(),va.memoizedState,e)},useTransition:function(){return[Ta(Na)[0],Ea().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ra,useId:tl,unstable_isNewReconciler:!1},ul={readContext:Vs,useCallback:Za,useContext:Vs,useEffect:Ua,useImperativeHandle:Ya,useInsertionEffect:Ka,useLayoutEffect:qa,useMemo:Qa,useReducer:Ia,useRef:Wa,useState:function(){return Ia(Na)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ea();return null===va?t.memoizedState=e:Ja(t,va.memoizedState,e)},useTransition:function(){return[Ia(Na)[0],Ea().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ra,useId:tl,unstable_isNewReconciler:!1};function hl(e,t){if(e&&e.defaultProps){for(var n in t=Ke({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function dl(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:Ke({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return!!(e=e._reactInternals)&&Zt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=cu(),o=uu(e),r=Gs(i,o);r.payload=t,null!=n&&(r.callback=n),null!==(t=Ys(e,r,o))&&(hu(t,e,o,i),Xs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=cu(),o=uu(e),r=Gs(i,o);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=Ys(e,r,o))&&(hu(t,e,o,i),Xs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cu(),i=uu(e),o=Gs(n,i);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ys(e,o,i))&&(hu(t,e,i,n),Xs(t,e,i))}};function fl(e,t,n,i,o,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!bo(n,i)||!bo(o,r))}function pl(e,t,n){var i=!1,o=Fr,r=t.contextType;return"object"==typeof r&&null!==r?r=Vs(r):(o=Hr(t)?Vr:Br.current,r=(i=null!=(i=t.contextTypes))?Wr(e,o):Fr),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function ml(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function vl(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ks(e);var r=t.contextType;"object"==typeof r&&null!==r?o.context=Vs(r):(r=Hr(t)?Vr:Br.current,o.context=Wr(e,r)),o.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(dl(e,t,r,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gl.enqueueReplaceState(o,o.state,null),Qs(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function bl(e,t){try{var n="",i=t;do{n+=Xe(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o,digest:null}}function _l(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function yl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var wl="function"==typeof WeakMap?WeakMap:Map;function Cl(e,t,n){(n=Gs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Jc||(Jc=!0,eu=i),yl(0,t)},n}function Sl(e,t,n){(n=Gs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){yl(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){yl(0,t),"function"!=typeof i&&(null===tu?tu=new Set([this]):tu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xl(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new wl;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function kl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ll(e,t,n,i,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Gs(-1,1)).tag=2,Ys(n,t,1))),n.lanes|=1),e)}var Dl=Ne.ReactCurrentOwner,El=!1;function Nl(e,t,n,i){t.child=null===e?Is(t,null,n,i):Ts(t,e.child,n,i)}function Tl(e,t,n,i,o){n=n.render;var r=t.ref;return zs(t,o),i=ka(e,t,n,i,r,o),n=La(),null===e||El?(fs&&n&&us(t),t.flags|=1,Nl(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jl(e,t,o))}function Il(e,t,n,i,o){if(null===e){var r=n.type;return"function"!=typeof r||Wu(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$u(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ml(e,t,r,i,o))}if(r=e.child,!(e.lanes&o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:bo)(s,i)&&e.ref===t.ref)return Jl(e,t,o)}return t.flags|=1,(e=Hu(r,i)).ref=t.ref,e.return=t,t.child=e}function Ml(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if(bo(r,i)&&e.ref===t.ref){if(El=!1,t.pendingProps=i=r,!(e.lanes&o))return t.lanes=e.lanes,Jl(e,t,o);131072&e.flags&&(El=!0)}}return Ol(e,t,n,i,o)}function Rl(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(Hc,Wc),Wc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Pr(Hc,Wc),Wc|=i}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Hc,Wc),Wc|=n;else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Pr(Hc,Wc),Wc|=i;return Nl(e,t,o,n),t.child}function Al(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,n,i,o){var r=Hr(n)?Vr:Br.current;return r=Wr(t,r),zs(t,o),n=ka(e,t,n,i,r,o),i=La(),null===e||El?(fs&&i&&us(t),t.flags|=1,Nl(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jl(e,t,o))}function Pl(e,t,n,i,o){if(Hr(n)){var r=!0;Kr(t)}else r=!1;if(zs(t,o),null===t.stateNode)Ql(e,t),pl(t,n,i),vl(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Vs(c):c=Wr(t,c=Hr(n)?Vr:Br.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&ml(t,s,i,c),Us=!1;var d=t.memoizedState;s.state=d,Qs(t,i,s,o),l=t.memoizedState,a!==i||d!==l||zr.current||Us?("function"==typeof u&&(dl(t,n,u,i),l=t.memoizedState),(a=Us||fl(t,n,a,i,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,qs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:hl(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Vs(l):l=Wr(t,l=Hr(n)?Vr:Br.current);var g=n.getDerivedStateFromProps;(u="function"==typeof g||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&ml(t,s,i,l),Us=!1,d=t.memoizedState,s.state=d,Qs(t,i,s,o);var f=t.memoizedState;a!==h||d!==f||zr.current||Us?("function"==typeof g&&(dl(t,n,g,i),f=t.memoizedState),(c=Us||fl(t,n,c,i,d,f,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Fl(e,t,n,i,r,o)}function Fl(e,t,n,i,o,r){Al(e,t);var s=!!(128&t.flags);if(!i&&!s)return o&&qr(t,n,!1),Jl(e,t,r);i=t.stateNode,Dl.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Ts(t,e.child,null,r),t.child=Ts(t,null,a,r)):Nl(e,t,a,r),t.memoizedState=i.state,o&&qr(t,n,!0),t.child}function Bl(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),ra(e,t.containerInfo)}function zl(e,t,n,i,o){return Ss(),xs(o),t.flags|=256,Nl(e,t,n,i),t.child}var Vl,Wl,Hl,$l,jl={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kl(e,t,n){var i,o=t.pendingProps,r=ca.current,s=!1,a=!!(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&!!(2&r)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Pr(ca,1&r),null===e)return _s(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=o.children,e=o.fallback,s?(o=t.mode,s=t.child,a={mode:"hidden",children:a},1&o||null===s?s=Uu(a,o,0,null):(s.childLanes=0,s.pendingProps=a),e=ju(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ul(n),t.memoizedState=jl,e):ql(t,a));if(null!==(r=e.memoizedState)&&null!==(i=r.dehydrated))return function(e,t,n,i,o,r,s){if(n)return 256&t.flags?(t.flags&=-257,Gl(e,t,s,i=_l(Error(fe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=i.fallback,o=t.mode,i=Uu({mode:"visible",children:i.children},o,0,null),(r=ju(r,o,s,null)).flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,1&t.mode&&Ts(t,e.child,null,s),t.child.memoizedState=Ul(s),t.memoizedState=jl,r);if(!(1&t.mode))return Gl(e,t,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var a=i.dgst;return i=a,Gl(e,t,s,i=_l(r=Error(fe(419)),i,void 0))}if(a=!!(s&e.childLanes),El||a){if(null!==(i=Bc)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(i.suspendedLanes|s)?0:o)&&o!==r.retryLane&&(r.retryLane=o,js(e,o),hu(i,e,o,-1))}return xu(),Gl(e,t,s,i=_l(Error(fe(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),o._reactRetry=t,null):(e=r.treeContext,gs=_r(o.nextSibling),ds=t,fs=!0,ps=null,null!==e&&(is[os++]=ss,is[os++]=as,is[os++]=rs,ss=e.id,as=e.overflow,rs=t),t=ql(t,i.children),t.flags|=4096,t)}(e,t,a,o,i,r,n);if(s){s=o.fallback,a=t.mode,i=(r=e.child).sibling;var l={mode:"hidden",children:o.children};return 1&a||t.child===r?(o=Hu(r,l)).subtreeFlags=14680064&r.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null),null!==i?s=Hu(i,s):(s=ju(s,a,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,a=null===(a=e.child.memoizedState)?Ul(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=jl,o}return e=(s=e.child).sibling,o=Hu(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ql(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Gl(e,t,n,i){return null!==i&&xs(i),Ts(t,e.child,null,n),(e=ql(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Bs(e.return,t,n)}function Xl(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function Zl(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Nl(e,t,i.children,n),2&(i=ca.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yl(e,n,t);else if(19===e.tag)Yl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pr(ca,i),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xl(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ua(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xl(t,!0,n,null,r);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ql(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(fe(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ec(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function tc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nc(e,t,n){var i=t.pendingProps;switch(hs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tc(t),null;case 1:case 17:return Hr(t.type)&&$r(),tc(t),null;case 3:return i=t.stateNode,sa(),Or(zr),Or(Br),da(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ps&&(pu(ps),ps=null))),Wl(e,t),tc(t),null;case 5:la(t);var o=oa(ia.current);if(n=t.type,null!==e&&null!=t.stateNode)Hl(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(fe(166));return tc(t),null}if(e=oa(ta.current),ws(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[Cr]=t,i[Sr]=r,e=!!(1&t.mode),n){case"dialog":Yo("cancel",i),Yo("close",i);break;case"iframe":case"object":case"embed":Yo("load",i);break;case"video":case"audio":for(o=0;o<Uo.length;o++)Yo(Uo[o],i);break;case"source":Yo("error",i);break;case"img":case"image":case"link":Yo("error",i),Yo("load",i);break;case"details":Yo("toggle",i);break;case"input":rt(i,r),Yo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Yo("invalid",i);break;case"textarea":gt(i,r),Yo("invalid",i)}for(var s in Dt(n,r),o=null,r)if(r.hasOwnProperty(s)){var a=r[s];"children"===s?"string"==typeof a?i.textContent!==a&&(!0!==r.suppressHydrationWarning&&lr(i.textContent,a,e),o=["children",a]):"number"==typeof a&&i.textContent!==""+a&&(!0!==r.suppressHydrationWarning&&lr(i.textContent,a,e),o=["children",""+a]):me.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&Yo("scroll",i)}switch(n){case"input":tt(i),lt(i,r,!0);break;case"textarea":tt(i),pt(i);break;case"select":case"option":break;default:"function"==typeof r.onClick&&(i.onclick=cr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=mt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),"select"===n&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[Cr]=t,e[Sr]=i,Vl(e,t,!1,!1),t.stateNode=e;e:{switch(s=Et(n,i),n){case"dialog":Yo("cancel",e),Yo("close",e),o=i;break;case"iframe":case"object":case"embed":Yo("load",e),o=i;break;case"video":case"audio":for(o=0;o<Uo.length;o++)Yo(Uo[o],e);o=i;break;case"source":Yo("error",e),o=i;break;case"img":case"image":case"link":Yo("error",e),Yo("load",e),o=i;break;case"details":Yo("toggle",e),o=i;break;case"input":rt(e,i),o=ot(e,i),Yo("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Ke({},i,{value:void 0}),Yo("invalid",e);break;case"textarea":gt(e,i),o=dt(e,i),Yo("invalid",e)}for(r in Dt(n,o),a=o)if(a.hasOwnProperty(r)){var l=a[r];"style"===r?kt(e,l):"dangerouslySetInnerHTML"===r?null!=(l=l?l.__html:void 0)&&yt(e,l):"children"===r?"string"==typeof l?("textarea"!==n||""!==l)&&wt(e,l):"number"==typeof l&&wt(e,""+l):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(me.hasOwnProperty(r)?null!=l&&"onScroll"===r&&Yo("scroll",e):null!=l&&Ee(e,r,l,s))}switch(n){case"input":tt(e),lt(e,i,!1);break;case"textarea":tt(e),pt(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Je(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?ht(e,!!i.multiple,r,!1):null!=i.defaultValue&&ht(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=cr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tc(t),null;case 6:if(e&&null!=t.stateNode)$l(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(fe(166));if(n=oa(ia.current),oa(ta.current),ws(t)){if(i=t.stateNode,n=t.memoizedProps,i[Cr]=t,(r=i.nodeValue!==n)&&null!==(e=ds))switch(e.tag){case 3:lr(i.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&lr(i.nodeValue,n,!!(1&e.mode))}r&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Cr]=t,t.stateNode=i}return tc(t),null;case 13:if(Or(ca),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==gs&&1&t.mode&&!(128&t.flags))Cs(),Ss(),t.flags|=98560,r=!1;else if(r=ws(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(fe(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(fe(317));r[Cr]=t}else Ss(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tc(t),r=!1}else null!==ps&&(pu(ps),ps=null),r=!0;if(!r)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ca.current?0===$c&&($c=3):xu())),null!==t.updateQueue&&(t.flags|=4),tc(t),null);case 4:return sa(),Wl(e,t),null===e&&Qo(t.stateNode.containerInfo),tc(t),null;case 10:return Fs(t.type._context),tc(t),null;case 19:if(Or(ca),null===(r=t.memoizedState))return tc(t),null;if(i=!!(128&t.flags),null===(s=r.rendering))if(i)ec(r,!1);else{if(0!==$c||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ua(e))){for(t.flags|=128,ec(r,!1),null!==(i=s.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(r=n).flags&=14680066,null===(s=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pr(ca,1&ca.current|2),t.child}e=e.sibling}null!==r.tail&&an()>Zc&&(t.flags|=128,i=!0,ec(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ua(s))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ec(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!fs)return tc(t),null}else 2*an()-r.renderingStartTime>Zc&&1073741824!==n&&(t.flags|=128,i=!0,ec(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=an(),t.sibling=null,n=ca.current,Pr(ca,i?1&n|2:1&n),t):(tc(t),null);case 22:case 23:return yu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?!!(1073741824&Wc)&&(tc(t),6&t.subtreeFlags&&(t.flags|=8192)):tc(t),null;case 24:case 25:return null}throw Error(fe(156,t.tag))}function ic(e,t){switch(hs(t),t.tag){case 1:return Hr(t.type)&&$r(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Or(zr),Or(Br),da(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return la(t),null;case 13:if(Or(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(fe(340));Ss()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Or(ca),null;case 4:return sa(),null;case 10:return Fs(t.type._context),null;case 22:case 23:return yu(),null;default:return null}}Vl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wl=function(){},Hl=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,oa(ta.current);var r,s=null;switch(n){case"input":o=ot(e,o),i=ot(e,i),s=[];break;case"select":o=Ke({},o,{value:void 0}),i=Ke({},i,{value:void 0}),s=[];break;case"textarea":o=dt(e,o),i=dt(e,i),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=cr)}for(c in Dt(n,i),n=null,o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var a=o[c];for(r in a)a.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(me.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=null!=o?o[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(r in a)!a.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in l)l.hasOwnProperty(r)&&a[r]!==l[r]&&(n||(n={}),n[r]=l[r])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(me.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Yo("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},$l=function(e,t,n,i){n!==i&&(t.flags|=4)};var oc=!1,rc=!1,sc="function"==typeof WeakSet?WeakSet:Set,ac=null;function lc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(i){Ru(e,t,i)}else n.current=null}function cc(e,t,n){try{n()}catch(i){Ru(e,t,i)}}var uc=!1;function hc(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&cc(t,n,r)}o=o.next}while(o!==i)}}function dc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function gc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function fc(e){var t=e.alternate;null!==t&&(e.alternate=null,fc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Cr],delete t[Sr],delete t[kr],delete t[Lr],delete t[Dr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pc(e){return 5===e.tag||3===e.tag||4===e.tag}function mc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=cr));else if(4!==i&&null!==(e=e.child))for(vc(e,t,n),e=e.sibling;null!==e;)vc(e,t,n),e=e.sibling}function bc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(bc(e,t,n),e=e.sibling;null!==e;)bc(e,t,n),e=e.sibling}var _c=null,yc=!1;function wc(e,t,n){for(n=n.child;null!==n;)Cc(e,t,n),n=n.sibling}function Cc(e,t,n){if(pn&&"function"==typeof pn.onCommitFiberUnmount)try{pn.onCommitFiberUnmount(fn,n)}catch(a){}switch(n.tag){case 5:rc||lc(n,t);case 6:var i=_c,o=yc;_c=null,wc(e,t,n),yc=o,null!==(_c=i)&&(yc?(e=_c,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):_c.removeChild(n.stateNode));break;case 18:null!==_c&&(yc?(e=_c,n=n.stateNode,8===e.nodeType?br(e.parentNode,n):1===e.nodeType&&br(e,n),Qn(e)):br(_c,n.stateNode));break;case 4:i=_c,o=yc,_c=n.stateNode.containerInfo,yc=!0,wc(e,t,n),_c=i,yc=o;break;case 0:case 11:case 14:case 15:if(!rc&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){o=i=i.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(2&r||4&r)&&cc(n,t,s),o=o.next}while(o!==i)}wc(e,t,n);break;case 1:if(!rc&&(lc(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ru(n,t,a)}wc(e,t,n);break;case 21:wc(e,t,n);break;case 22:1&n.mode?(rc=(i=rc)||null!==n.memoizedState,wc(e,t,n),rc=i):wc(e,t,n);break;default:wc(e,t,n)}}function Sc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sc),t.forEach((function(t){var i=Fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function xc(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var r=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:_c=a.stateNode,yc=!1;break e;case 3:case 4:_c=a.stateNode.containerInfo,yc=!0;break e}a=a.return}if(null===_c)throw Error(fe(160));Cc(r,s,o),_c=null,yc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(c){Ru(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)kc(t,e),t=t.sibling}function kc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xc(t,e),Lc(e),4&i){try{hc(3,e,e.return),dc(3,e)}catch(p){Ru(e,e.return,p)}try{hc(5,e,e.return)}catch(p){Ru(e,e.return,p)}}break;case 1:xc(t,e),Lc(e),512&i&&null!==n&&lc(n,n.return);break;case 5:if(xc(t,e),Lc(e),512&i&&null!==n&&lc(n,n.return),32&e.flags){var o=e.stateNode;try{wt(o,"")}catch(p){Ru(e,e.return,p)}}if(4&i&&null!=(o=e.stateNode)){var r=e.memoizedProps,s=null!==n?n.memoizedProps:r,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===r.type&&null!=r.name&&st(o,r),Et(a,s);var c=Et(a,r);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];"style"===u?kt(o,h):"dangerouslySetInnerHTML"===u?yt(o,h):"children"===u?wt(o,h):Ee(o,u,h,c)}switch(a){case"input":at(o,r);break;case"textarea":ft(o,r);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?ht(o,!!r.multiple,g,!1):d!==!!r.multiple&&(null!=r.defaultValue?ht(o,!!r.multiple,r.defaultValue,!0):ht(o,!!r.multiple,r.multiple?[]:"",!1))}o[Sr]=r}catch(p){Ru(e,e.return,p)}}break;case 6:if(xc(t,e),Lc(e),4&i){if(null===e.stateNode)throw Error(fe(162));o=e.stateNode,r=e.memoizedProps;try{o.nodeValue=r}catch(p){Ru(e,e.return,p)}}break;case 3:if(xc(t,e),Lc(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(p){Ru(e,e.return,p)}break;case 4:default:xc(t,e),Lc(e);break;case 13:xc(t,e),Lc(e),8192&(o=e.child).flags&&(r=null!==o.memoizedState,o.stateNode.isHidden=r,!r||null!==o.alternate&&null!==o.alternate.memoizedState||(Xc=an())),4&i&&Sc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(rc=(c=rc)||u,xc(t,e),rc=c):xc(t,e),Lc(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(ac=e,u=e.child;null!==u;){for(h=ac=u;null!==ac;){switch(g=(d=ac).child,d.tag){case 0:case 11:case 14:case 15:hc(4,d,d.return);break;case 1:lc(d,d.return);var f=d.stateNode;if("function"==typeof f.componentWillUnmount){i=d,n=d.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(p){Ru(i,n,p)}}break;case 5:lc(d,d.return);break;case 22:if(null!==d.memoizedState){Tc(h);continue}}null!==g?(g.return=d,ac=g):Tc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{o=h.stateNode,c?"function"==typeof(r=o.style).setProperty?r.setProperty("display","none","important"):r.display="none":(a=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=xt("display",s))}catch(p){Ru(e,e.return,p)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){Ru(e,e.return,p)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xc(t,e),Lc(e),4&i&&Sc(e);case 21:}}function Lc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(pc(n)){var i=n;break e}n=n.return}throw Error(fe(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(wt(o,""),i.flags&=-33),bc(e,mc(e),o);break;case 3:case 4:var r=i.stateNode.containerInfo;vc(e,mc(e),r);break;default:throw Error(fe(161))}}catch(s){Ru(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dc(e,t,n){ac=e,Ec(e)}function Ec(e,t,n){for(var i=!!(1&e.mode);null!==ac;){var o=ac,r=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||oc;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||rc;a=oc;var c=rc;if(oc=s,(rc=l)&&!c)for(ac=o;null!==ac;)l=(s=ac).child,22===s.tag&&null!==s.memoizedState?Ic(o):null!==l?(l.return=s,ac=l):Ic(o);for(;null!==r;)ac=r,Ec(r),r=r.sibling;ac=o,oc=a,rc=c}Nc(e)}else 8772&o.subtreeFlags&&null!==r?(r.return=o,ac=r):Nc(e)}}function Nc(e){for(;null!==ac;){var t=ac;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:rc||dc(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!rc)if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:hl(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Js(t,r,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Js(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Qn(h)}}}break;default:throw Error(fe(163))}rc||512&t.flags&&gc(t)}catch(d){Ru(t,t.return,d)}}if(t===e){ac=null;break}if(null!==(n=t.sibling)){n.return=t.return,ac=n;break}ac=t.return}}function Tc(e){for(;null!==ac;){var t=ac;if(t===e){ac=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ac=n;break}ac=t.return}}function Ic(e){for(;null!==ac;){var t=ac;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(l){Ru(t,n,l)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(l){Ru(t,o,l)}}var r=t.return;try{gc(t)}catch(l){Ru(t,r,l)}break;case 5:var s=t.return;try{gc(t)}catch(l){Ru(t,s,l)}}}catch(l){Ru(t,t.return,l)}if(t===e){ac=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ac=a;break}ac=t.return}}var Mc,Rc=Math.ceil,Ac=Ne.ReactCurrentDispatcher,Oc=Ne.ReactCurrentOwner,Pc=Ne.ReactCurrentBatchConfig,Fc=0,Bc=null,zc=null,Vc=0,Wc=0,Hc=Ar(0),$c=0,jc=null,Uc=0,Kc=0,qc=0,Gc=null,Yc=null,Xc=0,Zc=1/0,Qc=null,Jc=!1,eu=null,tu=null,nu=!1,iu=null,ou=0,ru=0,su=null,au=-1,lu=0;function cu(){return 6&Fc?an():-1!==au?au:au=an()}function uu(e){return 1&e.mode?2&Fc&&0!==Vc?Vc&-Vc:null!==ks.transition?(0===lu&&(lu=kn()),lu):0!==(e=Nn)?e:e=void 0===(e=window.event)?16:si(e.type):1}function hu(e,t,n,i){if(50<ru)throw ru=0,su=null,Error(fe(185));Dn(e,n,i),2&Fc&&e===Bc||(e===Bc&&(!(2&Fc)&&(Kc|=n),4===$c&&mu(e,Vc)),du(e,i),1===n&&0===Fc&&!(1&t.mode)&&(Zc=an()+500,Yr&&Qr()))}function du(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-mn(r),a=1<<s,l=o[s];-1===l?a&n&&!(a&i)||(o[s]=Sn(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var i=Cn(e,e===Bc?Vc:0);if(0===i)null!==n&&on(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&on(n),1===t)0===e.tag?function(e){Yr=!0,Zr(e)}(vu.bind(null,e)):Zr(vu.bind(null,e)),mr((function(){!(6&Fc)&&Qr()})),n=null;else{switch(Tn(i)){case 1:n=cn;break;case 4:n=un;break;case 16:default:n=hn;break;case 536870912:n=gn}n=Bu(n,gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gu(e,t){if(au=-1,lu=0,6&Fc)throw Error(fe(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var i=Cn(e,e===Bc?Vc:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=ku(e,i);else{t=i;var o=Fc;Fc|=2;var r=Su();for(Bc===e&&Vc===t||(Qc=null,Zc=an()+500,wu(e,t));;)try{Du();break}catch(a){Cu(e,a)}Ps(),Ac.current=r,Fc=o,null!==zc?t=0:(Bc=null,Vc=0,t=$c)}if(0!==t){if(2===t&&(0!==(o=xn(e))&&(i=o,t=fu(e,o))),1===t)throw n=jc,wu(e,0),mu(e,i),du(e,an()),n;if(6===t)mu(e,i);else{if(o=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!vo(r(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=ku(e,i),2===t&&(r=xn(e),0!==r&&(i=r,t=fu(e,r))),1!==t)))throw n=jc,wu(e,0),mu(e,i),du(e,an()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(fe(345));case 2:case 5:Tu(e,Yc,Qc);break;case 3:if(mu(e,i),(130023424&i)===i&&10<(t=Xc+500-an())){if(0!==Cn(e,0))break;if(((o=e.suspendedLanes)&i)!==i){cu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=gr(Tu.bind(null,e,Yc,Qc),t);break}Tu(e,Yc,Qc);break;case 4:if(mu(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var s=31-mn(i);r=1<<s,(s=t[s])>o&&(o=s),i&=~r}if(i=o,10<(i=(120>(i=an()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Rc(i/1960))-i)){e.timeoutHandle=gr(Tu.bind(null,e,Yc,Qc),i);break}Tu(e,Yc,Qc);break;default:throw Error(fe(329))}}}return du(e,an()),e.callbackNode===n?gu.bind(null,e):null}function fu(e,t){var n=Gc;return e.current.memoizedState.isDehydrated&&(wu(e,t).flags|=256),2!==(e=ku(e,t))&&(t=Yc,Yc=n,null!==t&&pu(t)),e}function pu(e){null===Yc?Yc=e:Yc.push.apply(Yc,e)}function mu(e,t){for(t&=~qc,t&=~Kc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),i=1<<n;e[n]=-1,t&=~i}}function vu(e){if(6&Fc)throw Error(fe(327));Iu();var t=Cn(e,0);if(!(1&t))return du(e,an()),null;var n=ku(e,t);if(0!==e.tag&&2===n){var i=xn(e);0!==i&&(t=i,n=fu(e,i))}if(1===n)throw n=jc,wu(e,0),mu(e,t),du(e,an()),n;if(6===n)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e,Yc,Qc),du(e,an()),null}function bu(e,t){var n=Fc;Fc|=1;try{return e(t)}finally{0===(Fc=n)&&(Zc=an()+500,Yr&&Qr())}}function _u(e){null!==iu&&0===iu.tag&&!(6&Fc)&&Iu();var t=Fc;Fc|=1;var n=Pc.transition,i=Nn;try{if(Pc.transition=null,Nn=1,e)return e()}finally{Nn=i,Pc.transition=n,!(6&(Fc=t))&&Qr()}}function yu(){Wc=Hc.current,Or(Hc)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fr(n)),null!==zc)for(n=zc.return;null!==n;){var i=n;switch(hs(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&$r();break;case 3:sa(),Or(zr),Or(Br),da();break;case 5:la(i);break;case 4:sa();break;case 13:case 19:Or(ca);break;case 10:Fs(i.type._context);break;case 22:case 23:yu()}n=n.return}if(Bc=e,zc=e=Hu(e.current,null),Vc=Wc=t,$c=0,jc=null,qc=Kc=Uc=0,Yc=Gc=null,null!==Ws){for(t=0;t<Ws.length;t++)if(null!==(i=(n=Ws[t]).interleaved)){n.interleaved=null;var o=i.next,r=n.pending;if(null!==r){var s=r.next;r.next=o,i.next=s}n.pending=i}Ws=null}return e}function Cu(e,t){for(;;){var n=zc;try{if(Ps(),ga.current=al,_a){for(var i=ma.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}_a=!1}if(pa=0,ba=va=ma=null,ya=!1,wa=0,Oc.current=null,null===n||null===n.return){$c=1,jc=t,zc=null;break}e:{var r=e,s=n.return,a=n,l=t;if(t=Vc,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=a,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=kl(s);if(null!==g){g.flags&=-257,Ll(g,s,a,0,t),1&g.mode&&xl(r,c,t),l=c;var f=(t=g).updateQueue;if(null===f){var p=new Set;p.add(l),t.updateQueue=p}else f.add(l);break e}if(!(1&t)){xl(r,c,t),xu();break e}l=Error(fe(426))}else if(fs&&1&a.mode){var m=kl(s);if(null!==m){!(65536&m.flags)&&(m.flags|=256),Ll(m,s,a,0,t),xs(bl(l,a));break e}}r=l=bl(l,a),4!==$c&&($c=2),null===Gc?Gc=[r]:Gc.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Zs(r,Cl(0,l,t));break e;case 1:a=l;var v=r.type,b=r.stateNode;if(!(128&r.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==tu&&tu.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Zs(r,Sl(r,a,t));break e}}r=r.return}while(null!==r)}Nu(n)}catch(_){t=_,zc===n&&null!==n&&(zc=n=n.return);continue}break}}function Su(){var e=Ac.current;return Ac.current=al,null===e?al:e}function xu(){0!==$c&&3!==$c&&2!==$c||($c=4),null===Bc||!(268435455&Uc)&&!(268435455&Kc)||mu(Bc,Vc)}function ku(e,t){var n=Fc;Fc|=2;var i=Su();for(Bc===e&&Vc===t||(Qc=null,wu(e,t));;)try{Lu();break}catch(o){Cu(e,o)}if(Ps(),Fc=n,Ac.current=i,null!==zc)throw Error(fe(261));return Bc=null,Vc=0,$c}function Lu(){for(;null!==zc;)Eu(zc)}function Du(){for(;null!==zc&&!rn();)Eu(zc)}function Eu(e){var t=Mc(e.alternate,e,Wc);e.memoizedProps=e.pendingProps,null===t?Nu(e):zc=t,Oc.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=ic(n,t)))return n.flags&=32767,void(zc=n);if(null===e)return $c=6,void(zc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=nc(n,t,Wc)))return void(zc=n);if(null!==(t=t.sibling))return void(zc=t);zc=t=e}while(null!==t);0===$c&&($c=5)}function Tu(e,t,n){var i=Nn,o=Pc.transition;try{Pc.transition=null,Nn=1,function(e,t,n,i){do{Iu()}while(null!==iu);if(6&Fc)throw Error(fe(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-mn(n),r=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~r}}(e,r),e===Bc&&(zc=Bc=null,Vc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||nu||(nu=!0,Bu(hn,(function(){return Iu(),null}))),r=!!(15990&n.flags),!!(15990&n.subtreeFlags)||r){r=Pc.transition,Pc.transition=null;var s=Nn;Nn=1;var a=Fc;Fc|=4,Oc.current=null,function(e,t){if(ur=ei,So(e=Co())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(y){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var g;h!==n||0!==o&&3!==h.nodeType||(a=s+o),h!==r||0!==i&&3!==h.nodeType||(l=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(g=h.firstChild);)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++c===o&&(a=s),d===r&&++u===i&&(l=s),null!==(g=h.nextSibling))break;d=(h=d).parentNode}h=g}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hr={focusedElem:e,selectionRange:n},ei=!1,ac=t;null!==ac;)if(e=(t=ac).child,1028&t.subtreeFlags&&null!==e)e.return=t,ac=e;else for(;null!==ac;){t=ac;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var p=f.memoizedProps,m=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:hl(t.type,p),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(fe(163))}}catch(y){Ru(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,ac=e;break}ac=t.return}f=uc,uc=!1}(e,n),kc(n,e),xo(hr),ei=!!ur,hr=ur=null,e.current=n,Dc(n),sn(),Fc=a,Nn=s,Pc.transition=r}else e.current=n;if(nu&&(nu=!1,iu=e,ou=o),r=e.pendingLanes,0===r&&(tu=null),function(e){if(pn&&"function"==typeof pn.onCommitFiberRoot)try{pn.onCommitFiberRoot(fn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),du(e,an()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Jc)throw Jc=!1,e=eu,eu=null,e;!!(1&ou)&&0!==e.tag&&Iu(),r=e.pendingLanes,1&r?e===su?ru++:(ru=0,su=e):ru=0,Qr()}(e,t,n,i)}finally{Pc.transition=o,Nn=i}return null}function Iu(){if(null!==iu){var e=Tn(ou),t=Pc.transition,n=Nn;try{if(Pc.transition=null,Nn=16>e?16:e,null===iu)var i=!1;else{if(e=iu,iu=null,ou=0,6&Fc)throw Error(fe(331));var o=Fc;for(Fc|=4,ac=e.current;null!==ac;){var r=ac,s=r.child;if(16&ac.flags){var a=r.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(ac=c;null!==ac;){var u=ac;switch(u.tag){case 0:case 11:case 15:hc(8,u,r)}var h=u.child;if(null!==h)h.return=u,ac=h;else for(;null!==ac;){var d=(u=ac).sibling,g=u.return;if(fc(u),u===c){ac=null;break}if(null!==d){d.return=g,ac=d;break}ac=g}}}var f=r.alternate;if(null!==f){var p=f.child;if(null!==p){f.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(null!==p)}}ac=r}}if(2064&r.subtreeFlags&&null!==s)s.return=r,ac=s;else e:for(;null!==ac;){if(2048&(r=ac).flags)switch(r.tag){case 0:case 11:case 15:hc(9,r,r.return)}var v=r.sibling;if(null!==v){v.return=r.return,ac=v;break e}ac=r.return}}var b=e.current;for(ac=b;null!==ac;){var _=(s=ac).child;if(2064&s.subtreeFlags&&null!==_)_.return=s,ac=_;else e:for(s=b;null!==ac;){if(2048&(a=ac).flags)try{switch(a.tag){case 0:case 11:case 15:dc(9,a)}}catch(w){Ru(a,a.return,w)}if(a===s){ac=null;break e}var y=a.sibling;if(null!==y){y.return=a.return,ac=y;break e}ac=a.return}}if(Fc=o,Qr(),pn&&"function"==typeof pn.onPostCommitFiberRoot)try{pn.onPostCommitFiberRoot(fn,e)}catch(w){}i=!0}return i}finally{Nn=n,Pc.transition=t}}return!1}function Mu(e,t,n){e=Ys(e,t=Cl(0,t=bl(n,t),1),1),t=cu(),null!==e&&(Dn(e,1,t),du(e,t))}function Ru(e,t,n){if(3===e.tag)Mu(e,e,n);else for(;null!==t;){if(3===t.tag){Mu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===tu||!tu.has(i))){t=Ys(t,e=Sl(t,e=bl(n,e),1),1),e=cu(),null!==t&&(Dn(t,1,e),du(t,e));break}}t=t.return}}function Au(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=cu(),e.pingedLanes|=e.suspendedLanes&n,Bc===e&&(Vc&n)===n&&(4===$c||3===$c&&(130023424&Vc)===Vc&&500>an()-Xc?wu(e,0):qc|=n),du(e,t)}function Ou(e,t){0===t&&(1&e.mode?(t=yn,!(130023424&(yn<<=1))&&(yn=4194304)):t=1);var n=cu();null!==(e=js(e,t))&&(Dn(e,t,n),du(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ou(e,n)}function Fu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(fe(314))}null!==i&&i.delete(t),Ou(e,n)}function Bu(e,t){return nn(e,t)}function zu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,i){return new zu(e,t,n,i)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $u(e,t,n,i,o,r){var s=2;if(i=e,"function"==typeof e)Wu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Me:return ju(n.children,o,r,t);case Re:s=8,o|=8;break;case Ae:return(e=Vu(12,n,t,2|o)).elementType=Ae,e.lanes=r,e;case Be:return(e=Vu(13,n,t,o)).elementType=Be,e.lanes=r,e;case ze:return(e=Vu(19,n,t,o)).elementType=ze,e.lanes=r,e;case He:return Uu(n,o,r,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Oe:s=10;break e;case Pe:s=9;break e;case Fe:s=11;break e;case Ve:s=14;break e;case We:s=16,i=null;break e}throw Error(fe(130,null==e?e:typeof e,""))}return(t=Vu(s,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function ju(e,t,n,i){return(e=Vu(7,e,i,t)).lanes=n,e}function Uu(e,t,n,i){return(e=Vu(22,e,i,t)).elementType=He,e.lanes=n,e.stateNode={isHidden:!1},e}function Ku(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ln(0),this.expirationTimes=Ln(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yu(e,t,n,i,o,r,s,a,l){return e=new Gu(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Vu(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(r),e}function Xu(e){if(!e)return Fr;e:{if(Zt(e=e._reactInternals)!==e||1!==e.tag)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(fe(171))}if(1===e.tag){var n=e.type;if(Hr(n))return Ur(e,n,t)}return t}function Zu(e,t,n,i,o,r,s,a,l){return(e=Yu(n,i,!0,e,0,r,0,a,l)).context=Xu(null),n=e.current,(r=Gs(i=cu(),o=uu(n))).callback=null!=t?t:null,Ys(n,r,o),e.current.lanes=o,Dn(e,o,i),du(e,i),e}function Qu(e,t,n,i){var o=t.current,r=cu(),s=uu(o);return n=Xu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Gs(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ys(o,t,s))&&(hu(e,o,s,r),Xs(e,o,s)),s}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}Mc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zr.current)El=!0;else{if(!(e.lanes&n||128&t.flags))return El=!1,function(e,t,n){switch(t.tag){case 3:Bl(t),Ss();break;case 5:aa(t);break;case 1:Hr(t.type)&&Kr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Pr(Ms,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Pr(ca,1&ca.current),t.flags|=128,null):n&t.child.childLanes?Kl(e,t,n):(Pr(ca,1&ca.current),null!==(e=Jl(e,t,n))?e.sibling:null);Pr(ca,1&ca.current);break;case 19:if(i=!!(n&t.childLanes),128&e.flags){if(i)return Zl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pr(ca,ca.current),i)break;return null;case 22:case 23:return t.lanes=0,Rl(e,t,n)}return Jl(e,t,n)}(e,t,n);El=!!(131072&e.flags)}else El=!1,fs&&1048576&t.flags&&cs(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ql(e,t),e=t.pendingProps;var o=Wr(t,Br.current);zs(t,n),o=ka(null,t,i,e,o,n);var r=La();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hr(i)?(r=!0,Kr(t)):r=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ks(t),o.updater=gl,t.stateNode=o,o._reactInternals=t,vl(t,i,e,n),t=Fl(null,t,i,!0,r,n)):(t.tag=0,fs&&r&&us(t),Nl(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ql(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Wu(e)?1:0;if(null!=e){if((e=e.$$typeof)===Fe)return 11;if(e===Ve)return 14}return 2}(i),e=hl(i,e),o){case 0:t=Ol(null,t,i,e,n);break e;case 1:t=Pl(null,t,i,e,n);break e;case 11:t=Tl(null,t,i,e,n);break e;case 14:t=Il(null,t,i,hl(i.type,e),n);break e}throw Error(fe(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ol(e,t,i,o=t.elementType===i?o:hl(i,o),n);case 1:return i=t.type,o=t.pendingProps,Pl(e,t,i,o=t.elementType===i?o:hl(i,o),n);case 3:e:{if(Bl(t),null===e)throw Error(fe(387));i=t.pendingProps,o=(r=t.memoizedState).element,qs(e,t),Qs(t,i,null,n);var s=t.memoizedState;if(i=s.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=zl(e,t,i,n,o=bl(Error(fe(423)),t));break e}if(i!==o){t=zl(e,t,i,n,o=bl(Error(fe(424)),t));break e}for(gs=_r(t.stateNode.containerInfo.firstChild),ds=t,fs=!0,ps=null,n=Is(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ss(),i===o){t=Jl(e,t,n);break e}Nl(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&_s(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,s=o.children,dr(i,o)?s=null:null!==r&&dr(i,r)&&(t.flags|=32),Al(e,t),Nl(e,t,s,n),t.child;case 6:return null===e&&_s(t),null;case 13:return Kl(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ts(t,null,i,n):Nl(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Tl(e,t,i,o=t.elementType===i?o:hl(i,o),n);case 7:return Nl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,r=t.memoizedProps,s=o.value,Pr(Ms,i._currentValue),i._currentValue=s,null!==r)if(vo(r.value,s)){if(r.children===o.children&&!zr.current){t=Jl(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var a=r.dependencies;if(null!==a){s=r.child;for(var l=a.firstContext;null!==l;){if(l.context===i){if(1===r.tag){(l=Gs(-1,n&-n)).tag=2;var c=r.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),Bs(r.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===r.tag)s=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(s=r.return))throw Error(fe(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Bs(s,n,t),s=r.sibling}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===t){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}Nl(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,zs(t,n),i=i(o=Vs(o)),t.flags|=1,Nl(e,t,i,n),t.child;case 14:return o=hl(i=t.type,t.pendingProps),Il(e,t,i,o=hl(i.type,o),n);case 15:return Ml(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:hl(i,o),Ql(e,t),t.tag=1,Hr(i)?(e=!0,Kr(t)):e=!1,zs(t,n),pl(t,i,o),vl(t,i,o,n),Fl(null,t,i,!0,e,n);case 19:return Zl(e,t,n);case 22:return Rl(e,t,n)}throw Error(fe(156,t.tag))};var nh="function"==typeof reportError?reportError:function(e){console.error(e)};function ih(e){this._internalRoot=e}function oh(e){this._internalRoot=e}function rh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ah(){}function lh(e,t,n,i,o){var r=n._reactRootContainer;if(r){var s=r;if("function"==typeof o){var a=o;o=function(){var e=Ju(s);a.call(e)}}Qu(t,s,e,o)}else s=function(e,t,n,i,o){if(o){if("function"==typeof i){var r=i;i=function(){var e=Ju(s);r.call(e)}}var s=Zu(t,i,e,0,null,!1,0,"",ah);return e._reactRootContainer=s,e[xr]=s.current,Qo(8===e.nodeType?e.parentNode:e),_u(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof i){var a=i;i=function(){var e=Ju(l);a.call(e)}}var l=Yu(e,0,!1,null,0,!1,0,"",ah);return e._reactRootContainer=l,e[xr]=l.current,Qo(8===e.nodeType?e.parentNode:e),_u((function(){Qu(t,l,n,i)})),l}(n,t,e,o,i);return Ju(s)}oh.prototype.render=ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(fe(409));Qu(e,t,null,null)},oh.prototype.unmount=ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;_u((function(){Qu(null,e,null,null)})),t[xr]=null}},oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=An();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&0!==t&&t<$n[n].priority;n++);$n.splice(n,0,e),0===n&&qn(e)}},In=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wn(t.pendingLanes);0!==n&&(En(t,1|n),du(t,an()),!(6&Fc)&&(Zc=an()+500,Qr()))}break;case 13:_u((function(){var t=js(e,1);if(null!==t){var n=cu();hu(t,e,1,n)}})),th(e,1)}},Mn=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)hu(t,e,134217728,cu());th(e,134217728)}},Rn=function(e){if(13===e.tag){var t=uu(e),n=js(e,t);if(null!==n)hu(n,e,t,cu());th(e,t)}},An=function(){return Nn},On=function(e,t){var n=Nn;try{return Nn=e,t()}finally{Nn=n}},It=function(e,t,n){switch(t){case"input":if(at(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Ir(i);if(!o)throw Error(fe(90));nt(i),at(i,o)}}}break;case"textarea":ft(e,n);break;case"select":null!=(t=n.value)&&ht(e,!!n.multiple,t,!1)}},Ft=bu,Bt=_u;var ch={usingClientEntryPoint:!1,Events:[Nr,Tr,Ir,Ot,Pt,bu]},uh={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hh={bundleType:uh.bundleType,version:uh.version,rendererPackageName:uh.rendererPackageName,rendererConfig:uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=en(e))?null:e.stateNode},findFiberByHostInstance:uh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{fn=dh.inject(hh),pn=dh}catch(_t){}}le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ch,le.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rh(t))throw Error(fe(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ie,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},le.createRoot=function(e,t){if(!rh(e))throw Error(fe(299));var n=!1,i="",o=nh;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Yu(e,1,!1,null,0,n,0,i,o),e[xr]=t.current,Qo(8===e.nodeType?e.parentNode:e),new ih(t)},le.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(fe(188));throw e=Object.keys(e).join(","),Error(fe(268,e))}return e=null===(e=en(t))?null:e.stateNode},le.flushSync=function(e){return _u(e)},le.hydrate=function(e,t,n){if(!sh(t))throw Error(fe(200));return lh(null,e,t,!0,n)},le.hydrateRoot=function(e,t,n){if(!rh(e))throw Error(fe(405));var i=null!=n&&n.hydratedSources||null,o=!1,r="",s=nh;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Zu(t,null,e,1,null!=n?n:null,o,0,r,s),e[xr]=t.current,Qo(e),i)for(e=0;e<i.length;e++)o=(o=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new oh(t)},le.render=function(e,t,n){if(!sh(t))throw Error(fe(200));return lh(null,e,t,!1,n)},le.unmountComponentAtNode=function(e){if(!sh(e))throw Error(fe(40));return!!e._reactRootContainer&&(_u((function(){lh(null,null,e,!1,(function(){e._reactRootContainer=null,e[xr]=null}))})),!0)},le.unstable_batchedUpdates=bu,le.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!sh(n))throw Error(fe(200));if(null==e||void 0===e._reactInternals)throw Error(fe(38));return lh(e,t,n,!1,i)},le.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ae.exports=le;var gh=ae.exports;const fh=a({__proto__:null,default:c(gh)},[gh]);var ph,mh,vh=gh;
/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bh.apply(this,arguments)}se.createRoot=vh.createRoot,se.hydrateRoot=vh.hydrateRoot,(mh=ph||(ph={})).Pop="POP",mh.Push="PUSH",mh.Replace="REPLACE";const _h="popstate";function yh(e){return void 0===e&&(e={}),function(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:r=!1}=i,s=o.history,a=ph.Pop,l=null,c=u();null==c&&(c=0,s.replaceState(bh({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function h(){a=ph.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function d(e,t){a=ph.Push;let i=xh(p.location,e,t);n&&n(i,e),c=u()+1;let h=Sh(i,c),d=p.createHref(i);try{s.pushState(h,"",d)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;o.location.assign(d)}r&&l&&l({action:a,location:p.location,delta:1})}function g(e,t){a=ph.Replace;let i=xh(p.location,e,t);n&&n(i,e),c=u();let o=Sh(i,c),h=p.createHref(i);s.replaceState(o,"",h),r&&l&&l({action:a,location:p.location,delta:0})}function f(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:kh(e);return n=n.replace(/ $/,"%20"),wh(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let p={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(_h,h),l=e,()=>{o.removeEventListener(_h,h),l=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:g,go:e=>s.go(e)};return p}((function(e,t){let{pathname:n="/",search:i="",hash:o=""}=Lh(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),xh("",{pathname:n,search:i,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"==typeof t?t:kh(t))}),(function(e,t){Ch("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function wh(e,t){if(!1===e||null==e)throw new Error(t)}function Ch(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Sh(e,t){return{usr:e.state,key:e.key,idx:t}}function xh(e,t,n,i){return void 0===n&&(n=null),bh({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Lh(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function kh(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function Lh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var Dh,Eh;(Eh=Dh||(Dh={})).data="data",Eh.deferred="deferred",Eh.redirect="redirect",Eh.error="error";const Nh=new Set(["lazy","caseSensitive","path","id","index","children"]);function Th(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map(((e,o)=>{let r=[...n,String(o)],s="string"==typeof e.id?e.id:r.join("-");if(wh(!0!==e.index||!e.children,"Cannot specify children on an index route"),wh(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=bh({},e,t(e),{id:s});return i[s]=n,n}{let n=bh({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=Th(e.children,t,r,i)),n}}))}function Ih(e,t,n){return void 0===n&&(n="/"),Mh(e,t,n,!1)}function Mh(e,t,n,i){let o=Kh(("string"==typeof t?Lh(t):t).pathname||"/",n);if(null==o)return null;let r=Rh(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=Uh(o);s=$h(r[a],e,i)}return s}function Rh(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let o=(e,o,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(wh(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=Zh([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(wh(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Rh(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Hh(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of Ah(e.path))o(e,t,i);else o(e,t)})),t}function Ah(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return o?[r,""]:[r];let s=Ah(i.join("/")),a=[];return a.push(...s.map((e=>""===e?r:[r,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Oh=/^:[\w-]+$/,Ph=3,Fh=2,Bh=1,zh=10,Vh=-2,Wh=e=>"*"===e;function Hh(e,t){let n=e.split("/"),i=n.length;return n.some(Wh)&&(i+=Vh),t&&(i+=Fh),n.filter((e=>!Wh(e))).reduce(((e,t)=>e+(Oh.test(t)?Ph:""===t?Bh:zh)),i)}function $h(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,o={},r="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===r?t:t.slice(r.length)||"/",u=jh({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=jh({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:Zh([r,u.pathname]),pathnameBase:Qh(Zh([r,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(r=Zh([r,u.pathnameBase]))}return s}function jh(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ch("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let r=new RegExp(o,t?void 0:"i");return[r,i]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:o}=t;if("*"===i){let e=a[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:r,pathnameBase:s,pattern:e}}function Uh(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ch(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Kh(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function qh(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Gh(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Yh(e,t){let n=Gh(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Xh(e,t,n,i){let o;void 0===i&&(i=!1),"string"==typeof e?o=Lh(e):(o=bh({},e),wh(!o.pathname||!o.pathname.includes("?"),qh("?","pathname","search",o)),wh(!o.pathname||!o.pathname.includes("#"),qh("#","pathname","hash",o)),wh(!o.search||!o.search.includes("#"),qh("#","search","hash",o)));let r,s=""===e||""===o.pathname,a=s?"/":o.pathname;if(null==a)r=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:o=""}="string"==typeof e?Lh(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:Jh(i),hash:ed(o)}}(o,r),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Zh=e=>e.join("/").replace(/\/\/+/g,"/"),Qh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jh=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ed=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class td{constructor(e,t,n,i){void 0===i&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function nd(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const id=["post","put","patch","delete"],od=new Set(id),rd=["get",...id],sd=new Set(rd),ad=new Set([301,302,303,307,308]),ld=new Set([307,308]),cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ud={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gd=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),fd="remix-router-transitions";function pd(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,i=!n;let o;if(wh(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=gd;let r,s,a,l={},c=Th(e.routes,o,void 0,l),u=e.basename||"/",h=e.unstable_dataStrategy||xd,d=e.unstable_patchRoutesOnMiss,g=bh({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,p=new Set,m=null,v=null,b=null,_=null!=e.hydrationData,y=Ih(c,e.history.location,u),w=null;if(null==y&&!d){let t=Od(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=Ad(c);y=n,w={[i.id]:t}}if(y&&!e.hydrationData){pe(y,c,e.history.location.pathname).active&&(y=null)}if(y)if(y.some((e=>e.route.lazy)))s=!1;else if(y.some((e=>e.route.loader)))if(g.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,i=e=>!e.route.loader||("function"!=typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=y.findIndex((e=>void 0!==n[e.route.id]));s=y.slice(0,e+1).every(i)}else s=y.every(i)}else s=null!=e.hydrationData;else s=!0;else if(s=!1,y=[],g.v7_partialHydration){let t=pe(null,c,e.history.location.pathname);t.active&&t.matches&&(y=t.matches)}let C,S={historyAction:e.history.action,location:e.history.location,matches:y,initialized:s,navigation:cd,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},x=ph.Pop,k=!1,L=!1,D=new Map,E=null,N=!1,T=!1,I=[],M=new Set,R=new Map,A=0,O=-1,P=new Map,F=new Set,B=new Map,z=new Map,V=new Set,W=new Map,H=new Map,$=new Map,j=!1;function U(e,t){void 0===t&&(t={}),S=bh({},S,e);let n=[],i=[];g.v7_fetcherPersist&&S.fetchers.forEach(((e,t)=>{"idle"===e.state&&(V.has(t)?i.push(t):n.push(t))})),[...p].forEach((e=>e(S,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),g.v7_fetcherPersist&&(n.forEach((e=>S.fetchers.delete(e))),i.forEach((e=>ne(e))))}function K(t,n,i){var o,s;let a,{flushSync:l}=void 0===i?{}:i,u=null!=S.actionData&&null!=S.navigation.formMethod&&$d(S.navigation.formMethod)&&"loading"===S.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?S.actionData:null;let h=n.loaderData?Id(S.loaderData,n.loaderData,n.matches||[],n.errors):S.loaderData,d=S.blockers;d.size>0&&(d=new Map(d),d.forEach(((e,t)=>d.set(t,hd))));let g,f=!0===k||null!=S.navigation.formMethod&&$d(S.navigation.formMethod)&&!0!==(null==(s=t.state)?void 0:s._isRedirect);if(r&&(c=r,r=void 0),N||x===ph.Pop||(x===ph.Push?e.history.push(t,t.state):x===ph.Replace&&e.history.replace(t,t.state)),x===ph.Pop){let e=D.get(S.location.pathname);e&&e.has(t.pathname)?g={currentLocation:S.location,nextLocation:t}:D.has(t.pathname)&&(g={currentLocation:t,nextLocation:S.location})}else if(L){let e=D.get(S.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),D.set(S.location.pathname,e)),g={currentLocation:S.location,nextLocation:t}}U(bh({},n,{actionData:a,loaderData:h,historyAction:x,location:t,initialized:!0,navigation:cd,revalidation:"idle",restoreScrollPosition:fe(t,n.matches||S.matches),preventScrollReset:f,blockers:d}),{viewTransitionOpts:g,flushSync:!0===l}),x=ph.Pop,k=!1,L=!1,N=!1,T=!1,I=[]}async function q(t,n,i){C&&C.abort(),C=null,x=t,N=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(m&&b){let n=ge(e,t);m[n]=b()}}(S.location,S.matches),k=!0===(i&&i.preventScrollReset),L=!0===(i&&i.enableViewTransition);let o=r||c,s=i&&i.overrideNavigation,a=Ih(o,n,u),l=!0===(i&&i.flushSync),h=pe(a,o,n.pathname);if(h.active&&h.matches&&(a=h.matches),!a){let{error:e,notFoundMatches:t,route:i}=ue(n.pathname);return void K(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:l})}if(S.initialized&&!T&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(S.location,n)&&!(i&&i.submission&&$d(i.submission.formMethod)))return void K(n,{matches:a},{flushSync:l});C=new AbortController;let d,f=Dd(e.history,n,C.signal,i&&i.submission);if(i&&i.pendingError)d=[Rd(a).route.id,{type:Dh.error,error:i.pendingError}];else if(i&&i.submission&&$d(i.submission.formMethod)){let t=await async function(e,t,n,i,o,r){void 0===r&&(r={});Q();let s,a=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(U({navigation:a},{flushSync:!0===r.flushSync}),o){let n=await me(i,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{boundaryId:e,error:i}=he(t.pathname,n);return{matches:n.partialMatches,pendingActionResult:[e,{type:Dh.error,error:i}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:i}=ue(t.pathname);return{matches:e,pendingActionResult:[i.id,{type:Dh.error,error:n}]}}i=n.matches}let l=qd(i,t);if(l.route.action||l.route.lazy){if(s=(await X("action",e,[l],i))[0],e.signal.aborted)return{shortCircuited:!0}}else s={type:Dh.error,error:Od(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(Vd(s)){let t;if(r&&null!=r.replace)t=r.replace;else{t=Ld(s.response.headers.get("Location"),new URL(e.url),u)===S.location.pathname+S.location.search}return await Y(e,s,{submission:n,replace:t}),{shortCircuited:!0}}if(Bd(s))throw Od(400,{type:"defer-action"});if(zd(s)){let e=Rd(i,l.route.id);return!0!==(r&&r.replace)&&(x=ph.Push),{matches:i,pendingActionResult:[e.route.id,s]}}return{matches:i,pendingActionResult:[l.route.id,s]}}(f,n,i.submission,a,h.active,{replace:i.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(zd(i)&&nd(i.error)&&404===i.error.status)return C=null,void K(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}})}a=t.matches||a,d=t.pendingActionResult,s=Yd(n,i.submission),l=!1,h.active=!1,f=Dd(e.history,f.url,f.signal)}let{shortCircuited:p,matches:v,loaderData:_,errors:y}=await async function(t,n,i,o,s,a,l,h,d,f,p){let m=s||Yd(n,a),v=a||l||Gd(m),b=!(N||g.v7_partialHydration&&d);if(o){if(b){let e=G(p);U(bh({navigation:m},void 0!==e?{actionData:e}:{}),{flushSync:f})}let e=await me(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:i}=he(n.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:i}}}if(!e.matches){let{error:e,notFoundMatches:t,route:i}=ue(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}i=e.matches}let _=r||c,[y,w]=bd(e.history,S,i,v,n,g.v7_partialHydration&&!0===d,g.v7_skipActionErrorRevalidation,T,I,M,V,B,F,_,u,p);if(de((e=>!(i&&i.some((t=>t.route.id===e)))||y&&y.some((t=>t.route.id===e)))),O=++A,0===y.length&&0===w.length){let e=re();return K(n,bh({matches:i,loaderData:{},errors:p&&zd(p[1])?{[p[0]]:p[1].error}:null},Md(p),e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(b){let e={};if(!o){e.navigation=m;let t=G(p);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=S.fetchers.get(e.key),n=Xd(void 0,t?t.data:void 0);S.fetchers.set(e.key,n)})),new Map(S.fetchers)}(w)),U(e,{flushSync:f})}w.forEach((e=>{R.has(e.key)&&ie(e.key),e.controller&&R.set(e.key,e.controller)}));let x=()=>w.forEach((e=>ie(e.key)));C&&C.signal.addEventListener("abort",x);let{loaderResults:k,fetcherResults:L}=await Z(S.matches,i,y,w,t);if(t.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",x);w.forEach((e=>R.delete(e.key)));let D=Pd([...k,...L]);if(D){if(D.idx>=y.length){let e=w[D.idx-y.length].key;F.add(e)}return await Y(t,D.result,{replace:h}),{shortCircuited:!0}}let{loaderData:E,errors:P}=Td(S,i,y,k,p,w,L,W);W.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&W.delete(t)}))})),g.v7_partialHydration&&d&&S.errors&&Object.entries(S.errors).filter((e=>{let[t]=e;return!y.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;P=Object.assign(P||{},{[t]:n})}));let z=re(),H=se(O),$=z||H||w.length>0;return bh({matches:i,loaderData:E,errors:P},$?{fetchers:new Map(S.fetchers)}:{})}(f,n,a,h.active,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,l,d);p||(C=null,K(n,bh({matches:v||a},Md(d),{loaderData:_,errors:y})))}function G(e){return e&&!zd(e[1])?{[e[0]]:e[1].data}:S.actionData?0===Object.keys(S.actionData).length?null:S.actionData:void 0}async function Y(i,o,r){let{submission:s,fetcherSubmission:a,replace:l}=void 0===r?{}:r;o.response.headers.has("X-Remix-Revalidate")&&(T=!0);let c=o.response.headers.get("Location");wh(c,"Expected a Location header on the redirect Response"),c=Ld(c,new URL(i.url),u);let h=xh(S.location,c,{_isRedirect:!0});if(n){let n=!1;if(o.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(dd.test(c)){const i=e.history.createURL(c);n=i.origin!==t.location.origin||null==Kh(i.pathname,u)}if(n)return void(l?t.location.replace(c):t.location.assign(c))}C=null;let d=!0===l||o.response.headers.has("X-Remix-Replace")?ph.Replace:ph.Push,{formMethod:g,formAction:f,formEncType:p}=S.navigation;!s&&!a&&g&&f&&p&&(s=Gd(S.navigation));let m=s||a;if(ld.has(o.response.status)&&m&&$d(m.formMethod))await q(d,h,{submission:bh({},m,{formAction:c}),preventScrollReset:k});else{let e=Yd(h,s);await q(d,h,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:k})}}async function X(e,t,n,i){try{let r=await async function(e,t,n,i,o,r,s,a){let l=i.reduce(((e,t)=>e.add(t.route.id)),new Set),c=new Set,u=await e({matches:o.map((e=>{let i=l.has(e.route.id),o=o=>(c.add(e.route.id),i?async function(e,t,n,i,o,r,s){let a,l,c=i=>{let o,a=new Promise(((e,t)=>o=t));l=()=>o(),t.signal.addEventListener("abort",l);let c,u=o=>"function"!=typeof i?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):i({request:t,params:n.params,context:s},...void 0!==o?[o]:[]);return c=r?r((e=>u(e))):(async()=>{try{return{type:"data",result:await u()}}catch(e){return{type:"error",result:e}}})(),Promise.race([c,a])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,[t]=await Promise.all([c(r).catch((t=>{e=t})),Sd(n.route,o,i)]);if(void 0!==e)throw e;a=t}else{if(await Sd(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),i=e.pathname+e.search;throw Od(405,{method:t.method,pathname:i,routeId:n.route.id})}return{type:Dh.data,result:void 0}}a=await c(r)}else{if(!r){let e=new URL(t.url);throw Od(404,{pathname:e.pathname+e.search})}a=await c(r)}wh(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(u){return{type:Dh.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return a}(t,n,e,r,s,o,a):Promise.resolve({type:Dh.data,result:void 0}));return bh({},e,{shouldLoad:i,resolve:o})})),request:n,params:o[0].params,context:a});return o.forEach((e=>wh(c.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),u.filter(((e,t)=>l.has(o[t].route.id)))}(h,e,t,n,i,l,o);return await Promise.all(r.map(((e,o)=>{if(function(e){return Hd(e.result)&&ad.has(e.result.status)}(e)){let r=e.result;return{type:Dh.redirect,response:kd(r,t,n[o].route.id,i,u,g.v7_relativeSplatPath)}}return async function(e){let{result:t,type:n}=e;if(Hd(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(c){return{type:Dh.error,error:c}}return n===Dh.error?{type:Dh.error,error:new td(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:Dh.data,data:e,statusCode:t.status,headers:t.headers}}if(n===Dh.error){if(Wd(t)){var i,o;if(t.data instanceof Error)return{type:Dh.error,error:t.data,statusCode:null==(o=t.init)?void 0:o.status};t=new td((null==(i=t.init)?void 0:i.status)||500,void 0,t.data)}return{type:Dh.error,error:t,statusCode:nd(t)?t.status:void 0}}var r,s,a,l;return function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(t)?{type:Dh.deferred,deferredData:t,statusCode:null==(r=t.init)?void 0:r.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:Wd(t)?{type:Dh.data,data:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(l=t.init)&&l.headers?new Headers(t.init.headers):void 0}:{type:Dh.data,data:t}}(e)})))}catch(r){return n.map((()=>({type:Dh.error,error:r})))}}async function Z(t,n,i,o,r){let[s,...a]=await Promise.all([i.length?X("loader",r,i,n):[],...o.map((t=>{if(t.matches&&t.match&&t.controller){return X("loader",Dd(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:Dh.error,error:Od(404,{pathname:t.path})})}))]);return await Promise.all([jd(t,i,s,s.map((()=>r.signal)),!1,S.loaderData),jd(t,o.map((e=>e.match)),a,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:s,fetcherResults:a}}function Q(){T=!0,I.push(...de()),B.forEach(((e,t)=>{R.has(t)&&(M.add(t),ie(t))}))}function J(e,t,n){void 0===n&&(n={}),S.fetchers.set(e,t),U({fetchers:new Map(S.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ee(e,t,n,i){void 0===i&&(i={});let o=Rd(S.matches,t);ne(e),U({errors:{[o.route.id]:n},fetchers:new Map(S.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function te(e){return g.v7_fetcherPersist&&(z.set(e,(z.get(e)||0)+1),V.has(e)&&V.delete(e)),S.fetchers.get(e)||ud}function ne(e){let t=S.fetchers.get(e);!R.has(e)||t&&"loading"===t.state&&P.has(e)||ie(e),B.delete(e),P.delete(e),F.delete(e),V.delete(e),M.delete(e),S.fetchers.delete(e)}function ie(e){let t=R.get(e);wh(t,"Expected fetch controller: "+e),t.abort(),R.delete(e)}function oe(e){for(let t of e){let e=Zd(te(t).data);S.fetchers.set(t,e)}}function re(){let e=[],t=!1;for(let n of F){let i=S.fetchers.get(n);wh(i,"Expected fetcher: "+n),"loading"===i.state&&(F.delete(n),e.push(n),t=!0)}return oe(e),t}function se(e){let t=[];for(let[n,i]of P)if(i<e){let e=S.fetchers.get(n);wh(e,"Expected fetcher: "+n),"loading"===e.state&&(ie(n),P.delete(n),t.push(n))}return oe(t),t.length>0}function ae(e){S.blockers.delete(e),H.delete(e)}function le(e,t){let n=S.blockers.get(e)||hd;wh("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let i=new Map(S.blockers);i.set(e,t),U({blockers:i})}function ce(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===H.size)return;H.size>1&&Ch(!1,"A router only supports one blocker at a time");let o=Array.from(H.entries()),[r,s]=o[o.length-1],a=S.blockers.get(r);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:i})?r:void 0}function ue(e){let t=Od(404,{pathname:e}),n=r||c,{matches:i,route:o}=Ad(n);return de(),{notFoundMatches:i,route:o,error:t}}function he(e,t){return{boundaryId:Rd(t.partialMatches).route.id,error:Od(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function de(e){let t=[];return W.forEach(((n,i)=>{e&&!e(i)||(n.cancel(),t.push(i),W.delete(i))})),t}function ge(e,t){if(v){return v(e,t.map((e=>function(e,t){let{route:n,pathname:i,params:o}=e;return{id:n.id,pathname:i,params:o,data:t[n.id],handle:n.handle}}(e,S.loaderData))))||e.key}return e.key}function fe(e,t){if(m){let n=ge(e,t),i=m[n];if("number"==typeof i)return i}return null}function pe(e,t,n){if(d){if(!e){return{active:!0,matches:Mh(t,n,u,!0)||[]}}{let i=e[e.length-1].route;if(i.path&&("*"===i.path||i.path.endsWith("/*"))){return{active:!0,matches:Mh(t,n,u,!0)}}}}return{active:!1,matches:null}}async function me(e,t,n){let i=e,s=i.length>0?i[i.length-1].route:null;for(;;){let e=null==r,h=r||c;try{await wd(d,t,i,h,l,o,$,n)}catch(a){return{type:"error",error:a,partialMatches:i}}finally{e&&(c=[...c])}if(n.aborted)return{type:"aborted"};let g=Ih(h,t,u),f=!1;if(g){let e=g[g.length-1].route;if(e.index)return{type:"success",matches:g};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:g};f=!0}}let p=Mh(h,t,u,!0);if(!p||i.map((e=>e.route.id)).join("-")===p.map((e=>e.route.id)).join("-"))return{type:"success",matches:f?g:null};if(i=p,s=i[i.length-1].route,"*"===s.path)return{type:"success",matches:i}}}return a={get basename(){return u},get future(){return g},get state(){return S},get routes(){return c},get window(){return t},initialize:function(){if(f=e.history.listen((t=>{let{action:n,location:i,delta:o}=t;if(j)return void(j=!1);Ch(0===H.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let r=ce({currentLocation:S.location,nextLocation:i,historyAction:n});return r&&null!=o?(j=!0,e.history.go(-1*o),void le(r,{state:"blocked",location:i,proceed(){le(r,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),e.history.go(o)},reset(){let e=new Map(S.blockers);e.set(r,hd),U({blockers:e})}})):q(n,i)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(fd);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(n){}}(t,D);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(fd,JSON.stringify(i))}catch(n){Ch(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}
/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(t,D);t.addEventListener("pagehide",e),E=()=>t.removeEventListener("pagehide",e)}return S.initialized||q(ph.Pop,S.location,{initialHydration:!0}),a},subscribe:function(e){return p.add(e),()=>p.delete(e)},enableScrollRestoration:function(e,t,n){if(m=e,b=t,v=n||null,!_&&S.navigation===cd){_=!0;let e=fe(S.location,S.matches);null!=e&&U({restoreScrollPosition:e})}return()=>{m=null,b=null,v=null}},navigate:async function t(n,i){if("number"==typeof n)return void e.history.go(n);let o=md(S.location,S.matches,u,g.v7_prependBasename,n,g.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:r,submission:s,error:a}=vd(g.v7_normalizeFormMethod,!1,o,i),l=S.location,c=xh(S.location,r,i&&i.state);c=bh({},c,e.history.encodeLocation(c));let h=i&&null!=i.replace?i.replace:void 0,d=ph.Push;!0===h?d=ph.Replace:!1===h||null!=s&&$d(s.formMethod)&&s.formAction===S.location.pathname+S.location.search&&(d=ph.Replace);let f=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,p=!0===(i&&i.unstable_flushSync),m=ce({currentLocation:l,nextLocation:c,historyAction:d});if(!m)return await q(d,c,{submission:s,pendingError:a,preventScrollReset:f,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:p});le(m,{state:"blocked",location:c,proceed(){le(m,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,i)},reset(){let e=new Map(S.blockers);e.set(m,hd),U({blockers:e})}})},fetch:function(t,n,o,s){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(t)&&ie(t);let a=!0===(s&&s.unstable_flushSync),l=r||c,h=md(S.location,S.matches,u,g.v7_prependBasename,o,g.v7_relativeSplatPath,n,null==s?void 0:s.relative),d=Ih(l,h,u),f=pe(d,l,h);if(f.active&&f.matches&&(d=f.matches),!d)return void ee(t,n,Od(404,{pathname:h}),{flushSync:a});let{path:p,submission:m,error:v}=vd(g.v7_normalizeFormMethod,!0,h,s);if(v)return void ee(t,n,v,{flushSync:a});let b=qd(d,p);k=!0===(s&&s.preventScrollReset),m&&$d(m.formMethod)?async function(t,n,i,o,s,a,l,h){function d(e){if(!e.route.action&&!e.route.lazy){let e=Od(405,{method:h.formMethod,pathname:i,routeId:n});return ee(t,n,e,{flushSync:l}),!0}return!1}if(Q(),B.delete(t),!a&&d(o))return;let f=S.fetchers.get(t);J(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,f),{flushSync:l});let p=new AbortController,m=Dd(e.history,i,p.signal,h);if(a){let e=await me(s,i,m.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=he(i,e);return void ee(t,n,o,{flushSync:l})}if(!e.matches)return void ee(t,n,Od(404,{pathname:i}),{flushSync:l});if(d(o=qd(s=e.matches,i)))return}R.set(t,p);let v=A,b=await X("action",m,[o],s),_=b[0];if(m.signal.aborted)return void(R.get(t)===p&&R.delete(t));if(g.v7_fetcherPersist&&V.has(t)){if(Vd(_)||zd(_))return void J(t,Zd(void 0))}else{if(Vd(_))return R.delete(t),O>v?void J(t,Zd(void 0)):(F.add(t),J(t,Xd(h)),Y(m,_,{fetcherSubmission:h}));if(zd(_))return void ee(t,n,_.error)}if(Bd(_))throw Od(400,{type:"defer-action"});let y=S.navigation.location||S.location,w=Dd(e.history,y,p.signal),k=r||c,L="idle"!==S.navigation.state?Ih(k,S.navigation.location,u):S.matches;wh(L,"Didn't find any matches after fetcher action");let D=++A;P.set(t,D);let E=Xd(h,_.data);S.fetchers.set(t,E);let[N,z]=bd(e.history,S,L,h,y,!1,g.v7_skipActionErrorRevalidation,T,I,M,V,B,F,k,u,[o.route.id,_]);z.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=S.fetchers.get(t),i=Xd(void 0,n?n.data:void 0);S.fetchers.set(t,i),R.has(t)&&ie(t),e.controller&&R.set(t,e.controller)})),U({fetchers:new Map(S.fetchers)});let H=()=>z.forEach((e=>ie(e.key)));p.signal.addEventListener("abort",H);let{loaderResults:$,fetcherResults:j}=await Z(S.matches,L,N,z,w);if(p.signal.aborted)return;p.signal.removeEventListener("abort",H),P.delete(t),R.delete(t),z.forEach((e=>R.delete(e.key)));let q=Pd([...$,...j]);if(q){if(q.idx>=N.length){let e=z[q.idx-N.length].key;F.add(e)}return Y(w,q.result)}let{loaderData:G,errors:te}=Td(S,S.matches,N,$,void 0,z,j,W);if(S.fetchers.has(t)){let e=Zd(_.data);S.fetchers.set(t,e)}se(D),"loading"===S.navigation.state&&D>O?(wh(x,"Expected pending action"),C&&C.abort(),K(S.navigation.location,{matches:L,loaderData:G,errors:te,fetchers:new Map(S.fetchers)})):(U({errors:te,loaderData:Id(S.loaderData,G,L,te),fetchers:new Map(S.fetchers)}),T=!1)}(t,n,p,b,d,f.active,a,m):(B.set(t,{routeId:n,path:p}),async function(t,n,i,o,r,s,a,l){let c=S.fetchers.get(t);J(t,Xd(l,c?c.data:void 0),{flushSync:a});let u=new AbortController,h=Dd(e.history,i,u.signal);if(s){let e=await me(r,i,h.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=he(i,e);return void ee(t,n,o,{flushSync:a})}if(!e.matches)return void ee(t,n,Od(404,{pathname:i}),{flushSync:a});o=qd(r=e.matches,i)}R.set(t,u);let d=A,g=await X("loader",h,[o],r),f=g[0];Bd(f)&&(f=await Ud(f,h.signal,!0)||f);R.get(t)===u&&R.delete(t);if(h.signal.aborted)return;if(V.has(t))return void J(t,Zd(void 0));if(Vd(f))return O>d?void J(t,Zd(void 0)):(F.add(t),void(await Y(h,f)));if(zd(f))return void ee(t,n,f.error);wh(!Bd(f),"Unhandled fetcher deferred data"),J(t,Zd(f.data))}(t,n,p,b,d,f.active,a,m))},revalidate:function(){Q(),U({revalidation:"loading"}),"submitting"!==S.navigation.state&&("idle"!==S.navigation.state?q(x||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation}):q(S.historyAction,S.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:te,deleteFetcher:function(e){if(g.v7_fetcherPersist){let t=(z.get(e)||0)-1;t<=0?(z.delete(e),V.add(e)):z.set(e,t)}else ne(e);U({fetchers:new Map(S.fetchers)})},dispose:function(){f&&f(),E&&E(),p.clear(),C&&C.abort(),S.fetchers.forEach(((e,t)=>ne(t))),S.blockers.forEach(((e,t)=>ae(t)))},getBlocker:function(e,t){let n=S.blockers.get(e)||hd;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:ae,patchRoutes:function(e,t){let n=null==r;Cd(e,t,r||c,l,o),n&&(c=[...c],U({}))},_internalFetchControllers:R,_internalActiveDeferreds:W,_internalSetRoutes:function(e){l={},r=Th(e,o,void 0,l)}},a}function md(e,t,n,i,o,r,s,a){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let u=Xh(o||".",Yh(l,r),Kh(e.pathname,n)||e.pathname,"path"===a);return null==o&&(u.search=e.search,u.hash=e.hash),null!=o&&""!==o&&"."!==o||!c||!c.route.index||Kd(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&"/"!==n&&(u.pathname="/"===u.pathname?n:Zh([n,u.pathname])),kh(u)}function vd(e,t,n,i){if(!i||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(i))return{path:n};if(i.formMethod&&(o=i.formMethod,!sd.has(o.toLowerCase())))return{path:n,error:Od(405,{method:i.formMethod})};var o;let r,s,a=()=>({path:n,error:Od(400,{type:"invalid-body"})}),l=i.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=Fd(n);if(void 0!==i.body){if("text/plain"===i.formEncType){if(!$d(c))return a();let e="string"==typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce(((e,t)=>{let[n,i]=t;return""+e+n+"="+i+"\n"}),""):String(i.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){if(!$d(c))return a();try{let e="string"==typeof i.body?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(g){return a()}}}if(wh("function"==typeof FormData,"FormData is not available in this environment"),i.formData)r=Ed(i.formData),s=i.formData;else if(i.body instanceof FormData)r=Ed(i.body),s=i.body;else if(i.body instanceof URLSearchParams)r=i.body,s=Nd(r);else if(null==i.body)r=new URLSearchParams,s=new FormData;else try{r=new URLSearchParams(i.body),s=Nd(r)}catch(g){return a()}let h={formMethod:c,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if($d(h.formMethod))return{path:n,submission:h};let d=Lh(n);return t&&d.search&&Kd(d.search)&&r.append("index",""),d.search="?"+r,{path:kh(d),submission:h}}function bd(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f,p){let m=p?zd(p[1])?p[1].error:p[1].data:void 0,v=e.createURL(t.location),b=e.createURL(o),_=p&&zd(p[1])?p[0]:void 0,y=_?function(e,t){let n=e;if(t){let i=e.findIndex((e=>e.route.id===t));i>=0&&(n=e.slice(0,i))}return n}(n,_):n,w=p?p[1].statusCode:void 0,C=s&&w&&w>=400,S=y.filter(((e,n)=>{let{route:o}=e;if(o.lazy)return!0;if(null==o.loader)return!1;if(r)return!("function"==typeof o.loader&&!o.loader.hydrate)||void 0===t.loaderData[o.id]&&(!t.errors||void 0===t.errors[o.id]);if(function(e,t,n){let i=!t||n.route.id!==t.route.id,o=void 0===e[n.route.id];return i||o}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let s=t.matches[n],c=e;return yd(e,bh({currentUrl:v,currentParams:s.params,nextUrl:b,nextParams:c.params},i,{actionResult:m,actionStatus:w,defaultShouldRevalidate:!C&&(a||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||_d(s,c))}))})),x=[];return h.forEach(((e,o)=>{if(r||!n.some((t=>t.route.id===e.routeId))||u.has(o))return;let s=Ih(g,e.path,f);if(!s)return void x.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(o),h=qd(s,e.path),p=!1;d.has(o)?p=!1:c.has(o)?(c.delete(o),p=!0):p=l&&"idle"!==l.state&&void 0===l.data?a:yd(h,bh({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},i,{actionResult:m,actionStatus:w,defaultShouldRevalidate:!C&&a})),p&&x.push({key:o,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})})),[S,x]}function _d(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function yd(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function wd(e,t,n,i,o,r,s,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let u=s.get(l);u||(u=e({path:t,matches:n,patch:(e,t)=>{a.aborted||Cd(e,t,i,o,r)}}),s.set(l,u)),u&&("object"==typeof(c=u)&&null!=c&&"then"in c)&&await u}finally{s.delete(l)}var c}function Cd(e,t,n,i,o){if(e){var r;let n=i[e];wh(n,"No route found to patch children into: routeId = "+e);let s=Th(t,o,[e,"patch",String((null==(r=n.children)?void 0:r.length)||"0")],i);n.children?n.children.push(...s):n.children=s}else{let e=Th(t,o,["patch",String(n.length||"0")],i);n.push(...e)}}async function Sd(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let o=n[e.id];wh(o,"No route found in manifest");let r={};for(let s in i){let e=void 0!==o[s]&&"hasErrorBoundary"!==s;Ch(!e,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||Nh.has(s)||(r[s]=i[s])}Object.assign(o,r),Object.assign(o,bh({},t(o),{lazy:void 0}))}function xd(e){return Promise.all(e.matches.map((e=>e.resolve())))}function kd(e,t,n,i,o,r){let s=e.headers.get("Location");if(wh(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!dd.test(s)){let a=i.slice(0,i.findIndex((e=>e.route.id===n))+1);s=md(new URL(t.url),a,o,!0,s,r),e.headers.set("Location",s)}return e}function Ld(e,t,n){if(dd.test(e)){let i=e,o=i.startsWith("//")?new URL(t.protocol+i):new URL(i),r=null!=Kh(o.pathname,n);if(o.origin===t.origin&&r)return o.pathname+o.search+o.hash}return e}function Dd(e,t,n,i){let o=e.createURL(Fd(t)).toString(),r={signal:n};if(i&&$d(i.formMethod)){let{formMethod:e,formEncType:t}=i;r.method=e.toUpperCase(),"application/json"===t?(r.headers=new Headers({"Content-Type":t}),r.body=JSON.stringify(i.json)):"text/plain"===t?r.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?r.body=Ed(i.formData):r.body=i.formData}return new Request(o,r)}function Ed(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"==typeof i?i:i.name);return t}function Nd(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function Td(e,t,n,i,o,r,s,a){let{loaderData:l,errors:c}=function(e,t,n,i,o){let r,s={},a=null,l=!1,c={},u=i&&zd(i[1])?i[1].error:void 0;return n.forEach(((n,i)=>{let h=t[i].route.id;if(wh(!Vd(n),"Cannot handle redirect results in processLoaderData"),zd(n)){let t=n.error;void 0!==u&&(t=u,u=void 0),a=a||{};{let n=Rd(e,h);null==a[n.route.id]&&(a[n.route.id]=t)}s[h]=void 0,l||(l=!0,r=nd(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else Bd(n)?(o.set(h,n.deferredData),s[h]=n.deferredData.data,null==n.statusCode||200===n.statusCode||l||(r=n.statusCode),n.headers&&(c[h]=n.headers)):(s[h]=n.data,n.statusCode&&200!==n.statusCode&&!l&&(r=n.statusCode),n.headers&&(c[h]=n.headers))})),void 0!==u&&i&&(a={[i[0]]:u},s[i[0]]=void 0),{loaderData:s,errors:a,statusCode:r||200,loaderHeaders:c}}(t,n,i,o,a);for(let u=0;u<r.length;u++){let{key:t,match:n,controller:i}=r[u];wh(void 0!==s&&void 0!==s[u],"Did not find corresponding fetcher result");let o=s[u];if(!i||!i.signal.aborted)if(zd(o)){let i=Rd(e.matches,null==n?void 0:n.route.id);c&&c[i.route.id]||(c=bh({},c,{[i.route.id]:o.error})),e.fetchers.delete(t)}else if(Vd(o))wh(!1,"Unhandled fetcher revalidation redirect");else if(Bd(o))wh(!1,"Unhandled fetcher deferred data");else{let n=Zd(o.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function Id(e,t,n,i){let o=bh({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&r.route.loader&&(o[n]=e[n]),i&&i.hasOwnProperty(n))break}return o}function Md(e){return e?zd(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Rd(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ad(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Od(e,t){let{pathname:n,routeId:i,method:o,type:r,message:s}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===r?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` function threw the following error:\n'+s:o&&n&&i?l="You made a "+o+' request to "'+n+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===r?l="defer() is not supported in actions":"invalid-body"===r&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",o&&n&&i?l="You made a "+o.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new td(e||500,a,new Error(l),!0)}function Pd(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Vd(n))return{result:n,idx:t}}}function Fd(e){return kh(bh({},"string"==typeof e?Lh(e):e,{hash:""}))}function Bd(e){return e.type===Dh.deferred}function zd(e){return e.type===Dh.error}function Vd(e){return(e&&e.type)===Dh.redirect}function Wd(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Hd(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function $d(e){return od.has(e.toLowerCase())}async function jd(e,t,n,i,o,r){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!_d(c,l)&&void 0!==(r&&r[l.route.id]);if(Bd(a)&&(o||u)){let e=i[s];wh(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ud(a,e,o).then((e=>{e&&(n[s]=e||n[s])}))}}}async function Ud(e,t,n){if(void 0===n&&(n=!1),!(await e.deferredData.resolveData(t))){if(n)try{return{type:Dh.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Dh.error,error:i}}return{type:Dh.data,data:e.deferredData.data}}}function Kd(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function qd(e,t){let n="string"==typeof t?Lh(t).search:t.search;if(e[e.length-1].route.index&&Kd(n||""))return e[e.length-1];let i=Gh(e);return i[i.length-1]}function Gd(e){let{formMethod:t,formAction:n,formEncType:i,text:o,formData:r,json:s}=e;if(t&&n&&i)return null!=o?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o}:null!=r?{formMethod:t,formAction:n,formEncType:i,formData:r,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:s,text:void 0}:void 0}function Yd(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xd(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zd(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qd.apply(this,arguments)}const Jd=Y.createContext(null),eg=Y.createContext(null),tg=Y.createContext(null),ng=Y.createContext(null),ig=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),og=Y.createContext(null);function rg(){return null!=Y.useContext(ng)}function sg(){return rg()||wh(!1),Y.useContext(ng).location}function ag(e){Y.useContext(tg).static||Y.useLayoutEffect(e)}function lg(){let{isDataRoute:e}=Y.useContext(ig);return e?function(){let{router:e}=function(){let e=Y.useContext(Jd);return e||wh(!1),e}(mg.UseNavigateStable),t=bg(vg.UseNavigateStable),n=Y.useRef(!1);return ag((()=>{n.current=!0})),Y.useCallback((function(i,o){void 0===o&&(o={}),n.current&&("number"==typeof i?e.navigate(i):e.navigate(i,Qd({fromRouteId:t},o)))}),[e,t])}():function(){rg()||wh(!1);let e=Y.useContext(Jd),{basename:t,future:n,navigator:i}=Y.useContext(tg),{matches:o}=Y.useContext(ig),{pathname:r}=sg(),s=JSON.stringify(Yh(o,n.v7_relativeSplatPath)),a=Y.useRef(!1);return ag((()=>{a.current=!0})),Y.useCallback((function(n,o){if(void 0===o&&(o={}),!a.current)return;if("number"==typeof n)return void i.go(n);let l=Xh(n,JSON.parse(s),r,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Zh([t,l.pathname])),(o.replace?i.replace:i.push)(l,o.state,o)}),[t,i,s,r,e])}()}function cg(){let{matches:e}=Y.useContext(ig),t=e[e.length-1];return t?t.params:{}}function ug(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=Y.useContext(tg),{matches:o}=Y.useContext(ig),{pathname:r}=sg(),s=JSON.stringify(Yh(o,i.v7_relativeSplatPath));return Y.useMemo((()=>Xh(e,JSON.parse(s),r,"path"===n)),[e,s,r,n])}function hg(e,t,n,i){rg()||wh(!1);let{navigator:o}=Y.useContext(tg),{matches:r}=Y.useContext(ig),s=r[r.length-1],a=s?s.params:{};!s||s.pathname;let l,c=s?s.pathnameBase:"/";s&&s.route,l=sg();let u=l.pathname||"/",h=u;if("/"!==c){let e=c.replace(/^\//,"").split("/");h="/"+u.replace(/^\//,"").split("/").slice(e.length).join("/")}let d=Ih(e,{pathname:h}),g=function(e,t,n,i){var o;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===i&&(i=null);if(null==e){var r;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(r=i)&&r.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,a=null==(o=n)?void 0:o.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id])));e>=0||wh(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<s.length;u++){let e=s[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let r,u=!1,h=null,d=null;n&&(r=a&&i.route.id?a[i.route.id]:void 0,h=i.route.errorElement||gg,l&&(c<0&&0===o?(u=!0,d=null):c===o&&(u=!0,d=i.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),f=()=>{let t;return t=r?h:u?d:i.route.Component?Y.createElement(i.route.Component,null):i.route.element?i.route.element:e,Y.createElement(pg,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?Y.createElement(fg,{location:n.location,revalidation:n.revalidation,component:h,error:r,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()}),null)}(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Zh([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Zh([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),r,n,i);return g}function dg(){let e=function(){var e;let t=Y.useContext(og),n=function(){let e=Y.useContext(eg);return e||wh(!1),e}(vg.UseRouteError),i=bg(vg.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=nd(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:i},n):null,null)}const gg=Y.createElement(dg,null);class fg extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Y.createElement(ig.Provider,{value:this.props.routeContext},Y.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pg(e){let{routeContext:t,match:n,children:i}=e,o=Y.useContext(Jd);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(ig.Provider,{value:t},i)}var mg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mg||{}),vg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vg||{});function bg(e){let t=function(){let e=Y.useContext(ig);return e||wh(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||wh(!1),n.route.id}function _g(e){let{basename:t="/",children:n=null,location:i,navigationType:o=ph.Pop,navigator:r,static:s=!1,future:a}=e;rg()&&wh(!1);let l=t.replace(/^\/*/,"/"),c=Y.useMemo((()=>({basename:l,navigator:r,static:s,future:Qd({v7_relativeSplatPath:!1},a)})),[l,a,r,s]);"string"==typeof i&&(i=Lh(i));let{pathname:u="/",search:h="",hash:d="",state:g=null,key:f="default"}=i,p=Y.useMemo((()=>{let e=Kh(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:g,key:f},navigationType:o}}),[l,u,h,d,g,f,o]);return null==p?null:Y.createElement(tg.Provider,{value:c},Y.createElement(ng.Provider,{children:n,value:p}))}function yg(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:Y.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:Y.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:Y.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}
/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wg.apply(this,arguments)}new Promise((()=>{}));const Cg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(fTe){}function Sg(e,t){return pd({basename:void 0,future:wg({},void 0,{v7_prependBasename:!0}),history:yh({window:void 0}),hydrationData:xg(),routes:e,mapRouteProperties:yg,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function xg(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=wg({},t,{errors:kg(t.errors)})),t}function kg(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new td(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"==typeof e)try{let t=new e(o.message);t.stack="",n[i]=t}catch(fTe){}}if(null==n[i]){let e=new Error(o.message);e.stack="",n[i]=e}}else n[i]=o;return n}const Lg=Y.createContext({isTransitioning:!1}),Dg=Y.createContext(new Map),Eg=Z.startTransition,Ng=fh.flushSync;function Tg(e){Ng?Ng(e):e()}class Ig{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Mg(e){let{fallbackElement:t,router:n,future:i}=e,[o,r]=Y.useState(n.state),[s,a]=Y.useState(),[l,c]=Y.useState({isTransitioning:!1}),[u,h]=Y.useState(),[d,g]=Y.useState(),[f,p]=Y.useState(),m=Y.useRef(new Map),{v7_startTransition:v}=i||{},b=Y.useCallback((e=>{v?function(e){Eg?Eg(e):e()}(e):e()}),[v]),_=Y.useCallback(((e,t)=>{let{deletedFetchers:i,unstable_flushSync:o,unstable_viewTransitionOpts:s}=t;i.forEach((e=>m.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&m.current.set(t,e.data)}));let l=null==n.window||null==n.window.document||"function"!=typeof n.window.document.startViewTransition;if(s&&!l){if(o){Tg((()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let t=n.window.document.startViewTransition((()=>{Tg((()=>r(e)))}));return t.finished.finally((()=>{Tg((()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}))})),void Tg((()=>g(t)))}d?(u&&u.resolve(),d.skipTransition(),p({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(a(e),c({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else o?Tg((()=>r(e))):b((()=>r(e)))}),[n.window,d,u,m,b]);Y.useLayoutEffect((()=>n.subscribe(_)),[n,_]),Y.useEffect((()=>{l.isTransitioning&&!l.flushSync&&h(new Ig)}),[l]),Y.useEffect((()=>{if(u&&s&&n.window){let e=s,t=u.promise,i=n.window.document.startViewTransition((async()=>{b((()=>r(e))),await t}));i.finished.finally((()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})),g(i)}}),[b,s,u,n.window]),Y.useEffect((()=>{u&&s&&o.location.key===s.location.key&&u.resolve()}),[u,d,o.location,s]),Y.useEffect((()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))}),[l.isTransitioning,f]),Y.useEffect((()=>{}),[]);let y=Y.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})})),[n]),w=n.basename||"/",C=Y.useMemo((()=>({router:n,navigator:y,static:!1,basename:w})),[n,y,w]),S=Y.useMemo((()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath})),[n.future.v7_relativeSplatPath]);return Y.createElement(Y.Fragment,null,Y.createElement(Jd.Provider,{value:C},Y.createElement(eg.Provider,{value:o},Y.createElement(Dg.Provider,{value:m.current},Y.createElement(Lg.Provider,{value:l},Y.createElement(_g,{basename:w,location:o.location,navigationType:o.historyAction,navigator:y,future:S},o.initialized||n.future.v7_partialHydration?Y.createElement(Rg,{routes:n.routes,future:n.future,state:o}):t))))),null)}const Rg=Y.memo(Ag);function Ag(e){let{routes:t,future:n,state:i}=e;return hg(t,0,i,n)}const Og="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fg=Y.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:r,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Cg),{basename:g}=Y.useContext(tg),f=!1;if("string"==typeof c&&Pg.test(c)&&(n=c,Og))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Kh(t.pathname,g);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:f=!0}catch(fTe){}let p=function(e,t){let{relative:n}=void 0===t?{}:t;rg()||wh(!1);let{basename:i,navigator:o}=Y.useContext(tg),{hash:r,pathname:s,search:a}=ug(e,{relative:n}),l=s;return"/"!==i&&(l="/"===s?i:Zh([i,s])),o.createHref({pathname:l,search:a,hash:r})}(c,{relative:o}),m=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:r,relative:s,unstable_viewTransition:a}=void 0===t?{}:t,l=lg(),c=sg(),u=ug(e,{relative:s});return Y.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==i?i:kh(c)===kh(u);l(e,{replace:n,state:o,preventScrollReset:r,relative:s,unstable_viewTransition:a})}}),[c,l,u,i,o,n,e,r,s,a])}(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o,unstable_viewTransition:h});return Y.createElement("a",wg({},d,{href:n||p,onClick:f||r?i:function(e){i&&i(e),e.defaultPrevented||m(e)},ref:t,target:l}))}));var Bg,zg,Vg,Wg;(zg=Bg||(Bg={})).UseScrollRestoration="useScrollRestoration",zg.UseSubmit="useSubmit",zg.UseSubmitFetcher="useSubmitFetcher",zg.UseFetcher="useFetcher",zg.useViewTransitionState="useViewTransitionState",(Wg=Vg||(Vg={})).UseFetcher="useFetcher",Wg.UseFetchers="useFetchers",Wg.UseScrollRestoration="useScrollRestoration";const Hg={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}},$g="$$joy";function jg(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Ug=Object.freeze(Object.defineProperty({__proto__:null,default:jg},Symbol.toStringTag,{value:"Module"}));function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kg.apply(null,arguments)}const qg=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Kg}},Symbol.toStringTag,{value:"Module"}));function Gg(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Yg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Xg=Gg((function(e){return Yg.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Zg=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(fTe){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Qg="-ms-",Jg="-moz-",ef="-webkit-",tf="comm",nf="rule",of="decl",rf="@keyframes",sf=Math.abs,af=String.fromCharCode,lf=Object.assign;function cf(e){return e.trim()}function uf(e,t,n){return e.replace(t,n)}function hf(e,t){return e.indexOf(t)}function df(e,t){return 0|e.charCodeAt(t)}function gf(e,t,n){return e.slice(t,n)}function ff(e){return e.length}function pf(e){return e.length}function mf(e,t){return t.push(e),e}var vf=1,bf=1,_f=0,yf=0,wf=0,Cf="";function Sf(e,t,n,i,o,r,s){return{value:e,root:t,parent:n,type:i,props:o,children:r,line:vf,column:bf,length:s,return:""}}function xf(e,t){return lf(Sf("",null,null,"",null,null,0),e,{length:-e.length},t)}function kf(){return wf=yf<_f?df(Cf,yf++):0,bf++,10===wf&&(bf=1,vf++),wf}function Lf(){return df(Cf,yf)}function Df(){return yf}function Ef(e,t){return gf(Cf,e,t)}function Nf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tf(e){return vf=bf=1,_f=ff(Cf=e),yf=0,[]}function If(e){return Cf="",e}function Mf(e){return cf(Ef(yf-1,Of(91===e?e+2:40===e?e+1:e)))}function Rf(e){for(;(wf=Lf())&&wf<33;)kf();return Nf(e)>2||Nf(wf)>3?"":" "}function Af(e,t){for(;--t&&kf()&&!(wf<48||wf>102||wf>57&&wf<65||wf>70&&wf<97););return Ef(e,Df()+(t<6&&32==Lf()&&32==kf()))}function Of(e){for(;kf();)switch(wf){case e:return yf;case 34:case 39:34!==e&&39!==e&&Of(wf);break;case 40:41===e&&Of(e);break;case 92:kf()}return yf}function Pf(e,t){for(;kf()&&e+wf!==57&&(e+wf!==84||47!==Lf()););return"/*"+Ef(t,yf-1)+"*"+af(47===e?e:kf())}function Ff(e){for(;!Nf(Lf());)kf();return Ef(e,yf)}function Bf(e){return If(zf("",null,null,null,[""],e=Tf(e),0,[0],e))}function zf(e,t,n,i,o,r,s,a,l){for(var c=0,u=0,h=s,d=0,g=0,f=0,p=1,m=1,v=1,b=0,_="",y=o,w=r,C=i,S=_;m;)switch(f=b,b=kf()){case 40:if(108!=f&&58==df(S,h-1)){-1!=hf(S+=uf(Mf(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=Mf(b);break;case 9:case 10:case 13:case 32:S+=Rf(f);break;case 92:S+=Af(Df()-1,7);continue;case 47:switch(Lf()){case 42:case 47:mf(Wf(Pf(kf(),Df()),t,n),l);break;default:S+="/"}break;case 123*p:a[c++]=ff(S)*v;case 125*p:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==v&&(S=uf(S,/\f/g,"")),g>0&&ff(S)-h&&mf(g>32?Hf(S+";",i,n,h-1):Hf(uf(S," ","")+";",i,n,h-2),l);break;case 59:S+=";";default:if(mf(C=Vf(S,t,n,c,u,o,a,_,y=[],w=[],h),r),123===b)if(0===u)zf(S,t,C,C,y,r,h,a,w);else switch(99===d&&110===df(S,3)?100:d){case 100:case 108:case 109:case 115:zf(e,C,C,i&&mf(Vf(e,C,C,0,0,o,a,_,o,y=[],h),w),o,w,h,a,i?y:w);break;default:zf(S,C,C,C,[""],w,0,a,w)}}c=u=g=0,p=v=1,_=S="",h=s;break;case 58:h=1+ff(S),g=f;default:if(p<1)if(123==b)--p;else if(125==b&&0==p++&&125==(wf=yf>0?df(Cf,--yf):0,bf--,10===wf&&(bf=1,vf--),wf))continue;switch(S+=af(b),b*p){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(ff(S)-1)*v,v=1;break;case 64:45===Lf()&&(S+=Mf(kf())),d=Lf(),u=h=ff(_=S+=Ff(Df())),b++;break;case 45:45===f&&2==ff(S)&&(p=0)}}return r}function Vf(e,t,n,i,o,r,s,a,l,c,u){for(var h=o-1,d=0===o?r:[""],g=pf(d),f=0,p=0,m=0;f<i;++f)for(var v=0,b=gf(e,h+1,h=sf(p=s[f])),_=e;v<g;++v)(_=cf(p>0?d[v]+" "+b:uf(b,/&\f/g,d[v])))&&(l[m++]=_);return Sf(e,t,n,0===o?nf:a,l,c,u)}function Wf(e,t,n){return Sf(e,t,n,tf,af(wf),gf(e,2,-2),0)}function Hf(e,t,n,i){return Sf(e,t,n,of,gf(e,0,i),gf(e,i+1,-1),i)}function $f(e,t){for(var n="",i=pf(e),o=0;o<i;o++)n+=t(e[o],o,e,t)||"";return n}function jf(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case of:return e.return=e.return||e.value;case tf:return"";case rf:return e.return=e.value+"{"+$f(e.children,i)+"}";case nf:e.value=e.props.join(",")}return ff(n=$f(e.children,i))?e.return=e.value+"{"+n+"}":""}var Uf=function(e,t,n){for(var i=0,o=0;i=o,o=Lf(),38===i&&12===o&&(t[n]=1),!Nf(o);)kf();return Ef(e,yf)},Kf=function(e,t){return If(function(e,t){var n=-1,i=44;do{switch(Nf(i)){case 0:38===i&&12===Lf()&&(t[n]=1),e[n]+=Uf(yf-1,t,n);break;case 2:e[n]+=Mf(i);break;case 4:if(44===i){e[++n]=58===Lf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=af(i)}}while(i=kf());return e}(Tf(e),t))},qf=new WeakMap,Gf=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||qf.get(n))&&!i){qf.set(e,!0);for(var o=[],r=Kf(t,o),s=n.props,a=0,l=0;a<r.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?r[a].replace(/&\f/g,s[c]):s[c]+" "+r[a]}}},Yf=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Xf(e,t){switch(function(e,t){return 45^df(e,0)?(((t<<2^df(e,0))<<2^df(e,1))<<2^df(e,2))<<2^df(e,3):0}(e,t)){case 5103:return ef+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ef+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ef+e+Jg+e+Qg+e+e;case 6828:case 4268:return ef+e+Qg+e+e;case 6165:return ef+e+Qg+"flex-"+e+e;case 5187:return ef+e+uf(e,/(\w+).+(:[^]+)/,ef+"box-$1$2"+Qg+"flex-$1$2")+e;case 5443:return ef+e+Qg+"flex-item-"+uf(e,/flex-|-self/,"")+e;case 4675:return ef+e+Qg+"flex-line-pack"+uf(e,/align-content|flex-|-self/,"")+e;case 5548:return ef+e+Qg+uf(e,"shrink","negative")+e;case 5292:return ef+e+Qg+uf(e,"basis","preferred-size")+e;case 6060:return ef+"box-"+uf(e,"-grow","")+ef+e+Qg+uf(e,"grow","positive")+e;case 4554:return ef+uf(e,/([^-])(transform)/g,"$1"+ef+"$2")+e;case 6187:return uf(uf(uf(e,/(zoom-|grab)/,ef+"$1"),/(image-set)/,ef+"$1"),e,"")+e;case 5495:case 3959:return uf(e,/(image-set\([^]*)/,ef+"$1$`$1");case 4968:return uf(uf(e,/(.+:)(flex-)?(.*)/,ef+"box-pack:$3"+Qg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ef+e+e;case 4095:case 3583:case 4068:case 2532:return uf(e,/(.+)-inline(.+)/,ef+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ff(e)-1-t>6)switch(df(e,t+1)){case 109:if(45!==df(e,t+4))break;case 102:return uf(e,/(.+:)(.+)-([^]+)/,"$1"+ef+"$2-$3$1"+Jg+(108==df(e,t+3)?"$3":"$2-$3"))+e;case 115:return~hf(e,"stretch")?Xf(uf(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==df(e,t+1))break;case 6444:switch(df(e,ff(e)-3-(~hf(e,"!important")&&10))){case 107:return uf(e,":",":"+ef)+e;case 101:return uf(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ef+(45===df(e,14)?"inline-":"")+"box$3$1"+ef+"$2$3$1"+Qg+"$2box$3")+e}break;case 5936:switch(df(e,t+11)){case 114:return ef+e+Qg+uf(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ef+e+Qg+uf(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ef+e+Qg+uf(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ef+e+Qg+e+e}return e}var Zf=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case of:e.return=Xf(e.value,e.length);break;case rf:return $f([xf(e,{value:uf(e.value,"@","@"+ef)})],i);case nf:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $f([xf(e,{props:[uf(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return $f([xf(e,{props:[uf(t,/:(plac\w+)/,":"+ef+"input-$1")]}),xf(e,{props:[uf(t,/:(plac\w+)/,":-moz-$1")]}),xf(e,{props:[uf(t,/:(plac\w+)/,Qg+"input-$1")]})],i)}return""}))}}],Qf=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i,o,r=e.stylisPlugins||Zf,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u,h,d=[jf,(h=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],g=(c=[Gf,Yf].concat(r,d),u=pf(c),function(e,t,n,i){for(var o="",r=0;r<u;r++)o+=c[r](e,t,n,i)||"";return o});o=function(e,t,n,i){l=n,$f(Bf(e?e+"{"+t.styles+"}":t.styles),g),i&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Zg({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return f.sheet.hydrate(a),f},Jf={exports:{}},ep={},tp="function"==typeof Symbol&&Symbol.for,np=tp?Symbol.for("react.element"):60103,ip=tp?Symbol.for("react.portal"):60106,op=tp?Symbol.for("react.fragment"):60107,rp=tp?Symbol.for("react.strict_mode"):60108,sp=tp?Symbol.for("react.profiler"):60114,ap=tp?Symbol.for("react.provider"):60109,lp=tp?Symbol.for("react.context"):60110,cp=tp?Symbol.for("react.async_mode"):60111,up=tp?Symbol.for("react.concurrent_mode"):60111,hp=tp?Symbol.for("react.forward_ref"):60112,dp=tp?Symbol.for("react.suspense"):60113,gp=tp?Symbol.for("react.suspense_list"):60120,fp=tp?Symbol.for("react.memo"):60115,pp=tp?Symbol.for("react.lazy"):60116,mp=tp?Symbol.for("react.block"):60121,vp=tp?Symbol.for("react.fundamental"):60117,bp=tp?Symbol.for("react.responder"):60118,_p=tp?Symbol.for("react.scope"):60119;function yp(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case np:switch(e=e.type){case cp:case up:case op:case sp:case rp:case dp:return e;default:switch(e=e&&e.$$typeof){case lp:case hp:case pp:case fp:case ap:return e;default:return t}}case ip:return t}}}function wp(e){return yp(e)===up}ep.AsyncMode=cp,ep.ConcurrentMode=up,ep.ContextConsumer=lp,ep.ContextProvider=ap,ep.Element=np,ep.ForwardRef=hp,ep.Fragment=op,ep.Lazy=pp,ep.Memo=fp,ep.Portal=ip,ep.Profiler=sp,ep.StrictMode=rp,ep.Suspense=dp,ep.isAsyncMode=function(e){return wp(e)||yp(e)===cp},ep.isConcurrentMode=wp,ep.isContextConsumer=function(e){return yp(e)===lp},ep.isContextProvider=function(e){return yp(e)===ap},ep.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===np},ep.isForwardRef=function(e){return yp(e)===hp},ep.isFragment=function(e){return yp(e)===op},ep.isLazy=function(e){return yp(e)===pp},ep.isMemo=function(e){return yp(e)===fp},ep.isPortal=function(e){return yp(e)===ip},ep.isProfiler=function(e){return yp(e)===sp},ep.isStrictMode=function(e){return yp(e)===rp},ep.isSuspense=function(e){return yp(e)===dp},ep.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===op||e===up||e===sp||e===rp||e===dp||e===gp||"object"==typeof e&&null!==e&&(e.$$typeof===pp||e.$$typeof===fp||e.$$typeof===ap||e.$$typeof===lp||e.$$typeof===hp||e.$$typeof===vp||e.$$typeof===bp||e.$$typeof===_p||e.$$typeof===mp)},ep.typeOf=yp,Jf.exports=ep;var Cp=Jf.exports,Sp={};Sp[Cp.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sp[Cp.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var xp=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},kp=function(e,t,n){xp(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var Lp={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dp=!1,Ep=/[A-Z]|^ms/g,Np=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Tp=function(e){return 45===e.charCodeAt(1)},Ip=function(e){return null!=e&&"boolean"!=typeof e},Mp=Gg((function(e){return Tp(e)?e:e.replace(Ep,"-$&").toLowerCase()})),Rp=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Np,(function(e,t,n){return Pp={name:t,styles:n,next:Pp},t}))}return 1===Lp[e]||Tp(e)||"number"!=typeof t||0===t?t:t+"px"},Ap="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Op(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return Pp={name:o.name,styles:o.styles,next:Pp},o.name;var r=n;if(void 0!==r.styles){var s=r.next;if(void 0!==s)for(;void 0!==s;)Pp={name:s.name,styles:s.styles,next:Pp},s=s.next;return r.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=Op(e,t,n[o])+";";else for(var r in n){var s=n[r];if("object"!=typeof s){var a=s;null!=t&&void 0!==t[a]?i+=r+"{"+t[a]+"}":Ip(a)&&(i+=Mp(r)+":"+Rp(r,a)+";")}else{if("NO_COMPONENT_SELECTOR"===r&&Dp)throw new Error(Ap);if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Op(e,t,s);switch(r){case"animation":case"animationName":i+=Mp(r)+":"+l+";";break;default:i+=r+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Ip(s[c])&&(i+=Mp(r)+":"+Rp(r,s[c])+";")}}return i}(e,t,n);case"function":if(void 0!==e){var a=Pp,l=n(e);return Pp=a,Op(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Pp,Fp=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function Bp(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";Pp=void 0;var r=e[0];null==r||void 0===r.raw?(i=!1,o+=Op(n,t,r)):o+=r[0];for(var s=1;s<e.length;s++){if(o+=Op(n,t,e[s]),i)o+=r[s]}Fp.lastIndex=0;for(var a,l="";null!==(a=Fp.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,i=0,o=e.length;o>=4;++i,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Pp}}var zp=!!Z.useInsertionEffect&&Z.useInsertionEffect,Vp=zp||function(e){return e()},Wp=zp||Y.useLayoutEffect,Hp=Y.createContext("undefined"!=typeof HTMLElement?Qf({key:"css"}):null),$p=Hp.Provider,jp=function(e){return Y.forwardRef((function(t,n){var i=Y.useContext(Hp);return e(t,i,n)}))},Up=Y.createContext({}),Kp=jp((function(e,t){var n=Bp([e.styles],void 0,Y.useContext(Up)),i=Y.useRef();return Wp((function(){var e=t.key+"-global",o=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),o.hydrate([s])),i.current=[o,r],function(){o.flush()}}),[t]),Wp((function(){var e=i.current,o=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&kp(t,n.next,!0),o.tags.length){var r=o.tags[o.tags.length-1].nextElementSibling;o.before=r,o.flush()}t.insert("",n,o,!1)}}),[t,n.name]),null}));function qp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bp(t)}var Gp=function(){var e=qp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Yp=Xg,Xp=function(e){return"theme"!==e},Zp=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Yp:Xp},Qp=function(e,t,n){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof i&&n&&(i=e.__emotion_forwardProp),i},Jp=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return xp(t,n,i),Vp((function(){return kp(t,n,i)})),null},em=function e(t,n){var i,o,r=t.__emotion_real===t,s=r&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var a=Qp(t,n,r),l=a||Zp(s),c=!l("as");return function(){var u=arguments,h=r&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{h.push(u[0][0]);for(var d=u.length,g=1;g<d;g++)h.push(u[g],u[0][g])}var f=jp((function(e,t,n){var i,r,u,d,g=c&&e.as||s,f="",p=[],m=e;if(null==e.theme){for(var v in m={},e)m[v]=e[v];m.theme=Y.useContext(Up)}"string"==typeof e.className?(i=t.registered,r=p,u=e.className,d="",u.split(" ").forEach((function(e){void 0!==i[e]?r.push(i[e]+";"):d+=e+" "})),f=d):null!=e.className&&(f=e.className+" ");var b=Bp(h.concat(p),t.registered,m);f+=t.key+"-"+b.name,void 0!==o&&(f+=" "+o);var _=c&&void 0===a?Zp(g):l,y={};for(var w in e)c&&"as"===w||_(w)&&(y[w]=e[w]);return y.className=f,n&&(y.ref=n),Y.createElement(Y.Fragment,null,Y.createElement(Jp,{cache:t,serialized:b,isStringTag:"string"==typeof g}),Y.createElement(g,y))}));return f.displayName=void 0!==i?i:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=s,f.__emotion_styles=h,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(t,i){return e(t,Kg({},n,i,{shouldForwardProp:Qp(f,i,!0)})).apply(void 0,h)},f}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){em[e]=em(e)}));var tm={exports:{}};function nm(){}function im(){}im.resetWarningCache=nm;tm.exports=function(){function e(e,t,n,i,o,r){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:im,resetWarningCache:nm};return n.PropTypes=n,n}();var om=tm.exports;let rm;function sm(e){const{styles:t,defaultTheme:n={}}=e,i="function"==typeof t?e=>{return t(null==(i=e)||0===Object.keys(i).length?n:e);var i}:t;return re.jsx(Kp,{styles:i})}function am(e,t){return em(e,t)}"object"==typeof document&&(rm=Qf({key:"css",prepend:!0}));const lm=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},cm=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:sm,StyledEngineProvider:function(e){const{injectFirst:t,children:n}=e;return t&&rm?re.jsx($p,{value:rm,children:n}):n},ThemeContext:Up,css:qp,default:am,internal_processStyles:lm,keyframes:Gp},Symbol.toStringTag,{value:"Module"}));function um(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function hm(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function dm(e){if(!hm(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=dm(e[n])})),t}function gm(e,t,n={clone:!0}){const i=n.clone?Kg({},e):e;return hm(e)&&hm(t)&&Object.keys(t).forEach((o=>{hm(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&hm(e[o])?i[o]=gm(e[o],t[o],n):n.clone?i[o]=hm(t[o])?dm(t[o]):t[o]:i[o]=t[o]})),i}const fm=Object.freeze(Object.defineProperty({__proto__:null,default:gm,isPlainObject:hm},Symbol.toStringTag,{value:"Module"})),pm=["values","unit","step"],mm=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>Kg({},e,{[t.key]:t.val})),{})};function vm(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,o=um(e,pm),r=mm(t),s=Object.keys(r);function a(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-i/100}${n})`}function c(e,o){const r=s.indexOf(o);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==r&&"number"==typeof t[s[r]]?t[s[r]]:o)-i/100}${n})`}return Kg({keys:s,values:r,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}const bm={borderRadius:4};function _m(e,t){return t?gm(e,t,{clone:!1}):e}const ym={xs:0,sm:600,md:900,lg:1200,xl:1536},wm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ym[e]}px)`};function Cm(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||wm;return t.reduce(((i,o,r)=>(i[e.up(e.keys[r])]=n(t[r]),i)),{})}if("object"==typeof t){const e=i.breakpoints||wm;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||ym).indexOf(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function Sm(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function xm(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function km({values:e,breakpoints:t,base:n}){const i=n||function(e,t){if("object"!=typeof e)return{};const n={},i=Object.keys(t);return Array.isArray(e)?i.forEach(((t,i)=>{i<e.length&&(n[t]=!0)})):i.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(e,t),o=Object.keys(i);if(0===o.length)return e;let r;return o.reduce(((t,n,i)=>(Array.isArray(e)?(t[n]=null!=e[i]?e[i]:e[r],r=i):"object"==typeof e?(t[n]=null!=e[n]?e[n]:e[r],r=n):t[n]=e,t)),{})}function Lm(e){if("string"!=typeof e)throw new Error(jg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Dm=Object.freeze(Object.defineProperty({__proto__:null,default:Lm},Symbol.toStringTag,{value:"Module"}));function Em(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Nm(e,t,n,i=n){let o;return o="function"==typeof e?e(n):Array.isArray(e)?e[n]||i:Em(e,n)||i,t&&(o=t(o,i,e)),o}function Tm(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:o}=e,r=e=>{if(null==e[t])return null;const r=e[t],s=Em(e.theme,i)||{};return Cm(e,r,(e=>{let i=Nm(s,o,e);return e===i&&"string"==typeof e&&(i=Nm(s,o,`${t}${"default"===e?"":Lm(e)}`,e)),!1===n?i:{[n]:i}}))};return r.propTypes={},r.filterProps=[t],r}const Im={m:"margin",p:"padding"},Mm={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Rm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Am=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Rm[e])return[e];e=Rm[e]}const[t,n]=e.split(""),i=Im[t],o=Mm[n]||"";return Array.isArray(o)?o.map((e=>i+e)):[i+o]})),Om=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Pm=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];function Fm(e,t,n,i){var o;const r=null!=(o=Em(e,t,!1))?o:n;return"number"==typeof r?e=>"string"==typeof e?e:r*e:Array.isArray(r)?e=>"string"==typeof e?e:r[e]:"function"==typeof r?r:()=>{}}function Bm(e){return Fm(e,"spacing",8)}function zm(e,t){if("string"==typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function Vm(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=zm(t,n),e)),{})}(Am(n),i);return Cm(e,e[n],o)}function Wm(e,t){const n=Bm(e.theme);return Object.keys(e).map((i=>Vm(e,t,i,n))).reduce(_m,{})}function Hm(e){return Wm(e,Om)}function $m(e){return Wm(e,Pm)}function jm(e=8){if(e.mui)return e;const t=Bm({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}function Um(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),n=e=>Object.keys(e).reduce(((n,i)=>t[i]?_m(n,t[i](e)):n),{});return n.propTypes={},n.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),n}function Km(e){return"number"!=typeof e?e:`${e}px solid`}function qm(e,t){return Tm({prop:e,themeKey:"borders",transform:t})}Hm.propTypes={},Hm.filterProps=Om,$m.propTypes={},$m.filterProps=Pm;const Gm=qm("border",Km),Ym=qm("borderTop",Km),Xm=qm("borderRight",Km),Zm=qm("borderBottom",Km),Qm=qm("borderLeft",Km),Jm=qm("borderColor"),ev=qm("borderTopColor"),tv=qm("borderRightColor"),nv=qm("borderBottomColor"),iv=qm("borderLeftColor"),ov=qm("outline",Km),rv=qm("outlineColor"),sv=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Fm(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:zm(t,e)});return Cm(e,e.borderRadius,n)}return null};sv.propTypes={},sv.filterProps=["borderRadius"],Um(Gm,Ym,Xm,Zm,Qm,Jm,ev,tv,nv,iv,sv,ov,rv);const av=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Fm(e.theme,"spacing",8),n=e=>({gap:zm(t,e)});return Cm(e,e.gap,n)}return null};av.propTypes={},av.filterProps=["gap"];const lv=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Fm(e.theme,"spacing",8),n=e=>({columnGap:zm(t,e)});return Cm(e,e.columnGap,n)}return null};lv.propTypes={},lv.filterProps=["columnGap"];const cv=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Fm(e.theme,"spacing",8),n=e=>({rowGap:zm(t,e)});return Cm(e,e.rowGap,n)}return null};cv.propTypes={},cv.filterProps=["rowGap"];function uv(e,t){return"grey"===t?t:e}Um(av,lv,cv,Tm({prop:"gridColumn"}),Tm({prop:"gridRow"}),Tm({prop:"gridAutoFlow"}),Tm({prop:"gridAutoColumns"}),Tm({prop:"gridAutoRows"}),Tm({prop:"gridTemplateColumns"}),Tm({prop:"gridTemplateRows"}),Tm({prop:"gridTemplateAreas"}),Tm({prop:"gridArea"}));function hv(e){return e<=1&&0!==e?100*e+"%":e}Um(Tm({prop:"color",themeKey:"palette",transform:uv}),Tm({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uv}),Tm({prop:"backgroundColor",themeKey:"palette",transform:uv}));const dv=Tm({prop:"width",transform:hv}),gv=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||ym[t];return o?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:hv(t)}};return Cm(e,e.maxWidth,t)}return null};gv.filterProps=["maxWidth"];const fv=Tm({prop:"minWidth",transform:hv}),pv=Tm({prop:"height",transform:hv}),mv=Tm({prop:"maxHeight",transform:hv}),vv=Tm({prop:"minHeight",transform:hv});Tm({prop:"size",cssProperty:"width",transform:hv}),Tm({prop:"size",cssProperty:"height",transform:hv});Um(dv,gv,fv,pv,mv,vv,Tm({prop:"boxSizing"}));const bv={border:{themeKey:"borders",transform:Km},borderTop:{themeKey:"borders",transform:Km},borderRight:{themeKey:"borders",transform:Km},borderBottom:{themeKey:"borders",transform:Km},borderLeft:{themeKey:"borders",transform:Km},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Km},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sv},color:{themeKey:"palette",transform:uv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uv},backgroundColor:{themeKey:"palette",transform:uv},p:{style:$m},pt:{style:$m},pr:{style:$m},pb:{style:$m},pl:{style:$m},px:{style:$m},py:{style:$m},padding:{style:$m},paddingTop:{style:$m},paddingRight:{style:$m},paddingBottom:{style:$m},paddingLeft:{style:$m},paddingX:{style:$m},paddingY:{style:$m},paddingInline:{style:$m},paddingInlineStart:{style:$m},paddingInlineEnd:{style:$m},paddingBlock:{style:$m},paddingBlockStart:{style:$m},paddingBlockEnd:{style:$m},m:{style:Hm},mt:{style:Hm},mr:{style:Hm},mb:{style:Hm},ml:{style:Hm},mx:{style:Hm},my:{style:Hm},margin:{style:Hm},marginTop:{style:Hm},marginRight:{style:Hm},marginBottom:{style:Hm},marginLeft:{style:Hm},marginX:{style:Hm},marginY:{style:Hm},marginInline:{style:Hm},marginInlineStart:{style:Hm},marginInlineEnd:{style:Hm},marginBlock:{style:Hm},marginBlockStart:{style:Hm},marginBlockEnd:{style:Hm},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:av},rowGap:{style:cv},columnGap:{style:lv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hv},maxWidth:{style:gv},minWidth:{transform:hv},height:{transform:hv},maxHeight:{transform:hv},minHeight:{transform:hv},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _v(){function e(e,t,n,i){const o={[e]:t,theme:n},r=i[e];if(!r)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=r;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=Em(n,a)||{};if(c)return c(o);return Cm(o,t,(t=>{let n=Nm(u,l,t);return t===n&&"string"==typeof t&&(n=Nm(u,l,`${e}${"default"===t?"":Lm(t)}`,t)),!1===s?n:{[s]:n}}))}return function t(n){var i;const{sx:o,theme:r={}}=n||{};if(!o)return null;const s=null!=(i=r.unstable_sxConfig)?i:bv;function a(n){let i=n;if("function"==typeof n)i=n(r);else if("object"!=typeof n)return n;if(!i)return null;const o=Sm(r.breakpoints),a=Object.keys(o);let l=o;return Object.keys(i).forEach((n=>{const o=(a=i[n],c=r,"function"==typeof a?a(c):a);var a,c;if(null!=o)if("object"==typeof o)if(s[n])l=_m(l,e(n,o,r,s));else{const e=Cm({theme:r},o,(e=>({[n]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),n=new Set(t);return e.every((e=>n.size===Object.keys(e).length))}(e,o)?l=_m(l,e):l[n]=t({sx:o,theme:r})}else l=_m(l,e(n,o,r,s))})),xm(a,l)}return Array.isArray(o)?o.map(a):a(o)}}const yv=_v();function wv(e,t){const n=this;if(n.vars&&"function"==typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:t}}return n.palette.mode===e?t:{}}yv.filterProps=["sx"];const Cv=["breakpoints","palette","spacing","shape"];function Sv(e={},...t){const{breakpoints:n={},palette:i={},spacing:o,shape:r={}}=e,s=um(e,Cv),a=vm(n),l=jm(o);let c=gm({breakpoints:a,direction:"ltr",components:{},palette:Kg({mode:"light"},i),spacing:l,shape:Kg({},bm,r)},s);return c.applyStyles=wv,c=t.reduce(((e,t)=>gm(e,t)),c),c.unstable_sxConfig=Kg({},bv,null==s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return yv({sx:e,theme:this})},c}const xv=Object.freeze(Object.defineProperty({__proto__:null,default:Sv,private_createBreakpoints:vm,unstable_applyStyles:wv},Symbol.toStringTag,{value:"Module"}));function kv(e=null){const t=Y.useContext(Up);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}const Lv=Sv();function Dv(e=Lv){return kv(e)}const Ev=["sx"],Nv=e=>{var t,n;const i={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:bv;return Object.keys(e).forEach((t=>{o[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function Tv(e){const{sx:t}=e,n=um(e,Ev),{systemProps:i,otherProps:o}=Nv(n);let r;return r=Array.isArray(t)?[i,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return hm(n)?Kg({},i,n):i}:Kg({},i,t),Kg({},o,{sx:r})}const Iv=Object.freeze(Object.defineProperty({__proto__:null,default:yv,extendSxProp:Tv,unstable_createStyleFunctionSx:_v,unstable_defaultSxConfig:bv},Symbol.toStringTag,{value:"Module"})),Mv=e=>e,Rv=(()=>{let e=Mv;return{configure(t){e=t},generate:t=>e(t),reset(){e=Mv}}})();function Av(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Av(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Ov(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Av(e))&&(i&&(i+=" "),i+=t);return i}const Pv=["className","component"];const Fv={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Bv(e,t,n="Mui"){const i=Fv[t];return i?`${n}-${i}`:`${Rv.generate(e)}-${t}`}function zv(e,t,n="Mui"){const i={};return t.forEach((t=>{i[t]=Bv(e,t,n)})),i}var Vv,Wv={exports:{}},Hv={},$v=Symbol.for("react.element"),jv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Yv=Symbol.for("react.context"),Xv=Symbol.for("react.server_context"),Zv=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Jv=Symbol.for("react.suspense_list"),eb=Symbol.for("react.memo"),tb=Symbol.for("react.lazy"),nb=Symbol.for("react.offscreen");function ib(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case $v:switch(e=e.type){case Uv:case qv:case Kv:case Qv:case Jv:return e;default:switch(e=e&&e.$$typeof){case Xv:case Yv:case Zv:case tb:case eb:case Gv:return e;default:return t}}case jv:return t}}}Vv=Symbol.for("react.module.reference"),Hv.ContextConsumer=Yv,Hv.ContextProvider=Gv,Hv.Element=$v,Hv.ForwardRef=Zv,Hv.Fragment=Uv,Hv.Lazy=tb,Hv.Memo=eb,Hv.Portal=jv,Hv.Profiler=qv,Hv.StrictMode=Kv,Hv.Suspense=Qv,Hv.SuspenseList=Jv,Hv.isAsyncMode=function(){return!1},Hv.isConcurrentMode=function(){return!1},Hv.isContextConsumer=function(e){return ib(e)===Yv},Hv.isContextProvider=function(e){return ib(e)===Gv},Hv.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===$v},Hv.isForwardRef=function(e){return ib(e)===Zv},Hv.isFragment=function(e){return ib(e)===Uv},Hv.isLazy=function(e){return ib(e)===tb},Hv.isMemo=function(e){return ib(e)===eb},Hv.isPortal=function(e){return ib(e)===jv},Hv.isProfiler=function(e){return ib(e)===qv},Hv.isStrictMode=function(e){return ib(e)===Kv},Hv.isSuspense=function(e){return ib(e)===Qv},Hv.isSuspenseList=function(e){return ib(e)===Jv},Hv.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Uv||e===qv||e===Kv||e===Qv||e===Jv||e===nb||"object"==typeof e&&null!==e&&(e.$$typeof===tb||e.$$typeof===eb||e.$$typeof===Gv||e.$$typeof===Yv||e.$$typeof===Zv||e.$$typeof===Vv||void 0!==e.getModuleId)},Hv.typeOf=ib,Wv.exports=Hv;var ob=Wv.exports;const rb=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function sb(e){const t=`${e}`.match(rb);return t&&t[1]||""}function ab(e,t=""){return e.displayName||e.name||sb(e)||t}function lb(e,t,n){const i=ab(t);return e.displayName||(""!==i?`${n}(${i})`:n)}const cb=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return ab(e,"Component");if("object"==typeof e)switch(e.$$typeof){case ob.ForwardRef:return lb(e,e.render,"ForwardRef");case ob.Memo:return lb(e,e.type,"memo");default:return}}},getFunctionName:sb},Symbol.toStringTag,{value:"Module"})),ub=["ownerState"],hb=["variants"],db=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function gb(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const fb=Sv(),pb=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function mb({defaultTheme:e,theme:t,themeId:n}){return i=t,0===Object.keys(i).length?e:t[n]||t;var i}function vb(e){return e?(t,n)=>n[e]:null}function bb(e,t){let{ownerState:n}=t,i=um(t,ub);const o="function"==typeof e?e(Kg({ownerState:n},i)):e;if(Array.isArray(o))return o.flatMap((e=>bb(e,Kg({ownerState:n},i))));if(o&&"object"==typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=um(o,hb);return e.forEach((e=>{let o=!0;"function"==typeof e.props?o=e.props(Kg({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style(Kg({ownerState:n},i,n)):e.style))})),t}return o}function _b(e={}){const{themeId:t,defaultTheme:n=fb,rootShouldForwardProp:i=gb,slotShouldForwardProp:o=gb}=e,r=e=>yv(Kg({},e,{theme:mb(Kg({},e,{defaultTheme:n,themeId:t}))}));return r.__mui_systemSx=!0,(e,s={})=>{lm(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:h=vb(pb(l))}=s,d=um(s,db),g=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let p=gb;"Root"===l||"root"===l?p=i:l?p=o:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const m=am(e,Kg({shouldForwardProp:p,label:undefined},d)),v=e=>"function"==typeof e&&e.__emotion_real!==e||hm(e)?i=>bb(e,Kg({},i,{theme:mb({theme:i.theme,defaultTheme:n,themeId:t})})):e,b=(i,...o)=>{let s=v(i);const l=o?o.map(v):[];a&&h&&l.push((e=>{const i=mb(Kg({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const o=i.components[a].styleOverrides,r={};return Object.entries(o).forEach((([t,n])=>{r[t]=bb(n,Kg({},e,{theme:i}))})),h(e,r)})),a&&!g&&l.push((e=>{var i;const o=mb(Kg({},e,{defaultTheme:n,themeId:t}));return bb({variants:null==o||null==(i=o.components)||null==(i=i[a])?void 0:i.variants},Kg({},e,{theme:o}))})),f||l.push(r);const c=l.length-o.length;if(Array.isArray(i)&&c>0){const e=new Array(c).fill("");s=[...i,...e],s.raw=[...i.raw,...e]}const u=m(s,...l);return e.muiName&&(u.muiName=e.muiName),u};return m.withConfig&&(b.withConfig=m.withConfig),b}}const yb=_b();function wb(e,t){const n=Kg({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=Kg({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const o=e[i]||{},r=t[i];n[i]={},r&&Object.keys(r)?o&&Object.keys(o)?(n[i]=Kg({},r),Object.keys(o).forEach((e=>{n[i][e]=wb(o[e],r[e])}))):n[i]=r:n[i]=o}else void 0===n[i]&&(n[i]=e[i])})),n}function Cb({props:e,name:t,defaultTheme:n,themeId:i}){let o=Dv(n);i&&(o=o[i]||o);const r=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?wb(t.components[n].defaultProps,i):i}({theme:o,name:t,props:e});return r}const Sb="undefined"!=typeof window?Y.useLayoutEffect:Y.useEffect;const xb=Object.freeze(Object.defineProperty({__proto__:null,default:function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}},Symbol.toStringTag,{value:"Module"}));function kb(e){if(e.type)return e;if("#"===e.charAt(0))return kb(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(jg(9,e));let i,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(jg(10,i))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:i}}const Lb=e=>{const t=kb(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function Db(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}function Eb(e,t=166){let n;function i(...i){clearTimeout(n),n=setTimeout((()=>{e.apply(this,i)}),t)}return i.clear=()=>{clearTimeout(n)},i}function Nb(e,t){var n,i;return Y.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}function Tb(e){return e&&e.ownerDocument||document}function Ib(e){return Tb(e).defaultView||window}function Mb(e,t){"function"==typeof e?e(t):e&&(e.current=t)}let Rb=0;const Ab=Z["useId".toString()];function Ob(e){if(void 0!==Ab){const t=Ab();return null!=e?e:t}return function(e){const[t,n]=Y.useState(e),i=e||t;return Y.useEffect((()=>{null==t&&(Rb+=1,n(`mui-${Rb}`))}),[t]),i}(e)}function Pb({controlled:e,default:t,name:n,state:i="value"}){const{current:o}=Y.useRef(void 0!==e),[r,s]=Y.useState(t);return[o?e:r,Y.useCallback((e=>{o||s(e)}),[])]}function Fb(e){const t=Y.useRef(e);return Sb((()=>{t.current=e})),Y.useRef(((...e)=>(0,t.current)(...e))).current}function Bb(...e){return Y.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{Mb(e,t)}))}),e)}const zb={};const Vb=[];class Wb{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Wb}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function Hb(){const e=function(e,t){const n=Y.useRef(zb);return n.current===zb&&(n.current=e(t)),n}(Wb.create).current;var t;return t=e.disposeEffect,Y.useEffect(t,Vb),e}let $b=!0,jb=!1;const Ub=new Wb,Kb={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qb(e){e.metaKey||e.altKey||e.ctrlKey||($b=!0)}function Gb(){$b=!1}function Yb(){"hidden"===this.visibilityState&&jb&&($b=!0)}function Xb(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return $b||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Kb[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Zb(){const e=Y.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",qb,!0),t.addEventListener("mousedown",Gb,!0),t.addEventListener("pointerdown",Gb,!0),t.addEventListener("touchstart",Gb,!0),t.addEventListener("visibilitychange",Yb,!0))}),[]),t=Y.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Xb(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(jb=!0,Ub.start(100,(()=>{jb=!1})),t.current=!1,!0)},ref:e}}const Qb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Jb(e,t,n=void 0){const i={};return Object.keys(e).forEach((o=>{i[o]=e[o].reduce(((e,i)=>{if(i){const o=t(i);""!==o&&e.push(o),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}const e_=Y.createContext(null);function t_(){return Y.useContext(e_)}const n_="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function i_(e){const{children:t,theme:n}=e,i=t_(),o=Y.useMemo((()=>{const e=null===i?n:function(e,t){if("function"==typeof t)return t(e);return Kg({},e,t)}(i,n);return null!=e&&(e[n_]=null!==i),e}),[n,i]);return re.jsx(e_.Provider,{value:o,children:t})}const o_=["value"],r_=Y.createContext();function s_(e){let{value:t}=e,n=um(e,o_);return re.jsx(r_.Provider,Kg({value:null==t||t},n))}const a_=Y.createContext(void 0);function l_({value:e,children:t}){return re.jsx(a_.Provider,{value:e,children:t})}function c_({props:e,name:t}){return function(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const o=t.components[n];return o.defaultProps?wb(o.defaultProps,i):o.styleOverrides||o.variants?i:wb(o,i)}({props:e,name:t,theme:{components:Y.useContext(a_)}})}const u_={};function h_(e,t,n,i=!1){return Y.useMemo((()=>{const o=e&&t[e]||t;if("function"==typeof n){const r=n(o),s=e?Kg({},t,{[e]:r}):r;return i?()=>s:s}return Kg({},t,e?{[e]:n}:n)}),[e,t,n,i])}function d_(e){const{children:t,theme:n,themeId:i}=e,o=kv(u_),r=t_()||u_,s=h_(i,o,n),a=h_(i,r,n,!0),l="rtl"===s.direction;return re.jsx(i_,{theme:a,children:re.jsx(Up.Provider,{value:s,children:re.jsx(s_,{value:l,children:re.jsx(l_,{value:null==s?void 0:s.components,children:t})})})})}const g_="mode",f_="color-scheme",p_="data-color-scheme";function m_(e){if("undefined"!=typeof window&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function v_(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function b_(e,t){if("undefined"==typeof window)return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch(fTe){}return n||t}function __(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:i,supportedColorSchemes:o=[],modeStorageKey:r=g_,colorSchemeStorageKey:s=f_,storageWindow:a=("undefined"==typeof window?void 0:window)}=e,l=o.join(","),[c,u]=Y.useState((()=>{const e=b_(r,t),o=b_(`${s}-light`,n),a=b_(`${s}-dark`,i);return{mode:e,systemMode:m_(e),lightColorScheme:o,darkColorScheme:a}})),h=function(e){return v_(e,(t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0))}(c),d=Y.useCallback((e=>{u((n=>{if(e===n.mode)return n;const i=null!=e?e:t;try{localStorage.setItem(r,i)}catch(fTe){}return Kg({},n,{mode:i,systemMode:m_(i)})}))}),[r,t]),g=Y.useCallback((e=>{e?"string"==typeof e?e&&!l.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):u((t=>{const n=Kg({},t);return v_(t,(t=>{try{localStorage.setItem(`${s}-${t}`,e)}catch(fTe){}"light"===t&&(n.lightColorScheme=e),"dark"===t&&(n.darkColorScheme=e)})),n})):u((t=>{const o=Kg({},t),r=null===e.light?n:e.light,a=null===e.dark?i:e.dark;if(r)if(l.includes(r)){o.lightColorScheme=r;try{localStorage.setItem(`${s}-light`,r)}catch(c){}}else console.error(`\`${r}\` does not exist in \`theme.colorSchemes\`.`);if(a)if(l.includes(a)){o.darkColorScheme=a;try{localStorage.setItem(`${s}-dark`,a)}catch(c){}}else console.error(`\`${a}\` does not exist in \`theme.colorSchemes\`.`);return o})):u((e=>{try{localStorage.setItem(`${s}-light`,n),localStorage.setItem(`${s}-dark`,i)}catch(fTe){}return Kg({},e,{lightColorScheme:n,darkColorScheme:i})}))}),[l,s,n,i]),f=Y.useCallback((e=>{"system"===c.mode&&u((t=>{const n=null!=e&&e.matches?"dark":"light";return t.systemMode===n?t:Kg({},t,{systemMode:n})}))}),[c.mode]),p=Y.useRef(f);return p.current=f,Y.useEffect((()=>{const e=(...e)=>p.current(...e),t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}}),[]),Y.useEffect((()=>{if(a){const e=e=>{const n=e.newValue;"string"!=typeof e.key||!e.key.startsWith(s)||n&&!l.match(n)||(e.key.endsWith("light")&&g({light:n}),e.key.endsWith("dark")&&g({dark:n})),e.key!==r||n&&!["light","dark","system"].includes(n)||d(n||t)};return a.addEventListener("storage",e),()=>{a.removeEventListener("storage",e)}}}),[g,d,r,s,l,t,a]),Kg({},c,{colorScheme:h,setMode:d,setColorScheme:g})}const y_=["colorSchemes","components","generateCssVars","cssVarPrefix"];function w_(e=""){function t(...n){if(!n.length)return"";const i=n[0];return"string"!=typeof i||i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${i}`:`, var(--${e?`${e}-`:""}${i}${t(...n.slice(1))})`}return(n,...i)=>`var(--${e?`${e}-`:""}${n}${t(...i)})`}const C_=(e,t,n,i=[])=>{let o=e;t.forEach(((e,r)=>{r===t.length-1?Array.isArray(o)?o[Number(e)]=n:o&&"object"==typeof o&&(o[e]=n):o&&"object"==typeof o&&(o[e]||(o[e]=i.includes(e)?[]:{}),o=o[e])}))},S_=(e,t,n)=>{!function e(i,o=[],r=[]){Object.entries(i).forEach((([i,s])=>{(!n||n&&!n([...o,i]))&&null!=s&&("object"==typeof s&&Object.keys(s).length>0?e(s,[...o,i],Array.isArray(s)?[...r,i]:r):t([...o,i],s,r))}))}(e)},x_=(e,t)=>{if("number"==typeof t){if(["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t))))return t;return e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:`${t}px`}return t};function k_(e,t){const{prefix:n,shouldSkipGeneratingVar:i}=t||{},o={},r={},s={};return S_(e,((e,t,a)=>{if(!("string"!=typeof t&&"number"!=typeof t||i&&i(e,t))){const i=`--${n?`${n}-`:""}${e.join("-")}`;Object.assign(o,{[i]:x_(e,t)}),C_(r,e,`var(${i})`,a),C_(s,e,`var(${i}, ${t})`,a)}}),(e=>"vars"===e[0])),{css:o,vars:r,varsWithDefaults:s}}function L_(e){return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D_(e){var t=function(e,t){if("object"!=L_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=L_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==L_(t)?t:t+""}const E_=["colorSchemes","components","defaultColorScheme"];const N_=(e,t,n)=>{const i=e.keys[0];if(Array.isArray(t))t.forEach(((t,i)=>{n(((t,n)=>{i<=e.keys.length-1&&(0===i?Object.assign(t,n):t[e.up(e.keys[i])]=n)}),t)}));else if(t&&"object"==typeof t){(Object.keys(t).length>e.keys.length?e.keys:(o=e.keys,r=Object.keys(t),o.filter((e=>r.includes(e))))).forEach((o=>{if(-1!==e.keys.indexOf(o)){const r=t[o];void 0!==r&&n(((t,n)=>{i===o?Object.assign(t,n):t[e.up(o)]=n}),r)}}))}else"number"!=typeof t&&"string"!=typeof t||n(((e,t)=>{Object.assign(e,t)}),t);var o,r};function T_(e){return e?`Level${e}`:""}function I_(e){return e.unstable_level>0&&e.container}function M_(e){return function(t){return`var(--Grid-${t}Spacing${T_(e.unstable_level)})`}}function R_(e){return function(t){return 0===e.unstable_level?`var(--Grid-${t}Spacing)`:`var(--Grid-${t}Spacing${T_(e.unstable_level-1)})`}}function A_(e){return 0===e.unstable_level?"var(--Grid-columns)":`var(--Grid-columns${T_(e.unstable_level-1)})`}const O_=({theme:e,ownerState:t})=>{const n=M_(t),i={};return N_(e.breakpoints,t.gridSize,((e,o)=>{let r={};!0===o&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===o&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof o&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / ${A_(t)}${I_(t)?` + ${n("column")}`:""})`}),e(i,r)})),i},P_=({theme:e,ownerState:t})=>{const n={};return N_(e.breakpoints,t.gridOffset,((e,i)=>{let o={};"auto"===i&&(o={marginLeft:"auto"}),"number"==typeof i&&(o={marginLeft:0===i?"0px":`calc(100% * ${i} / ${A_(t)})`}),e(n,o)})),n},F_=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=I_(t)?{[`--Grid-columns${T_(t.unstable_level)}`]:A_(t)}:{"--Grid-columns":12};return N_(e.breakpoints,t.columns,((e,i)=>{e(n,{[`--Grid-columns${T_(t.unstable_level)}`]:i})})),n},B_=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=R_(t),i=I_(t)?{[`--Grid-rowSpacing${T_(t.unstable_level)}`]:n("row")}:{};return N_(e.breakpoints,t.rowSpacing,((n,o)=>{var r;n(i,{[`--Grid-rowSpacing${T_(t.unstable_level)}`]:"string"==typeof o?o:null==(r=e.spacing)?void 0:r.call(e,o)})})),i},z_=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=R_(t),i=I_(t)?{[`--Grid-columnSpacing${T_(t.unstable_level)}`]:n("column")}:{};return N_(e.breakpoints,t.columnSpacing,((n,o)=>{var r;n(i,{[`--Grid-columnSpacing${T_(t.unstable_level)}`]:"string"==typeof o?o:null==(r=e.spacing)?void 0:r.call(e,o)})})),i},V_=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return N_(e.breakpoints,t.direction,((e,t)=>{e(n,{flexDirection:t})})),n},W_=({ownerState:e})=>{const t=M_(e),n=R_(e);return Kg({minWidth:0,boxSizing:"border-box"},e.container&&Kg({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:`calc(${t("row")} / -2) calc(${t("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${t("row")} * -1) 0px 0px calc(${t("column")} * -1)`}),(!e.container||I_(e))&&Kg({padding:`calc(${n("row")} / 2) calc(${n("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${n("row")} 0px 0px ${n("column")}`}))},H_=e=>{const t=[];return Object.entries(e).forEach((([e,n])=>{!1!==n&&void 0!==n&&t.push(`grid-${e}-${String(n)}`)})),t},$_=(e,t="xs")=>{function n(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(n(e))return[`spacing-${t}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach((([e,i])=>{n(i)&&t.push(`spacing-${e}-${String(i)}`)})),t}return[]},j_=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map((([e,t])=>`direction-${e}-${t}`)):[`direction-xs-${String(e)}`],U_=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],K_=Sv(),q_=yb("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function G_(e){return Cb({props:e,name:"MuiGrid",defaultTheme:K_})}const Y_=["component","direction","spacing","divider","children","className","useFlexGap"],X_=Sv(),Z_=yb("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Q_(e){return Cb({props:e,name:"MuiStack",defaultTheme:X_})}function J_(e,t){const n=Y.Children.toArray(e).filter(Boolean);return n.reduce(((e,i,o)=>(e.push(i),o<n.length-1&&e.push(Y.cloneElement(t,{key:`separator-${o}`})),e)),[])}const ey=({ownerState:e,theme:t})=>{let n=Kg({display:"flex",flexDirection:"column"},Cm({theme:t},km({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const i=Bm(t),o=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),r=km({values:e.direction,base:o}),s=km({values:e.spacing,base:o});"object"==typeof r&&Object.keys(r).forEach(((e,t,n)=>{if(!r[e]){const i=t>0?r[n[t-1]]:"column";r[e]=i}}));n=gm(n,Cm({theme:t},s,((t,n)=>{return e.useFlexGap?{gap:zm(i,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=n?r[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:zm(i,t)}};var o})))}return n=function(e,...t){const n=Sm(e),i=[n,...t].reduce(((e,t)=>gm(e,t)),{});return xm(Object.keys(n),i)}(t.breakpoints,n),n};const ty=Kg({},bv,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}});function ny(e){var t;return!!e[0].match(/^(typography|variants|breakpoints)$/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null==(t=e[1])||!t.match(/^(mode)$/))||"focus"===e[0]&&"thickness"!==e[1]}const iy=(e,t)=>Bv(e,t,"Mui"),oy=(e,t)=>zv(e,t,"Mui"),ry=(e,t,n)=>{t.includes("Color")&&(e.color=n),t.includes("Bg")&&(e.backgroundColor=n),t.includes("Border")&&(e.borderColor=n)},sy=(e,t,n)=>{const i={};return Object.entries(t||{}).forEach((([t,o])=>{if(t.match(new RegExp(`${e}(color|bg|border)`,"i"))&&o){const e=n?n(t):o;t.includes("Disabled")&&(i.pointerEvents="none",i.cursor="default",i["--Icon-color"]="currentColor"),t.match(/(Hover|Active|Disabled)/)||(i["--variant-borderWidth"]||(i["--variant-borderWidth"]="0px"),t.includes("Border")&&(i["--variant-borderWidth"]="1px",i.border="var(--variant-borderWidth) solid")),ry(i,t,e)}})),i},ay=(e,t)=>{let n={};if(t){const{getCssVar:i,palette:o}=t;Object.entries(o).forEach((t=>{const[r,s]=t;(e=>e&&"object"==typeof e&&Object.keys(e).some((e=>{var t;return null==(t=e.match)?void 0:t.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)})))(s)&&"object"==typeof s&&(n=Kg({},n,{[r]:sy(e,s,(e=>`var(--variant-${e}, ${i(`palette-${r}-${e}`,o[r][e])})`))}))}))}return n.context=sy(e,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),n},ly=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],cy=["colorSchemes"];const uy=function(){var e,t,n,i,o,r,s,a,l,c;const u={},{cssVarPrefix:h="joy",breakpoints:d,spacing:g,components:f,variants:p,shouldSkipGeneratingVar:m=ny}=u,v=um(u,ly),b=((e="joy")=>w_(e))(h),_={primary:Hg.blue,neutral:Hg.grey,danger:Hg.red,success:Hg.green,warning:Hg.yellow,common:{white:"#FFF",black:"#000"}},y=e=>{var t;const n=e.split("-"),i=n[1],o=n[2];return b(e,null==(t=_[i])?void 0:t[o])},w=e=>({plainColor:y(`palette-${e}-500`),plainHoverBg:y(`palette-${e}-100`),plainActiveBg:y(`palette-${e}-200`),plainDisabledColor:y("palette-neutral-400"),outlinedColor:y(`palette-${e}-500`),outlinedBorder:y(`palette-${e}-300`),outlinedHoverBg:y(`palette-${e}-100`),outlinedActiveBg:y(`palette-${e}-200`),outlinedDisabledColor:y("palette-neutral-400"),outlinedDisabledBorder:y("palette-neutral-200"),softColor:y(`palette-${e}-700`),softBg:y(`palette-${e}-100`),softHoverBg:y(`palette-${e}-200`),softActiveColor:y(`palette-${e}-800`),softActiveBg:y(`palette-${e}-300`),softDisabledColor:y("palette-neutral-400"),softDisabledBg:y("palette-neutral-50"),solidColor:y("palette-common-white"),solidBg:y(`palette-${e}-500`),solidHoverBg:y(`palette-${e}-600`),solidActiveBg:y(`palette-${e}-700`),solidDisabledColor:y("palette-neutral-400"),solidDisabledBg:y("palette-neutral-100")}),C=e=>({plainColor:y(`palette-${e}-300`),plainHoverBg:y(`palette-${e}-800`),plainActiveBg:y(`palette-${e}-700`),plainDisabledColor:y("palette-neutral-500"),outlinedColor:y(`palette-${e}-200`),outlinedBorder:y(`palette-${e}-700`),outlinedHoverBg:y(`palette-${e}-800`),outlinedActiveBg:y(`palette-${e}-700`),outlinedDisabledColor:y("palette-neutral-500"),outlinedDisabledBorder:y("palette-neutral-800"),softColor:y(`palette-${e}-200`),softBg:y(`palette-${e}-800`),softHoverBg:y(`palette-${e}-700`),softActiveColor:y(`palette-${e}-100`),softActiveBg:y(`palette-${e}-600`),softDisabledColor:y("palette-neutral-500"),softDisabledBg:y("palette-neutral-800"),solidColor:y("palette-common-white"),solidBg:y(`palette-${e}-500`),solidHoverBg:y(`palette-${e}-600`),solidActiveBg:y(`palette-${e}-700`),solidDisabledColor:y("palette-neutral-500"),solidDisabledBg:y("palette-neutral-800")}),S={palette:{mode:"light",primary:Kg({},_.primary,w("primary")),neutral:Kg({},_.neutral,w("neutral"),{plainColor:y("palette-neutral-700"),plainHoverColor:y("palette-neutral-900"),outlinedColor:y("palette-neutral-700")}),danger:Kg({},_.danger,w("danger")),success:Kg({},_.success,w("success")),warning:Kg({},_.warning,w("warning")),common:{white:"#FFF",black:"#000"},text:{primary:y("palette-neutral-800"),secondary:y("palette-neutral-700"),tertiary:y("palette-neutral-600"),icon:y("palette-neutral-500")},background:{body:y("palette-common-white"),surface:y("palette-neutral-50"),popup:y("palette-common-white"),level1:y("palette-neutral-100"),level2:y("palette-neutral-200"),level3:y("palette-neutral-300"),tooltip:y("palette-neutral-500"),backdrop:`rgba(${b("palette-neutral-darkChannel",Lb(_.neutral[900]))} / 0.25)`},divider:`rgba(${b("palette-neutral-mainChannel",Lb(_.neutral[500]))} / 0.2)`,focusVisible:y("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},x={palette:{mode:"dark",primary:Kg({},_.primary,C("primary")),neutral:Kg({},_.neutral,C("neutral"),{plainColor:y("palette-neutral-300"),plainHoverColor:y("palette-neutral-300")}),danger:Kg({},_.danger,C("danger")),success:Kg({},_.success,C("success")),warning:Kg({},_.warning,C("warning")),common:{white:"#FFF",black:"#000"},text:{primary:y("palette-neutral-100"),secondary:y("palette-neutral-300"),tertiary:y("palette-neutral-400"),icon:y("palette-neutral-400")},background:{body:y("palette-common-black"),surface:y("palette-neutral-900"),popup:y("palette-common-black"),level1:y("palette-neutral-800"),level2:y("palette-neutral-700"),level3:y("palette-neutral-600"),tooltip:y("palette-neutral-600"),backdrop:`rgba(${b("palette-neutral-darkChannel",Lb(_.neutral[50]))} / 0.25)`},divider:`rgba(${b("palette-neutral-mainChannel",Lb(_.neutral[500]))} / 0.16)`,focusVisible:y("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},k='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',L=Kg({body:`"Inter", ${b(`fontFamily-fallback, ${k}`)}`,display:`"Inter", ${b(`fontFamily-fallback, ${k}`)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:k},v.fontFamily),D=Kg({sm:300,md:500,lg:600,xl:700},v.fontWeight),E=Kg({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},v.fontSize),N=Kg({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},v.lineHeight),T=null!=(e=null==(t=v.colorSchemes)||null==(t=t.light)?void 0:t.shadowRing)?e:S.shadowRing,I=null!=(n=null==(i=v.colorSchemes)||null==(i=i.light)?void 0:i.shadowChannel)?n:S.shadowChannel,M=null!=(o=null==(r=v.colorSchemes)||null==(r=r.light)?void 0:r.shadowOpacity)?o:S.shadowOpacity,R={colorSchemes:{light:S,dark:x},fontSize:E,fontFamily:L,fontWeight:D,focus:{thickness:"2px",selector:`&.${iy("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${b("focus-thickness",null!=(s=null==(a=v.focus)?void 0:a.thickness)?s:"2px")})`,outline:`${b("focus-thickness",null!=(l=null==(c=v.focus)?void 0:c.thickness)?l:"2px")} solid ${b("palette-focusVisible",_.primary[500])}`}},lineHeight:N,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:`${b("shadowRing",T)}, 0px 1px 2px 0px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)})`,sm:`${b("shadowRing",T)}, 0px 1px 2px 0px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)}), 0px 2px 4px 0px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)})`,md:`${b("shadowRing",T)}, 0px 2px 8px -2px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)}), 0px 6px 12px -2px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)})`,lg:`${b("shadowRing",T)}, 0px 2px 8px -2px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)}), 0px 12px 16px -4px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)})`,xl:`${b("shadowRing",T)}, 0px 2px 8px -2px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)}), 0px 20px 24px -4px rgba(${b("shadowChannel",I)} / ${b("shadowOpacity",M)})`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:b(`fontFamily-display, ${L.display}`),fontWeight:b(`fontWeight-xl, ${D.xl}`),fontSize:b(`fontSize-xl4, ${E.xl4}`),lineHeight:b(`lineHeight-xs, ${N.xs}`),letterSpacing:"-0.025em",color:b(`palette-text-primary, ${S.palette.text.primary}`)},h2:{fontFamily:b(`fontFamily-display, ${L.display}`),fontWeight:b(`fontWeight-xl, ${D.xl}`),fontSize:b(`fontSize-xl3, ${E.xl3}`),lineHeight:b(`lineHeight-xs, ${N.xs}`),letterSpacing:"-0.025em",color:b(`palette-text-primary, ${S.palette.text.primary}`)},h3:{fontFamily:b(`fontFamily-display, ${L.display}`),fontWeight:b(`fontWeight-lg, ${D.lg}`),fontSize:b(`fontSize-xl2, ${E.xl2}`),lineHeight:b(`lineHeight-xs, ${N.xs}`),letterSpacing:"-0.025em",color:b(`palette-text-primary, ${S.palette.text.primary}`)},h4:{fontFamily:b(`fontFamily-display, ${L.display}`),fontWeight:b(`fontWeight-lg, ${D.lg}`),fontSize:b(`fontSize-xl, ${E.xl}`),lineHeight:b(`lineHeight-md, ${N.md}`),letterSpacing:"-0.025em",color:b(`palette-text-primary, ${S.palette.text.primary}`)},"title-lg":{fontFamily:b(`fontFamily-body, ${L.body}`),fontWeight:b(`fontWeight-lg, ${D.lg}`),fontSize:b(`fontSize-lg, ${E.lg}`),lineHeight:b(`lineHeight-xs, ${N.xs}`),color:b(`palette-text-primary, ${S.palette.text.primary}`)},"title-md":{fontFamily:b(`fontFamily-body, ${L.body}`),fontWeight:b(`fontWeight-md, ${D.md}`),fontSize:b(`fontSize-md, ${E.md}`),lineHeight:b(`lineHeight-md, ${N.md}`),color:b(`palette-text-primary, ${S.palette.text.primary}`)},"title-sm":{fontFamily:b(`fontFamily-body, ${L.body}`),fontWeight:b(`fontWeight-md, ${D.md}`),fontSize:b(`fontSize-sm, ${E.sm}`),lineHeight:b(`lineHeight-sm, ${N.sm}`),color:b(`palette-text-primary, ${S.palette.text.primary}`)},"body-lg":{fontFamily:b(`fontFamily-body, ${L.body}`),fontSize:b(`fontSize-lg, ${E.lg}`),lineHeight:b(`lineHeight-md, ${N.md}`),color:b(`palette-text-secondary, ${S.palette.text.secondary}`)},"body-md":{fontFamily:b(`fontFamily-body, ${L.body}`),fontSize:b(`fontSize-md, ${E.md}`),lineHeight:b(`lineHeight-md, ${N.md}`),color:b(`palette-text-secondary, ${S.palette.text.secondary}`)},"body-sm":{fontFamily:b(`fontFamily-body, ${L.body}`),fontSize:b(`fontSize-sm, ${E.sm}`),lineHeight:b(`lineHeight-md, ${N.md}`),color:b(`palette-text-tertiary, ${S.palette.text.tertiary}`)},"body-xs":{fontFamily:b(`fontFamily-body, ${L.body}`),fontWeight:b(`fontWeight-md, ${D.md}`),fontSize:b(`fontSize-xs, ${E.xs}`),lineHeight:b(`lineHeight-md, ${N.md}`),color:b(`palette-text-tertiary, ${S.palette.text.tertiary}`)}}},A=v?gm(R,v):R,{colorSchemes:O}=A,P=um(A,cy),F=Kg({colorSchemes:O},P,{breakpoints:vm(null!=d?d:{}),components:gm({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:({ownerState:e,theme:t})=>{var n;const i=e.instanceFontSize;return Kg({margin:"var(--Icon-margin)"},e.fontSize&&"inherit"!==e.fontSize&&{fontSize:`var(--Icon-fontSize, ${t.vars.fontSize[e.fontSize]})`},!e.htmlColor&&Kg({color:`var(--Icon-color, ${F.vars.palette.text.icon})`},e.color&&"inherit"!==e.color&&t.vars.palette[e.color]&&{color:`rgba(${null==(n=t.vars.palette[e.color])?void 0:n.mainChannel} / 1)`}),i&&"inherit"!==i&&{"--Icon-fontSize":t.vars.fontSize[i]})}}}},f),cssVarPrefix:h,getCssVar:b,spacing:jm(g)});Object.entries(F.colorSchemes).forEach((([e,t])=>{!function(e,t){Object.keys(t).forEach((n=>{const i={main:"500",light:"200",dark:"700"};"dark"===e&&(i.main=400),!t[n].mainChannel&&t[n][i.main]&&(t[n].mainChannel=Lb(t[n][i.main])),!t[n].lightChannel&&t[n][i.light]&&(t[n].lightChannel=Lb(t[n][i.light])),!t[n].darkChannel&&t[n][i.dark]&&(t[n].darkChannel=Lb(t[n][i.dark]))}))}(e,t.palette)}));const B={prefix:h,shouldSkipGeneratingVar:m},{vars:z,generateCssVars:V}=function(e,t){const{colorSchemes:n={},defaultColorScheme:i="light"}=e,o=um(e,E_),{vars:r,css:s,varsWithDefaults:a}=k_(o,t);let l=a;const c={},{[i]:u}=n,h=um(n,[i].map(D_));if(Object.entries(h||{}).forEach((([e,n])=>{const{vars:i,css:o,varsWithDefaults:r}=k_(n,t);l=gm(l,r),c[e]={css:o,vars:i}})),u){const{css:e,vars:n,varsWithDefaults:o}=k_(u,t);l=gm(l,o),c[i]={css:e,vars:n}}return{vars:l,generateCssVars:e=>{var n;if(!e){var i;const n=Kg({},s);return{css:n,vars:r,selector:(null==t||null==(i=t.getSelector)?void 0:i.call(t,e,n))||":root"}}const o=Kg({},c[e].css);return{css:o,vars:c[e].vars,selector:(null==t||null==(n=t.getSelector)?void 0:n.call(t,e,o))||":root"}}}}(Kg({colorSchemes:O},P),B);F.vars=z,F.generateCssVars=V,F.unstable_sxConfig=Kg({},ty,void 0),F.unstable_sx=function(e){return yv({sx:e,theme:this})},F.getColorSchemeSelector=e=>"light"===e?"&":`&[data-joy-color-scheme="${e}"], [data-joy-color-scheme="${e}"] &`;const W={getCssVar:b,palette:F.colorSchemes.light.palette};return F.variants=gm({plain:ay("plain",W),plainHover:ay("plainHover",W),plainActive:ay("plainActive",W),plainDisabled:ay("plainDisabled",W),outlined:ay("outlined",W),outlinedHover:ay("outlinedHover",W),outlinedActive:ay("outlinedActive",W),outlinedDisabled:ay("outlinedDisabled",W),soft:ay("soft",W),softHover:ay("softHover",W),softActive:ay("softActive",W),softDisabled:ay("softDisabled",W),solid:ay("solid",W),solidHover:ay("solidHover",W),solidActive:ay("solidActive",W),solidDisabled:ay("solidDisabled",W)},p),F.palette=Kg({},F.colorSchemes.light.palette,{colorScheme:"light"}),F.shouldSkipGeneratingVar=m,F.applyStyles=wv,F}(),hy="data-joy-color-scheme",dy="joy-color-scheme",gy="light",fy="dark",py="joy-mode",{CssVarsProvider:my,useColorScheme:vy,getInitColorSchemeScript:by}=function(e){const{themeId:t,theme:n={},attribute:i=p_,modeStorageKey:o=g_,colorSchemeStorageKey:r=f_,defaultMode:s="light",defaultColorScheme:a,disableTransitionOnChange:l=!1,resolveTheme:c,excludeVariablesFromRoot:u}=e;(!n.colorSchemes||"string"==typeof a&&!n.colorSchemes[a]||"object"==typeof a&&!n.colorSchemes[null==a?void 0:a.light]||"object"==typeof a&&!n.colorSchemes[null==a?void 0:a.dark])&&console.error(`MUI: \`${a}\` does not exist in \`theme.colorSchemes\`.`);const h=Y.createContext(void 0),d="string"==typeof a?a:a.light,g="string"==typeof a?a:a.dark;return{CssVarsProvider:function(e){const{children:d,theme:g=n,modeStorageKey:f=o,colorSchemeStorageKey:p=r,attribute:m=i,defaultMode:v=s,defaultColorScheme:b=a,disableTransitionOnChange:_=l,storageWindow:y=("undefined"==typeof window?void 0:window),documentNode:w=("undefined"==typeof document?void 0:document),colorSchemeNode:C=("undefined"==typeof document?void 0:document.documentElement),colorSchemeSelector:S=":root",disableNestedContext:x=!1,disableStyleSheetGeneration:k=!1}=e,L=Y.useRef(!1),D=t_(),E=Y.useContext(h),N=!!E&&!x,T=g[t],I=T||g,{colorSchemes:M={},components:R={},generateCssVars:A=()=>({vars:{},css:{}}),cssVarPrefix:O}=I,P=um(I,y_),F=Object.keys(M),B="string"==typeof b?b:b.light,z="string"==typeof b?b:b.dark,{mode:V,setMode:W,systemMode:H,lightColorScheme:$,darkColorScheme:j,colorScheme:U,setColorScheme:K}=__({supportedColorSchemes:F,defaultLightColorScheme:B,defaultDarkColorScheme:z,modeStorageKey:f,colorSchemeStorageKey:p,defaultMode:v,storageWindow:y});let q=V,G=U;N&&(q=E.mode,G=E.colorScheme);const X=G||("dark"===(q||("system"===v?s:v))?z:B),{css:Z,vars:Q}=A(),J=Kg({},P,{components:R,colorSchemes:M,cssVarPrefix:O,vars:Q,getColorSchemeSelector:e=>`[${m}="${e}"] &`}),ee={},te={};Object.entries(M).forEach((([e,t])=>{const{css:n,vars:i}=A(e);J.vars=gm(J.vars,i),e===X&&(Object.keys(t).forEach((e=>{t[e]&&"object"==typeof t[e]?J[e]=Kg({},J[e],t[e]):J[e]=t[e]})),J.palette&&(J.palette.colorScheme=e));if(e===("string"==typeof b?b:"dark"===v?b.dark:b.light)){if(u){const t={};u(O).forEach((e=>{t[e]=n[e],delete n[e]})),ee[`[${m}="${e}"]`]=t}ee[`${S}, [${m}="${e}"]`]=n}else te[`${":root"===S?"":S}[${m}="${e}"]`]=n})),J.vars=gm(J.vars,Q),Y.useEffect((()=>{G&&C&&C.setAttribute(m,G)}),[G,m,C]),Y.useEffect((()=>{let e;if(_&&L.current&&w){const t=w.createElement("style");t.appendChild(w.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),w.head.appendChild(t),window.getComputedStyle(w.body),e=setTimeout((()=>{w.head.removeChild(t)}),1)}return()=>{clearTimeout(e)}}),[G,_,w]),Y.useEffect((()=>(L.current=!0,()=>{L.current=!1})),[]);const ne=Y.useMemo((()=>({allColorSchemes:F,colorScheme:G,darkColorScheme:j,lightColorScheme:$,mode:q,setColorScheme:K,setMode:W,systemMode:H})),[F,G,j,$,q,K,W,H]);let ie=!0;(k||N&&(null==D?void 0:D.cssVarPrefix)===O)&&(ie=!1);const oe=re.jsxs(Y.Fragment,{children:[ie&&re.jsxs(Y.Fragment,{children:[re.jsx(sm,{styles:{[S]:Z}}),re.jsx(sm,{styles:ee}),re.jsx(sm,{styles:te})]}),re.jsx(d_,{themeId:T?t:void 0,theme:c?c(J):J,children:d})]});return N?oe:re.jsx(h.Provider,{value:ne,children:oe})},useColorScheme:()=>{const e=Y.useContext(h);if(!e)throw new Error(jg(19));return e},getInitColorSchemeScript:e=>function(e){const{defaultMode:t="light",defaultLightColorScheme:n="light",defaultDarkColorScheme:i="dark",modeStorageKey:o=g_,colorSchemeStorageKey:r=f_,attribute:s=p_,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};return re.jsx("script",{suppressHydrationWarning:!0,nonce:"undefined"==typeof window?l:"",dangerouslySetInnerHTML:{__html:`(function() {\ntry {\n  var mode = localStorage.getItem('${o}') || '${t}';\n  var colorScheme = '';\n  if (mode === 'system') {\n    // handle system mode\n    var mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = localStorage.getItem('${r}-dark') || '${i}';\n    } else {\n      colorScheme = localStorage.getItem('${r}-light') || '${n}';\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = localStorage.getItem('${r}-light') || '${n}';\n  }\n  if (mode === 'dark') {\n    colorScheme = localStorage.getItem('${r}-dark') || '${i}';\n  }\n  if (colorScheme) {\n    ${a}.setAttribute('${s}', colorScheme);\n  }\n} catch(e){}})();`}},"mui-color-scheme-init")}(Kg({attribute:i,colorSchemeStorageKey:r,defaultMode:s,defaultLightColorScheme:d,defaultDarkColorScheme:g,modeStorageKey:o},e))}}({themeId:$g,theme:uy,attribute:hy,modeStorageKey:py,colorSchemeStorageKey:dy,defaultColorScheme:{light:gy,dark:fy}}),_y=_b({defaultTheme:uy,themeId:$g});function yy({props:e,name:t}){return Cb({props:e,name:t,defaultTheme:Kg({},uy,{components:{}}),themeId:$g})}function wy(e,t,n){return void 0===e||"string"==typeof e?t:Kg({},t,{ownerState:Kg({},t.ownerState,n)})}function Cy(e,t,n=(e,t)=>e===t){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}const Sy={disableDefaultClasses:!1},xy=Y.createContext(Sy);function ky(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function Ly(e,t,n){return"function"==typeof e?e(t,n):e}function Dy(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function Ey(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:r}=e;if(!t){const e=Ov(null==n?void 0:n.className,r,null==o?void 0:o.className,null==i?void 0:i.className),t=Kg({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),s=Kg({},n,o,i);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=ky(Kg({},o,i)),a=Dy(i),l=Dy(o),c=t(s),u=Ov(null==c?void 0:c.className,null==n?void 0:n.className,r,null==o?void 0:o.className,null==i?void 0:i.className),h=Kg({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),d=Kg({},c,n,l,a);return u.length>0&&(d.className=u),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:c.ref}}const Ny=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ty(e){var t;const{elementType:n,externalSlotProps:i,ownerState:o,skipResolvingSlotProps:r=!1}=e,s=um(e,Ny),a=r?{}:Ly(i,o),{props:l,internalRef:c}=Ey(Kg({},s,{externalSlotProps:a}));return wy(n,Kg({},l,{ref:Bb(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref)}),o)}const Iy="base";function My(e,t){const n=Fv[t];return n?`${Iy}--${n}`:function(e,t){return`${Iy}-${e}-${t}`}(e,t)}function Ry(e={}){const{disabled:t=!1,focusableWhenDisabled:n,href:i,rootRef:o,tabIndex:r,to:s,type:a,rootElementName:l}=e,c=Y.useRef(),[u,h]=Y.useState(!1),{isFocusVisibleRef:d,onFocus:g,onBlur:f,ref:p}=Zb(),[m,v]=Y.useState(!1);t&&!n&&m&&v(!1),Y.useEffect((()=>{d.current=m}),[m,d]);const[b,_]=function(e){const{rootElementName:t="",componentName:n}=e,[i,o]=Y.useState(t.toUpperCase());return[i,Y.useCallback((e=>{var t;o(null!=(t=null==e?void 0:e.tagName)?t:"")}),[])]}({rootElementName:null!=l?l:i||s?"a":void 0,componentName:"Button"}),y=e=>t=>{var n;m&&t.preventDefault(),null==(n=e.onMouseLeave)||n.call(e,t)},w=e=>t=>{var n,i;(c.current||(c.current=t.currentTarget),g(t),!0===d.current)&&(v(!0),null==(i=e.onFocusVisible)||i.call(e,t));null==(n=e.onFocus)||n.call(e,t)},C=()=>{const e=c.current;return"BUTTON"===b||"INPUT"===b&&["button","submit","reset"].includes(null==e?void 0:e.type)||"A"===b&&(null==e?void 0:e.href)},S=e=>n=>{var i;t||(null==(i=e.onClick)||i.call(e,n))},x=e=>n=>{var i;t||(h(!0),document.addEventListener("mouseup",(()=>{h(!1)}),{once:!0})),null==(i=e.onMouseDown)||i.call(e,n)},k=e=>n=>{var i,o;(null==(i=e.onKeyDown)||i.call(e,n),n.defaultMuiPrevented)||(n.target!==n.currentTarget||C()||" "!==n.key||n.preventDefault(),n.target!==n.currentTarget||" "!==n.key||t||h(!0),n.target!==n.currentTarget||C()||"Enter"!==n.key||t||(null==(o=e.onClick)||o.call(e,n),n.preventDefault()))},L=e=>n=>{var i,o;(n.target===n.currentTarget&&h(!1),null==(i=e.onKeyUp)||i.call(e,n),n.target!==n.currentTarget||C()||t||" "!==n.key||n.defaultMuiPrevented)||(null==(o=e.onClick)||o.call(e,n))},D=Bb(_,o,p,c),E={};void 0!==r&&(E.tabIndex=r),"BUTTON"===b?(E.type=null!=a?a:"button",n?E["aria-disabled"]=t:E.disabled=t):"INPUT"===b?a&&["button","submit","reset"].includes(a)&&(n?E["aria-disabled"]=t:E.disabled=t):""!==b&&(i||s||(E.role="button",E.tabIndex=null!=r?r:0),t&&(E["aria-disabled"]=t,E.tabIndex=n?null!=r?r:0:-1));return{getRootProps:(t={})=>{const n=Kg({},ky(e),ky(t)),i=Kg({type:a},n,E,t,{onBlur:(o=n,e=>{var t;f(e),!1===d.current&&v(!1),null==(t=o.onBlur)||t.call(o,e)}),onClick:S(n),onFocus:w(n),onKeyDown:k(n),onKeyUp:L(n),onMouseDown:x(n),onMouseLeave:y(n),ref:D});var o;return delete i.onFocusVisible,i},focusVisible:m,setFocusVisible:v,active:u,rootRef:D}}function Ay(e){return e.substring(2).toLowerCase()}function Oy(e){const{children:t,disableReactTree:n=!1,mouseEvent:i="onClick",onClickAway:o,touchEvent:r="onTouchEnd"}=e,s=Y.useRef(!1),a=Y.useRef(null),l=Y.useRef(!1),c=Y.useRef(!1);Y.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const u=Bb(t.ref,a),h=Fb((e=>{const t=c.current;c.current=!1;const i=Tb(a.current);if(!l.current||!a.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,i))return;if(s.current)return void(s.current=!1);let r;r=e.composedPath?e.composedPath().indexOf(a.current)>-1:!i.documentElement.contains(e.target)||a.current.contains(e.target),r||!n&&t||o(e)})),d=e=>n=>{c.current=!0;const i=t.props[e];i&&i(n)},g={ref:u};return!1!==r&&(g[r]=d(r)),Y.useEffect((()=>{if(!1!==r){const e=Ay(r),t=Tb(a.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,r]),!1!==i&&(g[i]=d(i)),Y.useEffect((()=>{if(!1!==i){const e=Ay(i),t=Tb(a.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,i]),re.jsx(Y.Fragment,{children:Y.cloneElement(t,g)})}const Py=Y.createContext(null);function Fy(e,t){return e===t}const By={},zy=()=>{};function Vy(e,t){const n=Kg({},e);return Object.keys(t).forEach((e=>{void 0!==t[e]&&(n[e]=t[e])})),n}function Wy(e){const t=Y.useRef(null),{reducer:n,initialState:i,controlledProps:o=By,stateComparers:r=By,onStateChange:s=zy,actionContext:a,componentName:l=""}=e;Y.useRef(o);const c=Y.useCallback(((e,i)=>{t.current=i;const r=Vy(e,o);return n(r,i)}),[o,n]),[u,h]=Y.useReducer(c,i),d=Y.useCallback((e=>{h(Kg({},e,{context:a}))}),[a]);return function(e){const{nextState:t,initialState:n,stateComparers:i,onStateChange:o,controlledProps:r,lastActionRef:s}=e,a=Y.useRef(n);Y.useEffect((()=>{if(null===s.current)return;const e=Vy(a.current,r);Object.keys(t).forEach((n=>{var r;const a=null!=(r=i[n])?r:Fy,l=t[n],c=e[n];var u,h;(null==c&&null!=l||null!=c&&null==l||null!=c&&null!=l&&!a(l,c))&&(null==o||o(null!=(u=s.current.event)?u:null,n,l,null!=(h=s.current.type)?h:"",t))})),a.current=t,s.current=null}),[a,t,s,o,i,r])}({nextState:u,initialState:i,stateComparers:null!=r?r:By,onStateChange:null!=s?s:zy,controlledProps:o,lastActionRef:t}),[Vy(u,o),d]}const Hy={blur:"dropdown:blur",escapeKeyDown:"dropdown:escapeKeyDown",toggle:"dropdown:toggle",open:"dropdown:open",close:"dropdown:close"};function $y(e,t){switch(t.type){case Hy.blur:case Hy.escapeKeyDown:return{open:!1,changeReason:t.event};case Hy.toggle:return{open:!e.open,changeReason:t.event};case Hy.open:return{open:!0,changeReason:t.event};case Hy.close:return{open:!1,changeReason:t.event};default:throw new Error("Unhandled action")}}function jy(e){const{children:t,open:n,defaultOpen:i,onOpenChange:o}=e,{contextValue:r}=function(e={}){const{defaultOpen:t,onOpenChange:n,open:i,componentName:o="useDropdown"}=e,[r,s]=Y.useState(""),[a,l]=Y.useState(null),c=Y.useRef(null),u=Y.useCallback(((e,t,i,o)=>{"open"===t&&(null==n||n(e,i)),c.current=o}),[n]),h=Y.useMemo((()=>void 0!==i?{open:i}:{}),[i]),[d,g]=Wy({controlledProps:h,initialState:t?{open:!0,changeReason:null}:{open:!1,changeReason:null},onStateChange:u,reducer:$y,componentName:o});return Y.useEffect((()=>{d.open||null===c.current||c.current===Hy.blur||null==a||a.focus()}),[d.open,a]),{contextValue:{state:d,dispatch:g,popupId:r,registerPopup:s,registerTrigger:l,triggerElement:a},open:d.open}}({defaultOpen:i,onOpenChange:o,open:n});return re.jsx(Py.Provider,{value:r,children:t})}const Uy=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ky(e){const t=[],n=[];return Array.from(e.querySelectorAll(Uy)).forEach(((e,i)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:i,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function qy(){return!0}function Gy(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:r=Ky,isEnabled:s=qy,open:a}=e,l=Y.useRef(!1),c=Y.useRef(null),u=Y.useRef(null),h=Y.useRef(null),d=Y.useRef(null),g=Y.useRef(!1),f=Y.useRef(null),p=Bb(t.ref,f),m=Y.useRef(null);Y.useEffect((()=>{a&&f.current&&(g.current=!n)}),[n,a]),Y.useEffect((()=>{if(!a||!f.current)return;const e=Tb(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),g.current&&f.current.focus()),()=>{o||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}}),[a]),Y.useEffect((()=>{if(!a||!f.current)return;const e=Tb(f.current),t=t=>{m.current=t,!i&&s()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(l.current=!0,u.current&&u.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!s()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==c.current&&e.activeElement!==u.current)return;if(e.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!g.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==u.current||(n=r(f.current)),n.length>0){var o,a;const e=Boolean((null==(o=m.current)?void 0:o.shiftKey)&&"Tab"===(null==(a=m.current)?void 0:a.key)),t=n[0],i=n[n.length-1];"string"!=typeof t&&"string"!=typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const o=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,i,o,s,a,r]);const v=e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0};return re.jsxs(Y.Fragment,{children:[re.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),Y.cloneElement(t,{ref:p,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0,d.current=e.target;const n=t.props.onFocus;n&&n(e)}}),re.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})}const Yy=Y.createContext(void 0);function Xy(e={}){const{defaultValue:t,disabled:n=!1,error:i=!1,onBlur:o,onChange:r,onFocus:s,required:a=!1,value:l,inputRef:c}=e,u=Y.useContext(Yy);let h,d,g,f,p;var m,v,b;u?(h=void 0,d=null!=(m=u.disabled)&&m,g=null!=(v=u.error)&&v,f=null!=(b=u.required)&&b,p=u.value):(h=t,d=n,g=i,f=a,p=l);const{current:_}=Y.useRef(null!=p),y=Y.useCallback((e=>{}),[]),w=Y.useRef(null),C=Bb(w,c,y),[S,x]=Y.useState(!1);Y.useEffect((()=>{!u&&d&&S&&(x(!1),null==o||o())}),[u,d,S,o]);const k=e=>t=>{var n,i;null!=u&&u.disabled?t.stopPropagation():(null==(n=e.onFocus)||n.call(e,t),u&&u.onFocus?null==u||null==(i=u.onFocus)||i.call(u):x(!0))},L=e=>(t,...n)=>{var i,o;if(!_){if(null==(t.target||w.current))throw new Error(jg(17))}null==u||null==(i=u.onChange)||i.call(u,t),null==(o=e.onChange)||o.call(e,t,...n)};return{disabled:d,error:g,focused:S,formControlContext:u,getInputProps:(e={})=>{const t=Kg({},{onBlur:o,onChange:r,onFocus:s},ky(e)),n=Kg({},t,{onBlur:(i=t,e=>{var t;null==(t=i.onBlur)||t.call(i,e),u&&u.onBlur?u.onBlur():x(!1)}),onChange:L(t),onFocus:k(t)});var i;return Kg({},n,{"aria-invalid":g||void 0,defaultValue:h,value:p,required:f,disabled:d},e,{ref:C},n)},getRootProps:(t={})=>{const n=Kg({},ky(e,["onBlur","onChange","onFocus"]),ky(t));return Kg({},t,n,{onClick:(i=n,e=>{var t;w.current&&e.currentTarget===e.target&&w.current.focus(),null==(t=i.onClick)||t.call(i,e)})});var i},inputRef:C,required:f,value:p}}const Zy={blur:"list:blur",focus:"list:focus",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function Qy(e,t,n){var i;const{items:o,isItemDisabled:r,disableListWrap:s,disabledItemsFocusable:a,itemComparer:l,focusManagement:c}=n,u="DOM"===c?0:-1,h=o.length-1,d=null==e?-1:o.findIndex((t=>l(t,e)));let g,f,p=!s;switch(t){case"reset":if(-1===u)return null;g=0,f="next",p=!1;break;case"start":g=0,f="next",p=!1;break;case"end":g=h,f="previous",p=!1;break;default:{const e=d+t;e<0?!p&&-1!==d||Math.abs(t)>1?(g=0,f="next"):(g=h,f="previous"):e>h?!p||Math.abs(t)>1?(g=h,f="previous"):(g=0,f="next"):(g=e,f=t>=0?"next":"previous")}}const m=function(e,t,n,i,o,r){if(0===n.length||!i&&n.every(((e,t)=>o(e,t))))return-1;let s=e;for(;;){if(!r&&"next"===t&&s===n.length||!r&&"previous"===t&&-1===s)return-1;if(i||!o(n[s],s))return s;s+="next"===t?1:-1,r&&(s=(s+n.length)%n.length)}}(g,f,o,a,r,p);return-1!==m||null===e||r(e,d)?null!=(i=o[m])?i:null:e}function Jy(e,t,n){const{itemComparer:i,isItemDisabled:o,selectionMode:r,items:s}=n,{selectedValues:a}=t,l=s.findIndex((t=>i(e,t)));if(o(e,l))return t;const c=function(e,t,n,i){return"none"===n?[]:"single"===n?i(t[0],e)?t:[e]:t.some((t=>i(t,e)))?t.filter((t=>!i(t,e))):[...t,e]}(e,a,r,i);return Kg({},t,{selectedValues:c,highlightedValue:e})}function ew(e,t,n){var i;const o=null==(i=n(e))?void 0:i.trim().toLowerCase();return!(!o||0===o.length)&&0===o.indexOf(t)}function tw(e,t){const{type:n,context:i}=t;switch(n){case Zy.keyDown:return function(e,t,n){const i=t.highlightedValue,{orientation:o,pageSize:r}=n;switch(e){case"Home":return Kg({},t,{highlightedValue:Qy(i,"start",n)});case"End":return Kg({},t,{highlightedValue:Qy(i,"end",n)});case"PageUp":return Kg({},t,{highlightedValue:Qy(i,-r,n)});case"PageDown":return Kg({},t,{highlightedValue:Qy(i,r,n)});case"ArrowUp":if("vertical"!==o)break;return Kg({},t,{highlightedValue:Qy(i,-1,n)});case"ArrowDown":if("vertical"!==o)break;return Kg({},t,{highlightedValue:Qy(i,1,n)});case"ArrowLeft":if("vertical"===o)break;return Kg({},t,{highlightedValue:Qy(i,"horizontal-ltr"===o?-1:1,n)});case"ArrowRight":if("vertical"===o)break;return Kg({},t,{highlightedValue:Qy(i,"horizontal-ltr"===o?1:-1,n)});case"Enter":case" ":return null===t.highlightedValue?t:Jy(t.highlightedValue,t,n)}return t}(t.key,e,i);case Zy.itemClick:return Jy(t.item,e,i);case Zy.blur:return function(e,t){return"DOM"===t.focusManagement?e:Kg({},e,{highlightedValue:null})}(e,i);case Zy.textNavigation:return function(e,t,n){const{items:i,isItemDisabled:o,disabledItemsFocusable:r,getItemAsString:s}=n,a=t.length>1;let l=a?e.highlightedValue:Qy(e.highlightedValue,1,n);for(let c=0;c<i.length;c+=1){if(!l||!a&&e.highlightedValue===l)return e;if(ew(l,t,s)&&(!o(l,i.indexOf(l))||r))return Kg({},e,{highlightedValue:l});l=Qy(l,1,n)}return e}(e,t.searchString,i);case Zy.itemsChange:return function(e,t,n,i){var o;const{itemComparer:r,focusManagement:s}=i;let a=null;var l;null!=n.highlightedValue?a=null!=(l=e.find((e=>r(e,n.highlightedValue))))?l:null:"DOM"===s&&0===t.length&&(a=Qy(null,"reset",i));const c=(null!=(o=n.selectedValues)?o:[]).filter((t=>e.some((e=>r(e,t)))));return Kg({},n,{highlightedValue:a,selectedValues:c})}(t.items,t.previousItems,e,i);case Zy.resetHighlight:return function(e,t){return Kg({},e,{highlightedValue:Qy(null,"reset",t)})}(e,i);case Zy.highlightLast:return function(e,t){return Kg({},e,{highlightedValue:Qy(null,"end",t)})}(e,i);case Zy.clearSelection:return function(e,t){return Kg({},e,{selectedValues:[],highlightedValue:Qy(null,"reset",t)})}(e,i);default:return e}}const nw=500;const iw={},ow=()=>{},rw=(e,t)=>e===t,sw=()=>!1,aw=e=>"string"==typeof e?e:String(e),lw=()=>({highlightedValue:null,selectedValues:[]});function cw(e){const{controlledProps:t=iw,disabledItemsFocusable:n=!1,disableListWrap:i=!1,focusManagement:o="activeDescendant",getInitialState:r=lw,getItemDomElement:s,getItemId:a,isItemDisabled:l=sw,rootRef:c,onStateChange:u=ow,items:h,itemComparer:d=rw,getItemAsString:g=aw,onChange:f,onHighlightChange:p,onItemsChange:m,orientation:v="vertical",pageSize:b=5,reducerActionContext:_=iw,selectionMode:y="single",stateReducer:w,componentName:C="useList"}=e,S=Y.useRef(null),x=Bb(c,S),k=Y.useCallback(((e,t,n)=>{var i;(null==p||p(e,t,n),"DOM"!==o||null==t||n!==Zy.itemClick&&n!==Zy.keyDown&&n!==Zy.textNavigation)||(null==s||null==(i=s(t))||i.focus())}),[s,p,o]),L=Y.useMemo((()=>({highlightedValue:d,selectedValues:(e,t)=>Cy(e,t,d)})),[d]),D=Y.useCallback(((e,t,n,i,o)=>{switch(null==u||u(e,t,n,i,o),t){case"highlightedValue":k(e,n,i);break;case"selectedValues":null==f||f(e,n,i)}}),[k,f,u]),E=Y.useMemo((()=>({disabledItemsFocusable:n,disableListWrap:i,focusManagement:o,isItemDisabled:l,itemComparer:d,items:h,getItemAsString:g,onHighlightChange:k,orientation:v,pageSize:b,selectionMode:y,stateComparers:L})),[n,i,o,l,d,h,g,k,v,b,y,L]),N=r(),T=null!=w?w:tw,I=Y.useMemo((()=>Kg({},_,E)),[_,E]),[M,R]=Wy({reducer:T,actionContext:I,initialState:N,controlledProps:t,stateComparers:L,onStateChange:D,componentName:C}),{highlightedValue:A,selectedValues:O}=M,P=function(e){const t=Y.useRef({searchString:"",lastTime:null});return Y.useCallback((n=>{if(1===n.key.length&&" "!==n.key){const i=t.current,o=n.key.toLowerCase(),r=performance.now();i.searchString.length>0&&i.lastTime&&r-i.lastTime>nw?i.searchString=o:1===i.searchString.length&&o===i.searchString||(i.searchString+=o),i.lastTime=r,e(i.searchString,n)}}),[e])}(((e,t)=>R({type:Zy.textNavigation,event:t,searchString:e}))),F=Y.useRef([]);Y.useEffect((()=>{Cy(F.current,h,d)||(R({type:Zy.itemsChange,event:null,items:h,previousItems:F.current}),F.current=h,null==m||m(h))}),[h,d,R,m]);const B=e=>t=>{var n;if(null==(n=e.onKeyDown)||n.call(e,t),t.defaultMuiPrevented)return;const i=["Home","End","PageUp","PageDown"];"vertical"===v?i.push("ArrowUp","ArrowDown"):i.push("ArrowLeft","ArrowRight"),"activeDescendant"===o&&i.push(" ","Enter"),i.includes(t.key)&&t.preventDefault(),R({type:Zy.keyDown,key:t.key,event:t}),P(t)},z=Y.useCallback((e=>{const t=(null!=O?O:[]).some((t=>null!=t&&d(e,t))),n=null!=A&&d(e,A);return{focusable:"DOM"===o,highlighted:n,selected:t}}),[d,O,A,o]),V=Y.useMemo((()=>({dispatch:R,getItemState:z})),[R,z]);return Y.useDebugValue({state:M}),{contextValue:V,dispatch:R,getRootProps:(e={})=>{const t=ky(e);return Kg({},e,{"aria-activedescendant":"activeDescendant"===o&&null!=A?a(A):void 0,tabIndex:"DOM"===o?-1:0,ref:x},t,{onBlur:(n=t,e=>{var t,i;null==(t=n.onBlur)||t.call(n,e),e.defaultMuiPrevented||null!=(i=S.current)&&i.contains(e.relatedTarget)||R({type:Zy.blur,event:e})}),onKeyDown:B(t)});var n},rootRef:x,state:M}}const uw=Y.createContext(null);function hw(e){const{handlePointerOverEvents:t=!1,item:n}=e,i=Y.useContext(uw);if(!i)throw new Error("useListItem must be used within a ListProvider");const{dispatch:o,getItemState:r}=i,{highlighted:s,selected:a,focusable:l}=r(n),c=Y.useCallback((e=>t=>{var i;null==(i=e.onClick)||i.call(e,t),t.defaultPrevented||o({type:Zy.itemClick,item:n,event:t})}),[o,n]),u=Y.useCallback((e=>t=>{var i;null==(i=e.onMouseOver)||i.call(e,t),t.defaultPrevented||o({type:Zy.itemHover,item:n,event:t})}),[o,n]);let h;l&&(h=s?0:-1);return{getRootProps:(e={})=>{const n=ky(e);return Kg({},e,{onClick:c(n),onPointerOver:t?u(n):void 0,tabIndex:h})},highlighted:s,selected:a}}function dw(e,t){if(t.type===Zy.itemHover)return Kg({},e,{highlightedValue:t.item});const n=tw(e,t);if(null===n.highlightedValue&&t.context.items.length>0)return Kg({},n,{highlightedValue:t.context.items[0]});if(t.type===Zy.keyDown&&"Escape"===t.event.key)return Kg({},n,{open:!1});var i;if(t.type===Zy.blur&&(null==(i=t.context.listboxRef.current)||!i.contains(t.event.relatedTarget))){var o,r;const e=null==(o=t.context.listboxRef.current)?void 0:o.getAttribute("id"),i=null==(r=t.event.relatedTarget)?void 0:r.getAttribute("aria-controls");return e&&i&&e===i?n:Kg({},n,{open:!1,highlightedValue:t.context.items[0]})}return n}const gw=Y.createContext(null);function fw(){const[e,t]=Y.useState(new Map),n=Y.useRef(new Set),i=Y.useCallback((function(e){n.current.delete(e),t((t=>{const n=new Map(t);return n.delete(e),n}))}),[]),o=Y.useCallback((function(e,o){let r;return r="function"==typeof e?e(n.current):e,n.current.add(r),t((e=>{const t=new Map(e);return t.set(r,o),t})),{id:r,deregister:()=>i(r)}}),[i]),r=Y.useMemo((()=>function(e){const t=Array.from(e.keys()).map((t=>({key:t,subitem:e.get(t)})));return t.sort(((e,t)=>{const n=e.subitem.ref.current,i=t.subitem.ref.current;return null===n||null===i||n===i?0:n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_PRECEDING?1:-1})),new Map(t.map((e=>[e.key,e.subitem])))}(e)),[e]),s=Y.useCallback((function(e){return Array.from(r.keys()).indexOf(e)}),[r]);return{contextValue:Y.useMemo((()=>({getItemIndex:s,registerItem:o,totalSubitemCount:e.size})),[s,o,e.size]),subitems:r}}function pw(e,t){const n=Y.useContext(gw);if(null===n)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:i}=n,[o,r]=Y.useState("function"==typeof e?void 0:e);return Sb((()=>{const{id:n,deregister:o}=i(e,t);return r(n),o}),[i,t,e]),{id:o,index:void 0!==o?n.getItemIndex(o):-1,totalItemCount:n.totalSubitemCount}}function mw(e,t){return function(n={}){const i=Kg({},n,e(n));return Kg({},i,t(i))}}const vw={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function bw(e){const{value:t,children:n}=e,{dispatch:i,getItemIndex:o,getItemState:r,registerItem:s,totalSubitemCount:a}=t,l=Y.useMemo((()=>({dispatch:i,getItemState:r,getItemIndex:o})),[i,o,r]),c=Y.useMemo((()=>({getItemIndex:o,registerItem:s,totalSubitemCount:a})),[s,o,a]);return re.jsx(gw.Provider,{value:c,children:re.jsx(uw.Provider,{value:l,children:n})})}const _w=Y.forwardRef((function(e,t){const{children:n,container:i,disablePortal:o=!1}=e,[r,s]=Y.useState(null),a=Bb(Y.isValidElement(n)?n.ref:null,t);if(Sb((()=>{o||s(function(e){return"function"==typeof e?e():e}(i)||document.body)}),[i,o]),Sb((()=>{if(r&&!o)return Mb(t,r),()=>{Mb(t,null)}}),[t,r,o]),o){if(Y.isValidElement(n)){const e={ref:a};return Y.cloneElement(n,e)}return re.jsx(Y.Fragment,{children:n})}return re.jsx(Y.Fragment,{children:r?gh.createPortal(n,r):r})}));function yw(e){return`menu-item-${e.size}`}const ww={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function Cw(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Sw(e){return parseInt(Ib(e).getComputedStyle(e).paddingRight,10)||0}function xw(e,t,n,i,o){const r=[t,n,...i];[].forEach.call(e.children,(e=>{const t=-1===r.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Cw(e,o)}))}function kw(e,t){let n=-1;return e.some(((e,i)=>!!t(e)&&(n=i,!0))),n}function Lw(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(function(e){const t=Tb(e);return t.body===e?Ib(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(Tb(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${Sw(i)+e}px`;const t=Tb(i).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Sw(t)+e}px`}))}let e;if(i.parentNode instanceof DocumentFragment)e=Tb(i).body;else{const t=i.parentElement,n=Ib(i);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:i}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}const Dw=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Cw(e.modalRef,!1);const i=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);xw(t,e.mount,e.modalRef,i,!0);const o=kw(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=kw(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[n];i.restore||(i.restore=Lw(i,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const i=kw(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Cw(e.modalRef,t),xw(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Cw(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Ew(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:o=Dw,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=e,d=Y.useRef({}),g=Y.useRef(null),f=Y.useRef(null),p=Bb(f,h),[m,v]=Y.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const y=()=>(d.current.modalRef=f.current,d.current.mount=g.current,d.current),w=()=>{o.mount(y(),{disableScrollLock:i}),f.current&&(f.current.scrollTop=0)},C=Fb((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||Tb(g.current).body;o.add(y(),e),f.current&&w()})),S=Y.useCallback((()=>o.isTopModal(y())),[o]),x=Fb((e=>{g.current=e,e&&(u&&S()?w():f.current&&Cw(f.current,_))})),k=Y.useCallback((()=>{o.remove(y(),_)}),[_,o]);Y.useEffect((()=>()=>{k()}),[k]),Y.useEffect((()=>{u?C():b&&r||k()}),[u,k,b,r,C]);const L=e=>t=>{var i;null==(i=e.onKeyDown)||i.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},D=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:(t={})=>{const n=ky(e);delete n.onTransitionEnter,delete n.onTransitionExited;const i=Kg({},n,t);return Kg({role:"presentation"},i,{onKeyDown:L(i),ref:p})},getBackdropProps:(e={})=>Kg({"aria-hidden":!0},e,{onClick:D(e),open:u}),getTransitionProps:()=>({onEnter:Db((()=>{v(!1),s&&s()}),null==l?void 0:l.props.onEnter),onExited:Db((()=>{v(!0),a&&a(),r&&k()}),null==l?void 0:l.props.onExited)}),rootRef:p,portalRef:x,isTopModal:S,exited:m,hasTransition:b}}var Nw="top",Tw="bottom",Iw="right",Mw="left",Rw="auto",Aw=[Nw,Tw,Iw,Mw],Ow="start",Pw="end",Fw="clippingParents",Bw="viewport",zw="popper",Vw="reference",Ww=Aw.reduce((function(e,t){return e.concat([t+"-"+Ow,t+"-"+Pw])}),[]),Hw=[].concat(Aw,[Rw]).reduce((function(e,t){return e.concat([t,t+"-"+Ow,t+"-"+Pw])}),[]),$w=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function jw(e){return e?(e.nodeName||"").toLowerCase():null}function Uw(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Kw(e){return e instanceof Uw(e).Element||e instanceof Element}function qw(e){return e instanceof Uw(e).HTMLElement||e instanceof HTMLElement}function Gw(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Uw(e).ShadowRoot||e instanceof ShadowRoot)}const Yw={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];qw(o)&&jw(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});qw(i)&&jw(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Xw(e){return e.split("-")[0]}var Zw=Math.max,Qw=Math.min,Jw=Math.round;function eC(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function tC(){return!/^((?!chrome|android).)*safari/i.test(eC())}function nC(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),o=1,r=1;t&&qw(e)&&(o=e.offsetWidth>0&&Jw(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Jw(i.height)/e.offsetHeight||1);var s=(Kw(e)?Uw(e):window).visualViewport,a=!tC()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/o,c=(i.top+(a&&s?s.offsetTop:0))/r,u=i.width/o,h=i.height/r;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function iC(e){var t=nC(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function oC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gw(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rC(e){return Uw(e).getComputedStyle(e)}function sC(e){return["table","td","th"].indexOf(jw(e))>=0}function aC(e){return((Kw(e)?e.ownerDocument:e.document)||window.document).documentElement}function lC(e){return"html"===jw(e)?e:e.assignedSlot||e.parentNode||(Gw(e)?e.host:null)||aC(e)}function cC(e){return qw(e)&&"fixed"!==rC(e).position?e.offsetParent:null}function uC(e){for(var t=Uw(e),n=cC(e);n&&sC(n)&&"static"===rC(n).position;)n=cC(n);return n&&("html"===jw(n)||"body"===jw(n)&&"static"===rC(n).position)?t:n||function(e){var t=/firefox/i.test(eC());if(/Trident/i.test(eC())&&qw(e)&&"fixed"===rC(e).position)return null;var n=lC(e);for(Gw(n)&&(n=n.host);qw(n)&&["html","body"].indexOf(jw(n))<0;){var i=rC(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function hC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dC(e,t,n){return Zw(e,Qw(t,n))}function gC(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fC(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function pC(e){return e.split("-")[1]}var mC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vC(e){var t,n=e.popper,i=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=s.x,g=void 0===d?0:d,f=s.y,p=void 0===f?0:f,m="function"==typeof u?u({x:g,y:p}):{x:g,y:p};g=m.x,p=m.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),_=Mw,y=Nw,w=window;if(c){var C=uC(n),S="clientHeight",x="clientWidth";if(C===Uw(n)&&"static"!==rC(C=aC(n)).position&&"absolute"===a&&(S="scrollHeight",x="scrollWidth"),o===Nw||(o===Mw||o===Iw)&&r===Pw)y=Tw,p-=(h&&C===w&&w.visualViewport?w.visualViewport.height:C[S])-i.height,p*=l?1:-1;if(o===Mw||(o===Nw||o===Tw)&&r===Pw)_=Iw,g-=(h&&C===w&&w.visualViewport?w.visualViewport.width:C[x])-i.width,g*=l?1:-1}var k,L=Object.assign({position:a},c&&mC),D=!0===u?function(e,t){var n=e.x,i=e.y,o=t.devicePixelRatio||1;return{x:Jw(n*o)/o||0,y:Jw(i*o)/o||0}}({x:g,y:p},Uw(n)):{x:g,y:p};return g=D.x,p=D.y,l?Object.assign({},L,((k={})[y]=b?"0":"",k[_]=v?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",k)):Object.assign({},L,((t={})[y]=b?p+"px":"",t[_]=v?g+"px":"",t.transform="",t))}var bC={passive:!0};var _C={left:"right",right:"left",bottom:"top",top:"bottom"};function yC(e){return e.replace(/left|right|bottom|top/g,(function(e){return _C[e]}))}var wC={start:"end",end:"start"};function CC(e){return e.replace(/start|end/g,(function(e){return wC[e]}))}function SC(e){var t=Uw(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xC(e){return nC(aC(e)).left+SC(e).scrollLeft}function kC(e){var t=rC(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function LC(e){return["html","body","#document"].indexOf(jw(e))>=0?e.ownerDocument.body:qw(e)&&kC(e)?e:LC(lC(e))}function DC(e,t){var n;void 0===t&&(t=[]);var i=LC(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=Uw(i),s=o?[r].concat(r.visualViewport||[],kC(i)?i:[]):i,a=t.concat(s);return o?a:a.concat(DC(lC(s)))}function EC(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function NC(e,t,n){return t===Bw?EC(function(e,t){var n=Uw(e),i=aC(e),o=n.visualViewport,r=i.clientWidth,s=i.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;var c=tC();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a+xC(e),y:l}}(e,n)):Kw(t)?function(e,t){var n=nC(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):EC(function(e){var t,n=aC(e),i=SC(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=Zw(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Zw(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+xC(e),l=-i.scrollTop;return"rtl"===rC(o||n).direction&&(a+=Zw(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(aC(e)))}function TC(e,t,n,i){var o="clippingParents"===t?function(e){var t=DC(lC(e)),n=["absolute","fixed"].indexOf(rC(e).position)>=0&&qw(e)?uC(e):e;return Kw(n)?t.filter((function(e){return Kw(e)&&oC(e,n)&&"body"!==jw(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),s=r[0],a=r.reduce((function(t,n){var o=NC(e,n,i);return t.top=Zw(o.top,t.top),t.right=Qw(o.right,t.right),t.bottom=Qw(o.bottom,t.bottom),t.left=Zw(o.left,t.left),t}),NC(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function IC(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?Xw(o):null,s=o?pC(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case Nw:t={x:a,y:n.y-i.height};break;case Tw:t={x:a,y:n.y+n.height};break;case Iw:t={x:n.x+n.width,y:l};break;case Mw:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?hC(r):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Ow:t[c]=t[c]-(n[u]/2-i[u]/2);break;case Pw:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}function MC(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,r=n.strategy,s=void 0===r?e.strategy:r,a=n.boundary,l=void 0===a?Fw:a,c=n.rootBoundary,u=void 0===c?Bw:c,h=n.elementContext,d=void 0===h?zw:h,g=n.altBoundary,f=void 0!==g&&g,p=n.padding,m=void 0===p?0:p,v=gC("number"!=typeof m?m:fC(m,Aw)),b=d===zw?Vw:zw,_=e.rects.popper,y=e.elements[f?b:d],w=TC(Kw(y)?y:y.contextElement||aC(e.elements.popper),l,u,s),C=nC(e.elements.reference),S=IC({reference:C,element:_,strategy:"absolute",placement:o}),x=EC(Object.assign({},_,S)),k=d===zw?x:C,L={top:w.top-k.top+v.top,bottom:k.bottom-w.bottom+v.bottom,left:w.left-k.left+v.left,right:k.right-w.right+v.right},D=e.modifiersData.offset;if(d===zw&&D){var E=D[o];Object.keys(L).forEach((function(e){var t=[Iw,Tw].indexOf(e)>=0?1:-1,n=[Nw,Tw].indexOf(e)>=0?"y":"x";L[e]+=E[n]*t}))}return L}const RC={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,g=n.flipVariations,f=void 0===g||g,p=n.allowedAutoPlacements,m=t.options.placement,v=Xw(m),b=l||(v===m||!f?[yC(m)]:function(e){if(Xw(e)===Rw)return[];var t=yC(e);return[CC(e),t,CC(t)]}(m)),_=[m].concat(b).reduce((function(e,n){return e.concat(Xw(n)===Rw?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Hw:l,u=pC(i),h=u?a?Ww:Ww.filter((function(e){return pC(e)===u})):Aw,d=h.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=h);var g=d.reduce((function(t,n){return t[n]=MC(e,{placement:n,boundary:o,rootBoundary:r,padding:s})[Xw(n)],t}),{});return Object.keys(g).sort((function(e,t){return g[e]-g[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:p}):n)}),[]),y=t.rects.reference,w=t.rects.popper,C=new Map,S=!0,x=_[0],k=0;k<_.length;k++){var L=_[k],D=Xw(L),E=pC(L)===Ow,N=[Nw,Tw].indexOf(D)>=0,T=N?"width":"height",I=MC(t,{placement:L,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),M=N?E?Iw:Mw:E?Tw:Nw;y[T]>w[T]&&(M=yC(M));var R=yC(M),A=[];if(r&&A.push(I[D]<=0),a&&A.push(I[M]<=0,I[R]<=0),A.every((function(e){return e}))){x=L,S=!1;break}C.set(L,A)}if(S)for(var O=function(e){var t=_.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},P=f?3:1;P>0;P--){if("break"===O(P))break}t.placement!==x&&(t.modifiersData[i]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function AC(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function OC(e){return[Nw,Iw,Tw,Mw].some((function(t){return e[t]>=0}))}const PC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,s=Hw.reduce((function(e,n){return e[n]=function(e,t,n){var i=Xw(e),o=[Mw,Nw].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[Mw,Iw].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};function FC(e,t,n){void 0===n&&(n=!1);var i,o,r=qw(t),s=qw(t)&&function(e){var t=e.getBoundingClientRect(),n=Jw(t.width)/e.offsetWidth||1,i=Jw(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),a=aC(t),l=nC(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==jw(t)||kC(a))&&(c=(i=t)!==Uw(i)&&qw(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:SC(i)),qw(t)?((u=nC(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=xC(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function BC(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}var zC={placement:"bottom",modifiers:[],strategy:"absolute"};function VC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function WC(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?zC:o;return function(e,t,n){void 0===n&&(n=r);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},zC,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var o="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},r,a.options,o),a.scrollParents={reference:Kw(e)?DC(e):e.contextElement?DC(e.contextElement):[],popper:DC(t)};var s,c,d=function(e){var t=BC(e);return $w.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(i,a.options.modifiers),c=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=d.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var r=o({state:a,name:t,instance:u,options:i}),s=function(){};l.push(r||s)}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(VC(t,n)){a.rects={reference:FC(t,uC(n),"fixed"===a.options.strategy),popper:iC(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var o=a.orderedModifiers[i],r=o.fn,s=o.options,l=void 0===s?{}:s,h=o.name;"function"==typeof r&&(a=r({state:a,options:l,name:h,instance:u})||a)}else a.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){h(),c=!0}};if(!VC(e,t))return u;function h(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var HC=WC({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,s=i.resize,a=void 0===s||s,l=Uw(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,bC)})),a&&l.addEventListener("resize",n.update,bC),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,bC)})),a&&l.removeEventListener("resize",n.update,bC)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=IC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,l=void 0===a||a,c={placement:Xw(t.placement),variation:pC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,vC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,vC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Yw,PC,RC,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,g=void 0===d||d,f=n.tetherOffset,p=void 0===f?0:f,m=MC(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Xw(t.placement),b=pC(t.placement),_=!b,y=hC(v),w="x"===y?"y":"x",C=t.modifiersData.popperOffsets,S=t.rects.reference,x=t.rects.popper,k="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,L="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(C){if(r){var N,T="y"===y?Nw:Mw,I="y"===y?Tw:Iw,M="y"===y?"height":"width",R=C[y],A=R+m[T],O=R-m[I],P=g?-x[M]/2:0,F=b===Ow?S[M]:x[M],B=b===Ow?-x[M]:-S[M],z=t.elements.arrow,V=g&&z?iC(z):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=W[T],$=W[I],j=dC(0,S[M],V[M]),U=_?S[M]/2-P-j-H-L.mainAxis:F-j-H-L.mainAxis,K=_?-S[M]/2+P+j+$+L.mainAxis:B+j+$+L.mainAxis,q=t.elements.arrow&&uC(t.elements.arrow),G=q?"y"===y?q.clientTop||0:q.clientLeft||0:0,Y=null!=(N=null==D?void 0:D[y])?N:0,X=R+K-Y,Z=dC(g?Qw(A,R+U-Y-G):A,R,g?Zw(O,X):O);C[y]=Z,E[y]=Z-R}if(a){var Q,J="x"===y?Nw:Mw,ee="x"===y?Tw:Iw,te=C[w],ne="y"===w?"height":"width",ie=te+m[J],oe=te-m[ee],re=-1!==[Nw,Mw].indexOf(v),se=null!=(Q=null==D?void 0:D[w])?Q:0,ae=re?ie:te-S[ne]-x[ne]-se+L.altAxis,le=re?te+S[ne]+x[ne]-se-L.altAxis:oe,ce=g&&re?function(e,t,n){var i=dC(e,t,n);return i>n?n:i}(ae,te,le):dC(g?ae:ie,te,g?le:oe);C[w]=ce,E[w]=ce-te}t.modifiersData[i]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=e.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Xw(n.placement),l=hC(a),c=[Mw,Iw].indexOf(a)>=0?"height":"width";if(r&&s){var u=function(e,t){return gC("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fC(e,Aw))}(o.padding,n),h=iC(r),d="y"===l?Nw:Mw,g="y"===l?Tw:Iw,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],p=s[l]-n.rects.reference[l],m=uC(r),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=f/2-p/2,_=u[d],y=v-h[c]-u[g],w=v/2-h[c]/2+b,C=dC(_,w,y),S=l;n.modifiersData[i]=((t={})[S]=C,t.centerOffset=C-w,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&oC(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=MC(t,{elementContext:"reference"}),a=MC(t,{altBoundary:!0}),l=AC(s,i),c=AC(a,o,r),u=OC(l),h=OC(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]});const $C="Popper";function jC(e){return My($C,e)}!function(e,t){const n={};t.forEach((t=>{n[t]=My(e,t)}))}($C,["root"]);const UC=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],KC=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function qC(e){return"function"==typeof e?e():e}const GC=()=>Jb({root:["root"]},function(e){const{disableDefaultClasses:t}=Y.useContext(xy);return n=>t?"":e(n)}(jC)),YC={},XC=Y.forwardRef((function(e,t){var n;const{anchorEl:i,children:o,direction:r,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:h,slotProps:d={},slots:g={},TransitionProps:f}=e,p=um(e,UC),m=Y.useRef(null),v=Bb(m,t),b=Y.useRef(null),_=Bb(b,h),y=Y.useRef(_);Sb((()=>{y.current=_}),[_]),Y.useImperativeHandle(h,(()=>b.current),[]);const w=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,r),[C,S]=Y.useState(w),[x,k]=Y.useState(qC(i));Y.useEffect((()=>{b.current&&b.current.forceUpdate()})),Y.useEffect((()=>{i&&k(qC(i))}),[i]),Sb((()=>{if(!x||!l)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:e})=>{S(e.placement)}}];null!=a&&(e=e.concat(a)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=HC(x,m.current,Kg({placement:w},u,{modifiers:e}));return y.current(t),()=>{t.destroy(),y.current(null)}}),[x,s,a,l,u,w]);const L={placement:C};null!==f&&(L.TransitionProps=f);const D=GC(),E=null!=(n=g.root)?n:"div",N=Ty({elementType:E,externalSlotProps:d.root,externalForwardedProps:p,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:D.root});return re.jsx(E,Kg({},N,{children:"function"==typeof o?o(L):o}))})),ZC=Y.forwardRef((function(e,t){const{anchorEl:n,children:i,container:o,direction:r="ltr",disablePortal:s=!1,keepMounted:a=!1,modifiers:l,open:c,placement:u="bottom",popperOptions:h=YC,popperRef:d,style:g,transition:f=!1,slotProps:p={},slots:m={}}=e,v=um(e,KC),[b,_]=Y.useState(!0);if(!a&&!c&&(!f||b))return null;let y;if(o)y=o;else if(n){const e=qC(n);y=e&&void 0!==e.nodeType?Tb(e).body:Tb(null).body}const w=c||!a||f&&!b?void 0:"none",C=f?{in:c,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return re.jsx(_w,{disablePortal:s,container:y,children:re.jsx(XC,Kg({anchorEl:n,direction:r,disablePortal:s,modifiers:l,ref:t,open:f?!b:c,placement:u,popperOptions:h,popperRef:d,slotProps:p,slots:m},v,{style:Kg({position:"fixed",top:0,left:0,display:w},g),TransitionProps:C,children:i}))})})),QC={buttonClick:"buttonClick",browserAutoFill:"browserAutoFill"},JC=e=>{const{label:t,value:n}=e;return"string"==typeof t?t:"string"==typeof n?n:String(e)};function eS(e,t){const{open:n}=e,{context:{selectionMode:i}}=t;if(t.type===QC.buttonClick){var o;const i=null!=(o=e.selectedValues[0])?o:Qy(null,"start",t.context);return Kg({},e,{open:!n,highlightedValue:n?null:i})}if(t.type===QC.browserAutoFill)return Jy(t.item,e,t.context);const r=tw(e,t);switch(t.type){case Zy.keyDown:if(e.open){if("Escape"===t.event.key)return Kg({},r,{open:!1})}else{var s,a;if("ArrowDown"===t.event.key)return Kg({},e,{open:!0,highlightedValue:null!=(s=e.selectedValues[0])?s:Qy(null,"start",t.context)});if("ArrowUp"===t.event.key)return Kg({},e,{open:!0,highlightedValue:null!=(a=e.selectedValues[0])?a:Qy(null,"end",t.context)})}break;case Zy.itemClick:if("single"===i)return Kg({},r,{open:!1});break;case Zy.blur:return Kg({},r,{open:!1});default:return r}return r}function tS(e){return Array.isArray(e)?0===e.length?"":JSON.stringify(e.map((e=>e.value))):null==(null==e?void 0:e.value)?"":"string"==typeof e.value||"number"==typeof e.value?e.value:JSON.stringify(e.value)}function nS(e){const{areOptionsEqual:t,buttonRef:n,defaultOpen:i=!1,defaultValue:o,disabled:r=!1,listboxId:s,listboxRef:a,multiple:l=!1,name:c,required:u,onChange:h,onHighlightChange:d,onOpenChange:g,open:f,options:p,getOptionAsString:m=JC,getSerializedValue:v=tS,value:b,componentName:_="useSelect"}=e,y=Y.useRef(null),w=Bb(n,y),C=Y.useRef(null),S=Ob(s);let x;void 0===b&&void 0===o?x=[]:void 0!==o&&(x=l?o:null==o?[]:[o]);const k=Y.useMemo((()=>{if(void 0!==b)return l?b:null==b?[]:[b]}),[b,l]),{subitems:L,contextValue:D}=fw(),E=Y.useMemo((()=>null!=p?new Map(p.map(((e,t)=>[e.value,{value:e.value,label:e.label,disabled:e.disabled,ref:Y.createRef(),id:`${S}_${t}`}]))):L),[p,L,S]),N=Bb(a,C),{getRootProps:T,active:I,focusVisible:M,rootRef:R}=Ry({disabled:r,rootRef:w}),A=Y.useMemo((()=>Array.from(E.keys())),[E]),O=Y.useCallback((e=>{if(void 0!==t){const n=A.find((n=>t(n,e)));return E.get(n)}return E.get(e)}),[E,t,A]),P=Y.useCallback((e=>{var t;const n=O(e);return null!=(t=null==n?void 0:n.disabled)&&t}),[O]),F=Y.useCallback((e=>{const t=O(e);return t?m(t):""}),[O,m]),B=Y.useMemo((()=>({selectedValues:k,open:f})),[k,f]),z=Y.useCallback((e=>{var t;return null==(t=E.get(e))?void 0:t.id}),[E]),V=Y.useCallback(((e,t)=>{var n;l?null==h||h(e,t):null==h||h(e,null!=(n=t[0])?n:null)}),[l,h]),W=Y.useCallback(((e,t)=>{null==d||d(e,null!=t?t:null)}),[d]),H=Y.useCallback(((e,t,n)=>{var i;"open"===t&&(null==g||g(n),!1===n&&"blur"!==(null==e?void 0:e.type)&&(null==(i=y.current)||i.focus()))}),[g]),$={getInitialState:()=>{var e;return{highlightedValue:null,selectedValues:null!=(e=x)?e:[],open:i}},getItemId:z,controlledProps:B,focusManagement:"DOM",getItemDomElement:Y.useCallback((e=>{var t,n;return null==e?null:null!=(t=null==(n=L.get(e))?void 0:n.ref.current)?t:null}),[L]),itemComparer:t,isItemDisabled:P,rootRef:N,onChange:V,onHighlightChange:W,onStateChange:H,reducerActionContext:Y.useMemo((()=>({multiple:l})),[l]),items:A,getItemAsString:F,selectionMode:l?"multiple":"single",stateReducer:eS,componentName:_},{dispatch:j,getRootProps:U,contextValue:K,state:{open:q,highlightedValue:G,selectedValues:X},rootRef:Z}=cw($),Q=Y.useRef(q);Sb((()=>{if(q&&null!==G){var e;const t=null==(e=O(G))?void 0:e.ref;if(!C.current||null==t||!t.current)return;Q.current||t.current.focus({preventScroll:!0});const n=C.current.getBoundingClientRect(),i=t.current.getBoundingClientRect();i.top<n.top?C.current.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(C.current.scrollTop+=i.bottom-n.bottom)}}),[q,G,O]);const J=Y.useCallback((e=>O(e)),[O]),ee=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),t.defaultMuiPrevented||"ArrowDown"!==t.key&&"ArrowUp"!==t.key||(t.preventDefault(),j({type:Zy.keyDown,key:t.key,event:t}))},te=(e={})=>Kg({},e,((e={})=>{return{onClick:(t=e,e=>{var n;if(null==t||null==(n=t.onClick)||n.call(t,e),!e.defaultMuiPrevented){const t={type:QC.buttonClick,event:e};j(t)}}),onKeyDown:ee(e)};var t})(e),{role:"combobox","aria-expanded":q,"aria-controls":S}),ne=e=>t=>{var n,i;null==(n=e.onBlur)||n.call(e,t),t.defaultMuiPrevented||(null!=(i=C.current)&&i.contains(t.relatedTarget)||t.relatedTarget===y.current)&&(t.defaultMuiPrevented=!0)},ie=(e={})=>({onBlur:ne(e)});Y.useDebugValue({selectedOptions:X,highlightedOption:G,open:q});const oe=Y.useMemo((()=>Kg({},K,D)),[K,D]);let re,se;var ae;(re=e.multiple?X:X.length>0?X[0]:null,l)?se=re.map((e=>J(e))).filter((e=>void 0!==e)):se=null!=(ae=J(re))?ae:null;const le=e=>t=>{var n;if(null==e||null==(n=e.onChange)||n.call(e,t),t.defaultMuiPrevented)return;const i=E.get(t.target.value);""===t.target.value?j({type:Zy.clearSelection}):void 0!==i&&j({type:QC.browserAutoFill,item:i.value,event:t})};return{buttonActive:I,buttonFocusVisible:M,buttonRef:R,contextValue:oe,disabled:r,dispatch:j,getButtonProps:(e={})=>{const t=ky(e);return Kg({},e,mw(te,T)(t))},getHiddenInputProps:(e={})=>{const t=ky(e);return Kg({name:c,tabIndex:-1,"aria-hidden":!0,required:!!u||void 0,value:v(se),style:Qb},e,{onChange:le(t)})},getListboxProps:(e={})=>{const t=ky(e),n=mw(ie,U);return Kg({id:S,role:"listbox","aria-multiselectable":l?"true":void 0},e,n(t))},getOptionMetadata:J,listboxRef:Z,open:q,options:A,value:re,highlightedOption:G}}function iS(e){const{value:t,children:n}=e,{dispatch:i,getItemIndex:o,getItemState:r,registerItem:s,totalSubitemCount:a}=t,l=Y.useMemo((()=>({dispatch:i,getItemState:r,getItemIndex:o})),[i,o,r]),c=Y.useMemo((()=>({getItemIndex:o,registerItem:s,totalSubitemCount:a})),[s,o,a]);return re.jsx(gw.Provider,{value:c,children:re.jsx(uw.Provider,{value:l,children:n})})}const oS=["onChange","maxRows","minRows","style","value"];function rS(e){return parseInt(e,10)||0}const sS={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const aS=Y.forwardRef((function(e,t){const{onChange:n,maxRows:i,minRows:o=1,style:r,value:s}=e,a=um(e,oS),{current:l}=Y.useRef(null!=s),c=Y.useRef(null),u=Bb(t,c),h=Y.useRef(null),d=Y.useCallback((()=>{const t=c.current,n=Ib(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=h.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const s=n.boxSizing,a=rS(n.paddingBottom)+rS(n.paddingTop),l=rS(n.borderBottomWidth)+rS(n.borderTopWidth),u=r.scrollHeight;r.value="x";const d=r.scrollHeight;let g=u;o&&(g=Math.max(Number(o)*d,g)),i&&(g=Math.min(Number(i)*d,g)),g=Math.max(g,d);return{outerHeightStyle:g+("border-box"===s?a+l:0),overflowing:Math.abs(g-u)<=1}}),[i,o,e.placeholder]),g=Y.useCallback((()=>{const e=d();if(null==(t=e)||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=c.current;n.style.height=`${e.outerHeightStyle}px`,n.style.overflow=e.overflowing?"hidden":""}),[d]);Sb((()=>{const e=()=>{g()};const t=Eb(e),n=c.current,i=Ib(n);let o;return i.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(n)),()=>{t.clear(),cancelAnimationFrame(undefined),i.removeEventListener("resize",t),o&&o.disconnect()}}),[d,g]),Sb((()=>{g()}));return re.jsxs(Y.Fragment,{children:[re.jsx("textarea",Kg({value:s,onChange:e=>{l||g(),n&&n(e)},ref:u,rows:o,style:r},a)),re.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:Kg({},sS,r,{paddingTop:0,paddingBottom:0})})]})})),lS=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],cS=["component","slots","slotProps"],uS=["component"];function hS(e,t){const{className:n,elementType:i,ownerState:o,externalForwardedProps:r,getSlotOwnerState:s,internalForwardedProps:a}=t,l=um(t,lS),{component:c,slots:u={[e]:void 0},slotProps:h={[e]:void 0}}=r,d=um(r,cS),g=u[e]||i,f=Ly(h[e],o),p=Ey(Kg({className:n},l,{externalForwardedProps:"root"===e?d:void 0,externalSlotProps:f})),{props:{component:m},internalRef:v}=p,b=um(p.props,uS),_=Bb(v,null==f?void 0:f.ref,t.ref),y=s?s(b):{},w=Kg({},o,y),C="root"===e?m||c:m,S=wy(g,Kg({},"root"===e&&!c&&!u[e]&&a,"root"!==e&&!u[e]&&a,b,C&&{as:C},{ref:_}),w);return Object.keys(y).forEach((e=>{delete S[e]})),[g,S]}function dS(e){return iy("MuiListItem",e)}const gS=oy("MuiListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),fS=Y.createContext(!1),pS=Y.createContext(!1),mS=Y.createContext(!1),vS=Y.createContext(void 0),bS=Y.createContext(void 0),_S=Y.createContext(void 0),yS=["component","className","children","nested","sticky","variant","color","startAction","endAction","role","slots","slotProps"],wS=_y("li")((({theme:e,ownerState:t})=>{var n;return[!t.nested&&{"--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItemButton-marginBlock":"calc(-1 * var(--ListItem-paddingY))",alignItems:"center",gap:"var(--ListItem-gap)",marginInline:"var(--ListItem-marginInline)"},t.nested&&{"--NestedList-marginRight":"calc(-1 * var(--ListItem-paddingRight))","--NestedList-marginLeft":"calc(-1 * var(--ListItem-paddingLeft))","--NestedListItem-paddingLeft":"calc(var(--ListItem-paddingLeft) + var(--List-nestedInsetStart))","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItem-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))",flexDirection:"column"},Kg({"--unstable_actionRadius":"calc(var(--ListItem-radius) - var(--variant-borderWidth, 0px))"},t.startAction&&{"--unstable_startActionWidth":"2rem"},t.endAction&&{"--unstable_endActionWidth":"2.5rem"},{boxSizing:"border-box",borderRadius:"var(--ListItem-radius)",display:"var(--_ListItem-display)","&:not([hidden])":{"--_ListItem-display":"var(--_List-markerDisplay, flex)"},flex:"none",listStyleType:"var(--_List-markerType, disc)",position:"relative",paddingBlockStart:t.nested?0:"var(--ListItem-paddingY)",paddingBlockEnd:t.nested?0:"var(--ListItem-paddingY)",paddingInlineStart:"var(--ListItem-paddingLeft)",paddingInlineEnd:"var(--ListItem-paddingRight)"},void 0===t["data-first-child"]&&Kg({},t.row?{marginInlineStart:"var(--List-gap)"}:{marginBlockStart:"var(--List-gap)"}),t.row&&t.wrap&&{marginInlineStart:"var(--List-gap)",marginBlockStart:"var(--List-gap)"},{minBlockSize:"var(--ListItem-minHeight)"},t.sticky&&{position:"sticky",top:"var(--ListItem-stickyTop, 0px)",zIndex:1,background:`var(--ListItem-stickyBackground, ${e.vars.palette.background.body})`},{[`.${gS.nested} > &`]:{"--_ListItem-display":"flex"}}),null==(n=e.variants[t.variant])?void 0:n[t.color]]})),CS=_y(wS,{name:"JoyListItem",slot:"Root",overridesResolver:(e,t)=>t.root})({}),SS=_y("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(e,t)=>t.startAction})((({ownerState:e})=>({display:"inherit",position:"absolute",top:e.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",left:0,transform:"translate(var(--ListItem-startActionTranslateX), -50%)",zIndex:1}))),xS=_y("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(e,t)=>t.startAction})((({ownerState:e})=>({display:"inherit",position:"absolute",top:e.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",right:0,transform:"translate(var(--ListItem-endActionTranslateX), -50%)"}))),kS=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyListItem"}),i=Y.useContext(_S),o=Y.useContext(vS),r=Y.useContext(pS),s=Y.useContext(mS),a=Y.useContext(fS),{component:l,className:c,children:u,nested:h=!1,sticky:d=!1,variant:g="plain",color:f="neutral",startAction:p,endAction:m,role:v,slots:b={},slotProps:_={}}=n,y=um(n,yS),[w,C]=Y.useState(""),[S,x]=(null==o?void 0:o.split(":"))||["",""],k=l||(S&&!S.match(/^(ul|ol|menu)$/)?"div":void 0);let L="menu"===i?"none":void 0;o&&(L={menu:"none",menubar:"none",group:"presentation"}[x]),v&&(L=v);const D=Kg({},n,{sticky:d,startAction:p,endAction:m,row:r,wrap:s,variant:g,color:f,nesting:a,nested:h,component:k,role:L}),E=(e=>{const{sticky:t,nested:n,nesting:i,variant:o,color:r}=e;return Jb({root:["root",n&&"nested",i&&"nesting",t&&"sticky",r&&`color${Lm(r)}`,o&&`variant${Lm(o)}`],startAction:["startAction"],endAction:["endAction"]},dS,{})})(D),N=Kg({},y,{component:k,slots:b,slotProps:_}),[T,I]=hS("root",{additionalProps:{role:L},ref:t,className:Ov(E.root,c),elementType:CS,externalForwardedProps:N,ownerState:D}),[M,R]=hS("startAction",{className:E.startAction,elementType:SS,externalForwardedProps:N,ownerState:D}),[A,O]=hS("endAction",{className:E.endAction,elementType:xS,externalForwardedProps:N,ownerState:D});return re.jsx(bS.Provider,{value:C,children:re.jsx(fS.Provider,{value:!!h&&(w||!0),children:re.jsxs(T,Kg({},I,{children:[p&&re.jsx(M,Kg({},R,{children:p})),Y.Children.map(u,((e,t)=>Y.isValidElement(e)?Y.cloneElement(e,Kg({},0===t&&{"data-first-child":""},Nb(e,["ListItem"])&&{component:e.props.component||"div"})):e)),m&&re.jsx(A,Kg({},O,{children:m}))]}))})})}));kS.muiName="ListItem";const LS={"--NestedList-marginRight":"0px","--NestedList-marginLeft":"0px","--NestedListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px"};function DS(e){const{children:t,nested:n,row:i=!1,wrap:o=!1}=e,r=re.jsx(pS.Provider,{value:i,children:re.jsx(mS.Provider,{value:o,children:Y.Children.map(t,((e,n)=>Y.isValidElement(e)?Y.cloneElement(e,Kg({},0===n&&{"data-first-child":""},n===Y.Children.count(t)-1&&{"data-last-child":""})):e))})});return void 0===n?r:re.jsx(fS.Provider,{value:n,children:r})}const ES=({theme:e,ownerState:t},n)=>{let i={};return t.sx&&(!function t(n){"function"==typeof n?t(n(e)):Array.isArray(n)?n.forEach((e=>{"boolean"!=typeof e&&t(e)})):"object"==typeof n&&(i=Kg({},i,n))}(t.sx),n.forEach((t=>{const n=i[t];var o;"string"==typeof n||"number"==typeof n?"borderRadius"===t?i[t]="number"==typeof n?`${n}px`:(null==(o=e.vars)?void 0:o.radius[n])||n:-1!==["p","padding","m","margin"].indexOf(t)&&"number"==typeof n?i[t]=e.spacing(n):i[t]=n:i[t]="function"==typeof n?n(e):void 0}))),i};function NS(e){return iy("MuiList",e)}oy("MuiList",["root","nesting","scoped","sizeSm","sizeMd","sizeLg","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","horizontal","vertical"]);const TS=Y.createContext(void 0),IS=["component","className","children","size","orientation","wrap","variant","color","role","slots","slotProps"],MS=_y("ul")((({theme:e,ownerState:t})=>{var n;const{p:i,padding:o,borderRadius:r}=ES({theme:e,ownerState:t},["p","padding","borderRadius"]);function s(n){return"sm"===n?{"--ListDivider-gap":"0.25rem","--ListItem-minHeight":"2rem","--ListItem-paddingY":"3px","--ListItem-paddingX":t.marker?"3px":"0.5rem","--ListItem-gap":"0.5rem","--ListItemDecorator-size":"horizontal"===t.orientation?"1.5rem":"2rem","--Icon-fontSize":e.vars.fontSize.lg}:"md"===n?{"--ListDivider-gap":"0.375rem","--ListItem-minHeight":"2.25rem","--ListItem-paddingY":"0.25rem","--ListItem-paddingX":t.marker?"0.25rem":"0.75rem","--ListItem-gap":"0.625rem","--ListItemDecorator-size":"horizontal"===t.orientation?"1.75rem":"2.5rem","--Icon-fontSize":e.vars.fontSize.xl}:"lg"===n?{"--ListDivider-gap":"0.5rem","--ListItem-minHeight":"2.75rem","--ListItem-paddingY":"0.375rem","--ListItem-paddingX":t.marker?"0.5rem":"1rem","--ListItem-gap":"0.75rem","--ListItemDecorator-size":"horizontal"===t.orientation?"2.25rem":"3rem","--Icon-fontSize":e.vars.fontSize.xl2}:{}}return[t.nesting&&Kg({},s(t.instanceSize),{"--ListItem-paddingRight":"var(--ListItem-paddingX)","--ListItem-paddingLeft":"var(--NestedListItem-paddingLeft)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px",padding:0},t.marker&&{paddingInlineStart:"calc(3ch - var(--_List-markerDeduct, 0px))"},{marginInlineStart:"var(--NestedList-marginLeft)",marginInlineEnd:"var(--NestedList-marginRight)",marginBlockStart:"var(--List-gap)",marginBlockEnd:"initial"}),!t.nesting&&Kg({},s(t.size),{"--List-gap":"0px","--List-nestedInsetStart":"0px","--ListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItem-paddingRight":"var(--ListItem-paddingX)"},t.marker&&{"--_List-markerDeduct":"1ch"},{"--unstable_List-childRadius":"calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px))","--ListItem-radius":"var(--unstable_List-childRadius)","--ListItem-startActionTranslateX":"calc(0.5 * var(--ListItem-paddingLeft))","--ListItem-endActionTranslateX":"calc(-0.5 * var(--ListItem-paddingRight))",margin:"initial"},e.typography[`body-${t.size}`],"horizontal"===t.orientation?Kg({},t.wrap?{padding:"var(--List-padding)",marginInlineStart:"calc(-1 * var(--List-gap))",marginBlockStart:"calc(-1 * var(--List-gap))"}:{paddingInline:"var(--List-padding, var(--ListDivider-gap))",paddingBlock:"var(--List-padding)"}):{paddingBlock:"var(--List-padding, var(--ListDivider-gap))",paddingInline:"var(--List-padding)"},t.marker&&{paddingInlineStart:"3ch"}),Kg({boxSizing:"border-box",borderRadius:"var(--List-radius)",listStyle:"none",display:"flex",flexDirection:"horizontal"===t.orientation?"row":"column"},t.wrap&&{flexWrap:"wrap"},t.marker&&{"--_List-markerDisplay":"list-item","--_List-markerType":t.marker,lineHeight:"calc(var(--ListItem-minHeight) - 2 * var(--ListItem-paddingY))"},{flexGrow:1,position:"relative"},null==(n=e.variants[t.variant])?void 0:n[t.color],{"--unstable_List-borderWidth":"var(--variant-borderWidth, 0px)"},void 0!==r&&{"--List-radius":r},void 0!==i&&{"--List-padding":i},void 0!==o&&{"--List-padding":o})]})),RS=_y(MS,{name:"JoyList",slot:"Root",overridesResolver:(e,t)=>t.root})({}),AS=Y.forwardRef((function(e,t){var n;const i=Y.useContext(fS),o=Y.useContext(_S),r=Y.useContext(TS),s=yy({props:e,name:"JoyList"}),{component:a,className:l,children:c,size:u,orientation:h="vertical",wrap:d=!1,variant:g="plain",color:f="neutral",role:p,slots:m={},slotProps:v={}}=s,b=um(s,IS),_=u||(null!=(n=e.size)?n:"md");let y;o&&(y="group"),r&&(y="presentation"),p&&(y=p);const w=Kg({},s,{instanceSize:e.size,size:_,nesting:i,orientation:h,wrap:d,variant:g,color:f,role:y}),C=(e=>{const{variant:t,color:n,size:i,nesting:o,orientation:r,instanceSize:s}=e;return Jb({root:["root",r,t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`,!s&&!o&&i&&`size${Lm(i)}`,s&&`size${Lm(s)}`,o&&"nesting"]},NS,{})})(w),S=Kg({},b,{component:a,slots:m,slotProps:v}),[x,k]=hS("root",{ref:t,className:Ov(C.root,l),elementType:RS,externalForwardedProps:S,ownerState:w,additionalProps:{as:a,role:y,"aria-labelledby":"string"==typeof i?i:void 0}});return re.jsx(x,Kg({},k,{children:re.jsx(vS.Provider,{value:`${"string"==typeof a?a:""}:${y||""}`,children:re.jsx(DS,{row:"horizontal"===h,wrap:d,children:c})})}))}));function OS(e){return iy("MuiListItemButton",e)}const PS=oy("MuiListItemButton",["root","horizontal","vertical","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","variantPlain","variantSoft","variantOutlined","variantSolid"]),FS=Y.createContext("horizontal"),BS=["children","className","action","component","orientation","role","selected","color","variant","slots","slotProps"],zS=_y("div")((({theme:e,ownerState:t})=>{var n,i,o,r,s,a;return Kg({"--Icon-margin":"initial","--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon,WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",font:"inherit",display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch",gap:"var(--ListItem-gap)"},"vertical"===t.orientation&&{flexDirection:"column",justifyContent:"center"},{textAlign:"initial",textDecoration:"initial",backgroundColor:"initial",cursor:"pointer",marginInline:"var(--ListItemButton-marginInline)",marginBlock:"var(--ListItemButton-marginBlock)"},void 0===t["data-first-child"]&&{marginInlineStart:t.row?"var(--List-gap)":void 0,marginBlockStart:t.row?void 0:"var(--List-gap)"},{paddingBlock:"calc(var(--ListItem-paddingY) - var(--variant-borderWidth, 0px))",paddingInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItem-startActionWidth, var(--unstable_startActionWidth, 0px)))",paddingInlineEnd:"calc(var(--ListItem-paddingRight) + var(--ListItem-endActionWidth, var(--unstable_endActionWidth, 0px)))",minBlockSize:"var(--ListItem-minHeight)",border:"1px solid transparent",borderRadius:"var(--ListItem-radius)",flex:"var(--unstable_ListItem-flex, none)",fontSize:"inherit",lineHeight:"inherit",minInlineSize:0,[e.focus.selector]:Kg({},e.focus.default,{zIndex:1})},null==(n=e.variants[t.variant])?void 0:n[t.color],{"&:active":null==(i=e.variants[`${t.variant}Active`])?void 0:i[t.color],[`.${gS.root} > &`]:{"--unstable_ListItem-flex":"1 0 0%"},[`&.${PS.selected}`]:Kg({},null==(o=e.variants[`${t.variant}Active`])?void 0:o[t.color],{"--Icon-color":"currentColor"}),[`&:not(.${PS.selected}, [aria-selected="true"])`]:{"&:hover":null==(r=e.variants[`${t.variant}Hover`])?void 0:r[t.color],"&:active":null==(s=e.variants[`${t.variant}Active`])?void 0:s[t.color]},[`&.${PS.disabled}`]:Kg({},null==(a=e.variants[`${t.variant}Disabled`])?void 0:a[t.color])})})),VS=_y(zS,{name:"JoyListItemButton",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>Kg({},!e.row&&{[`&.${PS.selected}`]:{fontWeight:t.vars.fontWeight.md}}))),WS=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyListItemButton"}),i=Y.useContext(pS),{children:o,className:r,action:s,component:a="div",orientation:l="horizontal",role:c,selected:u=!1,color:h="neutral",variant:d="plain",slots:g={},slotProps:f={}}=n,p=um(n,BS),m=Y.useRef(null),v=Bb(m,t),{focusVisible:b,setFocusVisible:_,getRootProps:y}=Ry(Kg({},n,{rootRef:v}));Y.useImperativeHandle(s,(()=>({focusVisible:()=>{var e;_(!0),null==(e=m.current)||e.focus()}})),[_]);const w=Kg({},n,{component:a,color:h,focusVisible:b,orientation:l,row:i,selected:u,variant:d}),C=(e=>{const{color:t,disabled:n,focusVisible:i,focusVisibleClassName:o,selected:r,variant:s}=e,a=Jb({root:["root",n&&"disabled",i&&"focusVisible",t&&`color${Lm(t)}`,r&&"selected",s&&`variant${Lm(s)}`]},OS,{});return i&&o&&(a.root+=` ${o}`),a})(w),S=Kg({},p,{component:a,slots:g,slotProps:f}),[x,k]=hS("root",{ref:t,className:Ov(C.root,r),elementType:VS,externalForwardedProps:S,ownerState:w,getSlotProps:y});return re.jsx(FS.Provider,{value:l,children:re.jsx(x,Kg({},k,{role:null!=c?c:k.role,children:o}))})}));function HS(e){return iy("MuiSvgIcon",e)}oy("MuiSvgIcon",["root","colorInherit","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","fontSizeInherit","fontSizeXs","fontSizeSm","fontSizeMd","fontSizeLg","fontSizeXl","fontSizeXl2","fontSizeXl3","fontSizeXl4","sizeSm","sizeMd","sizeLg"]);const $S=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox","size","slots","slotProps"],jS={sm:"xl",md:"xl2",lg:"xl3"},US=_y("svg",{name:"JoySvgIcon",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n;return Kg({},t.instanceSize&&{"--Icon-fontSize":e.vars.fontSize[jS[t.instanceSize]]},t.instanceFontSize&&"inherit"!==t.instanceFontSize&&{"--Icon-fontSize":e.vars.fontSize[t.instanceFontSize]},{userSelect:"none",margin:"var(--Icon-margin)",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,fontSize:`var(--Icon-fontSize, ${e.vars.fontSize[jS[t.size]]||"unset"})`},t.fontSize&&"inherit"!==t.fontSize&&{fontSize:`var(--Icon-fontSize, ${e.fontSize[t.fontSize]})`},!t.htmlColor&&Kg({color:`var(--Icon-color, ${e.vars.palette.text.icon})`},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&e.vars.palette[t.color]&&{color:`rgba(${null==(n=e.vars.palette[t.color])?void 0:n.mainChannel} / 1)`}))})),KS=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoySvgIcon"}),{children:i,className:o,color:r,component:s="svg",fontSize:a,htmlColor:l,inheritViewBox:c=!1,titleAccess:u,viewBox:h="0 0 24 24",size:d="md",slots:g={},slotProps:f={}}=n,p=um(n,$S),m=Y.isValidElement(i)&&"svg"===i.type,v=Kg({},n,{color:r,component:s,size:d,instanceSize:e.size,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),b=(e=>{const{color:t,size:n,fontSize:i}=e;return Jb({root:["root",t&&"inherit"!==t&&`color${Lm(t)}`,n&&`size${Lm(n)}`,i&&`fontSize${Lm(i)}`]},HS,{})})(v),_=Kg({},p,{component:s,slots:g,slotProps:f}),[y,w]=hS("root",{ref:t,className:Ov(b.root,o),elementType:US,externalForwardedProps:_,ownerState:v,additionalProps:Kg({color:l,focusable:!1},u&&{role:"img"},!u&&{"aria-hidden":!0},!c&&{viewBox:h},m&&i.props)});return re.jsxs(y,Kg({},w,{children:[m?i.props.children:i,u?re.jsx("title",{children:u}):null]}))}));function qS(e,t){function n(n,i){return re.jsx(KS,Kg({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=KS.muiName,Y.memo(Y.forwardRef(n))}const GS=e=>t=>`--${e?`${e}-`:""}${t.replace(/^--/,"")}`,YS="data-skip-inverted-colors",XS=`& :not([${YS}], [${YS}] *)`,ZS=e=>{var t,n,i,o,r,s,a,l,c,u,h,d,g,f,p,m,v,b,_,y,w,C;const S=GS(e.cssVarPrefix);return{"--variant-plainColor":"var(--variant-plainColor) !important","--variant-plainHoverColor":"var(--variant-plainHoverColor) !important","--variant-plainHoverBg":"var(--variant-plainHoverBg) !important","--variant-plainActiveBg":"var(--variant-plainActiveBg) !important","--variant-plainDisabledColor":"var(--variant-plainDisabledColor) !important","--variant-outlinedColor":"var(--variant-outlinedColor) !important","--variant-outlinedBorder":"var(--variant-outlinedBorder) !important","--variant-outlinedHoverColor":"var(--variant-outlinedHoverColor) !important","--variant-outlinedHoverBorder":"var(--variant-outlinedHoverBorder) !important","--variant-outlinedHoverBg":"var(--variant-outlinedHoverBg) !important","--variant-outlinedActiveBg":"var(--variant-outlinedActiveBg) !important","--variant-outlinedDisabledColor":"var(--variant-outlinedDisabledColor) !important","--variant-outlinedDisabledBorder":"var(--variant-outlinedDisabledBorder) !important","--variant-softColor":"var(--variant-softColor) !important","--variant-softHoverColor":"var(--variant-softHoverColor) !important","--variant-softBg":"var(--variant-softBg) !important","--variant-softHoverBg":"var(--variant-softHoverBg) !important","--variant-softActiveBg":"var(--variant-softActiveBg) !important","--variant-softActiveColor":"var(--variant-softActiveColor) !important","--variant-softDisabledColor":"var(--variant-softDisabledColor) !important","--variant-softDisabledBg":"var(--variant-softDisabledBg) !important","--variant-solidColor":"var(--variant-solidColor) !important","--variant-solidBg":"var(--variant-solidBg) !important","--variant-solidHoverBg":"var(--variant-solidHoverBg) !important","--variant-solidActiveBg":"var(--variant-solidActiveBg) !important","--variant-solidDisabledColor":"var(--variant-solidDisabledColor) !important","--variant-solidDisabledBg":"var(--variant-solidDisabledBg) !important","--Badge-ringColor":"var(--Badge-ringColor) !important",colorScheme:"unset",[e.getColorSchemeSelector("light")]:{[S("--palette-focusVisible")]:`${null==(t=e.colorSchemes.light)?void 0:t.palette.focusVisible} !important`,[S("--palette-background-body")]:`${null==(n=e.colorSchemes.light)?void 0:n.palette.background.body} !important`,[S("--palette-background-surface")]:`${null==(i=e.colorSchemes.light)?void 0:i.palette.background.surface} !important`,[S("--palette-background-popup")]:`${null==(o=e.colorSchemes.light)?void 0:o.palette.background.popup} !important`,[S("--palette-background-level1")]:`${null==(r=e.colorSchemes.light)?void 0:r.palette.background.level1} !important`,[S("--palette-background-level2")]:`${null==(s=e.colorSchemes.light)?void 0:s.palette.background.level2} !important`,[S("--palette-background-level3")]:`${null==(a=e.colorSchemes.light)?void 0:a.palette.background.level3} !important`,[S("--palette-text-primary")]:`${null==(l=e.colorSchemes.light)?void 0:l.palette.text.primary} !important`,[S("--palette-text-secondary")]:`${null==(c=e.colorSchemes.light)?void 0:c.palette.text.secondary} !important`,[S("--palette-text-tertiary")]:`${null==(u=e.colorSchemes.light)?void 0:u.palette.text.tertiary} !important`,[S("--palette-divider")]:`${null==(h=e.colorSchemes.light)?void 0:h.palette.divider} !important`},[e.getColorSchemeSelector("dark")]:{[S("--palette-focusVisible")]:`${null==(d=e.colorSchemes.dark)?void 0:d.palette.focusVisible} !important`,[S("--palette-background-body")]:`${null==(g=e.colorSchemes.dark)?void 0:g.palette.background.body} !important`,[S("--palette-background-surface")]:`${null==(f=e.colorSchemes.dark)?void 0:f.palette.background.surface} !important`,[S("--palette-background-popup")]:`${null==(p=e.colorSchemes.dark)?void 0:p.palette.background.popup} !important`,[S("--palette-background-level1")]:`${null==(m=e.colorSchemes.dark)?void 0:m.palette.background.level1} !important`,[S("--palette-background-level2")]:`${null==(v=e.colorSchemes.dark)?void 0:v.palette.background.level2} !important`,[S("--palette-background-level3")]:`${null==(b=e.colorSchemes.dark)?void 0:b.palette.background.level3} !important`,[S("--palette-text-primary")]:`${null==(_=e.colorSchemes.dark)?void 0:_.palette.text.primary} !important`,[S("--palette-text-secondary")]:`${null==(y=e.colorSchemes.dark)?void 0:y.palette.text.secondary} !important`,[S("--palette-text-tertiary")]:`${null==(w=e.colorSchemes.dark)?void 0:w.palette.text.tertiary} !important`,[S("--palette-divider")]:`${null==(C=e.colorSchemes.dark)?void 0:C.palette.divider} !important`}}};const QS=e=>t=>{const n=void 0!==t.theme?t.theme:t;const i=w_(n.cssVarPrefix),o=GS(n.cssVarPrefix),r=e=>{const t=e.split("-");return i(e,n.palette[t[1]][t[2]])};return{[XS]:{"--Badge-ringColor":r(`palette-${e}-solidBg`),"--Icon-color":"currentColor",[`${n.getColorSchemeSelector("light")}, ${n.getColorSchemeSelector("dark")}`]:{colorScheme:"dark",[o("--palette-focusVisible")]:r(`palette-${e}-200`),[o("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[o("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[o("--palette-background-popup")]:r(`palette-${e}-700`),[o("--palette-background-level1")]:`rgba(${r(`palette-${e}-darkChannel`)} / 0.2)`,[o("--palette-background-level2")]:`rgba(${r(`palette-${e}-darkChannel`)} / 0.36)`,[o("--palette-background-level3")]:`rgba(${r(`palette-${e}-darkChannel`)} / 0.6)`,[o("--palette-text-primary")]:r("palette-common-white"),[o("--palette-text-secondary")]:r(`palette-${e}-200`),[o("--palette-text-tertiary")]:r(`palette-${e}-300`),[o("--palette-text-icon")]:r(`palette-${e}-200`),[o("--palette-divider")]:`rgba(${r(`palette-${e}-lightChannel`)} / 0.32)`,"--variant-plainColor":r(`palette-${e}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${r(`palette-${e}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":r(`palette-${e}-50`),"--variant-outlinedBorder":`rgba(${r(`palette-${e}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":r(`palette-${e}-300`),"--variant-outlinedHoverBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${r(`palette-${e}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":r("palette-common-white"),"--variant-softHoverColor":r("palette-common-white"),"--variant-softBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.16)`,"--variant-softActiveColor":"#fff","--variant-softDisabledColor":`rgba(${r(`palette-${e}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.1)`,"--variant-solidColor":r(`palette-${e}-${"neutral"===e?"600":"500"}`),"--variant-solidBg":r("palette-common-white"),"--variant-solidHoverBg":r("palette-common-white"),"--variant-solidActiveBg":r(`palette-${e}-100`),"--variant-solidDisabledColor":`rgba(${r(`palette-${e}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.1)`}},[`&, & [${YS}]`]:ZS(n)}},JS=e=>t=>{const{theme:n=t}=t,i=w_(n.cssVarPrefix),o=GS(n.cssVarPrefix),r=e=>{const t=e.split("-");return i(e,n.palette[t[1]][t[2]])};return{[XS]:{"--Badge-ringColor":r(`palette-${e}-softBg`),"--Icon-color":"currentColor",[n.getColorSchemeSelector("dark")]:{[o("--palette-focusVisible")]:r(`palette-${e}-300`),[o("--palette-background-body")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.1)`,[o("--palette-background-surface")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.08)`,[o("--palette-background-level1")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.2)`,[o("--palette-background-level2")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.4)`,[o("--palette-background-level3")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.6)`,[o("--palette-text-primary")]:r(`palette-${e}-100`),[o("--palette-text-secondary")]:`rgba(${r(`palette-${e}-lightChannel`)} / 0.72)`,[o("--palette-text-tertiary")]:`rgba(${r(`palette-${e}-lightChannel`)} / 0.6)`,[o("--palette-text-icon")]:`rgba(${r(`palette-${e}-lightChannel`)} / 0.6)`,[o("--palette-divider")]:`rgba(${r(`palette-${e}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${r(`palette-${e}-lightChannel`)} / 1)`,"--variant-plainHoverColor":r(`palette-${e}-50`),"--variant-plainHoverBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${r(`palette-${e}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":r(`palette-${e}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${r(`palette-${e}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":r(`palette-${e}-600`),"--variant-outlinedHoverBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${r(`palette-${e}-mainChannel`)} / 0.2)`,"--variant-softColor":r(`palette-${e}-200`),"--variant-softBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":r(`palette-${e}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":r(`palette-${e}-600`),"--variant-solidActiveBg":r(`palette-${e}-600`),"--variant-solidDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.12)`},[n.getColorSchemeSelector("light")]:{[o("--palette-focusVisible")]:r(`palette-${e}-500`),[o("--palette-background-body")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.1)`,[o("--palette-background-surface")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.08)`,[o("--palette-background-level1")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.2)`,[o("--palette-background-level2")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.32)`,[o("--palette-background-level3")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.48)`,[o("--palette-text-primary")]:r(`palette-${e}-700`),[o("--palette-text-secondary")]:`rgba(${r(`palette-${e}-darkChannel`)} / 0.8)`,[o("--palette-text-tertiary")]:`rgba(${r(`palette-${e}-darkChannel`)} / 0.68)`,[o("--palette-text-icon")]:r(`palette-${e}-500`),[o("--palette-divider")]:`rgba(${r(`palette-${e}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${r(`palette-${e}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${r(`palette-${e}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${r(`palette-${e}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${r(`palette-${e}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":r(`palette-${e}-600`),"--variant-outlinedHoverBorder":r(`palette-${e}-300`),"--variant-outlinedHoverBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${r(`palette-${e}-mainChannel`)} / 0.12)`,"--variant-softColor":r(`palette-${e}-600`),"--variant-softBg":`rgba(${r(`palette-${e}-lightChannel`)} / 0.8)`,"--variant-softHoverColor":r(`palette-${e}-700`),"--variant-softHoverBg":r(`palette-${e}-200`),"--variant-softActiveBg":r(`palette-${e}-300`),"--variant-softDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.08)`,"--variant-solidColor":r("palette-common-white"),"--variant-solidBg":r(`palette-${e}-${"neutral"===e?"700":"500"}`),"--variant-solidHoverColor":r("palette-common-white"),"--variant-solidHoverBg":r(`palette-${e}-600`),"--variant-solidActiveBg":r(`palette-${e}-600`),"--variant-solidDisabledColor":`rgba(${r(`palette-${e}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${r(`palette-${e}-mainChannel`)} / 0.08)`}},[`&, & [${YS}]`]:ZS(n)}};function ex(e){return iy("MuiAspectRatio",e)}oy("MuiAspectRatio",["root","content","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const tx=["children","ratio","minHeight","maxHeight","objectFit","color","variant","component","flex","slots","slotProps"],nx=_y("div",{name:"JoyAspectRatio",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>{const n="number"==typeof e.minHeight?`${e.minHeight}px`:e.minHeight,i="number"==typeof e.maxHeight?`${e.maxHeight}px`:e.maxHeight;return{"--AspectRatio-paddingBottom":`clamp(var(--AspectRatio-minHeight), calc(100% / (${e.ratio})), var(--AspectRatio-maxHeight))`,"--AspectRatio-maxHeight":i||"9999px","--AspectRatio-minHeight":n||"0px","--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon,borderRadius:"var(--AspectRatio-radius)",display:e.flex?"flex":"block",flex:e.flex?1:"initial",flexDirection:"column",margin:"var(--AspectRatio-margin)"}})),ix=_y("div",{name:"JoyAspectRatio",slot:"Content",overridesResolver:(e,t)=>t.content})((({theme:e,ownerState:t})=>{var n;return Kg({flex:1,position:"relative",borderRadius:"inherit",height:0,paddingBottom:"calc(var(--AspectRatio-paddingBottom) - 2 * var(--variant-borderWidth, 0px))",overflow:"hidden",transition:"inherit","& [data-first-child]":{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",position:"absolute",width:"100%",height:"100%",objectFit:t.objectFit,margin:0,padding:0,"& > img":{width:"100%",height:"100%",objectFit:t.objectFit}}},e.typography["body-md"],null==(n=e.variants[t.variant])?void 0:n[t.color])})),ox=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyAspectRatio"}),{children:i,ratio:o="16 / 9",minHeight:r,maxHeight:s,objectFit:a="cover",color:l="neutral",variant:c="soft",component:u,flex:h=!1,slots:d={},slotProps:g={}}=n,f=um(n,tx),p=Kg({},n,{flex:h,minHeight:r,maxHeight:s,objectFit:a,ratio:o,color:l,variant:c}),m=(e=>{const{variant:t,color:n}=e;return Jb({root:["root"],content:["content",t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`]},ex,{})})(p),v=Kg({},f,{component:u,slots:d,slotProps:g}),[b,_]=hS("root",{ref:t,className:m.root,elementType:nx,externalForwardedProps:v,ownerState:p}),[y,w]=hS("content",{className:m.content,elementType:ix,externalForwardedProps:v,ownerState:p});return re.jsx(b,Kg({},_,{children:re.jsx(y,Kg({},w,{children:Y.Children.map(i,((e,t)=>0===t&&Y.isValidElement(e)?Y.cloneElement(e,{"data-first-child":""}):e))}))}))})),rx=qS(re.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),sx=Y.createContext(void 0);function ax(e,t,n=!1){const i=Y.useContext(sx),[o,r]="string"==typeof i?i.split(":"):[],s=function(e,t){let n=t,i=e;return"outlined"===e&&(n="neutral",i="plain"),"plain"===e&&(n="neutral"),{variant:i,color:n}}(o||void 0,r||void 0);return s.variant=e||s.variant,s.color=t||(n?r:s.color),s}function lx({children:e,color:t,variant:n}){return re.jsx(sx.Provider,{value:`${n||""}:${t||""}`,children:e})}function cx(e){return iy("MuiIconButton",e)}const ux=oy("MuiIconButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","loading","loadingIndicator"]),hx=Y.createContext({}),dx=Y.createContext(void 0);function gx(e){return iy("MuiCircularProgress",e)}oy("MuiCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let fx,px=e=>e;const mx=["color","backgroundColor"],vx=["children","className","color","size","variant","thickness","determinate","value","component","slots","slotProps"],bx=Gp({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}});function _x(e,t){return`var(--CircularProgress-${e}Thickness, var(--CircularProgress-thickness, ${t}))`}const yx=_y("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>{var n,i,o,r;const s=(null==(n=t.variants[e.variant])?void 0:n[e.color])||{},{color:a,backgroundColor:l}=s,c=um(s,mx);return Kg({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-trackColor":l,"--CircularProgress-progressColor":a,"--CircularProgress-percent":e.value,"--CircularProgress-linecap":"round"},"sm"===e.size&&{"--_root-size":"var(--CircularProgress-size, 24px)","--_track-thickness":_x("track","3px"),"--_progress-thickness":_x("progress","3px")},"sm"===e.instanceSize&&{"--CircularProgress-size":"24px"},"md"===e.size&&{"--_track-thickness":_x("track","6px"),"--_progress-thickness":_x("progress","6px"),"--_root-size":"var(--CircularProgress-size, 40px)"},"md"===e.instanceSize&&{"--CircularProgress-size":"40px"},"lg"===e.size&&{"--_track-thickness":_x("track","8px"),"--_progress-thickness":_x("progress","8px"),"--_root-size":"var(--CircularProgress-size, 64px)"},"lg"===e.instanceSize&&{"--CircularProgress-size":"64px"},e.thickness&&{"--_track-thickness":`${e.thickness}px`,"--_progress-thickness":`${e.thickness}px`},{"--_thickness-diff":"calc(var(--_track-thickness) - var(--_progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--_track-thickness), var(--_progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:a},e.children&&{fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},c,"outlined"===e.variant&&{"&::before":Kg({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},c)},"soft"===e.variant&&{"--CircularProgress-trackColor":t.variants.soft.neutral.backgroundColor,"--CircularProgress-progressColor":null==(i=t.variants.solid)?void 0:i[e.color].backgroundColor},"solid"===e.variant&&{"--CircularProgress-trackColor":null==(o=t.variants.softHover)?void 0:o[e.color].backgroundColor,"--CircularProgress-progressColor":null==(r=t.variants.solid)?void 0:r[e.color].backgroundColor})})),wx=_y("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),Cx=_y("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(e,t)=>t.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--_track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--_track-thickness)",stroke:"var(--CircularProgress-trackColor)"}),Sx=_y("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(e,t)=>t.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--_progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--_progress-thickness)",stroke:"var(--CircularProgress-progressColor)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},(({ownerState:e})=>!e.determinate&&qp(fx||(fx=px`
      animation: var(--CircularProgress-circulation, 0.8s linear 0s infinite normal none running)
        ${0};
    `),bx))),xx=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCircularProgress"}),{children:i,className:o,color:r="primary",size:s="md",variant:a="soft",thickness:l,determinate:c=!1,value:u=(c?0:25),component:h,slots:d={},slotProps:g={}}=n,f=um(n,vx),p=Kg({},n,{color:r,size:s,variant:a,thickness:l,value:u,determinate:c,instanceSize:e.size}),m=(e=>{const{determinate:t,color:n,variant:i,size:o}=e;return Jb({root:["root",t&&"determinate",n&&`color${Lm(n)}`,i&&`variant${Lm(i)}`,o&&`size${Lm(o)}`],svg:["svg"],track:["track"],progress:["progress"]},gx,{})})(p),v=Kg({},f,{component:h,slots:d,slotProps:g}),[b,_]=hS("root",{ref:t,className:Ov(m.root,o),elementType:yx,externalForwardedProps:v,ownerState:p,additionalProps:Kg({role:"progressbar",style:{"--CircularProgress-percent":u}},u&&c&&{"aria-valuenow":"number"==typeof u?Math.round(u):Math.round(Number(u||0))})}),[y,w]=hS("svg",{className:m.svg,elementType:wx,externalForwardedProps:v,ownerState:p}),[C,S]=hS("track",{className:m.track,elementType:Cx,externalForwardedProps:v,ownerState:p}),[x,k]=hS("progress",{className:m.progress,elementType:Sx,externalForwardedProps:v,ownerState:p});return re.jsxs(b,Kg({},_,{children:[re.jsxs(y,Kg({},w,{children:[re.jsx(C,Kg({},S)),re.jsx(x,Kg({},k))]})),i]}))})),kx=["children","action","component","color","disabled","variant","loading","loadingIndicator","size","slots","slotProps"],Lx=_y("button")((({theme:e,ownerState:t})=>{var n,i,o,r;return[Kg({"--Icon-margin":"initial","--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon},t.instanceSize&&{"--IconButton-size":{sm:"2rem",md:"2.25rem",lg:"2.75rem"}[t.instanceSize]},"sm"===t.size&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.6)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:e.vars.fontSize.sm,paddingInline:"2px"},"md"===t.size&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.25rem) / 1.5)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2.25rem)",minHeight:"var(--IconButton-size, 2.25rem)",fontSize:e.vars.fontSize.md,paddingInline:"0.25rem"},"lg"===t.size&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.75rem) / 1.571)","--CircularProgress-size":"28px","--CircularProgress-thickness":"4px",minWidth:"var(--IconButton-size, 2.75rem)",minHeight:"var(--IconButton-size, 2.75rem)",fontSize:e.vars.fontSize.lg,paddingInline:"0.375rem"},{WebkitTapHighlightColor:"transparent",paddingBlock:0,fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,margin:"var(--IconButton-margin)",borderRadius:`var(--IconButton-radius, ${e.vars.radius.sm})`,border:"none",boxSizing:"border-box",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",[e.focus.selector]:Kg({"--Icon-color":"currentColor"},e.focus.default)}),Kg({},null==(n=e.variants[t.variant])?void 0:n[t.color],{"&:hover":{"@media (hover: hover)":Kg({"--Icon-color":"currentColor"},null==(i=e.variants[`${t.variant}Hover`])?void 0:i[t.color])},'&:active, &[aria-pressed="true"]':Kg({"--Icon-color":"currentColor"},null==(o=e.variants[`${t.variant}Active`])?void 0:o[t.color]),"&:disabled":null==(r=e.variants[`${t.variant}Disabled`])?void 0:r[t.color]})]})),Dx=_y(Lx,{name:"JoyIconButton",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ex=_y("span",{name:"JoyIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((({theme:e,ownerState:t})=>{var n,i;return Kg({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:null==(n=e.variants[t.variant])||null==(n=n[t.color])?void 0:n.color},t.disabled&&{color:null==(i=e.variants[`${t.variant}Disabled`])||null==(i=i[t.color])?void 0:i.color})})),Nx=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyIconButton"}),{children:o,action:r,component:s="button",color:a="neutral",disabled:l,variant:c="plain",loading:u=!1,loadingIndicator:h,size:d="md",slots:g={},slotProps:f={}}=i,p=um(i,kx),m=Y.useContext(hx),v=Y.useContext(dx),b=e.variant||m.variant||c,_=e.size||m.size||d,y=e.color||m.color||a,w=null!=(n=e.loading||e.disabled)?n:m.disabled||u||l,C=Y.useRef(null),S=Bb(C,t),{focusVisible:x,setFocusVisible:k,getRootProps:L}=Ry(Kg({},i,{disabled:w,rootRef:S})),D=null!=h?h:re.jsx(xx,{color:y,thickness:{sm:2,md:3,lg:4}[_]||3});Y.useImperativeHandle(r,(()=>({focusVisible:()=>{var e;k(!0),null==(e=C.current)||e.focus()}})),[k]);const E=Kg({},i,{component:s,color:y,disabled:w,variant:b,loading:u,size:_,focusVisible:x,instanceSize:e.size}),N=(e=>{const{color:t,disabled:n,focusVisible:i,focusVisibleClassName:o,size:r,variant:s,loading:a}=e,l=Jb({root:["root",n&&"disabled",i&&"focusVisible",s&&`variant${Lm(s)}`,t&&`color${Lm(t)}`,r&&`size${Lm(r)}`,a&&"loading"],loadingIndicator:["loadingIndicator"]},cx,{});return i&&o&&(l.root+=` ${o}`),l})(E);let T=i["aria-pressed"];"function"==typeof f.root?T=f.root(E)["aria-pressed"]:f.root&&(T=f.root["aria-pressed"]),null!=v&&v.value&&(T=Array.isArray(v.value)?-1!==v.value.indexOf(i.value):v.value===i.value);const I=Kg({},p,{component:s,slots:g,slotProps:f}),[M,R]=hS("root",{ref:t,className:N.root,elementType:Dx,getSlotProps:L,externalForwardedProps:I,ownerState:E,additionalProps:{onClick:e=>{var t;let n=i.onClick;var o;("function"==typeof f.root?n=f.root(E).onClick:f.root&&(n=f.root.onClick),null==(t=n)||t(e),v)&&(null==(o=v.onClick)||o.call(v,e,i.value))},"aria-pressed":T}}),[A,O]=hS("loadingIndicator",{className:N.loadingIndicator,elementType:Ex,externalForwardedProps:I,ownerState:E});return re.jsx(M,Kg({},R,{children:u?re.jsx(A,Kg({},O,{children:D})):o}))}));function Tx(e){return iy("MuiChip",e)}Nx.muiName="IconButton";const Ix=oy("MuiChip",["root","clickable","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","disabled","endDecorator","focusVisible","label","labelSm","labelMd","labelLg","sizeSm","sizeMd","sizeLg","startDecorator","variantPlain","variantSolid","variantSoft","variantOutlined"]),Mx=Y.createContext({disabled:void 0,variant:void 0,color:void 0}),Rx=["children","className","color","onClick","disabled","size","variant","startDecorator","endDecorator","component","slots","slotProps"],Ax=_y("div",{name:"JoyChip",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o;const r=null==(n=e.variants[t.variant])?void 0:n[t.color],{borderRadius:s}=ES({theme:e,ownerState:t},["borderRadius"]);return[Kg({"--Chip-decoratorChildOffset":"min(calc(var(--Chip-paddingInline) - (var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decoratorChildHeight)) / 2), var(--Chip-paddingInline))","--Chip-decoratorChildRadius":"max(var(--_Chip-radius) - var(--variant-borderWidth, 0px) - var(--_Chip-paddingBlock), min(var(--_Chip-paddingBlock) + var(--variant-borderWidth, 0px), var(--_Chip-radius) / 2))","--Chip-deleteRadius":"var(--Chip-decoratorChildRadius)","--Chip-deleteSize":"var(--Chip-decoratorChildHeight)","--Avatar-radius":"var(--Chip-decoratorChildRadius)","--Avatar-size":"var(--Chip-decoratorChildHeight)","--Icon-margin":"initial","--Icon-color":"currentColor","--unstable_actionRadius":"var(--_Chip-radius)"},"sm"===t.size&&{"--Chip-paddingInline":"0.375rem","--Chip-decoratorChildHeight":"calc(var(--_Chip-minHeight) - 2 * var(--variant-borderWidth))","--Icon-fontSize":e.vars.fontSize.sm,"--_Chip-minHeight":"var(--Chip-minHeight, 1.25rem)",gap:"3px"},"md"===t.size&&{"--Chip-paddingInline":"0.5rem","--Chip-decoratorChildHeight":"calc(var(--_Chip-minHeight) - 0.25rem - 2 * var(--variant-borderWidth))","--Icon-fontSize":e.vars.fontSize.md,"--_Chip-minHeight":"var(--Chip-minHeight, 1.5rem)",gap:"0.25rem"},"lg"===t.size&&{"--Chip-paddingInline":"0.75rem","--Chip-decoratorChildHeight":"calc(var(--_Chip-minHeight) - 0.375rem - 2 * var(--variant-borderWidth))","--Icon-fontSize":e.vars.fontSize.lg,"--_Chip-minHeight":"var(--Chip-minHeight, 1.75rem)",gap:"0.375rem"},{"--_Chip-radius":"var(--Chip-radius, 1.5rem)","--_Chip-paddingBlock":"max((var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decoratorChildHeight)) / 2, 0px)",minHeight:"var(--_Chip-minHeight)",maxWidth:"max-content",paddingInline:"var(--Chip-paddingInline)",borderRadius:"var(--_Chip-radius)",position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",verticalAlign:"middle",boxSizing:"border-box"},e.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[t.size]}`],{fontWeight:e.vars.fontWeight.md,[`&.${Ix.disabled}`]:{color:null==(i=e.variants[`${t.variant}Disabled`])||null==(i=i[t.color])?void 0:i.color}}),...t.clickable?[{"--variant-borderWidth":"0px",color:null==r?void 0:r.color}]:[Kg({backgroundColor:e.vars.palette.background.surface},r,{[`&.${Ix.disabled}`]:null==(o=e.variants[`${t.variant}Disabled`])?void 0:o[t.color]})],void 0!==s&&{"--_Chip-radius":s}]})),Ox=_y("span",{name:"JoyChip",slot:"Label",overridesResolver:(e,t)=>t.label})((({ownerState:e})=>Kg({display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",order:1,minInlineSize:0,flexGrow:1},e.clickable&&{zIndex:1,pointerEvents:"none"}))),Px=_y("button",{name:"JoyChip",slot:"Action",overridesResolver:(e,t)=>t.action})((({theme:e,ownerState:t})=>{var n,i,o,r;return[{"--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon,position:"absolute",zIndex:0,top:0,left:0,bottom:0,right:0,width:"100%",border:"none",cursor:"pointer",padding:"initial",margin:"initial",backgroundColor:"initial",textDecoration:"none",borderRadius:"inherit",[e.focus.selector]:e.focus.default},Kg({backgroundColor:e.vars.palette.background.surface},null==(n=e.variants[t.variant])?void 0:n[t.color]),{"&:hover":{"@media (hover: hover)":null==(i=e.variants[`${t.variant}Hover`])?void 0:i[t.color]}},{"&:active":null==(o=e.variants[`${t.variant}Active`])?void 0:o[t.color]},{[`&.${Ix.disabled}`]:null==(r=e.variants[`${t.variant}Disabled`])?void 0:r[t.color]}]})),Fx=_y("span",{name:"JoyChip",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({"--Avatar-marginInlineStart":"calc(var(--Chip-decoratorChildOffset) * -1)","--IconButton-margin":"0 calc(-1 * var(--Chip-paddingInline) / 3) 0 calc(var(--Chip-decoratorChildOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Chip-paddingInline) / -4)",display:"inherit",order:0,zIndex:1,pointerEvents:"none"}),Bx=_y("span",{name:"JoyChip",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({"--IconButton-margin":"0 calc(var(--Chip-decoratorChildOffset) * -1) 0 calc(-1 * var(--Chip-paddingInline) / 3)","--Icon-margin":"0 calc(var(--Chip-paddingInline) / -4) 0 0",display:"inherit",order:2,zIndex:1,pointerEvents:"none"}),zx=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyChip"}),{children:i,className:o,color:r="neutral",onClick:s,disabled:a=!1,size:l="md",variant:c="soft",startDecorator:u,endDecorator:h,component:d,slots:g={},slotProps:f={}}=n,p=um(n,Rx),m=!!s||!!f.action,v=Kg({},n,{disabled:a,size:l,color:r,variant:c,clickable:m,focusVisible:!1}),b="function"==typeof f.action?f.action(v):f.action,_=Y.useRef(null),{focusVisible:y,getRootProps:w}=Ry(Kg({},b,{disabled:a,rootRef:_}));v.focusVisible=y;const C=(e=>{const{disabled:t,size:n,color:i,clickable:o,variant:r,focusVisible:s}=e;return Jb({root:["root",t&&"disabled",i&&`color${Lm(i)}`,n&&`size${Lm(n)}`,r&&`variant${Lm(r)}`,o&&"clickable"],action:["action",t&&"disabled",s&&"focusVisible"],label:["label",n&&`label${Lm(n)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},Tx,{})})(v),S=Kg({},p,{component:d,slots:g,slotProps:f}),[x,k]=hS("root",{ref:t,className:Ov(C.root,o),elementType:Ax,externalForwardedProps:S,ownerState:v}),[L,D]=hS("label",{className:C.label,elementType:Ox,externalForwardedProps:S,ownerState:v}),E=Ob(D.id),[N,T]=hS("action",{className:C.action,elementType:Px,externalForwardedProps:S,ownerState:v,getSlotProps:w,additionalProps:{"aria-labelledby":E,as:null==b?void 0:b.component,onClick:s}}),[I,M]=hS("startDecorator",{className:C.startDecorator,elementType:Fx,externalForwardedProps:S,ownerState:v}),[R,A]=hS("endDecorator",{className:C.endDecorator,elementType:Bx,externalForwardedProps:S,ownerState:v}),O=Y.useMemo((()=>({disabled:a})),[a]);return re.jsx(Mx.Provider,{value:O,children:re.jsx(lx,{variant:c,color:r,children:re.jsxs(x,Kg({},k,{children:[m&&re.jsx(N,Kg({},T)),re.jsx(L,Kg({},D,{id:E,children:i})),u&&re.jsx(I,Kg({},M,{children:u})),h&&re.jsx(R,Kg({},A,{children:h}))]}))})})})),Vx=qS(re.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Cancel");function Wx(e){return iy("MuiChipDelete",e)}var Hx;oy("MuiChipDelete",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSolid","variantSoft","variantOutlined"]);const $x=["children","variant","color","disabled","onKeyDown","onDelete","onClick","component","slots","slotProps"],jx=["onDelete"],Ux=_y(Lx,{name:"JoyChipDelete",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({"--IconButton-size":"var(--Chip-deleteSize, 2rem)","--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.3)",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:e.vars.fontSize.sm,paddingInline:"2px",pointerEvents:"visible",borderRadius:"var(--Chip-deleteRadius, 50%)",zIndex:1,padding:0}))),Kx=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyChipDelete"}),{children:i,variant:o="plain",color:r="neutral",disabled:s,onKeyDown:a,onDelete:l,onClick:c,component:u,slots:h={},slotProps:d={}}=n,g=um(n,$x),f=Y.useContext(Mx),{variant:p=o,color:m=r}=ax(e.variant,e.color,!0),v=e.color||m,b=null!=s?s:f.disabled,_=Bb(Y.useRef(null),t),{focusVisible:y,getRootProps:w}=Ry(Kg({},n,{disabled:b,rootRef:_})),C=Kg({},n,{disabled:b,variant:p,color:v,focusVisible:y}),S=(e=>{const{focusVisible:t,variant:n,color:i,disabled:o}=e;return Jb({root:["root",o&&"disabled",t&&"focusVisible",n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`]},Wx,{})})(C),x=Kg({},g,{component:u,slots:h,slotProps:d}),[k,L]=hS("root",{ref:t,elementType:Ux,getSlotProps:w,externalForwardedProps:x,ownerState:C,additionalProps:{as:u,onKeyDown:e=>{["Backspace","Enter","Delete"].includes(e.key)&&(e.preventDefault(),!b&&l&&l(e)),a&&a(e)},onClick:e=>{!b&&l&&l(e),c&&c(e)}},className:S.root}),D=um(L,jx);return re.jsx(k,Kg({},D,{children:null!=i?i:Hx||(Hx=re.jsx(Vx,{}))}))}));function qx(e){return iy("MuiInput",e)}const Gx=oy("MuiInput",["root","input","formControl","focused","disabled","error","adornedStart","adornedEnd","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid","fullWidth","startDecorator","endDecorator"]),Yx=Y.createContext(void 0),Xx=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function Zx(e,t){var n;const i=Y.useContext(Yx),{"aria-describedby":o,"aria-label":r,"aria-labelledby":s,autoComplete:a,autoFocus:l,className:c,defaultValue:u,disabled:h,disabledInProp:d,error:g,id:f,name:p,onClick:m,onChange:v,onKeyDown:b,onKeyUp:_,onFocus:y,onBlur:w,placeholder:C,readOnly:S,required:x,type:k,value:L}=e,D=um(e,Xx),{getRootProps:E,getInputProps:N,focused:T,error:I,disabled:M}=Xy({disabled:null!=(n=null!=d?d:null==i?void 0:i.disabled)?n:h,defaultValue:u,error:g,onBlur:w,onClick:m,onChange:v,onFocus:y,required:null!=x?x:null==i?void 0:i.required,value:L});return Kg({formControl:i,propsToForward:{"aria-describedby":o,"aria-label":r,"aria-labelledby":s,autoComplete:a,autoFocus:l,disabled:M,id:f,onKeyDown:b,onKeyUp:_,name:p,placeholder:C,readOnly:S,type:k},rootStateClasses:{[t.disabled]:M,[t.error]:I,[t.focused]:T,[t.formControl]:Boolean(i),[c]:c},inputStateClasses:{[t.disabled]:M},getRootProps:E,getInputProps:N,focused:T,error:I,disabled:M},D)}const Qx=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","fullWidth","size","color","variant","startDecorator","endDecorator","component","slots","slotProps"],Jx=_y("div")((({theme:e,ownerState:t})=>{var n,i,o,r,s,a;const l=null==(n=e.variants[`${t.variant}`])?void 0:n[t.color];return[Kg({"--Input-radius":e.vars.radius.sm,"--Input-gap":"0.5rem","--Input-placeholderColor":"inherit","--Input-placeholderOpacity":.64,"--Input-decoratorColor":e.vars.palette.text.icon,"--Input-focused":"0","--Input-focusedThickness":e.vars.focus.thickness,"--Input-focusedHighlight":null==(i=e.vars.palette["neutral"===t.color?"primary":t.color])?void 0:i[500],[`&:not([${YS}])`]:Kg({},t.instanceColor&&{"--_Input-focusedHighlight":null==(o=e.vars.palette["neutral"===t.instanceColor?"primary":t.instanceColor])?void 0:o[500]},{"--Input-focusedHighlight":`var(--_Input-focusedHighlight, ${e.vars.palette.focusVisible})`})},"sm"===t.size&&{"--Input-minHeight":"2rem","--Input-paddingInline":"0.5rem","--Input-decoratorChildHeight":"min(1.5rem, var(--Input-minHeight))","--Icon-fontSize":e.vars.fontSize.xl},"md"===t.size&&{"--Input-minHeight":"2.25rem","--Input-paddingInline":"0.75rem","--Input-decoratorChildHeight":"min(1.75rem, var(--Input-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},"lg"===t.size&&{"--Input-minHeight":"2.75rem","--Input-paddingInline":"1rem","--Input-gap":"0.75rem","--Input-decoratorChildHeight":"min(2.25rem, var(--Input-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},{"--Input-decoratorChildOffset":"min(calc(var(--Input-paddingInline) - (var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decoratorChildHeight)) / 2), var(--Input-paddingInline))","--_Input-paddingBlock":"max((var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decoratorChildHeight)) / 2, 0px)","--Input-decoratorChildRadius":"max(var(--Input-radius) - var(--variant-borderWidth, 0px) - var(--_Input-paddingBlock), min(var(--_Input-paddingBlock) + var(--variant-borderWidth, 0px), var(--Input-radius) / 2))","--Button-minHeight":"var(--Input-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Input-decoratorChildHeight)","--Button-radius":"var(--Input-decoratorChildRadius)","--IconButton-radius":"var(--Input-decoratorChildRadius)",boxSizing:"border-box"},"plain"!==t.variant&&{boxShadow:e.shadow.xs},{minWidth:0,minHeight:"var(--Input-minHeight)"},t.fullWidth&&{width:"100%"},{cursor:"text",position:"relative",display:"flex",paddingInline:"var(--Input-paddingInline)",borderRadius:"var(--Input-radius)"},e.typography[`body-${t.size}`],l,{backgroundColor:null!=(r=null==l?void 0:l.backgroundColor)?r:e.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Input-focusedInset, inset) 0 0 0 calc(var(--Input-focused) * var(--Input-focusedThickness)) var(--Input-focusedHighlight)"}}),{"&:hover":Kg({},null==(s=e.variants[`${t.variant}Hover`])?void 0:s[t.color],{backgroundColor:null}),[`&.${Gx.disabled}`]:null==(a=e.variants[`${t.variant}Disabled`])?void 0:a[t.color],"&:focus-within::before":{"--Input-focused":"1"}}]})),ek=_y("input")((({ownerState:e})=>({border:"none",minWidth:0,outline:0,padding:0,flex:1,color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit",textOverflow:"ellipsis","&:-webkit-autofill":Kg({paddingInline:"var(--Input-paddingInline)"},!e.startDecorator&&{marginInlineStart:"calc(-1 * var(--Input-paddingInline))",paddingInlineStart:"var(--Input-paddingInline)",borderTopLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"},!e.endDecorator&&{marginInlineEnd:"calc(-1 * var(--Input-paddingInline))",paddingInlineEnd:"var(--Input-paddingInline)",borderTopRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"}),"&::-webkit-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"}}))),tk=_y("div")({"--Button-margin":"0 0 0 calc(var(--Input-decoratorChildOffset) * -1)","--IconButton-margin":"0 0 0 calc(var(--Input-decoratorChildOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Input-paddingInline) / -4)",display:"inherit",alignItems:"center",paddingBlock:"var(--unstable_InputPaddingBlock)",flexWrap:"wrap",marginInlineEnd:"var(--Input-gap)",color:"var(--Input-decoratorColor)",cursor:"initial"}),nk=_y("div")({"--Button-margin":"0 calc(var(--Input-decoratorChildOffset) * -1) 0 0","--IconButton-margin":"0 calc(var(--Input-decoratorChildOffset) * -1) 0 0","--Icon-margin":"0 calc(var(--Input-paddingInline) / -4) 0 0",display:"inherit",alignItems:"center",marginInlineStart:"var(--Input-gap)",color:"var(--Input-decoratorColor)",cursor:"initial"}),ik=_y(Jx,{name:"JoyInput",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ok=_y(ek,{name:"JoyInput",slot:"Input",overridesResolver:(e,t)=>t.input})({}),rk=_y(tk,{name:"JoyInput",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({}),sk=_y(nk,{name:"JoyInput",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({}),ak=Y.forwardRef((function(e,t){var n,i,o,r,s,a;const l=yy({props:e,name:"JoyInput"}),c=Zx(Kg({},l,{disabledInProp:e.disabled}),Gx),{propsToForward:u,rootStateClasses:h,inputStateClasses:d,getRootProps:g,getInputProps:f,formControl:p,focused:m,error:v=!1,disabled:b,fullWidth:_=!1,size:y="md",color:w="neutral",variant:C="outlined",startDecorator:S,endDecorator:x,component:k,slots:L={},slotProps:D={}}=c,E=um(c,Qx),N=null!=(n=null!=(i=e.error)?i:null==p?void 0:p.error)?n:v,T=null!=(o=null!=(r=e.size)?r:null==p?void 0:p.size)?o:y,I=null!=(s=e.color)?s:N?"danger":null!=(a=null==p?void 0:p.color)?a:w,M=Kg({instanceColor:N?"danger":e.color},l,{fullWidth:_,color:I,disabled:b,error:N,focused:m,size:T,variant:C}),R=(e=>{const{disabled:t,fullWidth:n,variant:i,color:o,size:r}=e;return Jb({root:["root",t&&"disabled",n&&"fullWidth",i&&`variant${Lm(i)}`,o&&`color${Lm(o)}`,r&&`size${Lm(r)}`],input:["input"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},qx,{})})(M),A=Kg({},E,{component:k,slots:L,slotProps:D}),[O,P]=hS("root",{ref:t,className:[R.root,h],elementType:ik,getSlotProps:g,externalForwardedProps:A,ownerState:M}),[F,B]=hS("input",Kg({},p&&{additionalProps:{id:p.htmlFor,"aria-describedby":p["aria-describedby"]}},{className:[R.input,d],elementType:ok,getSlotProps:f,internalForwardedProps:u,externalForwardedProps:A,ownerState:M})),[z,V]=hS("startDecorator",{className:R.startDecorator,elementType:rk,externalForwardedProps:A,ownerState:M}),[W,H]=hS("endDecorator",{className:R.endDecorator,elementType:sk,externalForwardedProps:A,ownerState:M});return re.jsxs(O,Kg({},P,{children:[S&&re.jsx(z,Kg({},V,{children:S})),re.jsx(F,Kg({},B)),x&&re.jsx(W,Kg({},H,{children:x}))]}))})),lk=qS(re.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function ck(e){return iy("MuiAvatar",e)}oy("MuiAvatar",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","fallback","sizeSm","sizeMd","sizeLg","img","variantOutlined","variantSoft","variantSolid"]);const uk=Y.createContext(void 0);_y("div",{name:"JoyAvatarGroup",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>Kg({},"sm"===e.size&&{"--AvatarGroup-gap":"-0.375rem","--Avatar-ringSize":"2px"},"md"===e.size&&{"--AvatarGroup-gap":"-0.5rem","--Avatar-ringSize":"2px"},"lg"===e.size&&{"--AvatarGroup-gap":"-0.625rem","--Avatar-ringSize":"4px"},{"--Avatar-ring":`0 0 0 var(--Avatar-ringSize) var(--Avatar-ringColor, ${t.vars.palette.background.surface})`,"--Avatar-marginInlineStart":"var(--AvatarGroup-gap)",display:"flex",marginInlineStart:"calc(-1 * var(--AvatarGroup-gap))"})));const hk=["alt","color","size","variant","src","srcSet","children","component","slots","slotProps"],dk=_y("div",{name:"JoyAvatar",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n;return Kg({"--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon},e.typography[`title-${t.size}`],"sm"===t.size&&{width:"var(--Avatar-size, 2rem)",height:"var(--Avatar-size, 2rem)",fontSize:"calc(var(--Avatar-size, 2rem) * 0.4375)"},"md"===t.size&&{width:"var(--Avatar-size, 2.5rem)",height:"var(--Avatar-size, 2.5rem)",fontSize:"calc(var(--Avatar-size, 2.5rem) * 0.4)"},"lg"===t.size&&{width:"var(--Avatar-size, 3rem)",height:"var(--Avatar-size, 3rem)",fontSize:"calc(var(--Avatar-size, 3rem) * 0.375)"},{marginInlineStart:"var(--Avatar-marginInlineStart)",boxShadow:"var(--Avatar-ring)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,lineHeight:1,overflow:"hidden",borderRadius:"var(--Avatar-radius, 50%)",userSelect:"none"},null==(n=e.variants[t.variant])?void 0:n[t.color])})),gk=_y("img",{name:"JoyAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),fk=_y(lk,{name:"JoyAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"64%",height:"64%"});const pk=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyAvatar"}),i=Y.useContext(uk),{alt:o,color:r="neutral",size:s="md",variant:a="soft",src:l,srcSet:c,children:u,component:h,slots:d={},slotProps:g={}}=n,f=um(n,hk),p=e.variant||(null==i?void 0:i.variant)||a;let m=null;const v=Kg({},n,{color:e.color||(null==i?void 0:i.color)||r,size:e.size||(null==i?void 0:i.size)||s,variant:p,grouped:!!i}),b=(e=>{const{size:t,variant:n,color:i,src:o,srcSet:r}=e;return Jb({root:["root",n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,t&&`size${Lm(t)}`],img:[(o||r)&&"img"],fallback:["fallback"]},ck,{})})(v),_=Kg({},f,{component:h,slots:d,slotProps:g}),[y,w]=hS("root",{ref:t,className:b.root,elementType:dk,externalForwardedProps:_,ownerState:v}),[C,S]=hS("img",{additionalProps:{alt:o,src:l,srcSet:c},className:b.img,elementType:gk,externalForwardedProps:_,ownerState:v}),[x,k]=hS("fallback",{className:b.fallback,elementType:fk,externalForwardedProps:_,ownerState:v}),L=function({crossOrigin:e,referrerPolicy:t,src:n,srcSet:i}){const[o,r]=Y.useState(!1);return Y.useEffect((()=>{if(!n&&!i)return;r(!1);let o=!0;const s=new Image;return s.onload=()=>{o&&r("loaded")},s.onerror=()=>{o&&r("error")},s.crossOrigin=e,s.referrerPolicy=t,n&&(s.src=n),i&&(s.srcset=i),()=>{o=!1}}),[e,t,n,i]),o}(Kg({},S,{src:l,srcSet:c}));return m=(l||c)&&"error"!==L?re.jsx(C,Kg({},S)):null!=u?u:o?o[0]:re.jsx(x,Kg({},k)),re.jsx(y,Kg({},w,{children:m}))}));function mk(e){return iy("MuiBadge",e)}const vk=oy("MuiBadge",["root","badge","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","colorContext","invisible","locationInside","locationOutside","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]),bk=["anchorOrigin","badgeInset","children","size","color","invisible","max","badgeContent","showZero","variant","component","slots","slotProps"],_k=_y("span",{name:"JoyBadge",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>Kg({},"sm"===t.size&&Kg({"--Badge-minHeight":"0.5rem"},t.badgeContent&&{"--Badge-minHeight":"1rem"},{"--Badge-paddingX":"0.25rem"}),"md"===t.size&&Kg({"--Badge-minHeight":"0.75rem"},t.badgeContent&&{"--Badge-minHeight":"1.25rem"},{"--Badge-paddingX":"0.375rem"}),"lg"===t.size&&Kg({"--Badge-minHeight":"1rem"},t.badgeContent&&{"--Badge-minHeight":"1.5rem"},{"--Badge-paddingX":"0.5rem"}),{"--Badge-ringSize":"2px","--Badge-ring":`0 0 0 var(--Badge-ringSize) var(--Badge-ringColor, ${e.vars.palette.background.surface})`,position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}))),yk=_y("span",{name:"JoyBadge",slot:"Badge",overridesResolver:(e,t)=>t.badge})((({theme:e,ownerState:t})=>{var n,i,o,r,s,a;const l={top:t.badgeInset,left:t.badgeInset,bottom:t.badgeInset,right:t.badgeInset};if("string"==typeof t.badgeInset){const e=t.badgeInset.split(" ");e.length>1&&(l.top=e[0],l.right=e[1],2===e.length&&(l.bottom=e[0],l.left=e[1]),3===e.length&&(l.left=e[1],l.bottom=e[2]),4===e.length&&(l.bottom=e[2],l.left=e[3]))}const c="top"===(null==(n=t.anchorOrigin)?void 0:n.vertical)?"translateY(-50%)":"translateY(50%)",u="left"===(null==(i=t.anchorOrigin)?void 0:i.horizontal)?"translateX(-50%)":"translateX(50%)",h="top"===(null==(o=t.anchorOrigin)?void 0:o.vertical)?"0%":"100%",d="left"===(null==(r=t.anchorOrigin)?void 0:r.horizontal)?"0%":"100%",g=e.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[t.size]}`];return Kg({"--Icon-color":"currentColor","--Icon-fontSize":`calc(1em * ${null!=(s=null==g?void 0:g.lineHeight)?s:"1"})`,display:"inline-flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",boxShadow:"var(--Badge-ring)",lineHeight:1,padding:"0 calc(var(--Badge-paddingX) - var(--variant-borderWidth, 0px))",minHeight:"var(--Badge-minHeight)",minWidth:"var(--Badge-minHeight)",borderRadius:"var(--Badge-radius, var(--Badge-minHeight))",zIndex:e.vars.zIndex.badge,backgroundColor:e.vars.palette.background.surface,[t.anchorOrigin.vertical]:l[t.anchorOrigin.vertical],[t.anchorOrigin.horizontal]:l[t.anchorOrigin.horizontal],transform:`scale(1) ${u} ${c}`,transformOrigin:`${d} ${h}`,[`&.${vk.invisible}`]:{transform:`scale(0) ${u} ${c}`}},g,{fontWeight:e.vars.fontWeight.md},null==(a=e.variants[t.variant])?void 0:a[t.color])})),wk=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyBadge"}),{anchorOrigin:i={vertical:"top",horizontal:"right"},badgeInset:o=0,children:r,size:s="md",color:a="primary",invisible:l=!1,max:c=99,badgeContent:u="",showZero:h=!1,variant:d="solid",component:g,slots:f={},slotProps:p={}}=n,m=um(n,bk),v=(e=>{const t=Y.useRef({});return Y.useEffect((()=>{t.current=e})),t.current})({anchorOrigin:i,size:s,badgeInset:o,color:a,variant:d});let b=l;!1!==l||(0!==u||h)&&null!=u||(b=!0);const{color:_=a,size:y=s,anchorOrigin:w=i,variant:C=d,badgeInset:S=o}=b?v:n,x=Kg({},n,{anchorOrigin:w,badgeInset:S,variant:C,invisible:b,color:_,size:y}),k=(e=>{const{color:t,variant:n,size:i,anchorOrigin:o,invisible:r}=e;return Jb({root:["root"],badge:["badge",r&&"invisible",o&&`anchorOrigin${Lm(o.vertical)}${Lm(o.horizontal)}`,n&&`variant${Lm(n)}`,t&&`color${Lm(t)}`,i&&`size${Lm(i)}`]},mk,{})})(x),L=Kg({},m,{component:g,slots:f,slotProps:p});let D=u&&Number(u)>c?`${c}+`:u;b&&0===u&&(D="");const[E,N]=hS("root",{ref:t,className:k.root,elementType:_k,externalForwardedProps:L,ownerState:x}),[T,I]=hS("badge",{className:k.badge,elementType:yk,externalForwardedProps:L,ownerState:x});return re.jsxs(E,Kg({},N,{children:[r,re.jsx(T,Kg({},I,{children:D}))]}))})),Ck=zv("MuiBox",["root"]),Sk=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,r=am("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(yv);return Y.forwardRef((function(e,s){const a=Dv(n),l=Tv(e),{className:c,component:u="div"}=l,h=um(l,Pv);return re.jsx(r,Kg({as:u,ref:s,className:Ov(c,o?o(i):i),theme:t&&a[t]||a},h))}))}({themeId:$g,defaultTheme:uy,defaultClassName:Ck.root,generateClassName:Rv.generate});function xk(e){return iy("MuiTypography",e)}oy("MuiTypography",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const kk=["color","textColor"],Lk=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant","slots","slotProps"],Dk=Y.createContext(!1),Ek=Y.createContext(!1),Nk=_y("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),Tk=_y("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(e,t)=>t.endDecorator})({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),Ik=_y("span",{name:"JoyTypography",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o,r,s;return Kg({"--Icon-fontSize":`calc(1em * ${"inherit"!==t.level?null==(n=e.typography[t.level])?void 0:n.lineHeight:"1"})`},t.color&&{"--Icon-color":"currentColor"},{margin:"var(--Typography-margin, 0px)"},t.nesting?{display:"inline"}:Kg({display:"block"},t.unstable_hasSkeleton&&{position:"relative"}),(t.startDecorator||t.endDecorator)&&Kg({display:"flex",alignItems:"center"},t.nesting&&Kg({display:"inline-flex"},t.startDecorator&&{verticalAlign:"bottom"})),t.level&&"inherit"!==t.level&&e.typography[t.level],{fontSize:`var(--Typography-fontSize, ${t.level&&"inherit"!==t.level&&null!=(i=null==(o=e.typography[t.level])?void 0:o.fontSize)?i:"inherit"})`},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.color&&{color:`var(--variant-plainColor, rgba(${null==(r=e.vars.palette[t.color])?void 0:r.mainChannel} / 1))`},t.variant&&Kg({borderRadius:e.vars.radius.xs,paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!t.nesting&&{marginInline:"-0.25em"},null==(s=e.variants[t.variant])?void 0:s[t.color]))})),Mk={h1:"h1",h2:"h2",h3:"h3",h4:"h4","title-lg":"p","title-md":"p","title-sm":"p","body-lg":"p","body-md":"p","body-sm":"p","body-xs":"span",inherit:"p"},Rk=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyTypography"}),{color:o,textColor:r}=i,s=um(i,kk),a=Y.useContext(Dk),l=Y.useContext(Ek),c=Tv(Kg({},s,{color:r})),{component:u,gutterBottom:h=!1,noWrap:d=!1,level:g="body-md",levelMapping:f=Mk,children:p,endDecorator:m,startDecorator:v,variant:b,slots:_={},slotProps:y={}}=c,w=um(c,Lk),C=null!=(n=e.color)?n:b?null!=o?o:"neutral":o,S=a||l?e.level||"inherit":g,x=Nb(p,["Skeleton"]),k=u||(a?"span":f[S]||Mk[S]||"span"),L=Kg({},c,{level:S,component:k,color:C,gutterBottom:h,noWrap:d,nesting:a,variant:b,unstable_hasSkeleton:x}),D=(e=>{const{gutterBottom:t,noWrap:n,level:i,color:o,variant:r}=e;return Jb({root:["root",i,t&&"gutterBottom",n&&"noWrap",o&&`color${Lm(o)}`,r&&`variant${Lm(r)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},xk,{})})(L),E=Kg({},w,{component:k,slots:_,slotProps:y}),[N,T]=hS("root",{ref:t,className:D.root,elementType:Ik,externalForwardedProps:E,ownerState:L}),[I,M]=hS("startDecorator",{className:D.startDecorator,elementType:Nk,externalForwardedProps:E,ownerState:L}),[R,A]=hS("endDecorator",{className:D.endDecorator,elementType:Tk,externalForwardedProps:E,ownerState:L});return re.jsx(Dk.Provider,{value:!0,children:re.jsxs(N,Kg({},T,{children:[v&&re.jsx(I,Kg({},M,{children:v})),x?Y.cloneElement(p,{variant:p.props.variant||"inline"}):p,m&&re.jsx(R,Kg({},A,{children:m}))]}))})}));function Ak(e){return iy("MuiButton",e)}Rk.muiName="Typography";const Ok=oy("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),Pk=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled","component","slots","slotProps"],Fk=_y("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),Bk=_y("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),zk=_y("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(e,t)=>t.loadingIndicatorCenter})((({theme:e,ownerState:t})=>{var n,i;return Kg({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:null==(n=e.variants[t.variant])||null==(n=n[t.color])?void 0:n.color},t.disabled&&{color:null==(i=e.variants[`${t.variant}Disabled`])||null==(i=i[t.color])?void 0:i.color})})),Vk=({theme:e,ownerState:t})=>{var n,i,o,r;return[Kg({"--Icon-margin":"initial","--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon},"sm"===t.size&&{"--Icon-fontSize":e.vars.fontSize.lg,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:e.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.25rem)",paddingInline:"0.75rem"},"md"===t.size&&{"--Icon-fontSize":e.vars.fontSize.xl,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.25rem)",fontSize:e.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.375rem)",paddingInline:"1rem"},"lg"===t.size&&{"--Icon-fontSize":e.vars.fontSize.xl2,"--CircularProgress-size":"28px","--CircularProgress-thickness":"4px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 2.75rem)",fontSize:e.vars.fontSize.md,paddingBlock:"var(--Button-paddingBlock, 0.5rem)",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",borderRadius:`var(--Button-radius, ${e.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.lg,lineHeight:e.vars.lineHeight.md},t.fullWidth&&{width:"100%"},{[e.focus.selector]:e.focus.default}),Kg({},null==(n=e.variants[t.variant])?void 0:n[t.color],{"&:hover":{"@media (hover: hover)":null==(i=e.variants[`${t.variant}Hover`])?void 0:i[t.color]},'&:active, &[aria-pressed="true"]':null==(o=e.variants[`${t.variant}Active`])?void 0:o[t.color],[`&.${Ok.disabled}`]:null==(r=e.variants[`${t.variant}Disabled`])?void 0:r[t.color]},"center"===t.loadingPosition&&{[`&.${Ok.loading}`]:{color:"transparent"}})]},Wk=_y("button",{name:"JoyButton",slot:"Root",overridesResolver:(e,t)=>t.root})(Vk),Hk=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyButton"}),{children:o,action:r,color:s="primary",variant:a="solid",size:l="md",fullWidth:c=!1,startDecorator:u,endDecorator:h,loading:d=!1,loadingPosition:g="center",loadingIndicator:f,disabled:p,component:m,slots:v={},slotProps:b={}}=i,_=um(i,Pk),y=Y.useContext(hx),w=Y.useContext(dx),C=e.variant||y.variant||a,S=e.size||y.size||l,x=e.color||y.color||s,k=null!=(n=e.loading||e.disabled)?n:y.disabled||d||p,L=Y.useRef(null),D=Bb(L,t),{focusVisible:E,setFocusVisible:N,getRootProps:T}=Ry(Kg({},i,{disabled:k,rootRef:D})),I=null!=f?f:re.jsx(xx,{color:x,thickness:{sm:2,md:3,lg:4}[S]||3});Y.useImperativeHandle(r,(()=>({focusVisible:()=>{var e;N(!0),null==(e=L.current)||e.focus()}})),[N]);const M=Kg({},i,{color:x,fullWidth:c,variant:C,size:S,focusVisible:E,loading:d,loadingPosition:g,disabled:k}),R=(e=>{const{color:t,disabled:n,focusVisible:i,focusVisibleClassName:o,fullWidth:r,size:s,variant:a,loading:l}=e,c=Jb({root:["root",n&&"disabled",i&&"focusVisible",r&&"fullWidth",a&&`variant${Lm(a)}`,t&&`color${Lm(t)}`,s&&`size${Lm(s)}`,l&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},Ak,{});return i&&o&&(c.root+=` ${o}`),c})(M);let A=i["aria-pressed"];"function"==typeof b.root?A=b.root(M)["aria-pressed"]:b.root&&(A=b.root["aria-pressed"]),null!=w&&w.value&&(A=Array.isArray(w.value)?-1!==w.value.indexOf(i.value):w.value===i.value);const O=Kg({},_,{component:m,slots:v,slotProps:b}),[P,F]=hS("root",{ref:t,className:R.root,elementType:Wk,externalForwardedProps:O,getSlotProps:T,ownerState:M,additionalProps:{onClick:e=>{var t;let n=i.onClick;var o;("function"==typeof b.root?n=b.root(M).onClick:b.root&&(n=b.root.onClick),null==(t=n)||t(e),w)&&(null==(o=w.onClick)||o.call(w,e,i.value))},"aria-pressed":A}}),[B,z]=hS("startDecorator",{className:R.startDecorator,elementType:Fk,externalForwardedProps:O,ownerState:M}),[V,W]=hS("endDecorator",{className:R.endDecorator,elementType:Bk,externalForwardedProps:O,ownerState:M}),[H,$]=hS("loadingIndicatorCenter",{className:R.loadingIndicatorCenter,elementType:zk,externalForwardedProps:O,ownerState:M});return re.jsxs(P,Kg({},F,{children:[(u||d&&"start"===g)&&re.jsx(B,Kg({},z,{children:d&&"start"===g?I:u})),o,d&&"center"===g&&re.jsx(H,Kg({},$,{children:I})),(h||d&&"end"===g)&&re.jsx(V,Kg({},W,{children:d&&"end"===g?I:h}))]}))}));function $k(e){return iy("MuiButtonGroup",e)}Hk.muiName="Button",oy("MuiButtonGroup",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","horizontal","vertical"]);const jk=["buttonFlex","className","component","disabled","size","color","variant","children","orientation","slots","slotProps","spacing"],Uk=_y("div")((({theme:e,ownerState:t})=>{var n,i,o;const{borderRadius:r}=ES({theme:e,ownerState:t},["borderRadius"]),s="vertical"===t.orientation?"var(--ButtonGroup-radius) var(--ButtonGroup-radius) var(--unstable_childRadius) var(--unstable_childRadius)":"var(--ButtonGroup-radius) var(--unstable_childRadius) var(--unstable_childRadius) var(--ButtonGroup-radius)",a="vertical"===t.orientation?"var(--unstable_childRadius) var(--unstable_childRadius) var(--ButtonGroup-radius) var(--ButtonGroup-radius)":"var(--unstable_childRadius) var(--ButtonGroup-radius) var(--ButtonGroup-radius) var(--unstable_childRadius)",l="vertical"===t.orientation?"calc(var(--ButtonGroup-separatorSize) * -1) 0 0 0":"0 0 0 calc(var(--ButtonGroup-separatorSize) * -1)",c={};N_(e.breakpoints,t.spacing,((t,n)=>{var i;null!==n&&t(c,{"--ButtonGroup-connected":n.toString().match(/^0(?!\.)/)?"1":"0",gap:"string"==typeof n?n:null==(i=e.spacing)?void 0:i.call(e,n)})}));const u=null==(n=e.variants.outlined)?void 0:n[t.color],h=null==(i=e.variants.outlinedDisabled)?void 0:i[t.color],d=null==(o=e.variants.outlinedHover)?void 0:o[t.color];return[Kg({"--ButtonGroup-separatorSize":"outlined"===t.variant?"1px":"calc(var(--ButtonGroup-connected) * 1px)","--ButtonGroup-separatorColor":null==u?void 0:u.borderColor,"--ButtonGroup-radius":e.vars.radius.sm,"--Divider-inset":"0.5rem","--unstable_childRadius":"calc((1 - var(--ButtonGroup-connected)) * var(--ButtonGroup-radius) - var(--variant-borderWidth, 0px))"},c,{display:"flex",borderRadius:"var(--ButtonGroup-radius)",flexDirection:"vertical"===t.orientation?"column":"row","& > [data-first-child]":Kg({"--Button-radius":s,"--IconButton-radius":s},"horizontal"===t.orientation&&{borderRight:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},"vertical"===t.orientation&&{borderBottom:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > :not([data-first-child]):not([data-last-child]):not(:only-child)":Kg({"--Button-radius":"var(--unstable_childRadius)","--IconButton-radius":"var(--unstable_childRadius)",borderRadius:"var(--unstable_childRadius)"},"horizontal"===t.orientation&&{borderLeft:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)",borderRight:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},"vertical"===t.orientation&&{borderTop:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)",borderBottom:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > [data-last-child]":Kg({"--Button-radius":a,"--IconButton-radius":a},"horizontal"===t.orientation&&{borderLeft:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},"vertical"===t.orientation&&{borderTop:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > :only-child":{"--Button-radius":"var(--ButtonGroup-radius)","--IconButton-radius":"var(--ButtonGroup-radius)"},"& > :not([data-first-child]):not(:only-child)":{"--Button-margin":l,"--IconButton-margin":l},[`& .${Ok.root}, & .${ux.root}`]:Kg({"&:not(:disabled)":{zIndex:1},"&:disabled":{"--ButtonGroup-separatorColor":null==h?void 0:h.borderColor}},"outlined"===t.variant&&{"&:hover":{"--ButtonGroup-separatorColor":null==d?void 0:d.borderColor}},{[`&:hover, ${e.focus.selector}`]:{zIndex:2}})},t.buttonFlex&&{[`& > *:not(.${ux.root})`]:{flex:t.buttonFlex},[`& > :not(button) > .${Ok.root}`]:{width:"100%"}}),void 0!==r&&{"--ButtonGroup-radius":r}]})),Kk=_y(Uk,{name:"JoyButtonGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qk=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyButtonGroup"}),{buttonFlex:i,className:o,component:r="div",disabled:s=!1,size:a="md",color:l="neutral",variant:c="outlined",children:u,orientation:h="horizontal",slots:d={},slotProps:g={},spacing:f=0}=n,p=um(n,jk),m=Kg({},n,{buttonFlex:i,color:l,component:r,orientation:h,spacing:f,size:a,variant:c}),v=(e=>{const{size:t,variant:n,color:i,orientation:o}=e;return Jb({root:["root",o,n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,t&&`size${Lm(t)}`]},$k,{})})(m),b=Kg({},p,{component:r,slots:d,slotProps:g}),[_,y]=hS("root",{ref:t,className:Ov(v.root,o),elementType:Kk,externalForwardedProps:b,additionalProps:{role:"group"},ownerState:m}),w=Y.useMemo((()=>({variant:c,color:l,size:a,disabled:s})),[c,l,a,s]);return re.jsx(_,Kg({},y,{children:re.jsx(hx.Provider,{value:w,children:Y.Children.map(u,((e,t)=>{if(!Y.isValidElement(e))return e;const n={};if(Nb(e,["Divider"])){n.inset="inset"in e.props?e.props.inset:"context";const t="vertical"===h?"horizontal":"vertical";n.orientation="orientation"in e.props?e.props.orientation:t,n.role="presentation",n.component="span"}return Y.Children.count(u)>1&&(0===t&&(n["data-first-child"]=""),t===Y.Children.count(u)-1&&(n["data-last-child"]="")),Y.cloneElement(e,n)}))})}))}));function Gk(e){return iy("MuiCard",e)}const Yk=oy("MuiCard",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","horizontal","vertical"]),Xk=["className","color","component","invertedColors","size","variant","children","orientation","slots","slotProps"],Zk=_y("div")((({theme:e,ownerState:t})=>{var n;const{p:i,padding:o,borderRadius:r}=ES({theme:e,ownerState:t},["p","padding","borderRadius"]);return[Kg({"--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon,"--Card-childRadius":"max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2))","--AspectRatio-radius":"var(--Card-childRadius)","--unstable_actionMargin":"calc(-1 * var(--variant-borderWidth, 0px))","--unstable_actionRadius":"var(--Card-radius)","--CardCover-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--CardOverflow-offset":"calc(-1 * var(--Card-padding))","--CardOverflow-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--Divider-inset":"calc(-1 * var(--Card-padding))"},"sm"===t.size&&{"--Card-radius":e.vars.radius.sm,"--Card-padding":"0.625rem",gap:"0.5rem"},"md"===t.size&&{"--Card-radius":e.vars.radius.md,"--Card-padding":"1rem",gap:"0.75rem 1rem"},"lg"===t.size&&{"--Card-radius":e.vars.radius.lg,"--Card-padding":"1.5rem",gap:"1rem 1.5rem"},{padding:"var(--Card-padding)",borderRadius:"var(--Card-radius)",backgroundColor:e.vars.palette.background.surface,position:"relative",display:"flex",flexDirection:"horizontal"===t.orientation?"row":"column"},e.typography[`body-${t.size}`],"solid"===t.variant&&t.color&&t.invertedColors&&QS(t.color)(e),"soft"===t.variant&&t.color&&t.invertedColors&&JS(t.color)(e),null==(n=e.variants[t.variant])?void 0:n[t.color]),void 0!==i&&{"--Card-padding":i},void 0!==o&&{"--Card-padding":o},void 0!==r&&{"--Card-radius":r}]})),Qk=_y(Zk,{name:"JoyCard",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Jk=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCard"}),{className:i,color:o="neutral",component:r="div",invertedColors:s=!1,size:a="md",variant:l="outlined",children:c,orientation:u="vertical",slots:h={},slotProps:d={}}=n,g=um(n,Xk),f=Kg({},n,{color:o,component:r,orientation:u,size:a,variant:l,invertedColors:s}),p=(e=>{const{size:t,variant:n,color:i,orientation:o}=e;return Jb({root:["root",o,n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,t&&`size${Lm(t)}`]},Gk,{})})(f),m=Kg({},g,{component:r,slots:h,slotProps:d}),[v,b]=hS("root",{ref:t,className:Ov(p.root,i),elementType:Qk,externalForwardedProps:m,ownerState:f});return re.jsx(v,Kg({},b,{children:Y.Children.map(c,((e,t)=>{if(!Y.isValidElement(e))return e;const n={};if(Nb(e,["Divider"])){n.inset="inset"in e.props?e.props.inset:"context";const t="vertical"===u?"horizontal":"vertical";n.orientation="orientation"in e.props?e.props.orientation:t}return 0===t&&(n["data-first-child"]=""),t===Y.Children.count(c)-1&&(n["data-last-child"]=""),Y.cloneElement(e,n)}))}))}));function eL(e){return iy("MuiCardActions",e)}function tL(e){return iy("MuiCardOverflow",e)}oy("MuiCardActions",["root"]);const nL=oy("MuiCardOverflow",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);function iL(e){return iy("MuiDivider",e)}const oL=oy("MuiDivider",["root","horizontal","vertical","insetContext","insetNone"]),rL=["className","component","children","buttonFlex","orientation","slots","slotProps"],sL=_y("div")((({ownerState:e})=>{var t;return Kg({"--Button-radius":"var(--Card-childRadius)","--IconButton-radius":"var(--Card-childRadius)",display:"flex"},(null==(t=e.orientation)?void 0:t.startsWith("horizontal"))&&{alignItems:"center"},{flexDirection:"horizontal"===e.orientation?"row":"column"},"horizontal-reverse"===e.orientation&&{flexDirection:"row-reverse"},{zIndex:1,gap:"calc(0.625 * var(--Card-padding))",padding:"var(--unstable_padding)","--unstable_padding":"calc(0.75 * var(--Card-padding)) 0 0 0",[`.${nL.root} > &`]:{"--unstable_padding":"calc(0.75 * var(--Card-padding)) 0 var(--Card-padding)"},[`.${Yk.root} > .${oL.root} + &`]:{"--unstable_padding":"0"}},e.buttonFlex?{[`& > :not(.${ux.root})`]:{flex:e.buttonFlex},[`& > :not(button) > .${Ok.root}`]:{width:"100%"}}:{[`& > .${Ok.root}:only-child`]:{flex:"auto"}})})),aL=_y(sL,{name:"JoyCardActions",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCardActions"}),{className:i,component:o="div",children:r,buttonFlex:s,orientation:a="horizontal",slots:l={},slotProps:c={}}=n,u=Kg({},um(n,rL),{component:o,slots:l,slotProps:c}),h=Kg({},n,{component:o,buttonFlex:s,orientation:a}),d=Jb({root:["root"]},eL,{}),[g,f]=hS("root",{ref:t,className:Ov(d.root,i),elementType:aL,externalForwardedProps:u,ownerState:h});return re.jsx(g,Kg({},f,{children:r}))}));function cL(e){return iy("MuiCardContent",e)}oy("MuiCardContent",["root"]);const uL=["className","component","children","orientation","slots","slotProps"],hL=_y("div")((({ownerState:e})=>({display:"flex",flexDirection:"horizontal"===e.orientation?"row":"column",flex:9999,zIndex:1,columnGap:"var(--Card-padding)",rowGap:"max(2px, calc(0.1875 * var(--Card-padding)))",padding:"var(--unstable_padding)",[`.${nL.root} > &`]:{"--unstable_padding":"calc(var(--Card-padding) * 0.75) 0px"}}))),dL=_y(hL,{name:"JoyCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCardContent"}),{className:i,component:o="div",children:r,orientation:s="vertical",slots:a={},slotProps:l={}}=n,c=Kg({},um(n,uL),{component:o,slots:a,slotProps:l}),u=Kg({},n,{component:o,orientation:s}),h=Jb({root:["root"]},cL,{}),[d,g]=hS("root",{ref:t,className:Ov(h.root,i),elementType:dL,externalForwardedProps:c,ownerState:u});return re.jsx(d,Kg({},g,{children:r}))}));function fL(e){return iy("MuiCardCover",e)}oy("MuiCardCover",["root"]);const pL=["className","component","children","slots","slotProps"],mL=_y("div",{name:"JoyCardCover",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"absolute",zIndex:0,top:0,left:0,right:0,bottom:0,borderRadius:"var(--CardCover-radius)","& [data-first-child]":{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",objectFit:"cover",boxSizing:"border-box",borderRadius:"var(--CardCover-radius)",margin:0,padding:0,"& > img":{width:"100%",height:"100%",objectFit:"cover"}}}),vL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCardCover"}),{className:i,component:o="div",children:r,slots:s={},slotProps:a={}}=n,l=um(n,pL),c=Kg({},n,{component:o}),u=Jb({root:["root"]},fL,{}),h=Kg({},l,{component:o,slots:s,slotProps:a}),[d,g]=hS("root",{ref:t,className:Ov(u.root,i),elementType:mL,externalForwardedProps:h,ownerState:c});return re.jsx(d,Kg({},g,{children:Y.Children.map(r,((e,t)=>0===t&&Y.isValidElement(e)?Y.cloneElement(e,{"data-first-child":""}):e))}))}));function bL(e){return iy("MuiModalDialog",e)}const _L=oy("MuiModalDialog",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","layoutCenter","layoutFullscreen"]),yL=["className","component","children","color","variant","slots","slotProps"],wL=_y("div",{name:"JoyCardOverflow",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n;const i="calc(var(--CardOverflow-radius) - var(--variant-borderWidth, 0px))";return Kg({alignSelf:"stretch",position:"relative",display:"flex",flexDirection:"var(--_CardOverflow-flexDirection)",margin:"var(--_CardOverflow-margin)",borderRadius:"var(--_CardOverflow-radius)",padding:"var(--_CardOverflow-padding)",[`.${Yk.vertical} &, .${Yk.horizontal} .${Yk.vertical} &, .${_L.root} &`]:{"--_CardOverflow-flexDirection":"column","--AspectRatio-margin":"0 calc(-1 * var(--Card-padding))","--_CardOverflow-margin":"0 var(--CardOverflow-offset)","--_CardOverflow-padding":"0 var(--Card-padding)","&[data-first-child]":{"--AspectRatio-radius":`${i} ${i} 0 0`,"--_CardOverflow-radius":"var(--CardOverflow-radius) var(--CardOverflow-radius) 0 0","--_CardOverflow-margin":"var(--CardOverflow-offset) var(--CardOverflow-offset) 0"},"&[data-last-child]":{"--AspectRatio-radius":`0 0 ${i} ${i}`,"--_CardOverflow-radius":"0 0 var(--CardOverflow-radius) var(--CardOverflow-radius)","--_CardOverflow-margin":"0 var(--CardOverflow-offset) var(--CardOverflow-offset)"},"&[data-last-child][data-first-child]":{"--AspectRatio-radius":i,"--_CardOverflow-margin":"var(--CardOverflow-offset)"},[`& > .${Ok.root}:only-child`]:{zIndex:1,width:"calc(100% + -2 * var(--CardOverflow-offset))","--Button-margin":"0 var(--CardOverflow-offset)","--Button-radius":"0 0 var(--CardOverflow-radius) var(--CardOverflow-radius)"}},[`.${Yk.horizontal} &, .${Yk.vertical} .${Yk.horizontal} &`]:{"--_CardOverflow-flexDirection":"row","--AspectRatio-margin":"calc(-1 * var(--Card-padding)) 0px","--_CardOverflow-margin":"var(--CardOverflow-offset) 0px","--_CardOverflow-padding":"var(--Card-padding) 0px","&[data-first-child]":{"--AspectRatio-radius":`${i} 0 0 ${i}`,"--_CardOverflow-radius":"var(--CardOverflow-radius) 0 0 var(--CardOverflow-radius)","--_CardOverflow-margin":"var(--CardOverflow-offset) 0px var(--CardOverflow-offset) var(--CardOverflow-offset)"},"&[data-last-child]":{"--AspectRatio-radius":`0 ${i} ${i} 0`,"--_CardOverflow-radius":"0 var(--CardOverflow-radius) var(--CardOverflow-radius) 0","--_CardOverflow-margin":"var(--CardOverflow-offset) var(--CardOverflow-offset) var(--CardOverflow-offset) 0px"},"&[data-last-child][data-first-child]":{"--AspectRatio-radius":i,"--_CardOverflow-margin":"var(--CardOverflow-offset)"},[`& > .${Ok.root}:only-child`]:{height:"calc(100% + -2 * var(--CardOverflow-offset))","--Button-margin":"var(--CardOverflow-offset) 0","--Button-radius":"0 var(--CardOverflow-radius) var(--CardOverflow-radius) 0"}}},null==(n=e.variants[t.variant])?void 0:n[t.color])})),CL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyCardOverflow"}),{className:i,component:o="div",children:r,color:s="neutral",variant:a="plain",slots:l={},slotProps:c={}}=n,u=um(n,yL),h=Kg({},n,{component:o,color:s,variant:a}),d=(e=>{const{variant:t,color:n}=e;return Jb({root:["root",t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`]},tL,{})})(h),g=Kg({},u,{component:o,slots:l,slotProps:c}),[f,p]=hS("root",{ref:t,className:Ov(d.root,i),elementType:wL,externalForwardedProps:g,ownerState:h});return re.jsx(f,Kg({},p,{children:r}))}));function SL(e){return iy("MuiDialogContent",e)}CL.muiName="CardOverflow",oy("MuiDialogContent",["root"]);const xL=Y.createContext(void 0);function kL(e){return iy("MuiDialogTitle",e)}const LL=oy("MuiDialogTitle",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]),DL=["component","children","orientation","slots","slotProps"],EL=_y(hL,{name:"JoyDialogContent",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({color:`var(--DialogContent-color, ${e.vars.palette.text.tertiary})`,overflow:"auto",margin:"var(--unstable_DialogContent-margin)",[`.${_L.root} > .${LL.root} + &`]:{"--unstable_DialogContent-margin":"-0.375em 0 0 0"}}))),NL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyDialogContent"}),i=Y.useContext(xL),{component:o="div",children:r,orientation:s="vertical",slots:a={},slotProps:l={}}=n,c=Kg({},um(n,DL),{component:o,slots:a,slotProps:l}),u=Kg({},n,{component:o,orientation:s}),h=Jb({root:["root"]},SL,{}),[d,g]=hS("root",{ref:t,className:h.root,elementType:EL,externalForwardedProps:c,ownerState:u,additionalProps:{id:null==i?void 0:i.describedBy}});return re.jsx(d,Kg({},g,{children:r}))})),TL=Y.createContext(void 0),IL=["component","children","variant","color","level","slots","slotProps"],ML=_y("h2",{name:"JoyDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i;return Kg({"--Icon-fontSize":`calc(1em * ${"inherit"!==t.level?null==(n=e.typography[t.level])?void 0:n.lineHeight:"1"})`},t.color&&{"--Icon-color":"currentColor"},{display:"flex",gap:"clamp(4px, 0.375em, 0.75rem)",margin:"var(--unstable_DialogTitle-margin, 0px)"},t.level&&"inherit"!==t.level&&e.typography[t.level],{color:"inherit"},t.variant&&Kg({borderRadius:e.vars.radius.xs,paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},null==(i=e.variants[t.variant])?void 0:i[t.color]),{[`.${nL.root} > &`]:{"--unstable_DialogTitle-margin":"var(--Card-padding) 0"}})})),RL={sm:"title-md",md:"title-lg",lg:"h4"},AL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyDialogTitle"}),i=Y.useContext(TL),o=Y.useContext(xL),{component:r="h2",children:s,variant:a,color:l,level:c=RL[i||"md"],slots:u={},slotProps:h={}}=n,d=um(n,IL),g=e.color||(a?null!=l?l:"neutral":l),f=Kg({},d,{component:r,slots:u,slotProps:h}),p=Kg({},n,{component:r,color:g,variant:a,level:c}),m=(e=>{const{level:t,color:n,variant:i}=e;return Jb({root:["root",t,n&&`color${Lm(n)}`,i&&`variant${Lm(i)}`]},kL,{})})(p),[v,b]=hS("root",{ref:t,className:m.root,elementType:ML,externalForwardedProps:f,ownerState:p,additionalProps:{id:null==o?void 0:o.labelledBy}});return re.jsx(v,Kg({},b,{children:s}))})),OL=["className","children","component","inset","orientation","role","slots","slotProps"],PL=_y("hr",{name:"JoyDivider",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>Kg({"--Divider-thickness":"1px","--Divider-lineColor":e.vars.palette.divider},"none"===t.inset&&{"--_Divider-inset":"0px"},"context"===t.inset&&{"--_Divider-inset":"var(--Divider-inset, 0px)"},{margin:"initial",marginInline:"vertical"===t.orientation?"initial":"var(--_Divider-inset)",marginBlock:"vertical"===t.orientation?"var(--_Divider-inset)":"initial",position:"relative",alignSelf:"stretch",flexShrink:0},t.children?Kg({"--Divider-gap":e.spacing(1),"--Divider-childPosition":"50%",display:"flex",flexDirection:"vertical"===t.orientation?"column":"row",alignItems:"center",whiteSpace:"nowrap",textAlign:"center",border:0},e.typography["body-sm"],{"&::before, &::after":{position:"relative",inlineSize:"vertical"===t.orientation?"var(--Divider-thickness)":"initial",blockSize:"vertical"===t.orientation?"initial":"var(--Divider-thickness)",backgroundColor:"var(--Divider-lineColor)",content:'""'},"&::before":{marginInlineEnd:"vertical"===t.orientation?"initial":"min(var(--Divider-childPosition) * 999, var(--Divider-gap))",marginBlockEnd:"vertical"===t.orientation?"min(var(--Divider-childPosition) * 999, var(--Divider-gap))":"initial",flexBasis:"var(--Divider-childPosition)"},"&::after":{marginInlineStart:"vertical"===t.orientation?"initial":"min((100% - var(--Divider-childPosition)) * 999, var(--Divider-gap))",marginBlockStart:"vertical"===t.orientation?"min((100% - var(--Divider-childPosition)) * 999, var(--Divider-gap))":"initial",flexBasis:"calc(100% - var(--Divider-childPosition))"}}):{border:"none",listStyle:"none",backgroundColor:"var(--Divider-lineColor)",inlineSize:"vertical"===t.orientation?"var(--Divider-thickness)":"initial",blockSize:"vertical"===t.orientation?"initial":"var(--Divider-thickness)"}))),FL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyDivider"}),{className:i,children:o,component:r=(null!=o?"div":"hr"),inset:s,orientation:a="horizontal",role:l=("hr"!==r?"separator":void 0),slots:c={},slotProps:u={}}=n,h=um(n,OL),d=Kg({},n,{inset:s,role:l,orientation:a,component:r}),g=(e=>{const{orientation:t,inset:n}=e;return Jb({root:["root",t,n&&`inset${Lm(n)}`]},iL,{})})(d),f=Kg({},h,{component:r,slots:c,slotProps:u}),[p,m]=hS("root",{ref:t,className:Ov(g.root,i),elementType:PL,externalForwardedProps:f,ownerState:d,additionalProps:Kg({as:r,role:l},"separator"===l&&"vertical"===a&&{"aria-orientation":"vertical"})});return re.jsx(p,Kg({},m,{children:o}))}));function BL(e){return iy("MuiModal",e)}FL.muiName="Divider",oy("MuiModal",["root","hidden","backdrop"]);const zL=Y.createContext(void 0),VL=["children","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onKeyDown","open","component","slots","slotProps"],WL=_y("div")((({ownerState:e,theme:t})=>Kg({"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`,'& ~ [role="listbox"]':{"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`},position:"fixed",zIndex:t.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&{visibility:"hidden"}))),HL=_y(WL,{name:"JoyModal",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$L=_y("div")((({theme:e})=>({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:e.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent",backdropFilter:"blur(8px)"}))),jL=_y($L,{name:"JoyModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({}),UL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyModal"}),{children:i,container:o,disableAutoFocus:r=!1,disableEnforceFocus:s=!1,disableEscapeKeyDown:a=!1,disablePortal:l=!1,disableRestoreFocus:c=!1,disableScrollLock:u=!1,hideBackdrop:h=!1,keepMounted:d=!1,onClose:g,open:f,component:p,slots:m={},slotProps:v={}}=n,b=um(n,VL),_=Kg({},n,{disableAutoFocus:r,disableEnforceFocus:s,disableEscapeKeyDown:a,disablePortal:l,disableRestoreFocus:c,disableScrollLock:u,hideBackdrop:h,keepMounted:d}),{getRootProps:y,getBackdropProps:w,rootRef:C,portalRef:S,isTopModal:x}=Ew(Kg({},_,{rootRef:t})),k=(e=>{const{open:t}=e;return Jb({root:["root",!t&&"hidden"],backdrop:["backdrop"]},BL,{})})(_),L=Kg({},b,{component:p,slots:m,slotProps:v}),[D,E]=hS("root",{ref:C,className:k.root,elementType:HL,externalForwardedProps:L,getSlotProps:y,ownerState:_}),[N,T]=hS("backdrop",{className:k.backdrop,elementType:jL,externalForwardedProps:L,getSlotProps:w,ownerState:_});return d||f?re.jsx(zL.Provider,{value:g,children:re.jsx(_w,{ref:S,container:o,disablePortal:l,children:re.jsxs(D,Kg({},E,{children:[h?null:re.jsx(N,Kg({},T)),re.jsx(Gy,{disableEnforceFocus:s,disableAutoFocus:r,disableRestoreFocus:c,isEnabled:x,open:f,children:Y.Children.only(i)&&Y.cloneElement(i,Kg({},void 0===i.props.tabIndex&&{tabIndex:-1}))})]}))})}):null}));function KL(e){return iy("MuiDrawer",e)}oy("MuiDrawer",["root","hidden","backdrop","content","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const qL=["children","anchor","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","color","variant","invertedColors","size","onClose","onKeyDown","open","component","slots","slotProps"],GL=_y(WL,{name:"JoyDrawer",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e})=>Kg({"--Drawer-transitionDuration":"0.3s","--Drawer-transitionFunction":"ease","--ModalClose-radius":"max((var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) - var(--ModalClose-inset), min(var(--ModalClose-inset) / 2, (var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) / 2))"},"sm"===e.size&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(350px, 30%, 100%)","--Drawer-horizontalSize":"clamp(256px, 20%, 100%)","--Drawer-titleMargin":"0.625rem 0.75rem calc(0.625rem / 2)"},"md"===e.size&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(400px, 45%, 100%)","--Drawer-horizontalSize":"clamp(300px, 30%, 100%)","--Drawer-titleMargin":"0.75rem 0.75rem calc(0.75rem / 2)"},"lg"===e.size&&{"--ModalClose-inset":"0.75rem","--Drawer-verticalSize":"clamp(500px, 60%, 100%)","--Drawer-horizontalSize":"clamp(440px, 60%, 100%)","--Drawer-titleMargin":"1rem 1rem calc(1rem / 2)"},{transitionProperty:"visibility",transitionDelay:e.open?"0s":"var(--Drawer-transitionDuration)"},!e.open&&{visibility:"hidden"}))),YL=_y($L,{name:"JoyDrawer",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})((({ownerState:e})=>({opacity:e.open?1:0,transition:"opacity var(--Drawer-transitionDuration) ease-in-out"}))),XL=_y("div",{name:"JoyDrawer",slot:"Content",overridesResolver:(e,t)=>t.content})((({theme:e,ownerState:t})=>{var n;return Kg({},e.typography[`body-${t.size}`],{boxShadow:e.shadow.md,backgroundColor:e.vars.palette.background.surface,outline:0,display:"flex",flexDirection:"column",position:"fixed",boxSizing:"border-box",overflow:"auto"},"left"===t.anchor&&{top:0,left:0,transform:t.open?"translateX(0)":"translateX(-100%)"},"right"===t.anchor&&{top:0,right:0,transform:t.open?"translateX(0)":"translateX(100%)"},"top"===t.anchor&&{top:0,transform:t.open?"translateY(0)":"translateY(-100%)"},"bottom"===t.anchor&&{bottom:0,transform:t.open?"translateY(0)":"translateY(100%)"},{height:t.anchor.match(/(left|right)/)?"100%":"min(100vh, var(--Drawer-verticalSize))",width:t.anchor.match(/(top|bottom)/)?"100vw":"min(100vw, var(--Drawer-horizontalSize))",transition:"transform var(--Drawer-transitionDuration) var(--Drawer-transitionFunction)"},"solid"===t.variant&&t.color&&t.invertedColors&&QS(t.color)(e),"soft"===t.variant&&t.color&&t.invertedColors&&JS(t.color)(e),null==(n=e.variants[t.variant])?void 0:n[t.color],{[`& > .${LL.root}`]:{"--unstable_DialogTitle-margin":"var(--Drawer-titleMargin)"}})})),ZL=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyDrawer"}),{children:i,anchor:o="left",container:r,disableAutoFocus:s=!1,disableEnforceFocus:a=!1,disableEscapeKeyDown:l=!1,disablePortal:c=!1,disableRestoreFocus:u=!1,disableScrollLock:h=!1,hideBackdrop:d=!1,color:g="neutral",variant:f="plain",invertedColors:p=!1,size:m="md",onClose:v,open:b,component:_,slots:y={},slotProps:w={}}=n,C=um(n,qL),S=Kg({},n,{anchor:o,disableAutoFocus:s,disableEnforceFocus:a,disableEscapeKeyDown:l,disablePortal:c,disableRestoreFocus:u,disableScrollLock:h,hideBackdrop:d,invertedColors:p,color:g,variant:f,size:m}),{getRootProps:x,getBackdropProps:k,rootRef:L,portalRef:D,isTopModal:E}=Ew(Kg({},S,{rootRef:t,children:null})),N=(e=>{const{open:t,variant:n,color:i,size:o}=e;return Jb({root:["root",!t&&"hidden",n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,o&&`size${Lm(o)}`],backdrop:["backdrop"],content:["content"]},KL,{})})(S),T=Kg({},C,{component:_,slots:y,slotProps:w}),I=Ob(),M=Ob(),R=Y.useMemo((()=>({variant:f,color:g,labelledBy:I,describedBy:M})),[g,f,I,M]),[A,O]=hS("root",{ref:L,className:N.root,elementType:GL,externalForwardedProps:T,getSlotProps:x,ownerState:S}),[P,F]=hS("backdrop",{className:N.backdrop,elementType:YL,externalForwardedProps:T,getSlotProps:k,ownerState:S}),[B,z]=hS("content",{className:N.content,elementType:XL,additionalProps:{tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":I,"aria-describedby":M},externalForwardedProps:T,ownerState:S});return re.jsx(zL.Provider,{value:v,children:re.jsx(TL.Provider,{value:m,children:re.jsx(xL.Provider,{value:R,children:re.jsx(_w,{ref:D,container:r,disablePortal:c,children:re.jsxs(A,Kg({},O,{children:[d?null:re.jsx(P,Kg({},F)),re.jsx(Gy,{disableEnforceFocus:a,disableAutoFocus:s,disableRestoreFocus:u,isEnabled:E,open:b,children:re.jsx(B,Kg({},z,{children:i}))})]}))})})})})}));function QL(e){return iy("MuiFormControl",e)}const JL=oy("MuiFormControl",["root","error","disabled","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","sizeSm","sizeMd","sizeLg","horizontal","vertical"]),eD=oy("MuiSwitch",["root","checked","disabled","action","input","thumb","track","focusVisible","readOnly","colorPrimary","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantOutlined","variantSoft","variantSolid","startDecorator","endDecorator"]),tD=["id","className","component","disabled","required","error","color","size","orientation","slots","slotProps"],nD=_y("div",{name:"JoyFormControl",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o;return Kg({"--unstable_RadioGroup-margin":"0.5rem 0","--FormLabel-alignSelf":"horizontal"===t.orientation?"align-items":"flex-start","--FormLabel-asteriskColor":e.vars.palette.danger[500]},"sm"===t.size&&{"--FormLabel-fontSize":e.vars.fontSize.xs,"--FormLabel-lineHeight":e.vars.lineHeight.xl,"--FormLabel-margin":"horizontal"===t.orientation?"0 0.5rem 0 0":"0 0 0.25rem 0","--FormHelperText-fontSize":e.vars.fontSize.xs,"--FormHelperText-lineHeight":e.vars.lineHeight.xl},"md"===t.size&&{"--FormLabel-fontSize":e.vars.fontSize.sm,"--FormLabel-lineHeight":e.vars.lineHeight.sm,"--FormLabel-margin":"horizontal"===t.orientation?"0 0.75rem 0 0":"0 0 0.375rem 0","--FormHelperText-fontSize":e.vars.fontSize.sm,"--FormHelperText-lineHeight":e.vars.lineHeight.sm},"lg"===t.size&&{"--FormLabel-fontSize":e.vars.fontSize.md,"--FormLabel-lineHeight":e.vars.lineHeight.md,"--FormLabel-margin":"horizontal"===t.orientation?"0 1rem 0 0":"0 0 0.5rem 0","--FormHelperText-fontSize":e.vars.fontSize.sm,"--FormHelperText-lineHeight":e.vars.lineHeight.sm},t.color&&{"--FormHelperText-color":null==(n=e.vars.palette[t.color])?void 0:n[500]},{"--FormHelperText-margin":"0.375rem 0 0 0",[`&.${JL.error}`]:{"--FormHelperText-color":e.vars.palette.danger[500]},[`&.${JL.disabled}`]:{"--FormLabel-color":null==(i=e.variants.plainDisabled)||null==(i=i[t.color||"neutral"])?void 0:i.color,"--FormHelperText-color":null==(o=e.variants.plainDisabled)||null==(o=o[t.color||"neutral"])?void 0:o.color},display:"flex",position:"relative",flexDirection:"horizontal"===t.orientation?"row":"column"},"horizontal"===t.orientation&&{[`& > label ~ .${eD.root}`]:{"--unstable_Switch-margin":"0 0 0 auto"}})})),iD=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyFormControl"}),{id:i,className:o,component:r="div",disabled:s=!1,required:a=!1,error:l=!1,color:c,size:u="md",orientation:h="vertical",slots:d={},slotProps:g={}}=n,f=um(n,tD),p=Ob(i),[m,v]=Y.useState(null),b=Kg({},n,{id:p,component:r,color:c,disabled:s,error:l,required:a,size:u,orientation:h});let _;const y=(e=>{const{disabled:t,error:n,size:i,color:o,orientation:r}=e;return Jb({root:["root",r,t&&"disabled",n&&"error",o&&`color${Lm(o)}`,i&&`size${Lm(i)}`]},QL,{})})(b),[w,C]=hS("root",{ref:t,className:Ov(y.root,o),elementType:nD,externalForwardedProps:Kg({},f,{component:r,slots:d,slotProps:g}),ownerState:b}),S=Y.useMemo((()=>({disabled:s,required:a,error:l,color:c,size:u,htmlFor:p,labelId:`${p}-label`,"aria-describedby":m?`${p}-helper-text`:void 0,setHelperText:v,registerEffect:_})),[c,s,l,m,p,_,a,u]);return re.jsx(Yx.Provider,{value:S,children:re.jsx(w,Kg({},C))})})),oD=function(e={}){const{createStyledComponent:t=q_,useThemeProps:n=G_,componentName:i="MuiGrid"}=e,o=Y.createContext(void 0),r=t(F_,z_,B_,O_,V_,W_,P_),s=Y.forwardRef((function(e,t){var s,a,l,c,u,h,d,g;const f=Dv(),p=Tv(n(e)),m=Y.useContext(o),{className:v,children:b,columns:_=12,container:y=!1,component:w="div",direction:C="row",wrap:S="wrap",spacing:x=0,rowSpacing:k=x,columnSpacing:L=x,disableEqualOverflow:D,unstable_level:E=0}=p,N=um(p,U_);let T=D;E&&void 0!==D&&(T=e.disableEqualOverflow);const I={},M={},R={};Object.entries(N).forEach((([e,t])=>{void 0!==f.breakpoints.values[e]?I[e]=t:void 0!==f.breakpoints.values[e.replace("Offset","")]?M[e.replace("Offset","")]=t:R[e]=t}));const A=null!=(s=e.columns)?s:E?void 0:_,O=null!=(a=e.spacing)?a:E?void 0:x,P=null!=(l=null!=(c=e.rowSpacing)?c:e.spacing)?l:E?void 0:k,F=null!=(u=null!=(h=e.columnSpacing)?h:e.spacing)?u:E?void 0:L,B=Kg({},p,{level:E,columns:A,container:y,direction:C,wrap:S,spacing:O,rowSpacing:P,columnSpacing:F,gridSize:I,gridOffset:M,disableEqualOverflow:null!=(d=null!=(g=T)?g:m)&&d,parentDisableEqualOverflow:m}),z=((e,t)=>{const{container:n,direction:o,spacing:r,wrap:s,gridSize:a}=e;return Jb({root:["root",n&&"container","wrap"!==s&&`wrap-xs-${String(s)}`,...j_(o),...H_(a),...n?$_(r,t.breakpoints.keys[0]):[]]},(e=>Bv(i,e)),{})})(B,f);let V=re.jsx(r,Kg({ref:t,as:w,ownerState:B,className:Ov(z.root,v)},R,{children:Y.Children.map(b,(e=>{var t;return Y.isValidElement(e)&&Nb(e,["Grid"])?Y.cloneElement(e,{unstable_level:null!=(t=e.props.unstable_level)?t:E+1}):e}))}));return void 0!==T&&T!==(null!=m&&m)&&(V=re.jsx(o.Provider,{value:T,children:V})),V}));return s.muiName="Grid",s}({createStyledComponent:_y("div",{name:"JoyGrid",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>yy({props:e,name:"JoyGrid"})});function rD(e){return iy("MuiLink",e)}const sD=oy("MuiLink",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","variantPlain","variantOutlined","variantSoft","variantSolid","underlineNone","underlineHover","underlineAlways","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","startDecorator","endDecorator"]),aD=["color","textColor","variant"],lD=["children","disabled","onBlur","onFocus","level","overlay","underline","endDecorator","startDecorator","component","slots","slotProps"],cD=_y("span",{name:"JoyLink",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})((({ownerState:e})=>{var t;return Kg({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Link-gap, 0.375em), 0.75rem)"},"string"!=typeof e.startDecorator&&("flex-start"===e.alignItems||"flex-start"===(null==(t=e.sx)?void 0:t.alignItems))&&{marginTop:"2px"})})),uD=_y("span",{name:"JoyLink",slot:"endDecorator",overridesResolver:(e,t)=>t.endDecorator})((({ownerState:e})=>{var t;return Kg({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Link-gap, 0.25em), 0.5rem)"},"string"!=typeof e.startDecorator&&("flex-start"===e.alignItems||"flex-start"===(null==(t=e.sx)?void 0:t.alignItems))&&{marginTop:"2px"})})),hD=_y("a",{name:"JoyLink",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o,r,s,a,l;return[Kg({"--Icon-fontSize":"1.25em","--Icon-color":"currentColor","--CircularProgress-size":"1.25em","--CircularProgress-thickness":"3px"},t.level&&"inherit"!==t.level&&e.typography[t.level],"inherit"===t.level&&{font:"inherit"},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{"@media (hover: hover)":{textDecorationLine:"underline"}}},"always"===t.underline&&{textDecoration:"underline"},t.startDecorator&&{verticalAlign:"bottom"},{textDecorationThickness:"max(0.08em, 1px)",textUnderlineOffset:"0.15em",display:"inline-flex",alignItems:"center",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:e.vars.radius.xs,padding:0,cursor:"pointer",textDecorationColor:`var(--variant-outlinedBorder, rgba(${null==(n=e.vars.palette[t.color])?void 0:n.mainChannel} / var(--Link-underlineOpacity, 0.72)))`},t.variant?Kg({paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!t.nesting&&{marginInline:"-0.25em"}):{color:`var(--variant-plainColor, rgba(${null==(i=e.vars.palette[t.color])?void 0:i.mainChannel} / 1))`,[`&.${sD.disabled}`]:{pointerEvents:"none",color:`var(--variant-plainDisabledColor, rgba(${null==(o=e.vars.palette[t.color])?void 0:o.mainChannel} / 0.6))`}},{userSelect:"button"===t.component?"none":void 0,MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},t.overlay?{position:"initial","&::after":{content:'""',display:"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"var(--unstable_actionRadius, inherit)",margin:"var(--unstable_actionMargin)"},[`${e.focus.selector}`]:{"&::after":e.focus.default}}:{position:"relative",[e.focus.selector]:e.focus.default}),t.variant&&Kg({},null==(r=e.variants[t.variant])?void 0:r[t.color],{"&:hover":{"@media (hover: hover)":null==(s=e.variants[`${t.variant}Hover`])?void 0:s[t.color]},"&:active":null==(a=e.variants[`${t.variant}Active`])?void 0:a[t.color],[`&.${sD.disabled}`]:null==(l=e.variants[`${t.variant}Disabled`])?void 0:l[t.color]})]})),dD=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyLink"}),{color:i="primary",textColor:o,variant:r}=n,s=um(n,aD),a=Y.useContext(Dk),l=Y.useContext(Ek),c=Tv(Kg({},s,{color:o})),{children:u,disabled:h=!1,onBlur:d,onFocus:g,level:f="body-md",overlay:p=!1,underline:m="hover",endDecorator:v,startDecorator:b,component:_,slots:y={},slotProps:w={}}=c,C=um(c,lD),S=a||l?e.level||"inherit":f,{isFocusVisibleRef:x,onBlur:k,onFocus:L,ref:D}=Zb(),[E,N]=Y.useState(!1),T=Bb(t,D),I=Kg({},c,{color:i,disabled:h,focusVisible:E,underline:m,variant:r,level:S,overlay:p,nesting:a}),M=(e=>{const{level:t,color:n,variant:i,underline:o,focusVisible:r,disabled:s}=e;return Jb({root:["root",n&&`color${Lm(n)}`,s&&"disabled",r&&"focusVisible",t,o&&`underline${Lm(o)}`,i&&`variant${Lm(i)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},rD,{})})(I),R=Kg({},C,{component:_,slots:y,slotProps:w}),[A,O]=hS("root",{additionalProps:{onBlur:e=>{k(e),!1===x.current&&N(!1),d&&d(e)},onFocus:e=>{L(e),!0===x.current&&N(!0),g&&g(e)}},ref:T,className:M.root,elementType:hD,externalForwardedProps:R,ownerState:I}),[P,F]=hS("startDecorator",{className:M.startDecorator,elementType:cD,externalForwardedProps:R,ownerState:I}),[B,z]=hS("endDecorator",{className:M.endDecorator,elementType:uD,externalForwardedProps:R,ownerState:I});return re.jsx(Dk.Provider,{value:!0,children:re.jsxs(A,Kg({},O,{children:[b&&re.jsx(P,Kg({},F,{children:b})),Nb(u,["Skeleton"])?Y.cloneElement(u,{variant:u.props.variant||"inline"}):u,v&&re.jsx(B,Kg({},z,{children:v}))]}))})}));function gD(e){return iy("MuiListItemDecorator",e)}oy("MuiListItemDecorator",["root"]);const fD=["component","className","children","slots","slotProps"],pD=_y("span",{name:"JoyListItemDecorator",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e})=>Kg({boxSizing:"border-box",display:"inline-flex",alignItems:`var(--unstable_ListItemDecorator-alignItems, ${"horizontal"===e.parentOrientation?"center":"initial"})`},"horizontal"===e.parentOrientation?{minInlineSize:"var(--ListItemDecorator-size)",marginInlineEnd:"calc(-1 * var(--ListItem-gap))"}:{minBlockSize:"var(--ListItemDecorator-size)",justifyContent:"center",marginBlockEnd:"calc(-1 * var(--ListItem-gap))"}))),mD=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyListItemDecorator"}),{component:i,className:o,children:r,slots:s={},slotProps:a={}}=n,l=um(n,fD),c=Kg({parentOrientation:Y.useContext(FS)},n),u=Jb({root:["root"]},gD,{}),h=Kg({},l,{component:i,slots:s,slotProps:a}),[d,g]=hS("root",{ref:t,className:Ov(u.root,o),elementType:pD,externalForwardedProps:h,ownerState:c});return re.jsx(d,Kg({},g,{children:r}))}));function vD(e){return iy("MuiMenu",e)}oy("MuiMenu",["root","listbox","expanded","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const bD=["actions","children","color","component","disablePortal","keepMounted","id","invertedColors","onItemsChange","modifiers","variant","size","slots","slotProps"],_D=_y(MS,{name:"JoyMenu",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i;const o=null==(n=e.variants[t.variant])?void 0:n[t.color];return[Kg({"--focus-outline-offset":`calc(${e.vars.focus.thickness} * -1)`,"--ListItem-stickyBackground":(null==o?void 0:o.backgroundColor)||(null==o?void 0:o.background)||e.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},LS,{borderRadius:`var(--List-radius, ${e.vars.radius.sm})`,boxShadow:e.shadow.md,overflow:"auto",zIndex:`var(--unstable_popup-zIndex, ${e.vars.zIndex.popup})`},!(null!=o&&o.backgroundColor)&&{backgroundColor:e.vars.palette.background.popup},"solid"===t.variant&&t.color&&t.invertedColors&&QS(t.color)(e),"soft"===t.variant&&t.color&&t.invertedColors&&JS(t.color)(e),null==(i=e.variants[t.variant])?void 0:i[t.color])]})),yD=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyMenu"}),{actions:o,children:r,color:s="neutral",component:a,disablePortal:l=!1,keepMounted:c=!1,id:u,invertedColors:h=!1,onItemsChange:d,modifiers:g,variant:f="outlined",size:p="md",slots:m={},slotProps:v={}}=i,b=um(i,bD),{contextValue:_,getListboxProps:y,dispatch:w,open:C,triggerElement:S}=function(e={}){var t,n;const{listboxRef:i,onItemsChange:o,id:r,disabledItemsFocusable:s=!0,disableListWrap:a=!1,autoFocus:l=!0,componentName:c="useMenu"}=e,u=Y.useRef(null),h=Bb(u,i),d=null!=(t=Ob(r))?t:"",{state:{open:g,changeReason:f},dispatch:p,triggerElement:m,registerPopup:v}=null!=(n=Y.useContext(Py))?n:vw,b=Y.useRef(g),{subitems:_,contextValue:y}=fw(),w=Y.useMemo((()=>Array.from(_.keys())),[_]),C=Y.useCallback((e=>{var t,n;return null==e?null:null!=(t=null==(n=_.get(e))?void 0:n.ref.current)?t:null}),[_]),S=Y.useCallback((e=>{var t;return(null==_||null==(t=_.get(e))?void 0:t.disabled)||!1}),[_]),x=Y.useCallback((e=>{var t,n;return(null==(t=_.get(e))?void 0:t.label)||(null==(n=_.get(e))||null==(n=n.ref.current)?void 0:n.innerText)}),[_]),k=Y.useMemo((()=>({listboxRef:u})),[u]),{dispatch:L,getRootProps:D,contextValue:E,state:{highlightedValue:N},rootRef:T}=cw({disabledItemsFocusable:s,disableListWrap:a,focusManagement:"DOM",getItemDomElement:C,getInitialState:()=>({selectedValues:[],highlightedValue:null}),isItemDisabled:S,items:w,getItemAsString:x,rootRef:h,onItemsChange:o,reducerActionContext:k,selectionMode:"none",stateReducer:dw,componentName:c});Sb((()=>{v(d)}),[d,v]),Sb((()=>{g&&"keydown"===(null==f?void 0:f.type)&&"ArrowUp"===f.key&&L({type:Zy.highlightLast,event:f})}),[g,f,L]),Y.useEffect((()=>{var e;g&&l&&N&&!b.current&&(null==(e=_.get(N))||null==(e=e.ref)||null==(e=e.current)||e.focus())}),[g,l,N,_,w]),Y.useEffect((()=>{var e,t;null!=(e=u.current)&&e.contains(document.activeElement)&&null!==N&&(null==_||null==(t=_.get(N))||null==(t=t.ref.current)||t.focus())}),[N,_]);const I=e=>t=>{var n,i;null==(n=e.onBlur)||n.call(e,t),t.defaultMuiPrevented||null!=(i=u.current)&&i.contains(t.relatedTarget)||t.relatedTarget===m||p({type:Hy.blur,event:t})},M=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),t.defaultMuiPrevented||"Escape"===t.key&&p({type:Hy.escapeKeyDown,event:t})},R=(e={})=>({onBlur:I(e),onKeyDown:M(e)});return Y.useDebugValue({subitems:_,highlightedValue:N}),{contextValue:Kg({},y,E),dispatch:L,getListboxProps:(e={})=>{const t=mw(R,D),n=ky(e);return Kg({},e,n,t(n),{id:d,role:"menu"})},highlightedValue:N,listboxRef:T,menuItems:_,open:g,triggerElement:m}}({onItemsChange:d,id:u,listboxRef:t});Y.useImperativeHandle(o,(()=>({dispatch:w,resetHighlight:()=>w({type:Zy.resetHighlight,event:null})})),[w]);const x=Kg({},i,{disablePortal:l,invertedColors:h,color:s,variant:f,size:p,open:C,nesting:!1,row:!1}),k=(e=>{const{open:t,variant:n,color:i,size:o}=e;return Jb({root:["root",t&&"expanded",n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,o&&`size${Lm(o)}`],listbox:["listbox"]},vD,{})})(x),L=Kg({},b,{component:a,slots:m,slotProps:v}),D=Y.useMemo((()=>[{name:"offset",options:{offset:[0,4]}},...g||[]]),[g]),E=Ty({elementType:_D,getSlotProps:y,externalForwardedProps:L,externalSlotProps:{},ownerState:x,additionalProps:{anchorEl:S,open:C&&null!==S,disablePortal:l,keepMounted:c,modifiers:D},className:k.root});return re.jsx(_D,Kg({},E,!(null!=(n=i.slots)&&n.root)&&{as:ZC,slots:{root:a||"ul"}},{children:re.jsx(bw,{value:_,children:re.jsx(lx,{variant:h?void 0:f,color:s,children:re.jsx(_S.Provider,{value:"menu",children:re.jsx(DS,{nested:!0,children:r})})})})}))}));function wD(e){return iy("MuiMenuButton",e)}oy("MuiMenuButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]);const CD=["children","color","component","disabled","endDecorator","loading","loadingPosition","loadingIndicator","size","slotProps","slots","startDecorator","variant"],SD=_y("button",{name:"JoyMenuButton",slot:"Root",overridesResolver:(e,t)=>t.root})(Vk),xD=_y("span",{name:"JoyMenuButton",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),kD=_y("span",{name:"JoyMenuButton",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),LD=_y("span",{name:"JoyMenuButton",slot:"LoadingCenter",overridesResolver:(e,t)=>t.loadingIndicatorCenter})((({theme:e,ownerState:t})=>{var n,i;return Kg({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:null==(n=e.variants[t.variant])||null==(n=n[t.color])?void 0:n.color},t.disabled&&{color:null==(i=e.variants[`${t.variant}Disabled`])||null==(i=i[t.color])?void 0:i.color})})),DD=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyMenuButton"}),{children:o,color:r="neutral",component:s,disabled:a=!1,endDecorator:l,loading:c=!1,loadingPosition:u="center",loadingIndicator:h,size:d="md",slotProps:g={},slots:f={},startDecorator:p,variant:m="outlined"}=i,v=um(i,CD),b=Y.useContext(hx),_=e.variant||b.variant||m,y=e.size||b.size||d,w=null!=(n=e.disabled)?n:b.disabled||a||c,{getRootProps:C,open:S,active:x}=function(e={}){const{disabled:t=!1,focusableWhenDisabled:n,rootRef:i}=e,o=Y.useContext(Py);if(null===o)throw new Error("useMenuButton: no menu context available.");const{state:r,dispatch:s,registerTrigger:a,popupId:l}=o,{getRootProps:c,rootRef:u,active:h}=Ry({disabled:t,focusableWhenDisabled:n,rootRef:i}),d=Bb(u,a),g=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.defaultMuiPrevented||s({type:Hy.toggle,event:t})},f=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),t.defaultMuiPrevented||"ArrowDown"!==t.key&&"ArrowUp"!==t.key||(t.preventDefault(),s({type:Hy.open,event:t}))},p=(e={})=>({onClick:g(e),onKeyDown:f(e)});return{active:h,getRootProps:(e={})=>{const t=ky(e),n=mw(p,c);return Kg({"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l},e,t,n(t),{tabIndex:0,ref:d})},open:r.open,rootRef:d}}({rootRef:t,disabled:w}),k=null!=h?h:re.jsx(xx,{color:r,thickness:{sm:2,md:3,lg:4}[y]||3}),L=Kg({},i,{active:x,color:r,disabled:w,open:S,size:y,variant:_}),D=(e=>{const{color:t,disabled:n,fullWidth:i,size:o,variant:r,loading:s}=e;return Jb({root:["root",n&&"disabled",i&&"fullWidth",r&&`variant${Lm(r)}`,t&&`color${Lm(t)}`,o&&`size${Lm(o)}`,s&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},wD,{})})(L),E=Kg({},v,{component:s,slots:f,slotProps:g}),[N,T]=hS("root",{elementType:SD,getSlotProps:C,externalForwardedProps:E,ref:t,ownerState:L,className:D.root}),[I,M]=hS("startDecorator",{className:D.startDecorator,elementType:xD,externalForwardedProps:E,ownerState:L}),[R,A]=hS("endDecorator",{className:D.endDecorator,elementType:kD,externalForwardedProps:E,ownerState:L}),[O,P]=hS("loadingIndicatorCenter",{className:D.loadingIndicatorCenter,elementType:LD,externalForwardedProps:E,ownerState:L});return re.jsxs(N,Kg({},T,{children:[(p||c&&"start"===u)&&re.jsx(I,Kg({},M,{children:c&&"start"===u?k:p})),o,c&&"center"===u&&re.jsx(O,Kg({},P,{children:k})),(l||c&&"end"===u)&&re.jsx(R,Kg({},A,{children:c&&"end"===u?k:l}))]}))}));function ED(e){return iy("MuiMenuItem",e)}oy("MuiMenuItem",["root","focusVisible","disabled","selected","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const ND=["children","disabled","component","selected","color","orientation","variant","slots","slotProps","id"],TD=_y(zS,{name:"JoyMenuItem",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ID=Y.memo(Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyMenuItem"}),i=Y.useContext(pS),{children:o,disabled:r=!1,component:s="li",selected:a=!1,color:l="neutral",orientation:c="horizontal",variant:u="plain",slots:h={},slotProps:d={},id:g}=n,f=um(n,ND),{variant:p=u,color:m=l}=ax(e.variant,e.color),{getRootProps:v,disabled:b,focusVisible:_}=function(e){var t;const{disabled:n=!1,id:i,rootRef:o,label:r,disableFocusOnHover:s=!1}=e,a=Ob(i),l=Y.useRef(null),c=Y.useMemo((()=>({disabled:n,id:null!=a?a:"",label:r,ref:l})),[n,a,r]),{dispatch:u}=null!=(t=Y.useContext(Py))?t:ww,{getRootProps:h,highlighted:d}=hw({item:a,handlePointerOverEvents:!s}),{index:g,totalItemCount:f}=pw(null!=a?a:yw,c),{getRootProps:p,focusVisible:m,rootRef:v}=Ry({disabled:n,focusableWhenDisabled:!0}),b=Bb(v,o,l);Y.useDebugValue({id:a,highlighted:d,disabled:n,label:r});const _=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.defaultMuiPrevented||u({type:Hy.close,event:t})},y=(e={})=>Kg({},e,{onClick:_(e)});function w(e={}){const t=ky(e);return Kg({},e,t,mw(y,mw(p,h))(t),{id:a,ref:b,role:"menuitem"})}return void 0===a?{getRootProps:w,disabled:!1,focusVisible:m,highlighted:!1,index:-1,totalItemCount:0,rootRef:b}:{getRootProps:w,disabled:n,focusVisible:m,highlighted:d,index:g,totalItemCount:f,rootRef:b}}({id:g,disabled:r,rootRef:t}),y=Kg({},n,{component:s,color:m,disabled:b,focusVisible:_,orientation:c,selected:a,row:i,variant:p}),w=(e=>{const{focusVisible:t,disabled:n,selected:i,color:o,variant:r}=e;return Jb({root:["root",t&&"focusVisible",n&&"disabled",i&&"selected",o&&`color${Lm(o)}`,r&&`variant${Lm(r)}`]},ED,{})})(y),C=Kg({},f,{component:s,slots:h,slotProps:d}),[S,x]=hS("root",{ref:t,elementType:TD,getSlotProps:v,externalForwardedProps:C,className:w.root,ownerState:y});return re.jsx(FS.Provider,{value:c,children:re.jsx(S,Kg({},x,{children:o}))})}))),MD=Y.forwardRef((function(e,t){const{contextValue:n,id:i}=function(e){const t=Y.useContext(uw);if(!t)throw new Error("MenuItem: ListContext was not found.");const n=Ob(e),{getItemState:i,dispatch:o}=t;let r;r=null!=n?i(n):{focusable:!0,highlighted:!1,selected:!1};const{highlighted:s,selected:a,focusable:l}=r,c=Y.useCallback((e=>{if(e!==n)throw new Error(["Base UI MenuItem: Tried to access the state of another MenuItem.",`itemValue: ${e} | id: ${n}`,"This is unsupported when the MenuItem uses the MenuItemContextStabilizer as a performance optimization."].join("/n"));return{highlighted:s,selected:a,focusable:l}}),[s,a,l,n]);return{contextValue:Y.useMemo((()=>({dispatch:o,getItemState:c})),[o,c]),id:n}}(e.id);return re.jsx(uw.Provider,{value:n,children:re.jsx(ID,Kg({},e,{id:i,ref:t}))})}));function RD(e){return iy("MuiModalClose",e)}var AD;oy("MuiModalClose",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const OD=["component","color","variant","size","onClick","slots","slotProps"],PD=_y(Lx,{name:"JoyModalClose",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>{var n;return Kg({},"sm"===e.size&&{"--IconButton-size":"1.75rem"},"md"===e.size&&{"--IconButton-size":"2rem"},"lg"===e.size&&{"--IconButton-size":"2.25rem"},{position:"absolute",zIndex:1,top:"var(--ModalClose-inset, 0.625rem)",right:"var(--ModalClose-inset, 0.625rem)",borderRadius:`var(--ModalClose-radius, ${t.vars.radius.sm})`},!(null!=(n=t.variants[e.variant])&&null!=(n=n[e.color])&&n.backgroundColor)&&{color:t.vars.palette.text.secondary})})),FD={plain:"plain",outlined:"plain",soft:"soft",solid:"solid"},BD=Y.forwardRef((function(e,t){var n,i,o,r,s,a;const l=yy({props:e,name:"JoyModalClose"}),{component:c="button",color:u="neutral",variant:h="plain",size:d="md",onClick:g,slots:f={},slotProps:p={}}=l,m=um(l,OD),v=Y.useContext(zL),b=Y.useContext(xL),_=null!=(n=null!=(i=e.variant)?i:FD[null==b?void 0:b.variant])?n:h,y=null!=(o=null!=(r=e.color)?r:null==b?void 0:b.color)?o:u,w=Y.useContext(TL),C=null!=(s=null!=(a=e.size)?a:w)?s:d,{focusVisible:S,getRootProps:x}=Ry(Kg({},l,{rootRef:t})),k=Kg({},l,{color:y,component:c,variant:_,size:C,focusVisible:S}),L=(e=>{const{variant:t,color:n,disabled:i,focusVisible:o,size:r}=e;return Jb({root:["root",i&&"disabled",o&&"focusVisible",t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`,r&&`size${Lm(r)}`]},RD,{})})(k),[D,E]=hS("root",{ref:t,elementType:PD,getSlotProps:x,externalForwardedProps:Kg({onClick:e=>{null==v||v(e,"closeClick"),null==g||g(e)}},m,{component:c,slots:f,slotProps:p}),className:L.root,ownerState:k});return re.jsx(D,Kg({},E,{children:AD||(AD=re.jsx(rx,{}))}))})),zD=["className","children","invertedColors","orientation","color","component","variant","size","layout","maxWidth","minWidth","slots","slotProps"];function VD(e,t){var n,i;return t&&null!=(n=e.breakpoints)&&n.values[t]?`${null==(i=e.breakpoints)?void 0:i.values[t]}px`:t}const WD=_y(Zk,{name:"JoyModalDialog",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>Kg({"--ModalDialog-minWidth":"number"==typeof t.minWidth?`${t.minWidth}px`:VD(e,t.minWidth),"--ModalDialog-maxWidth":"number"==typeof t.maxWidth?`${t.maxWidth}px`:VD(e,t.maxWidth),"--ModalClose-radius":"max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--ModalClose-inset), min(var(--ModalClose-inset) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2))"},"solid"===t.variant&&{"--DialogContent-color":"currentColor"},"sm"===t.size&&{"--Card-padding":"1rem","--ModalDialog-titleOffset":e.spacing(.25),"--ModalDialog-descriptionOffset":e.spacing(.25),"--ModalClose-inset":"0.375rem"},"md"===t.size&&{"--Card-padding":"1.25rem","--ModalDialog-titleOffset":e.spacing(.25),"--ModalDialog-descriptionOffset":e.spacing(.75),"--ModalClose-inset":"0.5rem"},"lg"===t.size&&{"--Card-padding":"1.5rem","--ModalDialog-titleOffset":e.spacing(.5),"--ModalDialog-descriptionOffset":e.spacing(1),"--ModalClose-inset":"0.625rem"},{boxSizing:"border-box",boxShadow:e.shadow.md,minWidth:"min(calc(100vw - 2 * var(--Card-padding)), var(--ModalDialog-minWidth, 300px))",outline:0,position:"absolute"},"fullscreen"===t.layout&&{top:0,left:0,right:0,bottom:0,border:0,borderRadius:0},"center"===t.layout&&{top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"min(calc(100vw - 2 * var(--Card-padding)), var(--ModalDialog-maxWidth, 100vw))",maxHeight:"calc(100% - 2 * var(--Card-padding))"},{[`& [id="${t["aria-labelledby"]}"]`]:{"--Typography-margin":"calc(-1 * var(--ModalDialog-titleOffset)) 0 var(--ModalDialog-gap) 0","--Typography-fontSize":"1.125em",[`& + [id="${t["aria-describedby"]}"]`]:{"--unstable_ModalDialog-descriptionOffset":"calc(-1 * var(--ModalDialog-descriptionOffset))"}},[`& [id="${t["aria-describedby"]}"]`]:{"--Typography-fontSize":"1em","--Typography-margin":"var(--unstable_ModalDialog-descriptionOffset, var(--ModalDialog-gap)) 0 0 0","&:not(:last-child)":{"--Typography-margin":"var(--unstable_ModalDialog-descriptionOffset, var(--ModalDialog-gap)) 0 var(--ModalDialog-gap) 0"}}}))),HD=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoyModalDialog"}),{className:i,children:o,invertedColors:r=!1,orientation:s="vertical",color:a="neutral",component:l="div",variant:c="outlined",size:u="md",layout:h="center",maxWidth:d,minWidth:g,slots:f={},slotProps:p={}}=n,m=um(n,zD),v=Kg({},n,{color:a,component:l,maxWidth:d,minWidth:g,layout:h,size:u,variant:c,invertedColors:r}),b=(e=>{const{variant:t,color:n,size:i,layout:o}=e;return Jb({root:["root",t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`,i&&`size${Lm(i)}`,o&&`layout${Lm(o)}`]},bL,{})})(v),_=Kg({},m,{component:l,slots:f,slotProps:p}),y=Ob(),w=Ob(),C=Y.useMemo((()=>({variant:c,color:a,labelledBy:y,describedBy:w})),[a,c,y,w]),[S,x]=hS("root",{ref:t,className:Ov(b.root,i),elementType:WD,externalForwardedProps:_,ownerState:v,additionalProps:{as:l,role:"dialog","aria-modal":"true","aria-labelledby":y,"aria-describedby":w}});return re.jsx(TL.Provider,{value:u,children:re.jsx(xL.Provider,{value:C,children:re.jsx(S,Kg({},x,{children:Y.Children.map(o,((e,t)=>{if(!Y.isValidElement(e))return e;const n={};if(Nb(e,["Divider"])){n.inset="inset"in e.props?e.props.inset:"context";const t="vertical"===s?"horizontal":"vertical";n.orientation="orientation"in e.props?e.props.orientation:t}return 0===t&&(n["data-first-child"]=""),t===Y.Children.count(o)-1&&(n["data-last-child"]=""),Y.cloneElement(e,n)}))}))})})}));function $D(e){return iy("MuiOption",e)}const jD=oy("MuiOption",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","highlighted","variantPlain","variantSoft","variantOutlined","variantSolid"]),UD=["component","children","disabled","value","label","variant","color","slots","slotProps"],KD=_y(zS,{name:"JoyOption",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n;const i=null==(n=e.variants[`${t.variant}Hover`])?void 0:n[t.color];return{[`&.${jD.highlighted}:not([aria-selected="true"])`]:{backgroundColor:null==i?void 0:i.backgroundColor}}})),qD=Y.memo(Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyOption"}),{component:o="li",children:r,disabled:s=!1,value:a,label:l,variant:c="plain",color:u="neutral",slots:h={},slotProps:d={}}=i,g=um(i,UD),f=Y.useContext(pS),{variant:p=c,color:m=u}=ax(e.variant,e.color),v=Y.useRef(null),b=Bb(v,t),_=null!=l?l:"string"==typeof r?r:null==(n=v.current)?void 0:n.innerText,{getRootProps:y,selected:w,highlighted:C,index:S}=function(e){const{value:t,label:n,disabled:i,rootRef:o,id:r}=e,{getRootProps:s,highlighted:a,selected:l}=hw({item:t}),{getRootProps:c,rootRef:u}=Ry({disabled:i,focusableWhenDisabled:!0}),h=Ob(r),d=Y.useRef(null),g=Y.useMemo((()=>({disabled:i,label:n,value:t,ref:d,id:h})),[i,n,t,h]),{index:f}=pw(t,g),p=Bb(o,d,u),m=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),t.defaultMuiPrevented||[" ","Enter"].includes(t.key)&&(t.defaultMuiPrevented=!0)},v=(e={})=>({onKeyDown:m(e)});return{getRootProps:(e={})=>{const t=ky(e);return Kg({},e,t,mw(s,mw(c,v))(t),{id:h,ref:p,role:"option","aria-selected":l})},highlighted:a,index:f,selected:l,rootRef:p}}({disabled:s,label:_,value:a,rootRef:b}),x=Kg({},i,{disabled:s,selected:w,highlighted:C,index:S,component:o,variant:p,color:m,row:f}),k=(e=>{const{disabled:t,highlighted:n,selected:i}=e;return Jb({root:["root",t&&"disabled",n&&"highlighted",i&&"selected"]},$D,{})})(x),L=Kg({},g,{component:o,slots:h,slotProps:d}),[D,E]=hS("root",{ref:t,getSlotProps:y,elementType:KD,externalForwardedProps:L,className:k.root,ownerState:x});return re.jsx(D,Kg({},E,{children:r}))}))),GD=Y.forwardRef((function(e,t){const{contextValue:n}=function(e){const t=Y.useContext(uw);if(!t)throw new Error("Option: ListContext was not found.");const{getItemState:n,dispatch:i}=t,{highlighted:o,selected:r,focusable:s}=n(e),a=Y.useCallback((t=>{if(t!==e)throw new Error(["Base UI Option: Tried to access the state of another Option.","This is unsupported when the Option uses the OptionContextStabilizer as a performance optimization."].join("/n"));return{highlighted:o,selected:r,focusable:s}}),[o,r,s,e]);return{contextValue:Y.useMemo((()=>({dispatch:i,getItemState:a})),[i,a])}}(e.value);return re.jsx(uw.Provider,{value:n,children:re.jsx(qD,Kg({},e,{ref:t}))})})),YD=qS(re.jsx("path",{d:"m12 5.83 2.46 2.46c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 3.7a.9959.9959 0 0 0-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 5.83zm0 12.34-2.46-2.46a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L12 18.17z"}),"Unfold");function XD(e){return iy("MuiSelect",e)}const ZD=oy("MuiSelect",["root","button","indicator","startDecorator","endDecorator","popper","listbox","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","focusVisible","disabled","expanded","multiple"]);var QD;const JD=["action","autoFocus","children","defaultValue","defaultListboxOpen","disabled","getSerializedValue","placeholder","listboxId","listboxOpen","onChange","onListboxOpenChange","onClose","renderValue","required","value","size","variant","color","startDecorator","endDecorator","indicator","aria-describedby","aria-label","aria-labelledby","id","name","multiple","slots","slotProps"];function eE(e){var t;return Array.isArray(e)?re.jsx(Y.Fragment,{children:e.map((e=>e.label)).join(", ")}):null!=(t=null==e?void 0:e.label)?t:""}const tE=[{name:"offset",options:{offset:[0,4]}},{name:"equalWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`}}],nE=_y("div",{name:"JoySelect",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o,r,s;const a=null==(n=e.variants[`${t.variant}`])?void 0:n[t.color],{borderRadius:l}=ES({theme:e,ownerState:t},["borderRadius"]);return[Kg({"--Select-radius":e.vars.radius.sm,"--Select-gap":"0.5rem","--Select-placeholderOpacity":.64,"--Select-decoratorColor":e.vars.palette.text.icon,"--Select-focusedThickness":e.vars.focus.thickness,"--Select-focusedHighlight":null==(i=e.vars.palette["neutral"===t.color?"primary":t.color])?void 0:i[500],'&:not([data-inverted-colors="false"])':Kg({},t.instanceColor&&{"--_Select-focusedHighlight":null==(o=e.vars.palette["neutral"===t.instanceColor?"primary":t.instanceColor])?void 0:o[500]},{"--Select-focusedHighlight":e.vars.palette.focusVisible}),"--Select-indicatorColor":null!=a&&a.backgroundColor?null==a?void 0:a.color:e.vars.palette.text.tertiary},"sm"===t.size&&{"--Select-minHeight":"2rem","--Select-paddingInline":"0.5rem","--Select-decoratorChildHeight":"min(1.5rem, var(--Select-minHeight))","--Icon-fontSize":e.vars.fontSize.xl},"md"===t.size&&{"--Select-minHeight":"2.25rem","--Select-paddingInline":"0.75rem","--Select-decoratorChildHeight":"min(1.75rem, var(--Select-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},"lg"===t.size&&{"--Select-minHeight":"2.75rem","--Select-paddingInline":"1rem","--Select-decoratorChildHeight":"min(2.375rem, var(--Select-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},{"--Select-decoratorChildOffset":"min(calc(var(--Select-paddingInline) - (var(--Select-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Select-decoratorChildHeight)) / 2), var(--Select-paddingInline))","--_Select-paddingBlock":"max((var(--Select-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Select-decoratorChildHeight)) / 2, 0px)","--Select-decoratorChildRadius":"max(var(--Select-radius) - var(--variant-borderWidth, 0px) - var(--_Select-paddingBlock), min(var(--_Select-paddingBlock) + var(--variant-borderWidth, 0px), var(--Select-radius) / 2))","--Button-minHeight":"var(--Select-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Select-decoratorChildHeight)","--Button-radius":"var(--Select-decoratorChildRadius)","--IconButton-radius":"var(--Select-decoratorChildRadius)",boxSizing:"border-box"},"plain"!==t.variant&&{boxShadow:e.shadow.xs},{minWidth:0,minHeight:"var(--Select-minHeight)",position:"relative",display:"flex",alignItems:"center",borderRadius:"var(--Select-radius)",cursor:"pointer"},!(null!=a&&a.backgroundColor)&&{backgroundColor:e.vars.palette.background.surface},t.size&&{paddingBlock:{sm:2,md:3,lg:4}[t.size]},{paddingInline:"var(--Select-paddingInline)"},e.typography[`body-${t.size}`],a,{"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)"},[`&.${ZD.focusVisible}`]:{"--Select-indicatorColor":null==a?void 0:a.color,"&::before":{boxShadow:"inset 0 0 0 var(--Select-focusedThickness) var(--Select-focusedHighlight)"}},[`&.${ZD.disabled}`]:{"--Select-indicatorColor":"inherit"}}),{"&:hover":null==(r=e.variants[`${t.variant}Hover`])?void 0:r[t.color],[`&.${ZD.disabled}`]:null==(s=e.variants[`${t.variant}Disabled`])?void 0:s[t.color]},void 0!==l&&{"--Select-radius":l}]})),iE=_y("button",{name:"JoySelect",slot:"Button",overridesResolver:(e,t)=>t.button})((({ownerState:e})=>Kg({border:0,outline:0,background:"none",padding:0,fontSize:"inherit",color:"inherit",alignSelf:"stretch",display:"flex",alignItems:"center",flex:1,fontFamily:"inherit",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden"},(null===e.value||void 0===e.value)&&{opacity:"var(--Select-placeholderOpacity)"},{"&::before":{content:'""',display:"block",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))",right:"calc(-1 * var(--variant-borderWidth, 0px))",bottom:"calc(-1 * var(--variant-borderWidth, 0px))",borderRadius:"var(--Select-radius)"}}))),oE=_y(MS,{name:"JoySelect",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e,ownerState:t})=>{var n;const i=null==(n=e.variants[t.variant])?void 0:n[t.color];return Kg({"--focus-outline-offset":`calc(${e.vars.focus.thickness} * -1)`,"--ListItem-stickyBackground":(null==i?void 0:i.backgroundColor)||(null==i?void 0:i.background)||e.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},LS,{minWidth:"max-content",maxHeight:"44vh",overflow:"auto",outline:0,boxShadow:e.shadow.md,borderRadius:`var(--List-radius, ${e.vars.radius.sm})`,zIndex:`var(--unstable_popup-zIndex, ${e.vars.zIndex.popup})`},!(null!=i&&i.backgroundColor)&&{backgroundColor:e.vars.palette.background.popup})})),rE=_y("span",{name:"JoySelect",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({"--Button-margin":"0 0 0 calc(var(--Select-decoratorChildOffset) * -1)","--IconButton-margin":"0 0 0 calc(var(--Select-decoratorChildOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Select-paddingInline) / -4)",display:"inherit",alignItems:"center",color:"var(--Select-decoratorColor)",marginInlineEnd:"var(--Select-gap)"}),sE=_y("span",{name:"JoySelect",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({"--Button-margin":"0 calc(var(--Select-decoratorChildOffset) * -1) 0 0","--IconButton-margin":"0 calc(var(--Select-decoratorChildOffset) * -1) 0 0","--Icon-margin":"0 calc(var(--Select-paddingInline) / -4) 0 0",display:"inherit",alignItems:"center",color:"var(--Select-decoratorColor)",marginInlineStart:"var(--Select-gap)"}),aE=_y("span",{name:"JoySelect",slot:"Indicator"})((({ownerState:e,theme:t})=>Kg({},"sm"===e.size&&{"--Icon-fontSize":t.vars.fontSize.lg},"md"===e.size&&{"--Icon-fontSize":t.vars.fontSize.xl},"lg"===e.size&&{"--Icon-fontSize":t.vars.fontSize.xl2},{"--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon,display:"inherit",alignItems:"center",marginInlineStart:"var(--Select-gap)",marginInlineEnd:"calc(var(--Select-paddingInline) / -4)",[`.${ZD.endDecorator} + &`]:{marginInlineStart:"calc(var(--Select-gap) / 2)"},[`&.${ZD.expanded}, .${ZD.disabled} > &`]:{"--Icon-color":"currentColor"}}))),lE=Y.forwardRef((function(e,t){var n,i,o,r,s,a,l;const c=yy({props:e,name:"JoySelect"}),u=c,{action:h,autoFocus:d,children:g,defaultValue:f,defaultListboxOpen:p=!1,disabled:m,getSerializedValue:v,placeholder:b,listboxId:_,listboxOpen:y,onChange:w,onListboxOpenChange:C,onClose:S,renderValue:x,required:k=!1,value:L,size:D="md",variant:E="outlined",color:N="neutral",startDecorator:T,endDecorator:I,indicator:M=QD||(QD=re.jsx(YD,{})),"aria-describedby":R,"aria-label":A,"aria-labelledby":O,id:P,name:F,multiple:B=!1,slots:z={},slotProps:V={}}=u,W=um(u,JD),H=Y.useContext(Yx),$=null!=(n=null!=(i=e.disabled)?i:null==H?void 0:H.disabled)?n:m,j=null!=(o=null!=(r=e.size)?r:null==H?void 0:H.size)?o:D,U=null!=(s=e.color)?s:null!=H&&H.error?"danger":null!=(a=null==H?void 0:H.color)?a:N,K=null!=x?x:eE,[q,G]=Y.useState(null),X=Y.useRef(null),Z=Y.useRef(null),Q=Bb(t,X);Y.useImperativeHandle(h,(()=>({focusVisible:()=>{var e;null==(e=Z.current)||e.focus()}})),[]),Y.useEffect((()=>{G(X.current)}),[]),Y.useEffect((()=>{d&&Z.current.focus()}),[d]);const J=Y.useCallback((e=>{null==C||C(e),e||null==S||S()}),[S,C]),{buttonActive:ee,buttonFocusVisible:te,contextValue:ne,disabled:ie,getButtonProps:oe,getListboxProps:se,getHiddenInputProps:ae,getOptionMetadata:le,open:ce,value:ue}=nS({buttonRef:Z,defaultOpen:p,defaultValue:f,disabled:$,getSerializedValue:v,listboxId:_,multiple:B,name:F,required:k,onChange:w,onOpenChange:J,open:y,value:L}),he=Kg({},c,{active:ee,defaultListboxOpen:p,disabled:ie,focusVisible:te,open:ce,renderValue:K,value:ue,size:j,variant:E,color:U}),de=(e=>{const{color:t,disabled:n,focusVisible:i,size:o,variant:r,open:s,multiple:a}=e;return Jb({root:["root",n&&"disabled",i&&"focusVisible",s&&"expanded",r&&`variant${Lm(r)}`,t&&`color${Lm(t)}`,o&&`size${Lm(o)}`,a&&"multiple"],button:["button"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],indicator:["indicator",s&&"expanded"],listbox:["listbox",s&&"expanded",n&&"disabled"]},XD,{})})(he),ge=Kg({},W,{slots:z,slotProps:V}),fe=Y.useMemo((()=>{let e;var t;B?e=ue.map((e=>le(e))).filter((e=>void 0!==e)):e=null!=(t=le(ue))?t:null;return e}),[le,ue,B]),[pe,me]=hS("root",{ref:Q,className:de.root,elementType:nE,externalForwardedProps:ge,ownerState:he}),[ve,be]=hS("button",{additionalProps:{"aria-describedby":null!=R?R:null==H?void 0:H["aria-describedby"],"aria-label":A,"aria-labelledby":null!=O?O:null==H?void 0:H.labelId,"aria-required":k?"true":void 0,id:null!=P?P:null==H?void 0:H.htmlFor,name:F},className:de.button,elementType:iE,externalForwardedProps:ge,getSlotProps:oe,ownerState:he}),[_e,ye]=hS("listbox",{additionalProps:{anchorEl:q,open:ce,placement:"bottom",keepMounted:!0},className:de.listbox,elementType:oE,externalForwardedProps:ge,getSlotProps:se,ownerState:Kg({},he,{nesting:!1,row:!1,wrap:!1}),getSlotOwnerState:e=>({size:e.size||j,variant:e.variant||E,color:e.color||(e.disablePortal?U:N),disableColorInversion:!e.disablePortal})}),[we,Ce]=hS("startDecorator",{className:de.startDecorator,elementType:rE,externalForwardedProps:ge,ownerState:he}),[Se,xe]=hS("endDecorator",{className:de.endDecorator,elementType:sE,externalForwardedProps:ge,ownerState:he}),[ke,Le]=hS("indicator",{className:de.indicator,elementType:aE,externalForwardedProps:ge,ownerState:he}),De=Y.useMemo((()=>[...tE,...ye.modifiers||[]]),[ye.modifiers]);let Ee=b;return(Array.isArray(fe)&&fe.length>0||!Array.isArray(fe)&&fe)&&(Ee=K(fe)),re.jsxs(Y.Fragment,{children:[re.jsxs(pe,Kg({},me,{children:[T&&re.jsx(we,Kg({},Ce,{children:T})),re.jsx(ve,Kg({},be,{children:Ee})),I&&re.jsx(Se,Kg({},xe,{children:I})),M&&re.jsx(ke,Kg({},Le,{children:M})),re.jsx("input",Kg({},ae()))]})),q&&re.jsx(_e,Kg({},ye,{className:Ov(ye.className),modifiers:De},!(null!=(l=c.slots)&&l.listbox)&&{as:ZC,slots:{root:ye.as||"ul"}},{children:re.jsx(iS,{value:ne,children:re.jsx(lx,{variant:E,color:N,children:re.jsx(_S.Provider,{value:"select",children:re.jsx(DS,{nested:!0,children:g})})})})}))]})}));function cE(e){return iy("MuiSheet",e)}oy("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const uE=["className","color","component","variant","invertedColors","slots","slotProps"],hE=_y("div",{name:"JoySheet",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i;const o=null==(n=e.variants[t.variant])?void 0:n[t.color],{borderRadius:r,bgcolor:s,backgroundColor:a,background:l}=ES({theme:e,ownerState:t},["borderRadius","bgcolor","backgroundColor","background"]),c=Em(e,`palette.${s}`)||s||Em(e,`palette.${a}`)||a||l||(null==o?void 0:o.backgroundColor)||(null==o?void 0:o.background)||e.vars.palette.background.surface;return[Kg({"--Icon-color":"neutral"!==t.color||"solid"===t.variant?"currentColor":e.vars.palette.text.icon,"--ListItem-stickyBackground":"transparent"===c?"initial":c,"--Sheet-background":"transparent"===c?"initial":c},void 0!==r&&{"--List-radius":`calc(${r} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${r} - var(--variant-borderWidth, 0px))`},{backgroundColor:e.vars.palette.background.surface,position:"relative"}),Kg({},e.typography["body-md"],"solid"===t.variant&&t.color&&t.invertedColors&&QS(t.color)(e),"soft"===t.variant&&t.color&&t.invertedColors&&JS(t.color)(e),null==(i=e.variants[t.variant])?void 0:i[t.color],o)]})),dE=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoySheet"}),{className:i,color:o="neutral",component:r="div",variant:s="plain",invertedColors:a=!1,slots:l={},slotProps:c={}}=n,u=um(n,uE),h=Kg({},n,{color:o,component:r,invertedColors:a,variant:s}),d=(e=>{const{variant:t,color:n}=e;return Jb({root:["root",t&&`variant${Lm(t)}`,n&&`color${Lm(n)}`]},cE,{})})(h),g=Kg({},u,{component:r,slots:l,slotProps:c}),[f,p]=hS("root",{ref:t,className:Ov(d.root,i),elementType:hE,externalForwardedProps:g,ownerState:h});return re.jsx(f,Kg({},p))}));function gE(e){return iy("MuiSkeleton",e)}oy("MuiSkeleton",["root","variantOverlay","variantCircular","variantRectangular","variantText","variantInline","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs"]);const fE=["className","component","children","animation","overlay","loading","variant","level","height","width","sx","slots","slotProps"];let pE,mE,vE,bE,_E,yE=e=>e;const wE=Gp(pE||(pE=yE`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.8;
    background: var(--unstable_pulse-bg);
  }

  100% {
    opacity: 1;
  }
`)),CE=Gp(mE||(mE=yE`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),SE=_y("span",{name:"JoySkeleton",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>"pulse"===e.animation&&"inline"!==e.variant&&qp(vE||(vE=yE`
      &::before {
        animation: ${0} 2s ease-in-out 0.5s infinite;
        background: ${0};
      }
    `),wE,t.vars.palette.background.level3)),(({ownerState:e,theme:t})=>"pulse"===e.animation&&"inline"===e.variant&&qp(bE||(bE=yE`
      &::after {
        animation: ${0} 2s ease-in-out 0.5s infinite;
        background: ${0};
      }
    `),wE,t.vars.palette.background.level3)),(({ownerState:e,theme:t})=>"wave"===e.animation&&qp(_E||(_E=yE`
      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);
      background: ${0};

      &::after {
        content: ' ';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: var(--unstable_pseudo-zIndex);
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          var(--unstable_wave-bg, rgba(0 0 0 / 0.08)),
          transparent
        );
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
      }
    `),t.vars.palette.background.level3,CE)),(({ownerState:e,theme:t})=>{var n,i,o,r;const s=(null==(n=t.components)||null==(n=n.JoyTypography)||null==(n=n.defaultProps)?void 0:n.level)||"body1";return[{display:"block",position:"relative","--unstable_pseudo-zIndex":9,"--unstable_pulse-bg":t.vars.palette.background.level1,overflow:"hidden",cursor:"default",color:"transparent","& *":{visibility:"hidden"},"&::before":{display:"block",content:'" "',top:0,bottom:0,left:0,right:0,zIndex:"var(--unstable_pseudo-zIndex)",borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"--unstable_wave-bg":"rgba(255 255 255 / 0.1)"}},"rectangular"===e.variant&&Kg({borderRadius:"min(0.15em, 6px)",height:"auto",width:"100%","&::before":{position:"absolute"}},!e.animation&&{backgroundColor:t.vars.palette.background.level3},"inherit"!==e.level&&Kg({},t.typography[e.level])),"circular"===e.variant&&Kg({borderRadius:"50%",width:"100%",height:"100%","&::before":{position:"absolute"}},!e.animation&&{backgroundColor:t.vars.palette.background.level3},"inherit"!==e.level&&Kg({},t.typography[e.level])),"text"===e.variant&&Kg({borderRadius:"min(0.15em, 6px)",background:"transparent",width:"100%"},"inherit"!==e.level&&Kg({},t.typography[e.level||s],{paddingBlockStart:`calc((${(null==(i=t.typography[e.level||s])?void 0:i.lineHeight)||1} - 1) * 0.56em)`,paddingBlockEnd:`calc((${(null==(o=t.typography[e.level||s])?void 0:o.lineHeight)||1} - 1) * 0.44em)`,"&::before":Kg({height:"1em"},t.typography[e.level||s],"wave"===e.animation&&{backgroundColor:t.vars.palette.background.level3},!e.animation&&{backgroundColor:t.vars.palette.background.level3}),"&::after":Kg({height:"1em",top:`calc((${(null==(r=t.typography[e.level||s])?void 0:r.lineHeight)||1} - 1) * 0.56em)`},t.typography[e.level||s])})),"inline"===e.variant&&Kg({display:"inline",position:"initial",borderRadius:"min(0.15em, 6px)"},!e.animation&&{backgroundColor:t.vars.palette.background.level3},"inherit"!==e.level&&Kg({},t.typography[e.level]),{WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::before":{position:"absolute",zIndex:"var(--unstable_pseudo-zIndex)",backgroundColor:t.vars.palette.background.level3}},"pulse"===e.animation&&{"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:"var(--unstable_pseudo-zIndex)",backgroundColor:t.vars.palette.background.level3}}),"overlay"===e.variant&&Kg({borderRadius:t.vars.radius.xs,position:"absolute",width:"100%",height:"100%",zIndex:"var(--unstable_pseudo-zIndex)"},"pulse"===e.animation&&{backgroundColor:t.vars.palette.background.surface},"inherit"!==e.level&&Kg({},t.typography[e.level]),{"&::before":{position:"absolute"}})]})),xE=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoySkeleton"}),{className:i,component:o="span",children:r,animation:s="pulse",overlay:a=!1,loading:l=!0,variant:c="overlay",level:u=("text"===c?"body-md":"inherit"),height:h,width:d,sx:g,slots:f={},slotProps:p={}}=n,m=Kg({},um(n,fE),{component:o,slots:f,slotProps:p,sx:[{width:d,height:h},...Array.isArray(g)?g:[g]]}),v=Kg({},n,{animation:s,component:o,level:u,loading:l,overlay:a,variant:c,width:d,height:h}),b=(e=>{const{variant:t,level:n}=e;return Jb({root:["root",t&&`variant${Lm(t)}`,n&&`level${Lm(n)}`]},gE,{})})(v),[_,y]=hS("root",{ref:t,className:Ov(b.root,i),elementType:SE,externalForwardedProps:m,ownerState:v});return l?re.jsx(_,Kg({},y,{children:r})):re.jsx(Y.Fragment,{children:Y.Children.map(r,((e,t)=>0===t&&Y.isValidElement(e)?Y.cloneElement(e,{"data-first-child":""}):e))})}));function kE(e){return iy("MuiSnackbar",e)}xE.muiName="Skeleton",oy("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","endDecorator","sizeSm","sizeMd","sizeLg","startDecorator","variantPlain","variantOutlined","variantSoft","variantSolid"]);const LE=["anchorOrigin","animationDuration","autoHideDuration","color","children","className","component","disableWindowBlurListener","endDecorator","invertedColors","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","onUnmount","open","resumeHideDuration","size","slots","slotProps","startDecorator","variant"];let DE,EE,NE=e=>e;const TE=Gp(DE||(DE=NE`
  0% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(calc(var(--_Snackbar-anchorBottom, 1) * 100%));
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(0);
  }
`)),IE=Gp(EE||(EE=NE`
  0% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(calc(var(--_Snackbar-anchorBottom, 1) * 100%));
    opacity: 0;
  }
`)),ME=_y("div",{name:"JoySnackbar",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o,r,s,a,l;const{p:c,padding:u,borderRadius:h}=ES({theme:e,ownerState:t},["p","padding","borderRadius"]);return[Kg({"--Snackbar-radius":e.vars.radius.sm,"--Snackbar-decoratorChildRadius":"max((var(--Snackbar-radius) - var(--variant-borderWidth, 0px)) - var(--Snackbar-padding), min(var(--Snackbar-padding) + var(--variant-borderWidth, 0px), var(--Snackbar-radius) / 2))","--Button-minHeight":"var(--Snackbar-decoratorChildHeight)","--IconButton-size":"var(--Snackbar-decoratorChildHeight)","--Button-radius":"var(--Snackbar-decoratorChildRadius)","--IconButton-radius":"var(--Snackbar-decoratorChildRadius)","--Icon-color":"currentColor"},"sm"===t.size&&{"--Snackbar-padding":"0.75rem","--Snackbar-inset":"0.5rem","--Snackbar-decoratorChildHeight":"1.5rem","--Icon-fontSize":e.vars.fontSize.xl,gap:"0.5rem"},"md"===t.size&&{"--Snackbar-padding":"1rem","--Snackbar-inset":"0.75rem","--Snackbar-decoratorChildHeight":"2rem","--Icon-fontSize":e.vars.fontSize.xl,gap:"0.625rem"},"lg"===t.size&&{"--Snackbar-padding":"1.25rem","--Snackbar-inset":"1rem","--Snackbar-decoratorChildHeight":"2.375rem","--Icon-fontSize":e.vars.fontSize.xl2,gap:"0.875rem"},{zIndex:e.vars.zIndex.snackbar,position:"fixed",display:"flex",alignItems:"center",minWidth:300,top:"top"===(null==(n=t.anchorOrigin)?void 0:n.vertical)?"var(--Snackbar-inset)":void 0,left:"left"===(null==(i=t.anchorOrigin)?void 0:i.horizontal)?"var(--Snackbar-inset)":void 0,bottom:"bottom"===(null==(o=t.anchorOrigin)?void 0:o.vertical)?"var(--Snackbar-inset)":void 0,right:"right"===(null==(r=t.anchorOrigin)?void 0:r.horizontal)?"var(--Snackbar-inset)":void 0},"center"===(null==(s=t.anchorOrigin)?void 0:s.horizontal)&&{"--Snackbar-translateX":"-50%",left:"50%",transform:"translateX(var(--Snackbar-translateX))"},"top"===(null==(a=t.anchorOrigin)?void 0:a.vertical)&&{"--_Snackbar-anchorBottom":"-1"},{animation:`${TE} ${t.animationDuration}ms forwards`},!t.open&&{animationName:IE},{boxShadow:e.vars.shadow.lg,backgroundColor:e.vars.palette.background.surface,padding:"var(--Snackbar-padding)",borderRadius:"var(--Snackbar-radius)"},e.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[t.size]}`],"solid"===t.variant&&t.color&&t.invertedColors&&QS(t.color)(e),"soft"===t.variant&&t.color&&t.invertedColors&&JS(t.color)(e),null==(l=e.variants[t.variant])?void 0:l[t.color]),void 0!==c&&{"--Snackbar-padding":c},void 0!==u&&{"--Snackbar-padding":u},void 0!==h&&{"--Snackbar-radius":h}]})),RE=_y("span",{name:"JoySnackbar",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({display:"inherit",flex:"none"}),AE=_y("span",{name:"JoySnackbar",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({display:"inherit",flex:"none",marginLeft:"auto"}),OE={vertical:"bottom",horizontal:"right"},PE=Y.forwardRef((function(e,t){const n=yy({props:e,name:"JoySnackbar"}),{anchorOrigin:i=OE,animationDuration:o=300,autoHideDuration:r=null,color:s="neutral",children:a,className:l,component:c,disableWindowBlurListener:u=!1,endDecorator:h,invertedColors:d=!1,onUnmount:g,open:f,size:p="md",slots:m={},slotProps:v,startDecorator:b,variant:_="outlined"}=n,y=um(n,LE),[w,C]=Y.useState(!0),[S,x]=Y.useState(!1),k=Y.useRef(g);k.current=g,Y.useEffect((()=>{if(!f){x(!0);const e=setTimeout((()=>{var e;C(!0),x(!1),null==(e=k.current)||e.call(k)}),o);return()=>{clearTimeout(e)}}x(!1),C(!1)}),[f,o]);const L=Kg({},n,{anchorOrigin:i,autoHideDuration:r,color:s,animationDuration:o,disableWindowBlurListener:u,invertedColors:d,size:p,variant:_});delete L.onUnmount;const D=(e=>{const{variant:t,color:n,size:i,anchorOrigin:o}=e;return Jb({root:["root",i&&`size${Lm(i)}`,n&&`color${Lm(n)}`,t&&`variant${Lm(t)}`,`anchorOrigin${Lm(o.vertical)}${Lm(o.horizontal)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},kE,{})})(L),{getRootProps:E,onClickAway:N}=function(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:i,open:o,resumeHideDuration:r}=e,s=Hb();Y.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==i||i(e,"escapeKeyDown")}}),[o,i]);const a=Fb(((e,t)=>{null==i||i(e,t)})),l=Fb((e=>{i&&null!=e&&s.start(e,(()=>{a(null,"timeout")}))}));Y.useEffect((()=>(o&&l(t),s.clear)),[o,t,l,s]);const c=s.clear,u=Y.useCallback((()=>{null!=t&&l(null!=r?r:.5*t)}),[t,r,l]),h=e=>t=>{const n=e.onFocus;null==n||n(t),c()},d=e=>t=>{const n=e.onMouseEnter;null==n||n(t),c()},g=e=>t=>{const n=e.onMouseLeave;null==n||n(t),u()};return Y.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",u),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",u),window.removeEventListener("blur",c)}}),[n,o,u,c]),{getRootProps:(t={})=>{const n=Kg({},ky(e),ky(t));return Kg({role:"presentation"},t,n,{onBlur:(i=n,e=>{const t=i.onBlur;null==t||t(e),u()}),onFocus:h(n),onMouseEnter:d(n),onMouseLeave:g(n)});var i},onClickAway:e=>{null==i||i(e,"clickaway")}}}(L),T=Kg({},y,{component:c,slots:m,slotProps:v}),[I,M]=hS("root",{ref:t,className:Ov(D.root,l),elementType:ME,externalForwardedProps:T,getSlotProps:E,ownerState:L}),[R,A]=hS("startDecorator",{className:D.startDecorator,elementType:RE,externalForwardedProps:T,ownerState:L}),[O,P]=hS("endDecorator",{className:D.endDecorator,elementType:AE,externalForwardedProps:T,ownerState:L}),F=m.clickAway||Oy;return!f&&w?null:re.jsx(F,Kg({onClickAway:e=>{S||N(e)}},"function"==typeof(null==v?void 0:v.clickAway)?v.clickAway(L):null==v?void 0:v.clickAway,{children:re.jsxs(I,Kg({},M,{children:[b&&re.jsx(R,Kg({},A,{children:b})),a,h&&re.jsx(O,Kg({},P,{children:h}))]}))}))})),FE=function(e={}){const{createStyledComponent:t=Z_,useThemeProps:n=Q_,componentName:i="MuiStack"}=e,o=t(ey);return Y.forwardRef((function(e,t){const r=Tv(n(e)),{component:s="div",direction:a="column",spacing:l=0,divider:c,children:u,className:h,useFlexGap:d=!1}=r,g=um(r,Y_),f={direction:a,spacing:l,useFlexGap:d},p=Jb({root:["root"]},(e=>Bv(i,e)),{});return re.jsx(o,Kg({as:s,ownerState:f,ref:t,className:Ov(p.root,h)},g,{children:c?J_(u,c):u}))}))}({createStyledComponent:_y("div",{name:"JoyStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>yy({props:e,name:"JoyStack"})});function BE(e){return iy("MuiTextarea",e)}const zE=oy("MuiTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),VE=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows","component","slots","slotProps"],WE=_y("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{var n,i,o,r,s,a;const l=null==(n=e.variants[`${t.variant}`])?void 0:n[t.color];return[Kg({"--Textarea-radius":e.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.64,"--Textarea-decoratorColor":e.vars.palette.text.icon,"--Textarea-focused":"0","--Textarea-focusedThickness":e.vars.focus.thickness,"--Textarea-focusedHighlight":null==(i=e.vars.palette["neutral"===t.color?"primary":t.color])?void 0:i[500],'&:not([data-inverted-colors="false"])':Kg({},t.instanceColor&&{"--_Textarea-focusedHighlight":null==(o=e.vars.palette["neutral"===t.instanceColor?"primary":t.instanceColor])?void 0:o[500]},{"--Textarea-focusedHighlight":`var(--_Textarea-focusedHighlight, ${e.vars.palette.focusVisible})`})},"sm"===t.size&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.375rem - 0.5px - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decoratorChildHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":e.vars.fontSize.xl},"md"===t.size&&{"--Textarea-minHeight":"2.25rem","--Textarea-paddingBlock":"calc(0.375rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decoratorChildHeight":"min(1.75rem, var(--Textarea-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},"lg"===t.size&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decoratorChildHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":e.vars.fontSize.xl2},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decoratorChildHeight)) / 2, 0px)","--Textarea-decoratorChildRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Textarea-decoratorChildHeight)","--Button-radius":"var(--Textarea-decoratorChildRadius)","--IconButton-radius":"var(--Textarea-decoratorChildRadius)",boxSizing:"border-box"},"plain"!==t.variant&&{boxShadow:e.shadow.xs},{minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)"},e.typography[`body-${t.size}`],l,{backgroundColor:null!=(r=null==l?void 0:l.backgroundColor)?r:e.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Textarea-focusedInset, inset) 0 0 0 calc(var(--Textarea-focused) * var(--Textarea-focusedThickness)) var(--Textarea-focusedHighlight)"}}),{"&:hover":Kg({},null==(s=e.variants[`${t.variant}Hover`])?void 0:s[t.color],{backgroundColor:null,cursor:"text"}),[`&.${zE.disabled}`]:null==(a=e.variants[`${t.variant}Disabled`])?void 0:a[t.color],"&:focus-within::before":{"--Textarea-focused":"1"}}]})),HE=_y(aS,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(e,t)=>t.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),$E=_y("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),jE=_y("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),UE=Y.forwardRef((function(e,t){var n,i,o,r,s,a,l,c;const u=yy({props:e,name:"JoyTextarea"}),h=Zx(u,zE),{propsToForward:d,rootStateClasses:g,inputStateClasses:f,getRootProps:p,getInputProps:m,formControl:v,focused:b,error:_=!1,disabled:y=!1,size:w="md",color:C="neutral",variant:S="outlined",startDecorator:x,endDecorator:k,minRows:L,maxRows:D,component:E,slots:N={},slotProps:T={}}=h,I=um(h,VE),M=null!=(n=null!=(i=e.disabled)?i:null==v?void 0:v.disabled)?n:y,R=null!=(o=null!=(r=e.error)?r:null==v?void 0:v.error)?o:_,A=null!=(s=null!=(a=e.size)?a:null==v?void 0:v.size)?s:w,O=null!=(l=e.color)?l:R?"danger":null!=(c=null==v?void 0:v.color)?c:C,P=Kg({instanceColor:R?"danger":e.color},u,{color:O,disabled:M,error:R,focused:b,size:A,variant:S}),F=(e=>{const{disabled:t,variant:n,color:i,size:o}=e;return Jb({root:["root",t&&"disabled",n&&`variant${Lm(n)}`,i&&`color${Lm(i)}`,o&&`size${Lm(o)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]},BE,{})})(P),B=Kg({},I,{component:E,slots:N,slotProps:T}),[z,V]=hS("root",{ref:t,className:[F.root,g],elementType:WE,externalForwardedProps:B,getSlotProps:p,ownerState:P}),[W,H]=hS("textarea",{additionalProps:{id:null==v?void 0:v.htmlFor,"aria-describedby":null==v?void 0:v["aria-describedby"]},className:[F.textarea,f],elementType:HE,internalForwardedProps:Kg({},d,{minRows:L,maxRows:D}),externalForwardedProps:B,getSlotProps:m,ownerState:P}),[$,j]=hS("startDecorator",{className:F.startDecorator,elementType:$E,externalForwardedProps:B,ownerState:P}),[U,K]=hS("endDecorator",{className:F.endDecorator,elementType:jE,externalForwardedProps:B,ownerState:P});return re.jsxs(z,Kg({},V,{children:[x&&re.jsx($,Kg({},j,{children:x})),re.jsx(W,Kg({},H)),k&&re.jsx(U,Kg({},K,{children:k}))]}))}));function KE(e){return iy("MuiTooltip",e)}oy("MuiTooltip",["root","tooltipArrow","arrow","touch","placementLeft","placementRight","placementTop","placementBottom","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const qE=["children","className","component","arrow","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","disablePortal","direction","keepMounted","modifiers","placement","title","color","variant","size","slots","slotProps"],GE=_y("div",{name:"JoyTooltip",slot:"Root",overridesResolver:(e,t)=>t.root})((({ownerState:e,theme:t})=>{var n,i,o;const r=null==(n=t.variants[e.variant])?void 0:n[e.color];return Kg({},"sm"===e.size&&{"--Icon-fontSize":t.vars.fontSize.md,"--Tooltip-arrowSize":"8px",padding:t.spacing(.25,.625)},"md"===e.size&&{"--Icon-fontSize":t.vars.fontSize.lg,"--Tooltip-arrowSize":"10px",padding:t.spacing(.5,.75)},"lg"===e.size&&{"--Icon-fontSize":t.vars.fontSize.xl,"--Tooltip-arrowSize":"12px",padding:t.spacing(.75,1)},{zIndex:t.vars.zIndex.tooltip,borderRadius:t.vars.radius.sm,boxShadow:t.shadow.sm,wordWrap:"break-word",position:"relative"},e.disableInteractive&&{pointerEvents:"none"},t.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[e.size]}`],r,!r.backgroundColor&&{backgroundColor:t.vars.palette.background.surface},{"&::before":{content:'""',display:"block",position:"absolute",width:null!=(i=e.placement)&&i.match(/(top|bottom)/)?"100%":"calc(10px + var(--variant-borderWidth, 0px))",height:null!=(o=e.placement)&&o.match(/(top|bottom)/)?"calc(10px + var(--variant-borderWidth, 0px))":"100%"},'&[data-popper-placement*="bottom"]::before':{top:0,left:0,transform:"translateY(-100%)"},'&[data-popper-placement*="left"]::before':{top:0,right:0,transform:"translateX(100%)"},'&[data-popper-placement*="right"]::before':{top:0,left:0,transform:"translateX(-100%)"},'&[data-popper-placement*="top"]::before':{bottom:0,left:0,transform:"translateY(100%)"}})})),YE=_y("span",{name:"JoyTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((({theme:e,ownerState:t})=>{var n,i,o;const r=null==(n=e.variants[t.variant])?void 0:n[t.color];return{"--unstable_Tooltip-arrowRotation":0,width:"var(--Tooltip-arrowSize)",height:"var(--Tooltip-arrowSize)",boxSizing:"border-box","&::before":{content:'""',display:"block",position:"absolute",width:0,height:0,border:"calc(var(--Tooltip-arrowSize) / 2) solid",borderLeftColor:"transparent",borderBottomColor:"transparent",borderTopColor:null!=(i=null==r?void 0:r.backgroundColor)?i:e.vars.palette.background.surface,borderRightColor:null!=(o=null==r?void 0:r.backgroundColor)?o:e.vars.palette.background.surface,borderRadius:"0px 2px 0px 0px",boxShadow:`var(--variant-borderWidth, 0px) calc(-1 * var(--variant-borderWidth, 0px)) 0px 0px ${r.borderColor}`,transformOrigin:"center center",transform:"rotate(calc(-45deg + 90deg * var(--unstable_Tooltip-arrowRotation)))"},'[data-popper-placement*="bottom"] &':{top:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="top"] &':{"--unstable_Tooltip-arrowRotation":2,bottom:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="left"] &':{"--unstable_Tooltip-arrowRotation":1,right:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="right"] &':{"--unstable_Tooltip-arrowRotation":3,left:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"}}}));let XE=!1;const ZE=new Wb;let QE={x:0,y:0};function JE(e,t){return n=>{t&&t(n),e(n)}}function eN(e,t){return(n,...i)=>{t&&t(n,...i),e(n,...i)}}const tN=Y.forwardRef((function(e,t){var n;const i=yy({props:e,name:"JoyTooltip"}),{children:o,className:r,component:s,arrow:a=!1,describeChild:l=!1,disableFocusListener:c=!1,disableHoverListener:u=!1,disableInteractive:h=!1,disableTouchListener:d=!1,enterDelay:g=100,enterNextDelay:f=0,enterTouchDelay:p=700,followCursor:m=!1,id:v,leaveDelay:b=0,leaveTouchDelay:_=1500,onClose:y,onOpen:w,open:C,disablePortal:S,direction:x,keepMounted:k,modifiers:L,placement:D="bottom",title:E,color:N="neutral",variant:T="solid",size:I="md",slots:M={},slotProps:R={}}=i,A=um(i,qE),[O,P]=Y.useState(),[F,B]=Y.useState(null),z=Y.useRef(!1),V=h||m,W=Hb(),H=Hb(),$=Hb(),j=Hb(),[U,K]=Pb({controlled:C,default:!1,name:"Tooltip",state:"open"});let q=U;const G=Ob(v),X=Y.useRef(),Z=Fb((()=>{void 0!==X.current&&(document.body.style.WebkitUserSelect=X.current,X.current=void 0),j.clear()}));Y.useEffect((()=>Z),[Z]);const Q=e=>{ZE.clear(),XE=!0,K(!0),w&&!q&&w(e)},J=Fb((e=>{ZE.start(800+b,(()=>{XE=!1})),K(!1),y&&q&&y(e),W.start(150,(()=>{z.current=!1}))})),ee=e=>{z.current&&"touchstart"!==e.type||(O&&O.removeAttribute("title"),H.clear(),$.clear(),g||XE&&f?H.start(XE?f:g,(()=>{Q(e)})):Q(e))},te=e=>{H.clear(),$.start(b,(()=>{J(e)}))},{isFocusVisibleRef:ne,onBlur:ie,onFocus:oe,ref:se}=Zb(),[,ae]=Y.useState(!1),le=e=>{ie(e),!1===ne.current&&(ae(!1),te(e))},ce=e=>{O||P(e.currentTarget),oe(e),!0===ne.current&&(ae(!0),ee(e))},ue=e=>{z.current=!0;const t=o.props;t.onTouchStart&&t.onTouchStart(e)},he=e=>{ue(e),$.clear(),W.clear(),Z(),X.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",j.start(p,(()=>{document.body.style.WebkitUserSelect=X.current,ee(e)}))},de=e=>{o.props.onTouchEnd&&o.props.onTouchEnd(e),Z(),$.start(_,(()=>{J(e)}))};Y.useEffect((()=>{if(q)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||J(e)}}),[J,q]);const ge=Bb(P,t),fe=Bb(se,ge),pe=Bb(o.ref,fe);"number"==typeof E||E||(q=!1);const me=Y.useRef(null),ve={},be="string"==typeof E;l?(ve.title=q||!be||u?null:E,ve["aria-describedby"]=q?G:null):(ve["aria-label"]=be?E:null,ve["aria-labelledby"]=q&&!be?G:null);const _e=Kg({},ve,A,{component:s},o.props,{className:Ov(r,o.props.className),onTouchStart:ue,ref:pe},m?{onMouseMove:e=>{const t=o.props;t.onMouseMove&&t.onMouseMove(e),QE={x:e.clientX,y:e.clientY},me.current&&me.current.update()}}:{}),ye={};d||(_e.onTouchStart=he,_e.onTouchEnd=de),u||(_e.onMouseOver=JE(ee,_e.onMouseOver),_e.onMouseLeave=JE(te,_e.onMouseLeave),V||(ye.onMouseOver=ee,ye.onMouseLeave=te)),c||(_e.onFocus=eN(ce,_e.onFocus),_e.onBlur=eN(le,_e.onBlur),V||(ye.onFocus=ce,ye.onBlur=le));const we=Kg({},i,{arrow:a,disableInteractive:V,placement:D,touch:z.current,color:N,variant:T,size:I}),Ce=(e=>{const{arrow:t,variant:n,color:i,size:o,placement:r,touch:s}=e;return Jb({root:["root",t&&"tooltipArrow",s&&"touch",o&&`size${Lm(o)}`,i&&`color${Lm(i)}`,n&&`variant${Lm(n)}`,`tooltipPlacement${Lm(r.split("-")[0])}`],arrow:["arrow"]},KE,{})})(we),Se=Kg({},A,{component:s,slots:M,slotProps:R}),xe=Y.useMemo((()=>[{name:"arrow",enabled:Boolean(F),options:{element:F,padding:6}},{name:"offset",options:{offset:[0,10]}},...L||[]]),[F,L]),[ke,Le]=hS("root",{additionalProps:Kg({id:G,popperRef:me,placement:D,anchorEl:m?{getBoundingClientRect:()=>({top:QE.y,left:QE.x,right:QE.x,bottom:QE.y,width:0,height:0})}:O,open:!!O&&q,disablePortal:S,keepMounted:k,direction:x,modifiers:xe},ye),ref:null,className:Ce.root,elementType:GE,externalForwardedProps:Se,ownerState:we}),[De,Ee]=hS("arrow",{ref:B,className:Ce.arrow,elementType:YE,externalForwardedProps:Se,ownerState:we});return re.jsxs(Y.Fragment,{children:[Y.isValidElement(o)&&Y.cloneElement(o,_e),re.jsxs(ke,Kg({},Le,!(null!=(n=i.slots)&&n.root)&&{as:ZC,slots:{root:s||"div"}},{children:[E,a?re.jsx(De,Kg({},Ee)):null]}))]})}));var nN={exports:{}};const iN=u(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.8.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */
var oN;oN=nN,function(){var e="input is invalid type",t="object"==typeof window,n=t?window:{};n.JS_MD5_NO_WINDOW&&(t=!1);var i=!t&&"object"==typeof self,o=!n.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;o?n=l:i&&(n=self);var r,s=!n.JS_MD5_NO_COMMON_JS&&oN.exports,a=!n.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],h=[0,8,16,24],d=["hex","array","digest","buffer","arrayBuffer","base64"],g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),f=[];if(a){var p=new ArrayBuffer(68);r=new Uint8Array(p),f=new Uint32Array(p)}var m=Array.isArray;!n.JS_MD5_NO_NODE_JS&&m||(m=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var v=ArrayBuffer.isView;!a||!n.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&v||(v=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var b=function(t){var n=typeof t;if("string"===n)return[t,!0];if("object"!==n||null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)return[new Uint8Array(t),!1];if(!m(t)&&!v(t))throw new Error(e);return[t,!1]},_=function(e){return function(t){return new C(!0).update(t)[e]()}},y=function(t){var i,o=iN,r=iN.Buffer;return i=r.from&&!n.JS_MD5_NO_BUFFER_FROM?r.from:function(e){return new r(e)},function(n){if("string"==typeof n)return o.createHash("md5").update(n,"utf8").digest("hex");if(null==n)throw new Error(e);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),m(n)||v(n)||n.constructor===r?o.createHash("md5").update(i(n)).digest("hex"):t(n)}},w=function(e){return function(t,n){return new S(t,!0).update(n)[e]()}};function C(e){if(e)f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f,this.buffer8=r;else if(a){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}function S(e,t){var n,i=b(e);if(e=i[0],i[1]){var o,r=[],s=e.length,a=0;for(n=0;n<s;++n)(o=e.charCodeAt(n))<128?r[a++]=o:o<2048?(r[a++]=192|o>>>6,r[a++]=128|63&o):o<55296||o>=57344?(r[a++]=224|o>>>12,r[a++]=128|o>>>6&63,r[a++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),r[a++]=240|o>>>18,r[a++]=128|o>>>12&63,r[a++]=128|o>>>6&63,r[a++]=128|63&o);e=r}e.length>64&&(e=new C(!0).update(e).array());var l=[],c=[];for(n=0;n<64;++n){var u=e[n]||0;l[n]=92^u,c[n]=54^u}C.call(this,t),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=t}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t=b(e);e=t[0];for(var n,i,o=t[1],r=0,s=e.length,l=this.blocks,c=this.buffer8;r<s;){if(this.hashed&&(this.hashed=!1,l[0]=l[16],l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),o)if(a)for(i=this.start;r<s&&i<64;++r)(n=e.charCodeAt(r))<128?c[i++]=n:n<2048?(c[i++]=192|n>>>6,c[i++]=128|63&n):n<55296||n>=57344?(c[i++]=224|n>>>12,c[i++]=128|n>>>6&63,c[i++]=128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++r)),c[i++]=240|n>>>18,c[i++]=128|n>>>12&63,c[i++]=128|n>>>6&63,c[i++]=128|63&n);else for(i=this.start;r<s&&i<64;++r)(n=e.charCodeAt(r))<128?l[i>>>2]|=n<<h[3&i++]:n<2048?(l[i>>>2]|=(192|n>>>6)<<h[3&i++],l[i>>>2]|=(128|63&n)<<h[3&i++]):n<55296||n>=57344?(l[i>>>2]|=(224|n>>>12)<<h[3&i++],l[i>>>2]|=(128|n>>>6&63)<<h[3&i++],l[i>>>2]|=(128|63&n)<<h[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++r)),l[i>>>2]|=(240|n>>>18)<<h[3&i++],l[i>>>2]|=(128|n>>>12&63)<<h[3&i++],l[i>>>2]|=(128|n>>>6&63)<<h[3&i++],l[i>>>2]|=(128|63&n)<<h[3&i++]);else if(a)for(i=this.start;r<s&&i<64;++r)c[i++]=e[r];else for(i=this.start;r<s&&i<64;++r)l[i>>>2]|=e[r]<<h[3&i++];this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>>2]|=u[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},C.prototype.hash=function(){var e,t,n,i,o,r,s=this.blocks;this.first?t=((t=((e=((e=s[0]-680876937)<<7|e>>>25)-271733879|0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&e)+s[1]-117830708)<<12|i>>>20)+e|0)&(-271733879^e))+s[2]-1126478375)<<17|n>>>15)+i|0)&(i^e))+s[3]-1316259209)<<22|t>>>10)+n|0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((i=this.h3)^t&(n^i))+s[0]-680876936)<<7|e>>>25)+t|0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[1]-389564586)<<12|i>>>20)+e|0)&(e^t))+s[2]+606105819)<<17|n>>>15)+i|0)&(i^e))+s[3]-1044525330)<<22|t>>>10)+n|0),t=((t+=((e=((e+=(i^t&(n^i))+s[4]-176418897)<<7|e>>>25)+t|0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[5]+1200080426)<<12|i>>>20)+e|0)&(e^t))+s[6]-1473231341)<<17|n>>>15)+i|0)&(i^e))+s[7]-45705983)<<22|t>>>10)+n|0,t=((t+=((e=((e+=(i^t&(n^i))+s[8]+1770035416)<<7|e>>>25)+t|0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[9]-1958414417)<<12|i>>>20)+e|0)&(e^t))+s[10]-42063)<<17|n>>>15)+i|0)&(i^e))+s[11]-1990404162)<<22|t>>>10)+n|0,t=((t+=((e=((e+=(i^t&(n^i))+s[12]+1804603682)<<7|e>>>25)+t|0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[13]-40341101)<<12|i>>>20)+e|0)&(e^t))+s[14]-1502002290)<<17|n>>>15)+i|0)&(i^e))+s[15]+1236535329)<<22|t>>>10)+n|0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[1]-165796510)<<5|e>>>27)+t|0)^t))+s[6]-1069501632)<<9|i>>>23)+e|0)^e&((n=((n+=(e^t&(i^e))+s[11]+643717713)<<14|n>>>18)+i|0)^i))+s[0]-373897302)<<20|t>>>12)+n|0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[5]-701558691)<<5|e>>>27)+t|0)^t))+s[10]+38016083)<<9|i>>>23)+e|0)^e&((n=((n+=(e^t&(i^e))+s[15]-660478335)<<14|n>>>18)+i|0)^i))+s[4]-405537848)<<20|t>>>12)+n|0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[9]+568446438)<<5|e>>>27)+t|0)^t))+s[14]-1019803690)<<9|i>>>23)+e|0)^e&((n=((n+=(e^t&(i^e))+s[3]-187363961)<<14|n>>>18)+i|0)^i))+s[8]+1163531501)<<20|t>>>12)+n|0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[13]-1444681467)<<5|e>>>27)+t|0)^t))+s[2]-51403784)<<9|i>>>23)+e|0)^e&((n=((n+=(e^t&(i^e))+s[7]+1735328473)<<14|n>>>18)+i|0)^i))+s[12]-1926607734)<<20|t>>>12)+n|0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+s[5]-378558)<<4|e>>>28)+t|0))+s[8]-2022574463)<<11|i>>>21)+e|0)^e)^(n=((n+=(r^t)+s[11]+1839030562)<<16|n>>>16)+i|0))+s[14]-35309556)<<23|t>>>9)+n|0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+s[1]-1530992060)<<4|e>>>28)+t|0))+s[4]+1272893353)<<11|i>>>21)+e|0)^e)^(n=((n+=(r^t)+s[7]-155497632)<<16|n>>>16)+i|0))+s[10]-1094730640)<<23|t>>>9)+n|0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+s[13]+681279174)<<4|e>>>28)+t|0))+s[0]-358537222)<<11|i>>>21)+e|0)^e)^(n=((n+=(r^t)+s[3]-722521979)<<16|n>>>16)+i|0))+s[6]+76029189)<<23|t>>>9)+n|0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+s[9]-640364487)<<4|e>>>28)+t|0))+s[12]-421815835)<<11|i>>>21)+e|0)^e)^(n=((n+=(r^t)+s[15]+530742520)<<16|n>>>16)+i|0))+s[2]-995338651)<<23|t>>>9)+n|0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[0]-198630844)<<6|e>>>26)+t|0)|~n))+s[7]+1126891415)<<10|i>>>22)+e|0)^((n=((n+=(e^(i|~t))+s[14]-1416354905)<<15|n>>>17)+i|0)|~e))+s[5]-57434055)<<21|t>>>11)+n|0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[12]+1700485571)<<6|e>>>26)+t|0)|~n))+s[3]-1894986606)<<10|i>>>22)+e|0)^((n=((n+=(e^(i|~t))+s[10]-1051523)<<15|n>>>17)+i|0)|~e))+s[1]-2054922799)<<21|t>>>11)+n|0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[8]+1873313359)<<6|e>>>26)+t|0)|~n))+s[15]-30611744)<<10|i>>>22)+e|0)^((n=((n+=(e^(i|~t))+s[6]-1560198380)<<15|n>>>17)+i|0)|~e))+s[13]+1309151649)<<21|t>>>11)+n|0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[4]-145523070)<<6|e>>>26)+t|0)|~n))+s[11]-1120210379)<<10|i>>>22)+e|0)^((n=((n+=(e^(i|~t))+s[2]+718787259)<<15|n>>>17)+i|0)|~e))+s[9]-343485551)<<21|t>>>11)+n|0,this.first?(this.h0=e+1732584193|0,this.h1=t-271733879|0,this.h2=n-1732584194|0,this.h3=i+271733878|0,this.first=!1):(this.h0=this.h0+e|0,this.h1=this.h1+t|0,this.h2=this.h2+n|0,this.h3=this.h3+i|0)},C.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return c[e>>>4&15]+c[15&e]+c[e>>>12&15]+c[e>>>8&15]+c[e>>>20&15]+c[e>>>16&15]+c[e>>>28&15]+c[e>>>24&15]+c[t>>>4&15]+c[15&t]+c[t>>>12&15]+c[t>>>8&15]+c[t>>>20&15]+c[t>>>16&15]+c[t>>>28&15]+c[t>>>24&15]+c[n>>>4&15]+c[15&n]+c[n>>>12&15]+c[n>>>8&15]+c[n>>>20&15]+c[n>>>16&15]+c[n>>>28&15]+c[n>>>24&15]+c[i>>>4&15]+c[15&i]+c[i>>>12&15]+c[i>>>8&15]+c[i>>>20&15]+c[i>>>16&15]+c[i>>>28&15]+c[i>>>24&15]},C.prototype.toString=C.prototype.hex,C.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&n,n>>>8&255,n>>>16&255,n>>>24&255,255&i,i>>>8&255,i>>>16&255,i>>>24&255]},C.prototype.array=C.prototype.digest,C.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.base64=function(){for(var e,t,n,i="",o=this.array(),r=0;r<15;)e=o[r++],t=o[r++],n=o[r++],i+=g[e>>>2]+g[63&(e<<4|t>>>4)]+g[63&(t<<2|n>>>6)]+g[63&n];return e=o[r],i+=g[e>>>2]+g[e<<4&63]+"=="},S.prototype=new C,S.prototype.finalize=function(){if(C.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();C.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(e),C.prototype.finalize.call(this)}};var x=function(){var e=_("hex");o&&(e=y(e)),e.create=function(){return new C},e.update=function(t){return e.create().update(t)};for(var t=0;t<d.length;++t){var n=d[t];e[n]=_(n)}return e}();x.md5=x,x.md5.hmac=function(){var e=w("hex");e.create=function(e){return new S(e)},e.update=function(t,n){return e.create(t).update(n)};for(var t=0;t<d.length;++t){var n=d[t];e[n]=w(n)}return e}(),s?oN.exports=x:n.md5=x}();var rN=nN.exports,sN="0123456789abcdefghijklmnopqrstuvwxyz";function aN(e){return sN.charAt(e)}function lN(e,t){return e&t}function cN(e,t){return e|t}function uN(e,t){return e^t}function hN(e,t){return e&~t}function dN(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function gN(e){for(var t=0;0!=e;)e&=e-1,++t;return t}var fN,pN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function mN(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=pN.charAt(n>>6)+pN.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=pN.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=pN.charAt(n>>2)+pN.charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i}function vN(e){var t,n="",i=0,o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var r=pN.indexOf(e.charAt(t));r<0||(0==i?(n+=aN(r>>2),o=3&r,i=1):1==i?(n+=aN(o<<2|r>>4),o=15&r,i=2):2==i?(n+=aN(o),n+=aN(r>>2),o=3&r,i=3):(n+=aN(o<<2|r>>4),n+=aN(15&r),i=0))}return 1==i&&(n+=aN(o<<2)),n}var bN,_N=function(e){var t;if(void 0===fN){var n="0123456789ABCDEF",i=" \f\n\r\t \u2028\u2029";for(fN={},t=0;t<16;++t)fN[n.charAt(t)]=t;for(n=n.toLowerCase(),t=10;t<16;++t)fN[n.charAt(t)]=t;for(t=0;t<8;++t)fN[i.charAt(t)]=-1}var o=[],r=0,s=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(-1!=(a=fN[a])){if(void 0===a)throw new Error("Illegal character at offset "+t);r|=a,++s>=2?(o[o.length]=r,r=0,s=0):r<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return o},yN={decode:function(e){var t;if(void 0===bN){var n="= \f\n\r\t \u2028\u2029";for(bN=Object.create(null),t=0;t<64;++t)bN["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(bN["-"]=62,bN._=63,t=0;t<9;++t)bN[n.charAt(t)]=-1}var i=[],o=0,r=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=bN[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);o|=s,++r>=4?(i[i.length]=o>>16,i[i.length]=o>>8&255,i[i.length]=255&o,o=0,r=0):o<<=6}}switch(r){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=o>>10;break;case 3:i[i.length]=o>>16,i[i.length]=o>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=yN.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return yN.decode(e)}},wN=1e13,CN=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var n,i,o=this.buf,r=o.length;for(n=0;n<r;++n)(i=o[n]*e+t)<wN?t=0:i-=(t=0|i/wN)*wN,o[n]=i;t>0&&(o[n]=t)},e.prototype.sub=function(e){var t,n,i=this.buf,o=i.length;for(t=0;t<o;++t)(n=i[t]-e)<0?(n+=wN,e=1):e=0,i[t]=n;for(;0===i[i.length-1];)i.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,n=t[t.length-1].toString(),i=t.length-2;i>=0;--i)n+=(wN+t[i]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var e=this.buf,t=0,n=e.length-1;n>=0;--n)t=t*wN+e[n];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),SN=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,xN=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function kN(e,t){return e.length>t&&(e=e.substring(0,t)+"…"),e}var LN,DN=function(){function e(t,n){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,n){for(var i="",o=e;o<t;++o)if(i+=this.hexByte(this.get(o)),!0!==n)switch(15&o){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.isASCII=function(e,t){for(var n=e;n<t;++n){var i=this.get(n);if(i<32||i>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var n="",i=e;i<t;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",i=e;i<t;){var o=this.get(i++);n+=o<128?String.fromCharCode(o):o>191&&o<224?String.fromCharCode((31&o)<<6|63&this.get(i++)):String.fromCharCode((15&o)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},e.prototype.parseStringBMP=function(e,t){for(var n,i,o="",r=e;r<t;)n=this.get(r++),i=this.get(r++),o+=String.fromCharCode(n<<8|i);return o},e.prototype.parseTime=function(e,t,n){var i=this.parseStringISO(e,t),o=(n?SN:xN).exec(i);return o?(n&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),i=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(i+=":"+o[5],o[6]&&(i+=":"+o[6],o[7]&&(i+="."+o[7]))),o[8]&&(i+=" UTC","Z"!=o[8]&&(i+=o[8],o[9]&&(i+=":"+o[9]))),i):"Unrecognized time: "+i},e.prototype.parseInteger=function(e,t){for(var n,i=this.get(e),o=i>127,r=o?255:0,s="";i==r&&++e<t;)i=this.get(e);if(0===(n=t-e))return o?-1:0;if(n>4){for(s=i,n<<=3;!(128&(+s^r));)s=+s<<1,--n;s="("+n+" bit)\n"}o&&(i-=256);for(var a=new CN(i),l=e+1;l<t;++l)a.mulAdd(256,this.get(l));return s+a.toString()},e.prototype.parseBitString=function(e,t,n){for(var i=this.get(e),o="("+((t-e-1<<3)-i)+" bit)\n",r="",s=e+1;s<t;++s){for(var a=this.get(s),l=s==t-1?i:0,c=7;c>=l;--c)r+=a>>c&1?"1":"0";if(r.length>n)return o+kN(r,n)}return o+r},e.prototype.parseOctetString=function(e,t,n){if(this.isASCII(e,t))return kN(this.parseStringISO(e,t),n);var i=t-e,o="("+i+" byte)\n";i>(n/=2)&&(t=e+n);for(var r=e;r<t;++r)o+=this.hexByte(this.get(r));return i>n&&(o+="…"),o},e.prototype.parseOID=function(e,t,n){for(var i="",o=new CN,r=0,s=e;s<t;++s){var a=this.get(s);if(o.mulAdd(128,127&a),r+=7,!(128&a)){if(""===i)if((o=o.simplify())instanceof CN)o.sub(80),i="2."+o.toString();else{var l=o<80?o<40?0:1:2;i=l+"."+(o-40*l)}else i+="."+o.toString();if(i.length>n)return kN(i,n);o=new CN,r=0}}return r>0&&(i+=".incomplete"),i},e}(),EN=function(){function e(e,t,n,i,o){if(!(i instanceof NN))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=o}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+n,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);case 6:return this.stream.parseOID(t,t+n,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return kN(this.stream.parseStringUTF(t,t+n),e);case 18:case 19:case 20:case 21:case 22:case 26:return kN(this.stream.parseStringISO(t,t+n),e);case 30:return kN(this.stream.parseStringBMP(t,t+n),e);case 23:case 24:return this.stream.parseTime(t,t+n,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var n=0,i=this.sub.length;n<i;++n)t+=this.sub[n].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===n)return null;t=0;for(var i=0;i<n;++i)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},e.decode=function(t){var n;n=t instanceof DN?t:new DN(t,0);var i=new DN(n),o=new NN(n),r=e.decodeLength(n),s=n.pos,a=s-i.pos,l=null,c=function(){var t=[];if(null!==r){for(var i=s+r;n.pos<i;)t[t.length]=e.decode(n);if(n.pos!=i)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var o=e.decode(n);if(o.tag.isEOC())break;t[t.length]=o}r=s-n.pos}catch(fTe){throw new Error("Exception while decoding undefined length content: "+fTe)}return t};if(o.tagConstructed)l=c();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var u=0;u<l.length;++u)if(l[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(fTe){l=null}if(null===l){if(null===r)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);n.pos=s+Math.abs(r)}return new e(i,a,r,o,l)},e}(),NN=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=!!(32&t),this.tagNumber=31&t,31==this.tagNumber){var n=new CN;do{t=e.get(),n.mulAdd(128,127&t)}while(128&t);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),TN=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],IN=(1<<26)/TN[TN.length-1],MN=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,o=!1,r="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,r=aN(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&i,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(r+=aN(n));return o?r:"0"},e.prototype.negate=function(){var t=FN();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+UN(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var n=FN();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new AN(t):new ON(t),this.exp(e,n)},e.prototype.clone=function(){var e=FN();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,i=this.DB-e*this.DB%8,o=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[o++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),128&n&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=FN();return this.bitwiseTo(e,lN,t),t},e.prototype.or=function(e){var t=FN();return this.bitwiseTo(e,cN,t),t},e.prototype.xor=function(e){var t=FN();return this.bitwiseTo(e,uN,t),t},e.prototype.andNot=function(e){var t=FN();return this.bitwiseTo(e,hN,t),t},e.prototype.not=function(){for(var e=FN(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=FN();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=FN();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+dN(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=gN(this[n]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,cN)},e.prototype.clearBit=function(e){return this.changeBit(e,hN)},e.prototype.flipBit=function(e){return this.changeBit(e,uN)},e.prototype.add=function(e){var t=FN();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=FN();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=FN();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=FN();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=FN();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=FN(),n=FN();return this.divRemTo(e,t,n),[t,n]},e.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),r=jN(1);if(o<=0)return r;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new AN(t):t.isEven()?new PN(t):new ON(t);var s=[],a=3,l=n-1,c=(1<<n)-1;if(s[1]=i.convert(this),n>1){var u=FN();for(i.sqrTo(s[1],u);a<=c;)s[a]=FN(),i.mulTo(u,s[a-2],s[a]),a+=2}var h,d,g=e.t-1,f=!0,p=FN();for(o=UN(e[g])-1;g>=0;){for(o>=l?h=e[g]>>o-l&c:(h=(e[g]&(1<<o+1)-1)<<l-o,g>0&&(h|=e[g-1]>>this.DB+o-l)),a=n;!(1&h);)h>>=1,--a;if((o-=a)<0&&(o+=this.DB,--g),f)s[h].copyTo(r),f=!1;else{for(;a>1;)i.sqrTo(r,p),i.sqrTo(p,r),a-=2;a>0?i.sqrTo(r,p):(d=r,r=p,p=d),i.mulTo(p,s[h],r)}for(;g>=0&&!(e[g]&1<<o);)i.sqrTo(r,p),d=r,r=p,p=d,--o<0&&(o=this.DB-1,--g)}return i.revert(r)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),o=this.clone(),r=jN(1),s=jN(0),a=jN(0),l=jN(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),n?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(o)>=0?(i.subTo(o,i),n&&r.subTo(a,r),s.subTo(l,s)):(o.subTo(i,o),n&&a.subTo(r,a),l.subTo(s,l))}return 0!=o.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(e){return this.exp(e,new RN)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var o=t.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return t;for(o<r&&(r=o),r>0&&(t.rShiftTo(r,t),n.rShiftTo(r,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n},e.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=TN[TN.length-1]){for(t=0;t<TN.length;++t)if(n[0]==TN[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<TN.length;){for(var i=TN[t],o=t+1;o<TN.length&&i<IN;)i*=TN[o++];for(i=n.modInt(i);t<o;)if(i%TN[t++]==0)return!1}return n.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var o=t.length,r=!1,s=0;--o>=0;){var a=8==i?255&+t[o]:$N(t,o);a<0?"-"==t.charAt(o)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+i>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=i)>=this.DB&&(s-=this.DB))}8==i&&128&+t[0]&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,i=this.DB-n,o=(1<<i)-1,r=Math.floor(e/this.DB),s=this.s<<n&this.DM,a=this.t-1;a>=0;--a)t[a+r+1]=this[a]>>i|s,s=(this[a]&o)<<n;for(a=r-1;a>=0;--a)t[a]=0;t[r]=s,t.t=this.t+r+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,o=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&r)<<o,t[s-n]=this[s]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<o),t.t=this.t-n,t.clamp()}},e.prototype.subTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},e.prototype.multiplyTo=function(t,n){var i=this.abs(),o=t.abs(),r=i.t;for(n.t=r+o.t;--r>=0;)n[r]=0;for(r=0;r<o.t;++r)n[r+i.t]=i.am(0,o[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,n,i){var o=t.abs();if(!(o.t<=0)){var r=this.abs();if(r.t<o.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=FN());var s=FN(),a=this.s,l=t.s,c=this.DB-UN(o[o.t-1]);c>0?(o.lShiftTo(c,s),r.lShiftTo(c,i)):(o.copyTo(s),r.copyTo(i));var u=s.t,h=s[u-1];if(0!=h){var d=h*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),g=this.FV/d,f=(1<<this.F1)/d,p=1<<this.F2,m=i.t,v=m-u,b=null==n?FN():n;for(s.dlShiftTo(v,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),e.ONE.dlShiftTo(u,b),b.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--v>=0;){var _=i[--m]==h?this.DM:Math.floor(i[m]*g+(i[m-1]+p)*f);if((i[m]+=s.am(0,_,i,v,0,u))<_)for(s.dlShiftTo(v,b),i.subTo(b,i);i[m]<--_;)i.subTo(b,i)}null!=n&&(i.drShiftTo(u,n),a!=l&&e.ZERO.subTo(n,n)),i.t=u,i.clamp(),c>0&&i.rShiftTo(c,i),a<0&&e.ZERO.subTo(i,i)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var i=FN(),o=FN(),r=n.convert(this),s=UN(t)-1;for(r.copyTo(i);--s>=0;)if(n.sqrTo(i,o),(t&1<<s)>0)n.mulTo(o,r,i);else{var a=i;i=o,o=a}return n.revert(i)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=jN(n),o=FN(),r=FN(),s="";for(this.divRemTo(i,o,r);o.signum()>0;)s=(n+r.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,r);return r.intValue().toString(e)+s},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),o=Math.pow(n,i),r=!1,s=0,a=0,l=0;l<t.length;++l){var c=$N(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(r=!0):(a=n*a+c,++s>=i&&(this.dMultiply(o),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(a,0)),r&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,i){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),cN,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=[],r=7&t;o.length=1+(t>>3),n.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}},e.prototype.bitwiseTo=function(e,t,n){var i,o,r=Math.min(e.t,this.t);for(i=0;i<r;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(o=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],o);n.t=this.t}else{for(o=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(o,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},e.prototype.changeBit=function(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i},e.prototype.addTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(var o=n.t-this.t;i<o;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(o=Math.min(e.t,t);i<o;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},e.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n},e.prototype.millerRabin=function(t){var n=this.subtract(e.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var o=n.shiftRight(i);(t=t+1>>1)>TN.length&&(t=TN.length);for(var r=FN(),s=0;s<t;++s){r.fromInt(TN[Math.floor(Math.random()*TN.length)]);var a=r.modPow(o,this);if(0!=a.compareTo(e.ONE)&&0!=a.compareTo(n)){for(var l=1;l++<i&&0!=a.compareTo(n);)if(0==(a=a.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=a.compareTo(n))return!1}}return!0},e.prototype.square=function(){var e=FN();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var n=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(n.compareTo(i)<0){var o=n;n=i,i=o}var r=n.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)t(n);else{r<s&&(s=r),s>0&&(n.rShiftTo(s,n),i.rShiftTo(s,i));var a=function(){(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(a,0):(s>0&&i.lShiftTo(s,i),setTimeout((function(){t(i)}),0))};setTimeout(a,10)}},e.prototype.fromNumberAsync=function(t,n,i,o){if("number"==typeof n)if(t<2)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),cN,this),this.isEven()&&this.dAddOffset(1,0);var r=this,s=function(){r.dAddOffset(2,0),r.bitLength()>t&&r.subTo(e.ONE.shiftLeft(t-1),r),r.isProbablePrime(n)?setTimeout((function(){o()}),0):setTimeout(s,0)};setTimeout(s,0)}else{var a=[],l=7&t;a.length=1+(t>>3),n.nextBytes(a),l>0?a[0]&=(1<<l)-1:a[0]=0,this.fromString(a,256)}},e}(),RN=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),AN=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),ON=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=FN();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(MN.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=FN();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),PN=function(){function e(e){this.m=e,this.r2=FN(),this.q3=FN(),MN.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=FN();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function FN(){return new MN(null)}function BN(e,t){return new MN(e,t)}var zN="undefined"!=typeof navigator;zN&&"Microsoft Internet Explorer"==navigator.appName?(MN.prototype.am=function(e,t,n,i,o,r){for(var s=32767&t,a=t>>15;--r>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;o=((l=s*l+((32767&u)<<15)+n[i]+(1073741823&o))>>>30)+(u>>>15)+a*c+(o>>>30),n[i++]=1073741823&l}return o},LN=30):zN&&"Netscape"!=navigator.appName?(MN.prototype.am=function(e,t,n,i,o,r){for(;--r>=0;){var s=t*this[e++]+n[i]+o;o=Math.floor(s/67108864),n[i++]=67108863&s}return o},LN=26):(MN.prototype.am=function(e,t,n,i,o,r){for(var s=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;o=((l=s*l+((16383&u)<<14)+n[i]+o)>>28)+(u>>14)+a*c,n[i++]=268435455&l}return o},LN=28),MN.prototype.DB=LN,MN.prototype.DM=(1<<LN)-1,MN.prototype.DV=1<<LN;MN.prototype.FV=Math.pow(2,52),MN.prototype.F1=52-LN,MN.prototype.F2=2*LN-52;var VN,WN,HN=[];for(VN="0".charCodeAt(0),WN=0;WN<=9;++WN)HN[VN++]=WN;for(VN="a".charCodeAt(0),WN=10;WN<36;++WN)HN[VN++]=WN;for(VN="A".charCodeAt(0),WN=10;WN<36;++WN)HN[VN++]=WN;function $N(e,t){var n=HN[e.charCodeAt(t)];return null==n?-1:n}function jN(e){var t=FN();return t.fromInt(e),t}function UN(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}MN.ZERO=jN(0),MN.ONE=jN(1);var KN=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();var qN,GN,YN=null;if(null==YN){YN=[],GN=0;var XN=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var ZN=new Uint32Array(256);for(window.crypto.getRandomValues(ZN),XN=0;XN<ZN.length;++XN)YN[GN++]=255&ZN[XN]}var QN=0,JN=function(e){if((QN=QN||0)>=256||GN>=256)window.removeEventListener?window.removeEventListener("mousemove",JN,!1):window.detachEvent&&window.detachEvent("onmousemove",JN);else try{var t=e.x+e.y;YN[GN++]=255&t,QN+=1}catch(fTe){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",JN,!1):window.attachEvent&&window.attachEvent("onmousemove",JN))}function eT(){if(null==qN){for(qN=new KN;GN<256;){var e=Math.floor(65536*Math.random());YN[GN++]=255&e}for(qN.init(YN),GN=0;GN<YN.length;++GN)YN[GN]=0;GN=0}return qN.next()}var tT=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=eT()},e}();var nT=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=BN(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,n=function(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;for(var n=[],i=e.length-1;i>=0&&t>0;){var o=e.charCodeAt(i--);o<128?n[--t]=o:o>127&&o<2048?(n[--t]=63&o|128,n[--t]=o>>6|192):(n[--t]=63&o|128,n[--t]=o>>6&63|128,n[--t]=o>>12|224)}n[--t]=0;for(var r=new tT,s=[];t>2;){for(s[0]=0;0==s[0];)r.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new MN(n)}(e,t);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;for(var o=i.toString(16),r=o.length,s=0;s<2*t-r;s++)o="0"+o;return o},e.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=BN(e,16),this.e=parseInt(t,16),this.d=BN(n,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,n,i,o,r,s,a){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=BN(e,16),this.e=parseInt(t,16),this.d=BN(n,16),this.p=BN(i,16),this.q=BN(o,16),this.dmp1=BN(r,16),this.dmq1=BN(s,16),this.coeff=BN(a,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var n=new tT,i=e>>1;this.e=parseInt(t,16);for(var o=new MN(t,16);;){for(;this.p=new MN(e-i,1,n),0!=this.p.subtract(MN.ONE).gcd(o).compareTo(MN.ONE)||!this.p.isProbablePrime(10););for(;this.q=new MN(i,1,n),0!=this.q.subtract(MN.ONE).gcd(o).compareTo(MN.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var s=this.p.subtract(MN.ONE),a=this.q.subtract(MN.ONE),l=s.multiply(a);if(0==l.gcd(o).compareTo(MN.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=BN(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){var n=e.toByteArray(),i=0;for(;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;++i;for(;0!=n[i];)if(++i>=n.length)return null;var o="";for(;++i<n.length;){var r=255&n[i];r<128?o+=String.fromCharCode(r):r>191&&r<224?(o+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(o+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return o}(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,n){var i=new tT,o=e>>1;this.e=parseInt(t,16);var r=new MN(t,16),s=this,a=function(){var t=function(){if(s.p.compareTo(s.q)<=0){var e=s.p;s.p=s.q,s.q=e}var t=s.p.subtract(MN.ONE),i=s.q.subtract(MN.ONE),o=t.multiply(i);0==o.gcd(r).compareTo(MN.ONE)?(s.n=s.p.multiply(s.q),s.d=r.modInverse(o),s.dmp1=s.d.mod(t),s.dmq1=s.d.mod(i),s.coeff=s.q.modInverse(s.p),setTimeout((function(){n()}),0)):setTimeout(a,0)},l=function(){s.q=FN(),s.q.fromNumberAsync(o,1,i,(function(){s.q.subtract(MN.ONE).gcda(r,(function(e){0==e.compareTo(MN.ONE)&&s.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(l,0)}))}))},c=function(){s.p=FN(),s.p.fromNumberAsync(e-o,1,i,(function(){s.p.subtract(MN.ONE).gcda(r,(function(e){0==e.compareTo(MN.ONE)&&s.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(a,0)},e.prototype.sign=function(e,t,n){var i=function(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var n=t-e.length-6,i="",o=0;o<n;o+=2)i+="ff";return BN("0001"+i+"00"+e,16)}((iT[n]||"")+t(e).toString(),this.n.bitLength()/4);if(null==i)return null;var o=this.doPrivate(i);if(null==o)return null;var r=o.toString(16);return 1&r.length?"0"+r:r},e.prototype.verify=function(e,t,n){var i=BN(t,16),o=this.doPublic(i);return null==o?null:function(e){for(var t in iT)if(iT.hasOwnProperty(t)){var n=iT[t],i=n.length;if(e.substr(0,i)==n)return e.substr(i)}return e}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/(o.toString(16).replace(/^1f+00/,""))==n(e).toString()},e}();var iT={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var oT={};oT.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var o;for(o in n)e.prototype[o]=n[o];var r=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(r=function(e,t){for(o=0;o<s.length;o+=1){var n=s[o],i=t[n];"function"==typeof i&&i!=Object.prototype[n]&&(e[n]=i)}})}catch(a){}r(e.prototype,n)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var rT={};void 0!==rT.asn1&&rT.asn1||(rT.asn1={}),rT.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var i="",o=0;o<n;o++)i+="f";t=new MN(i,16).xor(e).add(MN.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=rT.asn1,n=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,r=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,g=t.DERIA5String,f=t.DERUTCTime,p=t.DERGeneralizedTime,m=t.DERSequence,v=t.DERSet,b=t.DERTaggedObject,_=t.ASN1Util.newObject,y=Object.keys(e);if(1!=y.length)throw"key of param shall be only one.";var w=y[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new n(e[w]);if("int"==w)return new i(e[w]);if("bitstr"==w)return new o(e[w]);if("octstr"==w)return new r(e[w]);if("null"==w)return new s(e[w]);if("oid"==w)return new a(e[w]);if("enum"==w)return new l(e[w]);if("utf8str"==w)return new c(e[w]);if("numstr"==w)return new u(e[w]);if("prnstr"==w)return new h(e[w]);if("telstr"==w)return new d(e[w]);if("ia5str"==w)return new g(e[w]);if("utctime"==w)return new f(e[w]);if("gentime"==w)return new p(e[w]);if("seq"==w){for(var C=e[w],S=[],x=0;x<C.length;x++){var k=_(C[x]);S.push(k)}return new m({array:S})}if("set"==w){for(C=e[w],S=[],x=0;x<C.length;x++){k=_(C[x]);S.push(k)}return new v({array:S})}if("tag"==w){var L=e[w];if("[object Array]"===Object.prototype.toString.call(L)&&3==L.length){var D=_(L[2]);return new b({tag:L[0],explicit:L[1],obj:D})}var E={};if(void 0!==L.explicit&&(E.explicit=L.explicit),void 0!==L.tag&&(E.tag=L.tag),void 0===L.obj)throw"obj shall be specified for 'tag'.";return E.obj=_(L.obj),new b(E)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},rT.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),i=(t=Math.floor(n/40)+"."+n%40,""),o=2;o<e.length;o+=2){var r=("00000000"+parseInt(e.substr(o,2),16).toString(2)).slice(-8);if(i+=r.substr(1,7),"0"==r.substr(0,1))t=t+"."+new MN(i,2).toString(10),i=""}return t},rT.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new MN(e,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var r="",s=0;s<o;s++)r+="0";i=r+i;for(s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",o=e.split("."),r=40*parseInt(o[0])+parseInt(o[1]);i+=t(r),o.splice(0,2);for(var s=0;s<o.length;s++)i+=n(o[s]);return i},rT.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},rT.asn1.DERAbstractString=function(e){rT.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},oT.lang.extend(rT.asn1.DERAbstractString,rT.asn1.ASN1Object),rT.asn1.DERAbstractTime=function(e){rT.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var i=this.zeroPadding,o=this.localDateToUTC(e),r=String(o.getFullYear());"utc"==t&&(r=r.substr(2,2));var s=r+i(String(o.getMonth()+1),2)+i(String(o.getDate()),2)+i(String(o.getHours()),2)+i(String(o.getMinutes()),2)+i(String(o.getSeconds()),2);if(!0===n){var a=o.getMilliseconds();if(0!=a){var l=i(String(a),3);s=s+"."+(l=l.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,n,i,o,r){var s=new Date(Date.UTC(e,t-1,n,i,o,r,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},oT.lang.extend(rT.asn1.DERAbstractTime,rT.asn1.ASN1Object),rT.asn1.DERAbstractStructured=function(e){rT.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},oT.lang.extend(rT.asn1.DERAbstractStructured,rT.asn1.ASN1Object),rT.asn1.DERBoolean=function(){rT.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},oT.lang.extend(rT.asn1.DERBoolean,rT.asn1.ASN1Object),rT.asn1.DERInteger=function(e){rT.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=rT.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new MN(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},oT.lang.extend(rT.asn1.DERInteger,rT.asn1.ASN1Object),rT.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=rT.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}rT.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var i="";for(n=0;n<e.length-1;n+=8){var o=e.substr(n,8),r=parseInt(o,2).toString(16);1==r.length&&(r="0"+r),i+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},oT.lang.extend(rT.asn1.DERBitString,rT.asn1.ASN1Object),rT.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=rT.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}rT.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},oT.lang.extend(rT.asn1.DEROctetString,rT.asn1.DERAbstractString),rT.asn1.DERNull=function(){rT.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},oT.lang.extend(rT.asn1.DERNull,rT.asn1.ASN1Object),rT.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new MN(e,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var r="",s=0;s<o;s++)r+="0";i=r+i;for(s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};rT.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",o=e.split("."),r=40*parseInt(o[0])+parseInt(o[1]);i+=t(r),o.splice(0,2);for(var s=0;s<o.length;s++)i+=n(o[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var t=rT.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},oT.lang.extend(rT.asn1.DERObjectIdentifier,rT.asn1.ASN1Object),rT.asn1.DEREnumerated=function(e){rT.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=rT.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new MN(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},oT.lang.extend(rT.asn1.DEREnumerated,rT.asn1.ASN1Object),rT.asn1.DERUTF8String=function(e){rT.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},oT.lang.extend(rT.asn1.DERUTF8String,rT.asn1.DERAbstractString),rT.asn1.DERNumericString=function(e){rT.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},oT.lang.extend(rT.asn1.DERNumericString,rT.asn1.DERAbstractString),rT.asn1.DERPrintableString=function(e){rT.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},oT.lang.extend(rT.asn1.DERPrintableString,rT.asn1.DERAbstractString),rT.asn1.DERTeletexString=function(e){rT.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},oT.lang.extend(rT.asn1.DERTeletexString,rT.asn1.DERAbstractString),rT.asn1.DERIA5String=function(e){rT.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},oT.lang.extend(rT.asn1.DERIA5String,rT.asn1.DERAbstractString),rT.asn1.DERUTCTime=function(e){rT.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},oT.lang.extend(rT.asn1.DERUTCTime,rT.asn1.DERAbstractTime),rT.asn1.DERGeneralizedTime=function(e){rT.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},oT.lang.extend(rT.asn1.DERGeneralizedTime,rT.asn1.DERAbstractTime),rT.asn1.DERSequence=function(e){rT.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},oT.lang.extend(rT.asn1.DERSequence,rT.asn1.DERAbstractStructured),rT.asn1.DERSet=function(e){rT.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},oT.lang.extend(rT.asn1.DERSet,rT.asn1.DERAbstractStructured),rT.asn1.DERTaggedObject=function(e){rT.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},oT.lang.extend(rT.asn1.DERTaggedObject,rT.asn1.ASN1Object);var sT,aT=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lT=function(e){function t(n){var i=e.call(this)||this;return n&&("string"==typeof n?i.parseKey(n):(t.hasPrivateKeyProperty(n)||t.hasPublicKeyProperty(n))&&i.parsePropertiesFrom(n)),i}return aT(t,e),t.prototype.parseKey=function(e){try{var t=0,n=0,i=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?_N(e):yN.unarmor(e),o=EN.decode(i);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){t=o.sub[1].getHexStringValue(),this.n=BN(t,16),n=o.sub[2].getHexStringValue(),this.e=parseInt(n,16);var r=o.sub[3].getHexStringValue();this.d=BN(r,16);var s=o.sub[4].getHexStringValue();this.p=BN(s,16);var a=o.sub[5].getHexStringValue();this.q=BN(a,16);var l=o.sub[6].getHexStringValue();this.dmp1=BN(l,16);var c=o.sub[7].getHexStringValue();this.dmq1=BN(c,16);var u=o.sub[8].getHexStringValue();this.coeff=BN(u,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var h=o.sub[1].sub[0];t=h.sub[0].getHexStringValue(),this.n=BN(t,16),n=h.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else t=o.sub[0].getHexStringValue(),this.n=BN(t,16),n=o.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(d){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new rT.asn1.DERInteger({int:0}),new rT.asn1.DERInteger({bigint:this.n}),new rT.asn1.DERInteger({int:this.e}),new rT.asn1.DERInteger({bigint:this.d}),new rT.asn1.DERInteger({bigint:this.p}),new rT.asn1.DERInteger({bigint:this.q}),new rT.asn1.DERInteger({bigint:this.dmp1}),new rT.asn1.DERInteger({bigint:this.dmq1}),new rT.asn1.DERInteger({bigint:this.coeff})]};return new rT.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return mN(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new rT.asn1.DERSequence({array:[new rT.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new rT.asn1.DERNull]}),t=new rT.asn1.DERSequence({array:[new rT.asn1.DERInteger({bigint:this.n}),new rT.asn1.DERInteger({int:this.e})]}),n=new rT.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new rT.asn1.DERSequence({array:[e,n]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return mN(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(nT),cT="undefined"!=typeof process?null===(sT={})||void 0===sT?void 0:sT.npm_package_version:void 0,uT=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new lT(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(vN(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return mN(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,n){try{return mN(this.getKey().sign(e,t,n))}catch(i){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,vN(t),n)}catch(i){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new lT,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=cT,e}();function hT(e,t){return function(){return e.apply(t,arguments)}}const{toString:dT}=Object.prototype,{getPrototypeOf:gT}=Object,fT=(e=>t=>{const n=dT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pT=e=>(e=e.toLowerCase(),t=>fT(t)===e),mT=e=>t=>typeof t===e,{isArray:vT}=Array,bT=mT("undefined");const _T=pT("ArrayBuffer");const yT=mT("string"),wT=mT("function"),CT=mT("number"),ST=e=>null!==e&&"object"==typeof e,xT=e=>{if("object"!==fT(e))return!1;const t=gT(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},kT=pT("Date"),LT=pT("File"),DT=pT("Blob"),ET=pT("FileList"),NT=pT("URLSearchParams"),[TT,IT,MT,RT]=["ReadableStream","Request","Response","Headers"].map(pT);function AT(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,o;if("object"!=typeof e&&(e=[e]),vT(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),r=o.length;let s;for(i=0;i<r;i++)s=o[i],t.call(null,e[s],s,e)}}function OT(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,o=n.length;for(;o-- >0;)if(i=n[o],t===i.toLowerCase())return i;return null}const PT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,FT=e=>!bT(e)&&e!==PT;const BT=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&gT(Uint8Array)),zT=pT("HTMLFormElement"),VT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),WT=pT("RegExp"),HT=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};AT(n,((n,o)=>{let r;!1!==(r=t(n,o,e))&&(i[o]=r||n)})),Object.defineProperties(e,i)},$T="abcdefghijklmnopqrstuvwxyz",jT="0123456789",UT={DIGIT:jT,ALPHA:$T,ALPHA_DIGIT:$T+$T.toUpperCase()+jT};const KT=pT("AsyncFunction"),qT=(GT="function"==typeof setImmediate,YT=wT(PT.postMessage),GT?setImmediate:YT?(XT=`axios@${Math.random()}`,ZT=[],PT.addEventListener("message",(({source:e,data:t})=>{e===PT&&t===XT&&ZT.length&&ZT.shift()()}),!1),e=>{ZT.push(e),PT.postMessage(XT,"*")}):e=>setTimeout(e));var GT,YT,XT,ZT;const QT="undefined"!=typeof queueMicrotask?queueMicrotask.bind(PT):"undefined"!=typeof process&&process.nextTick||qT,JT={isArray:vT,isArrayBuffer:_T,isBuffer:function(e){return null!==e&&!bT(e)&&null!==e.constructor&&!bT(e.constructor)&&wT(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||wT(e.append)&&("formdata"===(t=fT(e))||"object"===t&&wT(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_T(e.buffer),t},isString:yT,isNumber:CT,isBoolean:e=>!0===e||!1===e,isObject:ST,isPlainObject:xT,isReadableStream:TT,isRequest:IT,isResponse:MT,isHeaders:RT,isUndefined:bT,isDate:kT,isFile:LT,isBlob:DT,isRegExp:WT,isFunction:wT,isStream:e=>ST(e)&&wT(e.pipe),isURLSearchParams:NT,isTypedArray:BT,isFileList:ET,forEach:AT,merge:function e(){const{caseless:t}=FT(this)&&this||{},n={},i=(i,o)=>{const r=t&&OT(n,o)||o;xT(n[r])&&xT(i)?n[r]=e(n[r],i):xT(i)?n[r]=e({},i):vT(i)?n[r]=i.slice():n[r]=i};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&AT(arguments[o],i);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(AT(t,((t,i)=>{n&&wT(t)?e[i]=hT(t,n):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,r,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)s=o[r],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&gT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:fT,kindOfTest:pT,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(vT(e))return e;let t=e.length;if(!CT(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:zT,hasOwnProperty:VT,hasOwnProp:VT,reduceDescriptors:HT,freezeMethods:e=>{HT(e,((t,n)=>{if(wT(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];wT(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return vT(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:OT,global:PT,isContextDefined:FT,ALPHABET:UT,generateString:(e=16,t=UT.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&wT(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(ST(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const o=vT(e)?[]:{};return AT(e,((e,t)=>{const r=n(e,i+1);!bT(r)&&(o[t]=r)})),t[i]=void 0,o}}return e};return n(e,0)},isAsyncFn:KT,isThenable:e=>e&&(ST(e)||wT(e))&&wT(e.then)&&wT(e.catch),setImmediate:qT,asap:QT};function eI(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}JT.inherits(eI,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:JT.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tI=eI.prototype,nI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{nI[e]={value:e}})),Object.defineProperties(eI,nI),Object.defineProperty(tI,"isAxiosError",{value:!0}),eI.from=(e,t,n,i,o,r)=>{const s=Object.create(tI);return JT.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),eI.call(s,e.message,t,n,i,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function iI(e){return JT.isPlainObject(e)||JT.isArray(e)}function oI(e){return JT.endsWith(e,"[]")?e.slice(0,-2):e}function rI(e,t,n){return e?e.concat(t).map((function(e,t){return e=oI(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const sI=JT.toFlatObject(JT,{},null,(function(e){return/^is[A-Z]/.test(e)}));function aI(e,t,n){if(!JT.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=JT.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!JT.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&JT.isSpecCompliantForm(t);if(!JT.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(JT.isDate(e))return e.toISOString();if(!a&&JT.isBlob(e))throw new eI("Blob is not supported. Use a Buffer instead.");return JT.isArrayBuffer(e)||JT.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(JT.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(JT.isArray(e)&&function(e){return JT.isArray(e)&&!e.some(iI)}(e)||(JT.isFileList(e)||JT.endsWith(n,"[]"))&&(a=JT.toArray(e)))return n=oI(n),a.forEach((function(e,i){!JT.isUndefined(e)&&null!==e&&t.append(!0===s?rI([n],i,r):null===s?n:n+"[]",l(e))})),!1;return!!iI(e)||(t.append(rI(o,n,r),l(e)),!1)}const u=[],h=Object.assign(sI,{defaultVisitor:c,convertValue:l,isVisitable:iI});if(!JT.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!JT.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),JT.forEach(n,(function(n,r){!0===(!(JT.isUndefined(n)||null===n)&&o.call(t,n,JT.isString(r)?r.trim():r,i,h))&&e(n,i?i.concat(r):[r])})),u.pop()}}(e),t}function lI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cI(e,t){this._pairs=[],e&&aI(e,this,t)}const uI=cI.prototype;function hI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dI(e,t,n){if(!t)return e;const i=n&&n.encode||hI,o=n&&n.serialize;let r;if(r=o?o(t,n):JT.isURLSearchParams(t)?t.toString():new cI(t,n).toString(i),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}uI.append=function(e,t){this._pairs.push([e,t])},uI.toString=function(e){const t=e?function(t){return e.call(this,t,lI)}:lI;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class gI{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){JT.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const fI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pI={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:cI,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},mI="undefined"!=typeof window&&"undefined"!=typeof document,vI=(bI="undefined"!=typeof navigator&&navigator.product,mI&&["ReactNative","NativeScript","NS"].indexOf(bI)<0);var bI;const _I="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,yI=mI&&window.location.href||"http://localhost",wI={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mI,hasStandardBrowserEnv:vI,hasStandardBrowserWebWorkerEnv:_I,origin:yI},Symbol.toStringTag,{value:"Module"})),...pI};function CI(e){function t(e,n,i,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=o>=e.length;if(r=!r&&JT.isArray(i)?i.length:r,a)return JT.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s;i[r]&&JT.isObject(i[r])||(i[r]=[]);return t(e,n,i[r],o)&&JT.isArray(i[r])&&(i[r]=function(e){const t={},n=Object.keys(e);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],t[r]=e[r];return t}(i[r])),!s}if(JT.isFormData(e)&&JT.isFunction(e.entries)){const n={};return JT.forEachEntry(e,((e,i)=>{t(function(e){return JT.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}const SI={transitional:fI,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=JT.isObject(e);o&&JT.isHTMLForm(e)&&(e=new FormData(e));if(JT.isFormData(e))return i?JSON.stringify(CI(e)):e;if(JT.isArrayBuffer(e)||JT.isBuffer(e)||JT.isStream(e)||JT.isFile(e)||JT.isBlob(e)||JT.isReadableStream(e))return e;if(JT.isArrayBufferView(e))return e.buffer;if(JT.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return aI(e,new wI.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return wI.isNode&&JT.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=JT.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return aI(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(JT.isString(e))try{return(t||JSON.parse)(e),JT.trim(e)}catch(fTe){if("SyntaxError"!==fTe.name)throw fTe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||SI.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(JT.isResponse(e)||JT.isReadableStream(e))return e;if(e&&JT.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(fTe){if(n){if("SyntaxError"===fTe.name)throw eI.from(fTe,eI.ERR_BAD_RESPONSE,this,null,this.response);throw fTe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wI.classes.FormData,Blob:wI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};JT.forEach(["delete","get","head","post","put","patch"],(e=>{SI.headers[e]={}}));const xI=JT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kI=Symbol("internals");function LI(e){return e&&String(e).trim().toLowerCase()}function DI(e){return!1===e||null==e?e:JT.isArray(e)?e.map(DI):String(e)}function EI(e,t,n,i,o){return JT.isFunction(i)?i.call(this,t,n):(o&&(t=n),JT.isString(t)?JT.isString(i)?-1!==t.indexOf(i):JT.isRegExp(i)?i.test(t):void 0:void 0)}class NI{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(e,t,n){const o=LI(t);if(!o)throw new Error("header name must be a non-empty string");const r=JT.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=DI(e))}const r=(e,t)=>JT.forEach(e,((e,n)=>o(e,n,t)));if(JT.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(JT.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,i,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),i=e.substring(o+1).trim(),!n||t[n]&&xI[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(JT.isHeaders(e))for(const[s,a]of e.entries())o(a,s,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=LI(e)){const n=JT.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(JT.isFunction(t))return t.call(this,e,n);if(JT.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=LI(e)){const n=JT.findKey(this,e);return!(!n||void 0===this[n]||t&&!EI(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function o(e){if(e=LI(e)){const o=JT.findKey(n,e);!o||t&&!EI(0,n[o],o,t)||(delete n[o],i=!0)}}return JT.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];e&&!EI(0,this[o],o,e,!0)||(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return JT.forEach(this,((i,o)=>{const r=JT.findKey(n,o);if(r)return t[r]=DI(i),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=DI(i),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return JT.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&JT.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[kI]=this[kI]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=LI(e);t[i]||(!function(e,t){const n=JT.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[i]=!0)}return JT.isArray(e)?e.forEach(i):i(e),this}}function TI(e,t){const n=this||SI,i=t||n,o=NI.from(i.headers);let r=i.data;return JT.forEach(e,(function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function II(e){return!(!e||!e.__CANCEL__)}function MI(e,t,n){eI.call(this,null==e?"canceled":e,eI.ERR_CANCELED,t,n),this.name="CanceledError"}function RI(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new eI("Request failed with status code "+n.status,[eI.ERR_BAD_REQUEST,eI.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}NI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),JT.reduceDescriptors(NI.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),JT.freezeMethods(NI),JT.inherits(MI,eI,{__CANCEL__:!0});const AI=(e,t,n=3)=>{let i=0;const o=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=i[s];o||(o=l),n[r]=a,i[r]=l;let u=s,h=0;for(;u!==r;)h+=n[u++],u%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(e,t){let n,i,o=0,r=1e3/t;const s=(t,r=Date.now())=>{o=r,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=r?s(e,t):(n=e,i||(i=setTimeout((()=>{i=null,s(n)}),r-a)))},()=>n&&s(n)]}((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-i,l=o(a);i=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},OI=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},PI=e=>(...t)=>JT.asap((()=>e(...t))),FI=wI.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=JT.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}(),BI=wI.hasStandardBrowserEnv?{write(e,t,n,i,o,r){const s=[e+"="+encodeURIComponent(t)];JT.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),JT.isString(i)&&s.push("path="+i),JT.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function zI(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const VI=e=>e instanceof NI?{...e}:e;function WI(e,t){t=t||{};const n={};function i(e,t,n){return JT.isPlainObject(e)&&JT.isPlainObject(t)?JT.merge.call({caseless:n},e,t):JT.isPlainObject(t)?JT.merge({},t):JT.isArray(t)?t.slice():t}function o(e,t,n){return JT.isUndefined(t)?JT.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function r(e,t){if(!JT.isUndefined(t))return i(void 0,t)}function s(e,t){return JT.isUndefined(t)?JT.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(VI(e),VI(t),!0)};return JT.forEach(Object.keys(Object.assign({},e,t)),(function(i){const r=l[i]||o,s=r(e[i],t[i],i);JT.isUndefined(s)&&r!==a||(n[i]=s)})),n}const HI=e=>{const t=WI({},e);let n,{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=NI.from(a),t.url=dI(zI(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),JT.isFormData(i))if(wI.hasStandardBrowserEnv||wI.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(wI.hasStandardBrowserEnv&&(o&&JT.isFunction(o)&&(o=o(t)),o||!1!==o&&FI(t.url))){const e=r&&s&&BI.read(s);e&&a.set(r,e)}return t},$I="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=HI(e);let o=i.data;const r=NI.from(i.headers).normalize();let s,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:g}=i;function f(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let p=new XMLHttpRequest;function m(){if(!p)return;const i=NI.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());RI((function(e){t(e),f()}),(function(e){n(e),f()}),{data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p}),p=null}p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(n(new eI("Request aborted",eI.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new eI("Network Error",eI.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const o=i.transitional||fI;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new eI(t,o.clarifyTimeoutError?eI.ETIMEDOUT:eI.ECONNABORTED,e,p)),p=null},void 0===o&&r.setContentType(null),"setRequestHeader"in p&&JT.forEach(r.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),JT.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),h&&"json"!==h&&(p.responseType=i.responseType),g&&([l,u]=AI(g,!0),p.addEventListener("progress",l)),d&&p.upload&&([a,c]=AI(d),p.upload.addEventListener("progress",a),p.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{p&&(n(!t||t.type?new MI(null,e,p):t),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===wI.protocols.indexOf(v)?n(new eI("Unsupported protocol "+v+":",eI.ERR_BAD_REQUEST,e)):p.send(o||null)}))},jI=(e,t)=>{let n,i=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof eI?t:new MI(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{o(new eI(`timeout ${t} of ms exceeded`,eI.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",o):e.unsubscribe(o))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",o)));const{signal:a}=i;return a.unsubscribe=s,[a,()=>{r&&clearTimeout(r),r=null}]},UI=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,o=0;for(;o<n;)i=o+t,yield e.slice(o,i),o=i},KI=(e,t,n,i,o)=>{const r=async function*(e,t,n){for await(const i of e)yield*UI(ArrayBuffer.isView(i)?i:await n(String(i)),t)}(e,t,o);let s,a=0,l=e=>{s||(s=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return l(),void e.close();let o=i.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},qI="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,GI=qI&&"function"==typeof ReadableStream,YI=qI&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),XI=(e,...t)=>{try{return!!e(...t)}catch(fTe){return!1}},ZI=GI&&XI((()=>{let e=!1;const t=new Request(wI.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),QI=GI&&XI((()=>JT.isReadableStream(new Response("").body))),JI={stream:QI&&(e=>e.body)};var eM;qI&&(eM=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!JI[e]&&(JI[e]=JT.isFunction(eM[e])?t=>t[e]():(t,n)=>{throw new eI(`Response type '${e}' is not supported`,eI.ERR_NOT_SUPPORT,n)})})));const tM=async(e,t)=>{const n=JT.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:JT.isBlob(e)?e.size:JT.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:JT.isArrayBufferView(e)||JT.isArrayBuffer(e)?e.byteLength:(JT.isURLSearchParams(e)&&(e+=""),JT.isString(e)?(await YI(e)).byteLength:void 0))(t):n},nM={http:null,xhr:$I,fetch:qI&&(async e=>{let{url:t,method:n,data:i,signal:o,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=HI(e);c=c?(c+"").toLowerCase():"text";let g,f,[p,m]=o||r||s?jI([o,r],s):[];const v=()=>{!g&&setTimeout((()=>{p&&p.unsubscribe()})),g=!0};let b;try{if(l&&ZI&&"get"!==n&&"head"!==n&&0!==(b=await tM(u,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(JT.isFormData(i)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=OI(b,AI(PI(l)));i=KI(n.body,65536,e,t,YI)}}JT.isString(h)||(h=h?"include":"omit"),f=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:h});let o=await fetch(f);const r=QI&&("stream"===c||"response"===c);if(QI&&(a||r)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=JT.toFiniteNumber(o.headers.get("content-length")),[n,i]=a&&OI(t,AI(PI(a),!0))||[];o=new Response(KI(o.body,65536,n,(()=>{i&&i(),r&&v()}),YI),e)}c=c||"text";let s=await JI[JT.findKey(JI,c)||"text"](o,e);return!r&&v(),m&&m(),await new Promise(((t,n)=>{RI(t,n,{data:s,headers:NI.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(_){if(v(),_&&"TypeError"===_.name&&/fetch/i.test(_.message))throw Object.assign(new eI("Network Error",eI.ERR_NETWORK,e,f),{cause:_.cause||_});throw eI.from(_,_&&_.code,e,f)}})};JT.forEach(nM,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(fTe){}Object.defineProperty(e,"adapterName",{value:t})}}));const iM=e=>`- ${e}`,oM=e=>JT.isFunction(e)||null===e||!1===e,rM=e=>{e=JT.isArray(e)?e:[e];const{length:t}=e;let n,i;const o={};for(let r=0;r<t;r++){let t;if(n=e[r],i=n,!oM(n)&&(i=nM[(t=String(n)).toLowerCase()],void 0===i))throw new eI(`Unknown adapter '${t}'`);if(i)break;o[t||"#"+r]=i}if(!i){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new eI("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(iM).join("\n"):" "+iM(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function sM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new MI(null,e)}function aM(e){sM(e),e.headers=NI.from(e.headers),e.data=TI.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rM(e.adapter||SI.adapter)(e).then((function(t){return sM(e),t.data=TI.call(e,e.transformResponse,t),t.headers=NI.from(t.headers),t}),(function(t){return II(t)||(sM(e),t&&t.response&&(t.response.data=TI.call(e,e.transformResponse,t.response),t.response.headers=NI.from(t.response.headers))),Promise.reject(t)}))}const lM="1.7.3",cM={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{cM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const uM={};cM.transitional=function(e,t,n){function i(e,t){return"[Axios v1.7.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,r)=>{if(!1===e)throw new eI(i(o," has been removed"+(t?" in "+t:"")),eI.ERR_DEPRECATED);return t&&!uM[o]&&(uM[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}};const hM={assertOptions:function(e,t,n){if("object"!=typeof e)throw new eI("options must be an object",eI.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const r=i[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new eI("option "+r+" must be "+n,eI.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new eI("Unknown option "+r,eI.ERR_BAD_OPTION)}},validators:cM},dM=hM.validators;class gM{constructor(e){this.defaults=e,this.interceptors={request:new gI,response:new gI}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(fTe){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=WI(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;void 0!==n&&hM.assertOptions(n,{silentJSONParsing:dM.transitional(dM.boolean),forcedJSONParsing:dM.transitional(dM.boolean),clarifyTimeoutError:dM.transitional(dM.boolean)},!1),null!=i&&(JT.isFunction(i)?t.paramsSerializer={serialize:i}:hM.assertOptions(i,{encode:dM.function,serialize:dM.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&JT.merge(o.common,o[t.method]);o&&JT.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=NI.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[aM.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(g){t.call(this,g);break}}try{c=aM.call(this,d)}catch(g){return Promise.reject(g)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return dI(zI((e=WI(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}JT.forEach(["delete","get","head","options"],(function(e){gM.prototype[e]=function(t,n){return this.request(WI(n||{},{method:e,url:t,data:(n||{}).data}))}})),JT.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,o){return this.request(WI(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}gM.prototype[e]=t(),gM.prototype[e+"Form"]=t(!0)}));class fM{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,o){n.reason||(n.reason=new MI(e,i,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new fM((function(t){e=t})),cancel:e}}}const pM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pM).forEach((([e,t])=>{pM[t]=e}));const mM=function e(t){const n=new gM(t),i=hT(gM.prototype.request,n);return JT.extend(i,gM.prototype,n,{allOwnKeys:!0}),JT.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(WI(t,n))},i}(SI);mM.Axios=gM,mM.CanceledError=MI,mM.CancelToken=fM,mM.isCancel=II,mM.VERSION=lM,mM.toFormData=aI,mM.AxiosError=eI,mM.Cancel=mM.CanceledError,mM.all=function(e){return Promise.all(e)},mM.spread=function(e){return function(t){return e.apply(null,t)}},mM.isAxiosError=function(e){return JT.isObject(e)&&!0===e.isAxiosError},mM.mergeConfig=WI,mM.AxiosHeaders=NI,mM.formToJSON=e=>CI(JT.isHTMLForm(e)?new FormData(e):e),mM.getAdapter=rM,mM.HttpStatusCode=pM,mM.default=mM;var vM={exports:{}},bM={},_M=Y;var yM="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},wM=_M.useSyncExternalStore,CM=_M.useRef,SM=_M.useEffect,xM=_M.useMemo,kM=_M.useDebugValue;bM.useSyncExternalStoreWithSelector=function(e,t,n,i,o){var r=CM(null);if(null===r.current){var s={hasValue:!1,value:null};r.current=s}else s=r.current;r=xM((function(){function e(e){if(!l){if(l=!0,r=e,e=i(e),void 0!==o&&s.hasValue){var t=s.value;if(o(t,e))return a=t}return a=e}if(t=a,yM(r,e))return t;var n=i(e);return void 0!==o&&o(t,n)?t:(r=e,a=n)}var r,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,o]);var a=wM(e,r[0],r[1]);return SM((function(){s.hasValue=!0,s.value=a}),[a]),kM(a),a},vM.exports=bM;var LM=vM.exports,DM="default"in Z?X:Z,EM=Symbol.for("react-redux-context"),NM="undefined"!=typeof globalThis?globalThis:{};function TM(){if(!DM.createContext)return{};const e=NM[EM]??(NM[EM]=new Map);let t=e.get(DM.createContext);return t||(t=DM.createContext(null),e.set(DM.createContext,t)),t}var IM=TM();function MM(e=IM){return function(){return DM.useContext(e)}}var RM=MM(),AM=()=>{throw new Error("uSES not initialized!")},OM=(e,t)=>e===t;function PM(e=IM){const t=e===IM?RM:MM(e),n=(e,n={})=>{const{equalityFn:i=OM,devModeChecks:o={}}="function"==typeof n?{equalityFn:n}:n,{store:r,subscription:s,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=t();DM.useRef(!0);const u=DM.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,o.stabilityCheck]),h=AM(s.addNestedSub,r.getState,a||r.getState,u,i);return DM.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var FM=PM();var BM={notify(){},get:()=>[]};var zM=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),VM="undefined"!=typeof navigator&&"ReactNative"===navigator.product,WM=zM||VM?DM.useLayoutEffect:DM.useEffect;var HM=function({store:e,context:t,children:n,serverState:i,stabilityCheck:o="once",identityFunctionCheck:r="once"}){const s=DM.useMemo((()=>{const t=function(e){let t,n=BM,i=0,o=!1;function r(){l.onStateChange&&l.onStateChange()}function s(){i++,t||(t=e.subscribe(r),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){i&&null!==e&&(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function a(){i--,t&&0===i&&(t(),t=void 0,n.clear(),n=BM)}const l={addNestedSub:function(e){s();const t=n.subscribe(e);let i=!1;return()=>{i||(i=!0,t(),a())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:r,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,a())},getListeners:()=>n};return l}(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:r}}),[e,i,o,r]),a=DM.useMemo((()=>e.getState()),[e]);WM((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,a]);const l=t||IM;return DM.createElement(l.Provider,{value:s},n)};function $M(e=IM){const t=e===IM?RM:MM(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var jM=$M();function UM(e=IM){const t=e===IM?jM:$M(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var KM,qM=UM();function GM(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}KM=LM.useSyncExternalStoreWithSelector,AM=KM;var YM=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),XM=()=>Math.random().toString(36).substring(7).split("").join("."),ZM={INIT:`@@redux/INIT${XM()}`,REPLACE:`@@redux/REPLACE${XM()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${XM()}`};function QM(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function JM(e,t,n){if("function"!=typeof e)throw new Error(GM(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(GM(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(GM(1));return n(JM)(e,t)}let i=e,o=t,r=new Map,s=r,a=0,l=!1;function c(){s===r&&(s=new Map,r.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(l)throw new Error(GM(3));return o}function h(e){if("function"!=typeof e)throw new Error(GM(4));if(l)throw new Error(GM(5));let t=!0;c();const n=a++;return s.set(n,e),function(){if(t){if(l)throw new Error(GM(6));t=!1,c(),s.delete(n),r=null}}}function d(e){if(!QM(e))throw new Error(GM(7));if(void 0===e.type)throw new Error(GM(8));if("string"!=typeof e.type)throw new Error(GM(17));if(l)throw new Error(GM(9));try{l=!0,o=i(o,e)}finally{l=!1}return(r=s).forEach((e=>{e()})),e}d({type:ZM.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(GM(10));i=e,d({type:ZM.REPLACE})},[YM]:function(){const e=h;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(GM(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[YM](){return this}}}}}function eR(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:ZM.INIT}))throw new Error(GM(12));if(void 0===n(void 0,{type:ZM.PROBE_UNKNOWN_ACTION()}))throw new Error(GM(13))}))}(n)}catch(fTe){o=fTe}return function(e={},t){if(o)throw o;let r=!1;const s={};for(let o=0;o<i.length;o++){const a=i[o],l=n[a],c=e[a],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(GM(14));s[a]=u,r=r||u!==c}return r=r||i.length!==Object.keys(e).length,r?s:e}}function tR(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}var nR=Symbol.for("immer-nothing"),iR=Symbol.for("immer-draftable"),oR=Symbol.for("immer-state");function rR(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sR=Object.getPrototypeOf;function aR(e){return!!e&&!!e[oR]}function lR(e){return!!e&&(uR(e)||Array.isArray(e)||!!e[iR]||!!e.constructor?.[iR]||pR(e)||mR(e))}var cR=Object.prototype.constructor.toString();function uR(e){if(!e||"object"!=typeof e)return!1;const t=sR(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===cR}function hR(e,t){0===dR(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,i)=>t(i,n,e)))}function dR(e){const t=e[oR];return t?t.type_:Array.isArray(e)?1:pR(e)?2:mR(e)?3:0}function gR(e,t){return 2===dR(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fR(e,t,n){const i=dR(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function pR(e){return e instanceof Map}function mR(e){return e instanceof Set}function vR(e){return e.copy_||e.base_}function bR(e,t){if(pR(e))return new Map(e);if(mR(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=uR(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[oR];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const o=n[i],r=t[o];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[o]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[o]})}return Object.create(sR(e),t)}{const t=sR(e);if(null!==t&&n)return{...e};const i=Object.create(t);return Object.assign(i,e)}}function _R(e,t=!1){return wR(e)||aR(e)||!lR(e)||(dR(e)>1&&(e.set=e.add=e.clear=e.delete=yR),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>_R(t,!0)))),e}function yR(){rR(2)}function wR(e){return Object.isFrozen(e)}var CR,SR={};function xR(e){const t=SR[e];return t||rR(0),t}function kR(){return CR}function LR(e,t){t&&(xR("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DR(e){ER(e),e.drafts_.forEach(TR),e.drafts_=null}function ER(e){e===CR&&(CR=e.parent_)}function NR(e){return CR={drafts_:[],parent_:CR,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TR(e){const t=e[oR];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function IR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[oR].modified_&&(DR(t),rR(4)),lR(e)&&(e=MR(t,e),t.parent_||AR(t,e)),t.patches_&&xR("Patches").generateReplacementPatches_(n[oR].base_,e,t.patches_,t.inversePatches_)):e=MR(t,n,[]),DR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nR?e:void 0}function MR(e,t,n){if(wR(t))return t;const i=t[oR];if(!i)return hR(t,((o,r)=>RR(e,i,t,o,r,n))),t;if(i.scope_!==e)return t;if(!i.modified_)return AR(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let o=t,r=!1;3===i.type_&&(o=new Set(t),t.clear(),r=!0),hR(o,((o,s)=>RR(e,i,t,o,s,n,r))),AR(e,t,!1),n&&e.patches_&&xR("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function RR(e,t,n,i,o,r,s){if(aR(o)){const s=MR(e,o,r&&t&&3!==t.type_&&!gR(t.assigned_,i)?r.concat(i):void 0);if(fR(n,i,s),!aR(s))return;e.canAutoFreeze_=!1}else s&&n.add(o);if(lR(o)&&!wR(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;MR(e,o),t&&t.scope_.parent_||"symbol"==typeof i||!Object.prototype.propertyIsEnumerable.call(n,i)||AR(e,o)}}function AR(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_R(t,n)}var OR={get(e,t){if(t===oR)return e;const n=vR(e);if(!gR(n,t))return function(e,t,n){const i=BR(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!lR(i)?i:i===FR(e.base_,t)?(VR(e),e.copy_[t]=WR(i,e)):i},has:(e,t)=>t in vR(e),ownKeys:e=>Reflect.ownKeys(vR(e)),set(e,t,n){const i=BR(vR(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=FR(vR(e),t),s=i?.[oR];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(r=i)?0!==o||1/o==1/r:o!=o&&r!=r)&&(void 0!==n||gR(e.base_,t)))return!0;VR(e),zR(e)}var o,r;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==FR(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,VR(e),zR(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=vR(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){rR(11)},getPrototypeOf:e=>sR(e.base_),setPrototypeOf(){rR(12)}},PR={};function FR(e,t){const n=e[oR];return(n?vR(n):e)[t]}function BR(e,t){if(!(t in e))return;let n=sR(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=sR(n)}}function zR(e){e.modified_||(e.modified_=!0,e.parent_&&zR(e.parent_))}function VR(e){e.copy_||(e.copy_=bR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}hR(OR,((e,t)=>{PR[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),PR.deleteProperty=function(e,t){return PR.set.call(this,e,t,void 0)},PR.set=function(e,t,n){return OR.set.call(this,e[0],t,n,e[0])};function WR(e,t){const n=pR(e)?xR("MapSet").proxyMap_(e,t):mR(e)?xR("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:kR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,r=OR;n&&(o=[i],r=PR);const{revoke:s,proxy:a}=Proxy.revocable(o,r);return i.draft_=a,i.revoke_=s,a}(e,t);return(t?t.scope_:kR()).drafts_.push(n),n}function HR(e){if(!lR(e)||wR(e))return e;const t=e[oR];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bR(e,t.scope_.immer_.useStrictShallowCopy_)}else n=bR(e,!0);return hR(n,((e,t)=>{fR(n,e,HR(t))})),t&&(t.finalized_=!1),n}var $R=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const i=this;return function(e=n,...o){return i.produce(e,(e=>t.call(this,e,...o)))}}let i;if("function"!=typeof t&&rR(6),void 0!==n&&"function"!=typeof n&&rR(7),lR(e)){const o=NR(this),r=WR(e,void 0);let s=!0;try{i=t(r),s=!1}finally{s?DR(o):ER(o)}return LR(o,n),IR(i,o)}if(!e||"object"!=typeof e){if(i=t(e),void 0===i&&(i=e),i===nR&&(i=void 0),this.autoFreeze_&&_R(i,!0),n){const t=[],o=[];xR("Patches").generateReplacementPatches_(e,i,t,o),n(t,o)}return i}rR(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,i;return[this.produce(e,t,((e,t)=>{n=e,i=t})),n,i]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){lR(e)||rR(8),aR(e)&&(e=function(e){aR(e)||rR(10);return HR(e)}(e));const t=NR(this),n=WR(e,void 0);return n[oR].isManual_=!0,ER(t),n}finishDraft(e,t){const n=e&&e[oR];n&&n.isManual_||rR(9);const{scope_:i}=n;return LR(i,t),IR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=xR("Patches").applyPatches_;return aR(e)?i(e,t):this.produce(e,(e=>i(e,t)))}},jR=$R.produce;function UR(e){return({dispatch:t,getState:n})=>i=>o=>"function"==typeof o?o(t,n,e):i(o)}$R.produceWithPatches.bind($R),$R.setAutoFreeze.bind($R),$R.setUseStrictShallowCopy.bind($R),$R.applyPatches.bind($R),$R.createDraft.bind($R),$R.finishDraft.bind($R);var KR=UR(),qR=UR,GR="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?tR:tR.apply(null,arguments)};function YR(e,t){function n(...n){if(t){let i=t(...n);if(!i)throw new Error(uA(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return QM(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,n}var XR=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function ZR(e){return lR(e)?jR(e,(()=>{})):e}function QR(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(uA(10));const i=n.insert(t,e);return e.set(t,i),i}var JR=e=>t=>{setTimeout(t,e)},eA="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:JR(10),tA=e=>function(t){const{autoBatch:n=!0}=t??{};let i=new XR(e);return n&&i.push(((e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let o=!0,r=!1,s=!1;const a=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?eA:"callback"===e.type?e.queueNotification:JR(e.timeout),c=()=>{s=!1,r&&(r=!1,a.forEach((e=>e())))};return Object.assign({},i,{subscribe(e){const t=i.subscribe((()=>o&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return o=!e?.meta?.RTK_autoBatch,r=!o,r&&(s||(s=!0,l(c))),i.dispatch(e)}finally{o=!0}}})})("object"==typeof n?n:void 0)),i};function nA(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let r=new XR;return t&&("boolean"==typeof t?r.push(KR):r.push(qR(t.extraArgument))),r},{reducer:n,middleware:i,devTools:o=!0,preloadedState:r,enhancers:s}=e||{};let a,l;if("function"==typeof n)a=n;else{if(!QM(n))throw new Error(uA(1));a=eR(n)}l="function"==typeof i?i(t):t();let c=tR;o&&(c=GR({trace:!1,..."object"==typeof o&&o}));const u=function(...e){return t=>(n,i)=>{const o=t(n,i);let r=()=>{throw new Error(GM(15))};const s={getState:o.getState,dispatch:(e,...t)=>r(e,...t)},a=e.map((e=>e(s)));return r=tR(...a)(o.dispatch),{...o,dispatch:r}}}(...l),h=tA(u);return JM(a,r,c(..."function"==typeof s?s(h):h()))}function iA(e){const t={},n=[];let i;const o={addCase(e,n){const i="string"==typeof e?e:e.type;if(!i)throw new Error(uA(28));if(i in t)throw new Error(uA(29));return t[i]=n,o},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(i=e,o)};return e(o),[t,n,i]}var oA=Symbol.for("rtk-slice-createasyncthunk");function rA(e,t){return`${e}/${t}`}function sA({creators:e}={}){const t=e?.asyncThunk?.[oA];return function(e){const{name:n,reducerPath:i=n}=e;if(!n)throw new Error(uA(11));const o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},r=Object.keys(o),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(uA(12));if(n in s.sliceCaseReducersByType)throw new Error(uA(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],i]="function"==typeof e.extraReducers?iA(e.extraReducers):[e.extraReducers],o={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[i,o,r]=iA(t);if("function"==typeof e)n=()=>ZR(e());else{const t=ZR(e);n=()=>t}function s(e=n(),t){let s=[i[t.type],...o.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===s.filter((e=>!!e)).length&&(s=[r]),s.reduce(((e,n)=>{if(n){if(aR(e)){const i=n(e,t);return void 0===i?e:i}if(lR(e))return jR(e,(e=>n(e,t)));{const i=n(e,t);if(void 0===i){if(null===e)return e;throw new Error(uA(9))}return i}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)}))}r.forEach((i=>{const r=o[i],s={reducerName:i,type:rA(n,i),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(r)?function({type:e,reducerName:t,createNotation:n},i,o){let r,s;if("reducer"in i){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(i))throw new Error(uA(17));r=i.reducer,s=i.prepare}else r=i;o.addCase(e,r).exposeCaseReducer(t,r).exposeAction(t,s?YR(e,s):YR(e))}(s,r,a):function({type:e,reducerName:t},n,i,o){if(!o)throw new Error(uA(18));const{payloadCreator:r,fulfilled:s,pending:a,rejected:l,settled:c,options:u}=n,h=o(e,r,u);i.exposeAction(t,h),s&&i.addCase(h.fulfilled,s);a&&i.addCase(h.pending,a);l&&i.addCase(h.rejected,l);c&&i.addMatcher(h.settled,c);i.exposeCaseReducer(t,{fulfilled:s||cA,pending:a||cA,rejected:l||cA,settled:c||cA})}(s,r,a,t)}));const c=e=>e,u=new Map;let h;function d(e,t){return h||(h=l()),h(e,t)}function g(){return h||(h=l()),h.getInitialState()}function f(t,n=!1){function i(e){let i=e[t];return void 0===i&&n&&(i=g()),i}function o(t=c){const i=QR(u,n,{insert:()=>new WeakMap});return QR(i,t,{insert:()=>{const i={};for(const[o,r]of Object.entries(e.selectors??{}))i[o]=aA(r,t,g,n);return i}})}return{reducerPath:t,getSelectors:o,get selectors(){return o(i)},selectSlice:i}}const p={name:n,reducer:d,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g,...f(i),injectInto(e,{reducerPath:t,...n}={}){const o=t??i;return e.inject({reducerPath:o,reducer:d},n),{...p,...f(o,!0)}}};return p}}function aA(e,t,n,i){function o(o,...r){let s=t(o);return void 0===s&&i&&(s=n()),e(s,...r)}return o.unwrapped=e,o}var lA=sA();function cA(){}function uA(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hA={},dA={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(dA);var gA=dA.exports,fA={};var pA={};const mA=u(qg);var vA,bA={exports:{}};const _A=u(cm),yA=u(fm),wA=u(Dm),CA=u(cb),SA=u(xv),xA=u(Iv);var kA=gA;Object.defineProperty(pA,"__esModule",{value:!0});var LA=pA.default=function(e={}){const{themeId:t,defaultTheme:n=BA,rootShouldForwardProp:i=FA,slotShouldForwardProp:o=FA}=e,r=e=>(0,MA.default)((0,DA.default)({},e,{theme:VA((0,DA.default)({},e,{defaultTheme:n,themeId:t}))}));return r.__mui_systemSx=!0,(e,s={})=>{(0,NA.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:h=WA(zA(l))}=s,d=(0,EA.default)(s,OA),g=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let p=FA;"Root"===l||"root"===l?p=i:l?p=o:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const m=(0,NA.default)(e,(0,DA.default)({shouldForwardProp:p,label:undefined},d)),v=e=>"function"==typeof e&&e.__emotion_real!==e||(0,TA.isPlainObject)(e)?i=>HA(e,(0,DA.default)({},i,{theme:VA({theme:i.theme,defaultTheme:n,themeId:t})})):e,b=(i,...o)=>{let s=v(i);const l=o?o.map(v):[];a&&h&&l.push((e=>{const i=VA((0,DA.default)({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const o=i.components[a].styleOverrides,r={};return Object.entries(o).forEach((([t,n])=>{r[t]=HA(n,(0,DA.default)({},e,{theme:i}))})),h(e,r)})),a&&!g&&l.push((e=>{var i;const o=VA((0,DA.default)({},e,{defaultTheme:n,themeId:t}));return HA({variants:null==o||null==(i=o.components)||null==(i=i[a])?void 0:i.variants},(0,DA.default)({},e,{theme:o}))})),f||l.push(r);const c=l.length-o.length;if(Array.isArray(i)&&c>0){const e=new Array(c).fill("");s=[...i,...e],s.raw=[...i.raw,...e]}const u=m(s,...l);return e.muiName&&(u.muiName=e.muiName),u};return m.withConfig&&(b.withConfig=m.withConfig),b}};pA.shouldForwardProp=FA,pA.systemDefaultTheme=void 0;var DA=kA(mA),EA=kA((vA||(vA=1,function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}(bA)),bA.exports)),NA=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=PA(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}(_A),TA=yA;kA(wA),kA(CA);var IA=kA(SA),MA=kA(xA);const RA=["ownerState"],AA=["variants"],OA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function PA(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(PA=function(e){return e?n:t})(e)}function FA(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const BA=pA.systemDefaultTheme=(0,IA.default)(),zA=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function VA({defaultTheme:e,theme:t,themeId:n}){return i=t,0===Object.keys(i).length?e:t[n]||t;var i}function WA(e){return e?(t,n)=>n[e]:null}function HA(e,t){let{ownerState:n}=t,i=(0,EA.default)(t,RA);const o="function"==typeof e?e((0,DA.default)({ownerState:n},i)):e;if(Array.isArray(o))return o.flatMap((e=>HA(e,(0,DA.default)({ownerState:n},i))));if(o&&"object"==typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,EA.default)(o,AA);return e.forEach((e=>{let o=!0;"function"==typeof e.props?o=e.props((0,DA.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,DA.default)({ownerState:n},i,n)):e.style))})),t}return o}var $A={};const jA=u(Ug),UA=u(xb);var KA=gA;Object.defineProperty($A,"__esModule",{value:!0}),$A.alpha=rO,$A.blend=function(e,t,n,i=1){const o=(e,t)=>Math.round((e**(1/i)*(1-n)+t**(1/i)*n)**i),r=eO(e),s=eO(t);return nO({type:"rgb",values:[o(r.values[0],s.values[0]),o(r.values[1],s.values[1]),o(r.values[2],s.values[2])]})},$A.colorChannel=void 0;var qA=$A.darken=sO;$A.decomposeColor=eO,$A.emphasize=lO;var GA=$A.getContrastRatio=function(e,t){const n=oO(e),i=oO(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)};$A.getLuminance=oO,$A.hexToRgb=JA,$A.hslToRgb=iO;var YA=$A.lighten=aO;$A.private_safeAlpha=function(e,t,n){try{return rO(e,t)}catch(i){return e}},$A.private_safeColorChannel=void 0,$A.private_safeDarken=function(e,t,n){try{return sO(e,t)}catch(i){return e}},$A.private_safeEmphasize=function(e,t,n){try{return lO(e,t)}catch(i){return e}},$A.private_safeLighten=function(e,t,n){try{return aO(e,t)}catch(i){return e}},$A.recomposeColor=nO,$A.rgbToHex=function(e){if(0===e.indexOf("#"))return e;const{values:t}=eO(e);return`#${t.map(((e,t)=>function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(3===t?Math.round(255*e):e))).join("")}`};var XA=KA(jA),ZA=KA(UA);function QA(e,t=0,n=1){return(0,ZA.default)(e,t,n)}function JA(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function eO(e){if(e.type)return e;if("#"===e.charAt(0))return eO(JA(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,XA.default)(9,e));let i,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,XA.default)(10,i))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:i}}const tO=e=>{const t=eO(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};$A.colorChannel=tO;function nO(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function iO(e){e=eO(e);const{values:t}=e,n=t[0],i=t[1]/100,o=t[2]/100,r=i*Math.min(o,1-o),s=(e,t=(e+n/30)%12)=>o-r*Math.max(Math.min(t-3,9-t,1),-1);let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),nO({type:a,values:l})}function oO(e){let t="hsl"===(e=eO(e)).type||"hsla"===e.type?eO(iO(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function rO(e,t){return e=eO(e),t=QA(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,nO(e)}function sO(e,t){if(e=eO(e),t=QA(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return nO(e)}function aO(e,t){if(e=eO(e),t=QA(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return nO(e)}function lO(e,t=.15){return oO(e)>.5?sO(e,t):aO(e,t)}$A.private_safeColorChannel=(e,t)=>{try{return tO(e)}catch(n){return e}};const cO={black:"#000",white:"#fff"},uO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hO={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},dO={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},pO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},mO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},vO=["mode","contrastThreshold","tonalOffset"],bO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cO.white,default:cO.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_O={text:{primary:cO.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cO.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yO(e,t,n,i){const o=i.light||i,r=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=YA(e.main,o):"dark"===t&&(e.dark=qA(e.main,r)))}function wO(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,o=um(e,vO),r=e.primary||function(e="light"){return"dark"===e?{main:fO[200],light:fO[50],dark:fO[400]}:{main:fO[700],light:fO[400],dark:fO[800]}}(t),s=e.secondary||function(e="light"){return"dark"===e?{main:hO[200],light:hO[50],dark:hO[400]}:{main:hO[500],light:hO[300],dark:hO[700]}}(t),a=e.error||function(e="light"){return"dark"===e?{main:dO[500],light:dO[300],dark:dO[700]}:{main:dO[700],light:dO[400],dark:dO[800]}}(t),l=e.info||function(e="light"){return"dark"===e?{main:pO[400],light:pO[300],dark:pO[700]}:{main:pO[700],light:pO[500],dark:pO[900]}}(t),c=e.success||function(e="light"){return"dark"===e?{main:mO[400],light:mO[300],dark:mO[700]}:{main:mO[800],light:mO[500],dark:mO[900]}}(t),u=e.warning||function(e="light"){return"dark"===e?{main:gO[400],light:gO[300],dark:gO[700]}:{main:"#ed6c02",light:gO[500],dark:gO[900]}}(t);function h(e){return GA(e,_O.text.primary)>=n?_O.text.primary:bO.text.primary}const d=({color:e,name:t,mainShade:n=500,lightShade:o=300,darkShade:r=700})=>{if(!(e=Kg({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error(jg(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw new Error(jg(12,t?` (${t})`:"",JSON.stringify(e.main)));return yO(e,"light",o,i),yO(e,"dark",r,i),e.contrastText||(e.contrastText=h(e.main)),e},g={dark:_O,light:bO};return gm(Kg({common:Kg({},cO),mode:t,primary:d({color:r,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:uO,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:i},g[t]),o)}const CO=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const SO={textTransform:"uppercase"},xO='"Roboto", "Helvetica", "Arial", sans-serif';function kO(e,t){const n="function"==typeof t?t(e):t,{fontFamily:i=xO,fontSize:o=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,d=um(n,CO),g=o/14,f=h||(e=>e/c*g+"rem"),p=(e,t,n,o,r)=>{return Kg({fontFamily:i,fontWeight:e,fontSize:f(t),lineHeight:n},i===xO?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},r,u);var s},m={h1:p(r,96,1.167,-1.5),h2:p(r,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(a,14,1.75,.4,SO),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,SO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gm(Kg({htmlFontSize:c,pxToRem:f,fontFamily:i,fontSize:o,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},m),d,{clone:!1})}function LO(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const DO=["none",LO(0,2,1,-1,0,1,1,0,0,1,3,0),LO(0,3,1,-2,0,2,2,0,0,1,5,0),LO(0,3,3,-2,0,3,4,0,0,1,8,0),LO(0,2,4,-1,0,4,5,0,0,1,10,0),LO(0,3,5,-1,0,5,8,0,0,1,14,0),LO(0,3,5,-1,0,6,10,0,0,1,18,0),LO(0,4,5,-2,0,7,10,1,0,2,16,1),LO(0,5,5,-3,0,8,10,1,0,3,14,2),LO(0,5,6,-3,0,9,12,1,0,3,16,2),LO(0,6,6,-3,0,10,14,1,0,4,18,3),LO(0,6,7,-4,0,11,15,1,0,4,20,3),LO(0,7,8,-4,0,12,17,2,0,5,22,4),LO(0,7,8,-4,0,13,19,2,0,5,24,4),LO(0,7,9,-4,0,14,21,2,0,5,26,4),LO(0,8,9,-5,0,15,22,2,0,6,28,5),LO(0,8,10,-5,0,16,24,2,0,6,30,5),LO(0,8,11,-5,0,17,26,2,0,6,32,5),LO(0,9,11,-5,0,18,28,2,0,7,34,6),LO(0,9,12,-6,0,19,29,2,0,7,36,6),LO(0,10,13,-6,0,20,31,3,0,8,38,7),LO(0,10,13,-6,0,21,33,3,0,8,40,7),LO(0,10,14,-6,0,22,35,3,0,8,42,7),LO(0,11,14,-7,0,23,36,3,0,9,44,8),LO(0,11,15,-7,0,24,38,3,0,9,46,8)],EO=["duration","easing","delay"],NO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},TO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IO(e){return`${Math.round(e)}ms`}function MO(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function RO(e){const t=Kg({},NO,e.easing),n=Kg({},TO,e.duration);return Kg({getAutoHeightDuration:MO,create:(e=["all"],i={})=>{const{duration:o=n.standard,easing:r=t.easeInOut,delay:s=0}=i;return um(i,EO),(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"==typeof o?o:IO(o)} ${r} ${"string"==typeof s?s:IO(s)}`)).join(",")}},e,{easing:t,duration:n})}const AO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},OO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const PO=LA({themeId:"$$material",defaultTheme:function(e={},...t){const{mixins:n={},palette:i={},transitions:o={},typography:r={}}=e,s=um(e,OO);if(e.vars)throw new Error(jg(18));const a=wO(i),l=Sv(e);let c=gm(l,{mixins:(u=l.breakpoints,h=n,Kg({toolbar:{minHeight:56,[u.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[u.up("sm")]:{minHeight:64}}},h)),palette:a,shadows:DO.slice(),typography:kO(a,r),transitions:RO(o),zIndex:Kg({},AO)});var u,h;return c=gm(c,s),c=t.reduce(((e,t)=>gm(e,t)),c),c.unstable_sxConfig=Kg({},bv,null==s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return yv({sx:e,theme:this})},c}(),rootShouldForwardProp:e=>function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}(e)&&"classes"!==e});function FO(e){return Bv("MuiSvgIcon",e)}zv("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const BO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],zO=PO("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${Lm(n.color)}`],t[`fontSize${Lm(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,i,o,r,s,a,l,c,u,h,d,g,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(r=e.typography)||null==(s=r.pxToRem)?void 0:s.call(r,20))||"1.25rem",medium:(null==(a=e.typography)||null==(l=a.pxToRem)?void 0:l.call(a,24))||"1.5rem",large:(null==(c=e.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:null!=(h=null==(d=(e.vars||e).palette)||null==(d=d[t.color])?void 0:d.main)?h:{action:null==(g=(e.vars||e).palette)||null==(g=g.action)?void 0:g.active,disabled:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[t.color]}})),VO=Y.forwardRef((function(e,t){const n=c_({props:e,name:"MuiSvgIcon"});const{children:i,className:o,color:r="inherit",component:s="svg",fontSize:a="medium",htmlColor:l,inheritViewBox:c=!1,titleAccess:u,viewBox:h="0 0 24 24"}=n,d=um(n,BO),g=Y.isValidElement(i)&&"svg"===i.type,f=Kg({},n,{color:r,component:s,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),p={};c||(p.viewBox=h);const m=(e=>{const{color:t,fontSize:n,classes:i}=e;return Jb({root:["root","inherit"!==t&&`color${Lm(t)}`,`fontSize${Lm(n)}`]},FO,i)})(f);return re.jsxs(zO,Kg({as:s,className:Ov(m.root,o),focusable:"false",color:l,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:t},p,d,g&&i.props,{ownerState:f,children:[g?i.props.children:i,u?re.jsx("title",{children:u}):null]}))}));function WO(e,t){function n(n,i){return re.jsx(VO,Kg({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=VO.muiName,Y.memo(Y.forwardRef(n))}VO.muiName="SvgIcon";const HO={configure:e=>{Rv.configure(e)}},$O=u(Object.freeze(Object.defineProperty({__proto__:null,capitalize:Lm,createChainedFunction:Db,createSvgIcon:WO,debounce:Eb,deprecatedPropType:function(e,t){return()=>null},isMuiElement:Nb,ownerDocument:Tb,ownerWindow:Ib,requirePropFactory:function(e,t){return()=>null},setRef:Mb,unstable_ClassNameGenerator:HO,unstable_useEnhancedEffect:Sb,unstable_useId:Ob,unsupportedProp:function(e,t,n,i,o){return null},useControlled:Pb,useEventCallback:Fb,useForkRef:Bb,useIsFocusVisible:Zb},Symbol.toStringTag,{value:"Module"})));var jO;function UO(){return jO||(jO=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=$O}(fA)),fA}var KO=gA;Object.defineProperty(hA,"__esModule",{value:!0});var qO=hA.default=void 0,GO=KO(UO()),YO=re;qO=hA.default=(0,GO.default)((0,YO.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var XO={},ZO=gA;Object.defineProperty(XO,"__esModule",{value:!0});var QO=XO.default=void 0,JO=ZO(UO()),eP=re;QO=XO.default=(0,JO.default)([(0,eP.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,eP.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,eP.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");const tP=WO(re.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),nP=WO(re.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),iP=WO(re.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),oP=WO(re.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),rP=WO(re.jsx("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded"),sP=WO(re.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode"),aP=WO(re.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),lP=WO(re.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done"),cP=WO(re.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),uP=WO(re.jsx("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1"}),"HomeRounded"),hP=WO(re.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-4.86 8.86-3 3.87L9 13.14 6 17h12z"}),"ImageOutlined"),dP=WO(re.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined"),gP=WO(re.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4h16z"}),"Inventory2"),fP=WO(re.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),pP=WO(re.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),mP=WO(re.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode"),vP=WO(re.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),bP=WO(re.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),_P=WO(re.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),yP=WO(re.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),wP=WO(re.jsx("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"NorthEast"),CP=WO(re.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),SP=WO(re.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),xP=WO(re.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),kP=WO(re.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),LP=WO(re.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var DP={},EP=gA;Object.defineProperty(DP,"__esModule",{value:!0});var NP=DP.default=void 0,TP=EP(UO()),IP=re;function MP(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}NP=DP.default=(0,TP.default)((0,IP.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");let RP={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function AP(e){RP=e}const OP=/[&<>"']/,PP=new RegExp(OP.source,"g"),FP=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,BP=new RegExp(FP.source,"g"),zP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},VP=e=>zP[e];function WP(e,t){if(t){if(OP.test(e))return e.replace(PP,VP)}else if(FP.test(e))return e.replace(BP,VP);return e}const HP=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const $P=/(^|[^\[])\^/g;function jP(e,t){let n="string"==typeof e?e:e.source;t=t||"";const i={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace($P,"$1"),n=n.replace(e,o),i},getRegex:()=>new RegExp(n,t)};return i}function UP(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(fTe){return null}return e}const KP={exec:()=>null};function qP(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,o=t;for(;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function GP(e,t,n){const i=e.length;if(0===i)return"";let o=0;for(;o<i;){const r=e.charAt(i-o-1);if(r!==t||n){if(r===t||!n)break;o++}else o++}return e.slice(0,i-o)}function YP(e,t,n,i){const o=t.href,r=t.title?WP(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:o,title:r,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:r,text:WP(s)}}class XP{constructor(e){r(this,"options"),r(this,"rules"),r(this,"lexer"),this.options=e||RP}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:GP(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=GP(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=GP(e.replace(/^ *>[ \t]?/gm,""),"\n");const n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const r=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let s="",a="",l=!1;for(;e;){let n=!1;if(!(t=r.exec(e)))break;if(this.rules.block.hr.test(e))break;s=t[0],e=e.substring(s.length);let i=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,a=i.trimStart()):(u=t[2].search(/[^ ]/),u=u>4?1:u,a=i.slice(u),u+=t[1].length);let h=!1;if(!i&&/^ *$/.test(c)&&(s+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),o.test(c))break;if(r.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())a+="\n"+c.slice(u);else{if(h)break;if(i.search(/[^ ]/)>=4)break;if(o.test(i))break;if(r.test(i))break;if(n.test(i))break;a+="\n"+c}h||c.trim()||(h=!0),s+=l+"\n",e=e.substring(l.length+1),i=c.slice(u)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(s)&&(l=!0));let d,g=null;this.options.gfm&&(g=/^\[[ xX]\] /.exec(a),g&&(d="[ ] "!==g[0],a=a.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:s,task:!!g,checked:d,loose:!1,text:a,tokens:[]}),o.raw+=s}o.items[o.items.length-1].raw=s.trimEnd(),o.items[o.items.length-1].text=a.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=qP(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const e of i)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(const e of n)r.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of o)r.rows.push(qP(e,r.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:WP(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=GP(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),YP(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return YP(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...i[0]].length-1;let o,r,s=n,a=0;const l="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(r=[...o].length,i[3]||i[4]){s+=r;continue}if((i[5]||i[6])&&n%3&&!((n+r)%3)){a+=r;continue}if(s-=r,s>0)continue;r=Math.min(r,r+s+a);const t=[...i[0]][0].length,l=e.slice(0,n+i.index+t+r);if(Math.min(n,r)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=WP(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=WP(t[1]),n="mailto:"+e):(e=WP(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=WP(t[0]),n="mailto:"+e;else{let i;do{i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(i!==t[0]);e=WP(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:WP(t[0]),{type:"text",raw:t[0],text:e}}}}const ZP=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QP=/(?:[*+-]|\d{1,9}[.)])/,JP=jP(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,QP).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),eF=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,tF=/(?!\s*\])(?:\\.|[^\[\]\\])+/,nF=jP(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",tF).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),iF=jP(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,QP).getRegex(),oF="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rF=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sF=jP("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",rF).replace("tag",oF).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),aF=jP(eF).replace("hr",ZP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oF).getRegex(),lF={blockquote:jP(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",aF).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:nF,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:ZP,html:sF,lheading:JP,list:iF,newline:/^(?: *(?:\n|$))+/,paragraph:aF,table:KP,text:/^[^\n]+/},cF=jP("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ZP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oF).getRegex(),uF={...lF,table:cF,paragraph:jP(eF).replace("hr",ZP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",cF).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oF).getRegex()},hF={...lF,html:jP("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rF).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:KP,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:jP(eF).replace("hr",ZP).replace("heading"," *#{1,6} *[^\n]").replace("lheading",JP).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dF=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gF=/^( {2,}|\\)\n(?!\s*$)/,fF="\\p{P}\\p{S}",pF=jP(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,fF).getRegex(),mF=jP(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,fF).getRegex(),vF=jP("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,fF).getRegex(),bF=jP("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,fF).getRegex(),_F=jP(/\\([punct])/,"gu").replace(/punct/g,fF).getRegex(),yF=jP(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wF=jP(rF).replace("(?:--\x3e|$)","--\x3e").getRegex(),CF=jP("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),SF=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xF=jP(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",SF).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kF=jP(/^!?\[(label)\]\[(ref)\]/).replace("label",SF).replace("ref",tF).getRegex(),LF=jP(/^!?\[(ref)\](?:\[\])?/).replace("ref",tF).getRegex(),DF={_backpedal:KP,anyPunctuation:_F,autolink:yF,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:gF,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:KP,emStrongLDelim:mF,emStrongRDelimAst:vF,emStrongRDelimUnd:bF,escape:dF,link:xF,nolink:LF,punctuation:pF,reflink:kF,reflinkSearch:jP("reflink|nolink(?!\\()","g").replace("reflink",kF).replace("nolink",LF).getRegex(),tag:CF,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:KP},EF={...DF,link:jP(/^!?\[(label)\]\((.*?)\)/).replace("label",SF).getRegex(),reflink:jP(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",SF).getRegex()},NF={...DF,escape:jP(dF).replace("])","~|])").getRegex(),url:jP(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},TF={...NF,br:jP(gF).replace("{2,}","*").getRegex(),text:jP(NF.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},IF={normal:lF,gfm:uF,pedantic:hF},MF={normal:DF,gfm:NF,breaks:TF,pedantic:EF};class RF{constructor(e){r(this,"tokens"),r(this,"options"),r(this,"state"),r(this,"tokenizer"),r(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||RP,this.options.tokenizer=this.options.tokenizer||new XP,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:IF.normal,inline:MF.normal};this.options.pedantic?(t.block=IF.pedantic,t.inline=MF.pedantic):this.options.gfm&&(t.block=IF.gfm,this.options.breaks?t.inline=MF.breaks:t.inline=MF.gfm),this.tokenizer.rules=t}static get rules(){return{block:IF,inline:MF}}static lex(e,t){return new RF(t).lex(e)}static lexInline(e,t){return new RF(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,i,o,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))i=t[t.length-1],r&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),r=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,o,r,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,r.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class AF{constructor(e){r(this,"options"),this.options=e||RP}code(e,t,n){const i=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="language-'+WP(i)+'">'+(n?e:WP(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:WP(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const i=UP(e);if(null===i)return n;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const i=UP(e);if(null===i)return n;let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class OF{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class PF{constructor(e){r(this,"options"),r(this,"renderer"),r(this,"textRenderer"),this.options=e||RP,this.options.renderer=this.options.renderer||new AF,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new OF}static parse(e,t){return new PF(t).parse(e)}static parseInline(e,t){return new PF(t).parseInline(e)}parse(e,t=!0){let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(o.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=o;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,this.parseInline(e.tokens,this.textRenderer).replace(HP,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")));continue}case"code":{const e=o;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=o;let t="",i="";for(let n=0;n<e.header.length;n++)i+=this.renderer.tablecell(this.parseInline(e.header[n].tokens),{header:!0,align:e.align[n]});t+=this.renderer.tablerow(i);let r="";for(let n=0;n<e.rows.length;n++){const t=e.rows[n];i="";for(let n=0;n<t.length;n++)i+=this.renderer.tablecell(this.parseInline(t[n].tokens),{header:!1,align:e.align[n]});r+=this.renderer.tablerow(i)}n+=this.renderer.table(t,r);continue}case"blockquote":{const e=o,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=o,t=e.ordered,i=e.start,r=e.loose;let s="";for(let n=0;n<e.items.length;n++){const t=e.items[n],i=t.checked,o=t.task;let a="";if(t.task){const e=this.renderer.checkbox(!!i);r?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):a+=e+" "}a+=this.parse(t.tokens,r),s+=this.renderer.listitem(a,o,!!i)}n+=this.renderer.list(s,t,i);continue}case"html":{const e=o;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=o;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let r=o,s=r.tokens?this.parseInline(r.tokens):r.text;for(;i+1<e.length&&"text"===e[i+1].type;)r=e[++i],s+="\n"+(r.tokens?this.parseInline(r.tokens):r.text);n+=t?this.renderer.paragraph(s):s;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}switch(o.type){case"escape":{const e=o;n+=t.text(e.text);break}case"html":{const e=o;n+=t.html(e.text);break}case"link":{const e=o;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=o;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=o;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=o;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=o;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=o;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=o;n+=t.text(e.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class FF{constructor(e){r(this,"options"),this.options=e||RP}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}r(FF,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));e=new WeakSet,t=function(t,i){return(o,r)=>{const a={...r},l={...this.defaults,...a};!0===this.defaults.async&&!1===a.async&&(l.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),l.async=!0);const c=s(this,e,n).call(this,!!l.silent,!!l.async);if(null==o)return c(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof o)return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(l.hooks&&(l.hooks.options=l),l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(o):o).then((e=>t(e,l))).then((e=>l.hooks?l.hooks.processAllTokens(e):e)).then((e=>l.walkTokens?Promise.all(this.walkTokens(e,l.walkTokens)).then((()=>e)):e)).then((e=>i(e,l))).then((e=>l.hooks?l.hooks.postprocess(e):e)).catch(c);try{l.hooks&&(o=l.hooks.preprocess(o));let e=t(o,l);l.hooks&&(e=l.hooks.processAllTokens(e)),l.walkTokens&&this.walkTokens(e,l.walkTokens);let n=i(e,l);return l.hooks&&(n=l.hooks.postprocess(n)),n}catch(fTe){return c(fTe)}}},n=function(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+WP(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}};const BF=new class{constructor(...n){var i,a,l;i=this,(a=e).has(i)?o("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(i):a.set(i,l),r(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),r(this,"options",this.setOptions),r(this,"parse",s(this,e,t).call(this,RF.lex,PF.parse)),r(this,"parseInline",s(this,e,t).call(this,RF.lexInline,PF.parseInline)),r(this,"Parser",PF),r(this,"Renderer",AF),r(this,"TextRenderer",OF),r(this,"Lexer",RF),r(this,"Tokenizer",XP),r(this,"Hooks",FF),this.use(...n)}walkTokens(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const e=i;for(const i of e.header)n=n.concat(this.walkTokens(i.tokens,t));for(const i of e.rows)for(const e of i)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=i;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=i;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((i=>{const o=e[i].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new AF(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const i=n,o=e.renderer[i],r=t[i];t[i]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=r.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new XP(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const i=n,o=e.tokenizer[i],r=t[i];t[i]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new FF;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const i=n,o=e.hooks[i],r=t[i];FF.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>r.call(t,e)));const n=o.call(t,e);return r.call(t,n)}:t[i]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,i=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(i.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return RF.lex(e,t??this.defaults)}parser(e,t){return PF.parse(e,t??this.defaults)}};function zF(e,t){return BF.parse(e,t)}zF.options=zF.setOptions=function(e){return BF.setOptions(e),zF.defaults=BF.defaults,AP(zF.defaults),zF},zF.getDefaults=MP,zF.defaults=RP,zF.use=function(...e){return BF.use(...e),zF.defaults=BF.defaults,AP(zF.defaults),zF},zF.walkTokens=function(e,t){return BF.walkTokens(e,t)},zF.parseInline=BF.parseInline,zF.Parser=PF,zF.parser=PF.parse,zF.Renderer=AF,zF.TextRenderer=OF,zF.Lexer=RF,zF.lexer=RF.lex,zF.Tokenizer=XP,zF.Hooks=FF,zF.parse=zF,zF.options,zF.setOptions,zF.use,zF.walkTokens,zF.parseInline,PF.parse,RF.lex;var VF={exports:{}},WF={exports:{}};
/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function HF(e){return getComputedStyle(e)}function $F(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function jF(e){var t=document.createElement("div");return t.className=e,t}var UF="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function KF(e,t){if(!UF)throw new Error("No element matching method supported");return UF.call(e,t)}function qF(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function GF(e,t){return Array.prototype.filter.call(e.children,(function(e){return KF(e,t)}))}var YF={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},XF={x:null,y:null};function ZF(e,t){var n=e.element.classList,i=YF.state.scrolling(t);n.contains(i)?clearTimeout(XF[t]):n.add(i)}function QF(e,t){XF[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(YF.state.scrolling(t))}),e.settings.scrollingThreshold)}var JF=function(e){this.element=e,this.handlers={}},eB={isEmpty:{configurable:!0}};JF.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},JF.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},JF.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},eB.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(JF.prototype,eB);var tB=function(){this.eventElements=[]};function nB(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function iB(e,t,n,i,o){var r;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i,o){var r=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5];void 0===i&&(i=!0);void 0===o&&(o=!1);var h=e.element;e.reach[l]=null,h[a]<1&&(e.reach[l]="start");h[a]>e[r]-e[s]-1&&(e.reach[l]="end");t&&(h.dispatchEvent(nB("ps-scroll-"+l)),t<0?h.dispatchEvent(nB("ps-scroll-"+c)):t>0&&h.dispatchEvent(nB("ps-scroll-"+u)),i&&function(e,t){ZF(e,t),QF(e,t)}(e,l));e.reach[l]&&(t||o)&&h.dispatchEvent(nB("ps-"+l+"-reach-"+e.reach[l]))}(e,n,r,i,o)}function oB(e){return parseInt(e,10)||0}tB.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new JF(e),this.eventElements.push(t)),t},tB.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},tB.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},tB.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},tB.prototype.once=function(e,t,n){var i=this.eventElement(e),o=function(e){i.unbind(t,o),n(e)};i.bind(t,o)};var rB={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function sB(e){var t=e.element,n=Math.floor(t.scrollTop),i=t.getBoundingClientRect();e.containerWidth=Math.round(i.width),e.containerHeight=Math.round(i.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(GF(t,YF.element.rail("x")).forEach((function(e){return qF(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(GF(t,YF.element.rail("y")).forEach((function(e){return qF(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=aB(e,oB(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=oB((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=aB(e,oB(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=oB(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},i=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-i:n.top=t.scrollbarXTop+i;$F(t.scrollbarXRail,n);var o={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;$F(t.scrollbarYRail,o),$F(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),$F(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(YF.state.active("x")):(t.classList.remove(YF.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(YF.state.active("y")):(t.classList.remove(YF.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function aB(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function lB(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=e.element,d=null,g=null,f=null;function p(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),h[l]=d+f*(t[o]-g),ZF(e,c),sB(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function m(){QF(e,c),e[u].classList.remove(YF.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",p)}function v(t,s){d=h[l],s&&t.touches&&(t[o]=t.touches[0].pageY),g=t[o],f=(e[i]-e[n])/(e[r]-e[a]),s?e.event.bind(e.ownerDocument,"touchmove",p):(e.event.bind(e.ownerDocument,"mousemove",p),e.event.once(e.ownerDocument,"mouseup",m),t.preventDefault()),e[u].classList.add(YF.state.clicking),t.stopPropagation()}e.event.bind(e[s],"mousedown",(function(e){v(e)})),e.event.bind(e[s],"touchstart",(function(e){v(e,!0)}))}var cB={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,sB(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,sB(e),t.stopPropagation()}))},"drag-thumb":function(e){lB(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),lB(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(KF(t,":hover")||KF(e.scrollbarX,":focus")||KF(e.scrollbarY,":focus"))){var i,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(KF(i=o,"input,[contenteditable]")||KF(i,"select,[contenteditable]")||KF(i,"textarea,[contenteditable]")||KF(i,"button,[contenteditable]"))return}var r=0,s=0;switch(n.which){case 37:r=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:s=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:r=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:s=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:s=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:s=e.containerHeight;break;case 34:s=-e.containerHeight;break;case 36:s=e.contentHeight;break;case 35:s=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==s||(t.scrollTop-=s,t.scrollLeft+=r,sB(e),function(n,i){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&i>0||o>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(r,s)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=i[0],r=i[1];if(!function(e,n,i){if(!rB.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(YF.element.consuming))return!0;var r=HF(o);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&i<0||o.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,r)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(r?t.scrollTop-=r*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=r*e.settings.wheelSpeed,s=!0):(t.scrollTop-=r*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),sB(e),s=s||function(n,i){var o=Math.floor(t.scrollTop),r=0===t.scrollTop,s=o+t.offsetHeight===t.scrollHeight,a=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(i)>Math.abs(n)?r||s:a||l)||!e.settings.wheelPropagation}(o,r),s&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(rB.supportsTouch||rB.supportsIePointer){var t=e.element,n={},i=0,o={},r=null;rB.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",h)):rB.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",h)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",h)))}function s(n,i){t.scrollTop-=i,t.scrollLeft-=n,sB(e)}function a(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(l(e)){var t=a(e);n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==r&&clearInterval(r)}}function u(r){if(l(r)){var c=a(r),u={pageX:c.pageX,pageY:c.pageY},h=u.pageX-n.pageX,d=u.pageY-n.pageY;if(function(e,n,i){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(YF.element.consuming))return!0;var r=HF(o);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&i<0||o.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(r.target,h,d))return;s(h,d),n=u;var g=(new Date).getTime(),f=g-i;f>0&&(o.x=h/f,o.y=d/f,i=g),function(n,i){var o=Math.floor(t.scrollTop),r=t.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&o===e.contentHeight-e.containerHeight||i>0&&0===o)return 0===window.scrollY&&i>0&&rB.isChrome}else if(s>a&&(n<0&&r===e.contentWidth-e.containerWidth||n>0&&0===r))return!0;return!0}(h,d)&&r.preventDefault()}}function h(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(r):e.element?(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(r):clearInterval(r)}),10))}}},uB=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=e,e.classList.add(YF.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[i]=t[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,r,s=function(){return e.classList.add(YF.state.focus)},a=function(){return e.classList.remove(YF.state.focus)};this.isRtl="rtl"===HF(e).direction,!0===this.isRtl&&e.classList.add(YF.rtl),this.isNegativeScroll=(r=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=r,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new tB,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=jF(YF.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=jF(YF.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=HF(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=oB(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=oB(l.borderLeftWidth)+oB(l.borderRightWidth),$F(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=oB(l.marginLeft)+oB(l.marginRight),$F(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=jF(YF.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=jF(YF.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=HF(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=oB(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=HF(e);return oB(t.width)+oB(t.paddingLeft)+oB(t.paddingRight)+oB(t.borderLeftWidth)+oB(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=oB(c.borderTopWidth)+oB(c.borderBottomWidth),$F(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=oB(c.marginTop)+oB(c.marginBottom),$F(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return cB[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),sB(this)};uB.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,$F(this.scrollbarXRail,{display:"block"}),$F(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=oB(HF(this.scrollbarXRail).marginLeft)+oB(HF(this.scrollbarXRail).marginRight),this.railYMarginHeight=oB(HF(this.scrollbarYRail).marginTop)+oB(HF(this.scrollbarYRail).marginBottom),$F(this.scrollbarXRail,{display:"none"}),$F(this.scrollbarYRail,{display:"none"}),sB(this),iB(this,"top",0,!1,!0),iB(this,"left",0,!1,!0),$F(this.scrollbarXRail,{display:""}),$F(this.scrollbarYRail,{display:""}))},uB.prototype.onScroll=function(e){this.isAlive&&(sB(this),iB(this,"top",this.element.scrollTop-this.lastScrollTop),iB(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},uB.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),qF(this.scrollbarX),qF(this.scrollbarY),qF(this.scrollbarXRail),qF(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},uB.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};const hB=u(Object.freeze(Object.defineProperty({__proto__:null,default:uB},Symbol.toStringTag,{value:"Module"})));!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=Y,r=l(o),s=om,a=l(hB);function l(e){return e&&e.__esModule?e:{default:e}}var c={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(c);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRef=n.handleRef.bind(n),n._handlerByEvent={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new a.default(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(e){this._updateEventHook(e),this.updateScroll(),e.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._handlerByEvent).forEach((function(t){var n=e._handlerByEvent[t];n&&e._container.removeEventListener(t,n,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(c).forEach((function(n){var i=e.props[c[n]],o=t[c[n]];if(i!==o){if(o){var r=e._handlerByEvent[n];e._container.removeEventListener(n,r,!1),e._handlerByEvent[n]=null}if(i){var s=function(){return i(e._container)};e._container.addEventListener(n,s,!1),e._handlerByEvent[n]=s}}}))}},{key:"_updateClassName",value:function(){var e=this.props.className,t=this._container.className.split(" ").filter((function(e){return e.match(/^ps([-_].+|)$/)})).join(" ");this._container&&(this._container.className="scrollbar-container"+(e?" "+e:"")+(t?" "+t:""))}},{key:"updateScroll",value:function(){this.props.onSync(this._ps)}},{key:"handleRef",value:function(e){this._container=e,this.props.containerRef(e)}},{key:"render",value:function(){var e=this.props;e.className;var t=e.style;e.option,e.options,e.containerRef,e.onScrollY,e.onScrollX,e.onScrollUp,e.onScrollDown,e.onScrollLeft,e.onScrollRight,e.onYReachStart,e.onYReachEnd,e.onXReachStart,e.onXReachEnd;var i=e.component;e.onSync;var o=e.children,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"]),a=i;return r.default.createElement(a,n({style:t,ref:this.handleRef},s),o)}}]),t}(o.Component);t.default=u,u.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:function(e){return e.update()},component:"div"},u.propTypes={children:s.PropTypes.node.isRequired,className:s.PropTypes.string,style:s.PropTypes.object,option:s.PropTypes.object,options:s.PropTypes.object,containerRef:s.PropTypes.func,onScrollY:s.PropTypes.func,onScrollX:s.PropTypes.func,onScrollUp:s.PropTypes.func,onScrollDown:s.PropTypes.func,onScrollLeft:s.PropTypes.func,onScrollRight:s.PropTypes.func,onYReachStart:s.PropTypes.func,onYReachEnd:s.PropTypes.func,onXReachStart:s.PropTypes.func,onXReachEnd:s.PropTypes.func,onSync:s.PropTypes.func,component:s.PropTypes.string},e.exports=t.default}(WF,WF.exports);var dB=WF.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=dB)&&n.__esModule?n:{default:n};t.default=i.default,e.exports=t.default}(VF,VF.exports);const gB=c(VF.exports),fB={x:0,y:0,width:0,height:0,unit:"px"},pB=(e,t,n)=>Math.min(Math.max(e,t),n),mB=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function vB(e,t,n,i){const o=yB(e,n,i);return e.width&&(o.height=o.width/t),e.height&&(o.width=o.height*t),o.y+o.height>i&&(o.height=i-o.y,o.width=o.height*t),o.x+o.width>n&&(o.width=n-o.x,o.height=o.width/t),"%"===e.unit?_B(o,n,i):o}function bB(e,t,n){const i=yB(e,t,n);return i.x=(t-i.width)/2,i.y=(n-i.height)/2,"%"===e.unit?_B(i,t,n):i}function _B(e,t,n){return"%"===e.unit?{...fB,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function yB(e,t,n){return e.unit?"px"===e.unit?{...fB,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...fB,...e,unit:"px"}}function wB(e,t,n,i,o,r=0,s=0,a=i,l=o){const c={...e};let u=Math.min(r,i),h=Math.min(s,o),d=Math.min(a,i),g=Math.min(l,o);t&&(t>1?(u=s?s*t:u,h=u/t,d=a*t):(h=r?r/t:h,u=h*t,g=l/t)),c.y<0&&(c.height=Math.max(c.height+c.y,h),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);const f=i-(c.x+c.width);f<0&&(c.x=Math.min(c.x,i-u),c.width+=f);const p=o-(c.y+c.height);if(p<0&&(c.y=Math.min(c.y,o-h),c.height+=p),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),c.width>d&&(("sw"===n||"nw"==n)&&(c.x-=d-c.width),c.width=d),c.height>g&&(("nw"===n||"ne"==n)&&(c.y-=g-c.height),c.height=g),t){const e=c.width/c.height;if(e<t){const e=Math.max(c.width/t,h);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){const e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}const CB={capture:!0,passive:!1};let SB=0;const xB=class e extends Y.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=Y.createRef(),this.mediaRef=Y.createRef(),this.initChangeCalled=!1,this.instanceId="rc-"+SB++,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{const{crop:t,disabled:n}=this.props,i=this.getBox();if(!t)return;const o=yB(t,i.width,i.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const r=e.target.dataset.ord,s=!!r;let a=e.clientX,l=e.clientY,c=o.x,u=o.y;if(r){const t=e.clientX-i.x,n=e.clientY-i.y;let s=0,h=0;"ne"===r||"e"==r?(s=t-(o.x+o.width),h=n-o.y,c=o.x,u=o.y+o.height):"se"===r||"s"===r?(s=t-(o.x+o.width),h=n-(o.y+o.height),c=o.x,u=o.y):"sw"===r||"w"==r?(s=t-o.x,h=n-(o.y+o.height),c=o.x+o.width,u=o.y):("nw"===r||"n"==r)&&(s=t-o.x,h=n-o.y,c=o.x+o.width,u=o.y+o.height),a=c+i.x+s,l=u+i.y+h}this.evData={startClientX:a,startClientY:l,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:s,ord:r},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{const{crop:t,disabled:n,locked:i,keepSelection:o,onChange:r}=this.props,s=this.getBox();if(n||i||o&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const a=e.clientX-s.x,l=e.clientY-s.y,c={unit:"px",x:a,y:l,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:l,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,r(yB(c,s.width,s.height),_B(c,s.width,s.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{const{crop:t,disabled:n,onChange:i,onDragStart:o}=this.props,r=this.getBox();if(n||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));const{evData:s}=this;let a;s.clientX=e.clientX,s.clientY=e.clientY,a=s.isResize?this.resizeCrop():this.dragCrop(),mB(t,a)||i(yB(a,r.width,r.height),_B(a,r.width,r.height))},this.onComponentKeyDown=t=>{const{crop:n,disabled:i,onChange:o,onComplete:r}=this.props;if(i)return;const s=t.key;let a=!1;if(!n)return;const l=this.getBox(),c=this.makePixelCrop(l),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===s?(c.x-=u,a=!0):"ArrowRight"===s?(c.x+=u,a=!0):"ArrowUp"===s?(c.y-=u,a=!0):"ArrowDown"===s&&(c.y+=u,a=!0),a){t.cancelable&&t.preventDefault(),c.x=pB(c.x,0,l.width-c.width),c.y=pB(c.y,0,l.height-c.height);const e=yB(c,l.width,l.height),n=_B(c,l.width,l.height);o(e,n),r&&r(e,n)}},this.onHandlerKeyDown=(t,n)=>{const{aspect:i=0,crop:o,disabled:r,minWidth:s=0,minHeight:a=0,maxWidth:l,maxHeight:c,onChange:u,onComplete:h}=this.props,d=this.getBox();if(r||!o)return;if("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();const g=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=function(e,t,n,i){const o={...e};return"ArrowLeft"===t?"nw"===i?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"w"===i?(o.x-=n,o.width+=n):"sw"===i?(o.x-=n,o.width+=n,o.height+=n):"ne"===i?(o.y+=n,o.width-=n,o.height-=n):"e"===i?o.width-=n:"se"===i&&(o.width-=n,o.height-=n):"ArrowRight"===t&&("nw"===i?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"w"===i?(o.x+=n,o.width-=n):"sw"===i?(o.x+=n,o.width-=n,o.height-=n):"ne"===i?(o.y-=n,o.width+=n,o.height+=n):"e"===i?o.width+=n:"se"===i&&(o.width+=n,o.height+=n)),"ArrowUp"===t?"nw"===i?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"n"===i?(o.y-=n,o.height+=n):"ne"===i?(o.y-=n,o.width+=n,o.height+=n):"sw"===i?(o.x+=n,o.width-=n,o.height-=n):"s"===i?o.height-=n:"se"===i&&(o.width-=n,o.height-=n):"ArrowDown"===t&&("nw"===i?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"n"===i?(o.y+=n,o.height-=n):"ne"===i?(o.y+=n,o.width-=n,o.height-=n):"sw"===i?(o.x-=n,o.width+=n,o.height+=n):"s"===i?o.height+=n:"se"===i&&(o.width+=n,o.height+=n)),o}(yB(o,d.width,d.height),t.key,g,n),p=wB(f,i,n,d.width,d.height,s,a,l,c);if(!mB(o,p)){const e=_B(p,d.width,d.height);u(p,e),h&&h(p,e)}},this.onDocPointerDone=e=>{const{crop:t,disabled:n,onComplete:i,onDragEnd:o}=this.props,r=this.getBox();this.unbindDocMove(),!n&&t&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(e),i&&i(yB(t,r.width,r.height),_B(t,r.width,r.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var e;null==(e=this.componentRef.current)||e.scrollTo(0,0)}}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:n,width:i,height:o}=e.getBoundingClientRect();return{x:t,y:n,width:i,height:o}}componentDidUpdate(e){const{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){const{width:e,height:i}=this.getBox();e&&i&&n(yB(t,e,i),_B(t,e,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,CB),this.document.addEventListener("pointerup",this.onDocPointerDone,CB),this.document.addEventListener("pointercancel",this.onDocPointerDone,CB),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,CB),this.document.removeEventListener("pointerup",this.onDocPointerDone,CB),this.document.removeEventListener("pointercancel",this.onDocPointerDone,CB),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),i=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return n.x=pB(e.startCropX+i,0,t.width-n.width),n.y=pB(e.startCropY+o,0,t.height-n.height),n}getPointRegion(e,t,n,i){const{evData:o}=this,r=o.clientX-e.x,s=o.clientY-e.y;let a,l;return a=i&&t?"nw"===t||"n"===t||"ne"===t:s<o.startCropY,l=n&&t?"nw"===t||"w"===t||"sw"===t:r<o.startCropX,l?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,t,n=0,i=0){const o=Math.min(n,e.width),r=Math.min(i,e.height);return t&&(o||r)?t>1?o?[o,o/t]:[r*t,r]:r?[r*t,r]:[o,o/t]:[o,r]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:i,maxHeight:o}=this.props,r=this.getBox(),[s,a]=this.resolveMinDimensions(r,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(r);const c=this.getPointRegion(r,t.ord,s,a),u=t.ord||c;let h=t.clientX-t.startClientX,d=t.clientY-t.startClientY;(s&&"nw"===u||"w"===u||"sw"===u)&&(h=Math.min(h,-s)),(a&&"nw"===u||"n"===u||"ne"===u)&&(d=Math.min(d,-a));const g={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(g.x=t.startCropX,g.width=h,n?(g.height=g.width/n,g.y=t.startCropY-g.height):(g.height=Math.abs(d),g.y=t.startCropY-g.height)):"se"===c?(g.x=t.startCropX,g.y=t.startCropY,g.width=h,g.height=n?g.width/n:d):"sw"===c?(g.x=t.startCropX+h,g.y=t.startCropY,g.width=Math.abs(h),g.height=n?g.width/n:d):"nw"===c&&(g.x=t.startCropX+h,g.width=Math.abs(h),n?(g.height=g.width/n,g.y=t.startCropY-g.height):(g.height=Math.abs(d),g.y=t.startCropY+d));const f=wB(g,n,c,r.width,r.height,s,a,i,o);return n||e.xyOrds.indexOf(u)>-1?l=f:e.xOrds.indexOf(u)>-1?(l.x=f.x,l.width=f.width):e.yOrds.indexOf(u)>-1&&(l.y=f.y,l.height=f.height),l.x=pB(l.x,0,r.width-l.width),l.y=pB(l.y,0,r.height-l.height),l}renderCropSelection(){const{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:i,renderSelectionAddon:o,ruleOfThirds:r,crop:s}=this.props,a=this.getCropStyle();if(s)return X.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!i&&X.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},X.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),o&&X.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:e=>e.stopPropagation()},o(this.state)),r&&X.createElement(X.Fragment,null,X.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),X.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return yB({...fB,...this.props.crop||{}},e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:n,className:i,crop:o,disabled:r,locked:s,style:a,ruleOfThirds:l}=this.props,{cropIsActive:c,newCropIsBeingDrawn:u}=this.state,h=o?this.renderCropSelection():null,d=((...e)=>e.filter((e=>e&&"string"==typeof e)).join(" "))("ReactCrop",i,c&&"ReactCrop--active",r&&"ReactCrop--disabled",s&&"ReactCrop--locked",u&&"ReactCrop--new-crop",o&&e&&"ReactCrop--fixed-aspect",o&&n&&"ReactCrop--circular-crop",o&&l&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return X.createElement("div",{ref:this.componentRef,className:d,style:a},X.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),o?X.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},X.createElement("defs",null,X.createElement("mask",{id:`hole-${this.instanceId}`},X.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?X.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):X.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),X.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,h)}};xB.xOrds=["e","w"],xB.yOrds=["n","s"],xB.xyOrds=["nw","ne","se","sw"],xB.nudgeStep=1,xB.nudgeStepMedium=10,xB.nudgeStepLarge=100,xB.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let kB=xB;const LB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EB={};function NB(e,t){return(EB.jsx?DB:LB).test(e)}const TB=/[ \t\n\f\r]/g;function IB(e){return""===e.replace(TB,"")}class MB{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function RB(e,t){const n={},i={};let o=-1;for(;++o<e.length;)Object.assign(n,e[o].property),Object.assign(i,e[o].normal);return new MB(n,i,t)}function AB(e){return e.toLowerCase()}MB.prototype.property={},MB.prototype.normal={},MB.prototype.space=null;class OB{constructor(e,t){this.property=e,this.attribute=t}}OB.prototype.space=null,OB.prototype.boolean=!1,OB.prototype.booleanish=!1,OB.prototype.overloadedBoolean=!1,OB.prototype.number=!1,OB.prototype.commaSeparated=!1,OB.prototype.spaceSeparated=!1,OB.prototype.commaOrSpaceSeparated=!1,OB.prototype.mustUseProperty=!1,OB.prototype.defined=!1;let PB=0;const FB=jB(),BB=jB(),zB=jB(),VB=jB(),WB=jB(),HB=jB(),$B=jB();function jB(){return 2**++PB}const UB=Object.freeze(Object.defineProperty({__proto__:null,boolean:FB,booleanish:BB,commaOrSpaceSeparated:$B,commaSeparated:HB,number:VB,overloadedBoolean:zB,spaceSeparated:WB},Symbol.toStringTag,{value:"Module"})),KB=Object.keys(UB);class qB extends OB{constructor(e,t,n,i){let o=-1;if(super(e,t),GB(this,"space",i),"number"==typeof n)for(;++o<KB.length;){const e=KB[o];GB(this,KB[o],(n&UB[e])===UB[e])}}}function GB(e,t,n){n&&(e[t]=n)}qB.prototype.defined=!0;const YB={}.hasOwnProperty;function XB(e){const t={},n={};let i;for(i in e.properties)if(YB.call(e.properties,i)){const o=e.properties[i],r=new qB(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(r.mustUseProperty=!0),t[i]=r,n[AB(i)]=i,n[AB(r.attribute)]=i}return new MB(t,n,e.space)}const ZB=XB({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),QB=XB({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function JB(e,t){return t in e?e[t]:t}function ez(e,t){return JB(e,t.toLowerCase())}const tz=XB({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ez,properties:{xmlns:null,xmlnsXLink:null}}),nz=XB({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:BB,ariaAutoComplete:null,ariaBusy:BB,ariaChecked:BB,ariaColCount:VB,ariaColIndex:VB,ariaColSpan:VB,ariaControls:WB,ariaCurrent:null,ariaDescribedBy:WB,ariaDetails:null,ariaDisabled:BB,ariaDropEffect:WB,ariaErrorMessage:null,ariaExpanded:BB,ariaFlowTo:WB,ariaGrabbed:BB,ariaHasPopup:null,ariaHidden:BB,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:WB,ariaLevel:VB,ariaLive:null,ariaModal:BB,ariaMultiLine:BB,ariaMultiSelectable:BB,ariaOrientation:null,ariaOwns:WB,ariaPlaceholder:null,ariaPosInSet:VB,ariaPressed:BB,ariaReadOnly:BB,ariaRelevant:null,ariaRequired:BB,ariaRoleDescription:WB,ariaRowCount:VB,ariaRowIndex:VB,ariaRowSpan:VB,ariaSelected:BB,ariaSetSize:VB,ariaSort:null,ariaValueMax:VB,ariaValueMin:VB,ariaValueNow:VB,ariaValueText:null,role:null}}),iz=XB({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ez,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:HB,acceptCharset:WB,accessKey:WB,action:null,allow:null,allowFullScreen:FB,allowPaymentRequest:FB,allowUserMedia:FB,alt:null,as:null,async:FB,autoCapitalize:null,autoComplete:WB,autoFocus:FB,autoPlay:FB,blocking:WB,capture:null,charSet:null,checked:FB,cite:null,className:WB,cols:VB,colSpan:null,content:null,contentEditable:BB,controls:FB,controlsList:WB,coords:VB|HB,crossOrigin:null,data:null,dateTime:null,decoding:null,default:FB,defer:FB,dir:null,dirName:null,disabled:FB,download:zB,draggable:BB,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:FB,formTarget:null,headers:WB,height:VB,hidden:FB,high:VB,href:null,hrefLang:null,htmlFor:WB,httpEquiv:WB,id:null,imageSizes:null,imageSrcSet:null,inert:FB,inputMode:null,integrity:null,is:null,isMap:FB,itemId:null,itemProp:WB,itemRef:WB,itemScope:FB,itemType:WB,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:FB,low:VB,manifest:null,max:null,maxLength:VB,media:null,method:null,min:null,minLength:VB,multiple:FB,muted:FB,name:null,nonce:null,noModule:FB,noValidate:FB,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:FB,optimum:VB,pattern:null,ping:WB,placeholder:null,playsInline:FB,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:FB,referrerPolicy:null,rel:WB,required:FB,reversed:FB,rows:VB,rowSpan:VB,sandbox:WB,scope:null,scoped:FB,seamless:FB,selected:FB,shadowRootClonable:FB,shadowRootDelegatesFocus:FB,shadowRootMode:null,shape:null,size:VB,sizes:null,slot:null,span:VB,spellCheck:BB,src:null,srcDoc:null,srcLang:null,srcSet:null,start:VB,step:null,style:null,tabIndex:VB,target:null,title:null,translate:null,type:null,typeMustMatch:FB,useMap:null,value:BB,width:VB,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:WB,axis:null,background:null,bgColor:null,border:VB,borderColor:null,bottomMargin:VB,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:FB,declare:FB,event:null,face:null,frame:null,frameBorder:null,hSpace:VB,leftMargin:VB,link:null,longDesc:null,lowSrc:null,marginHeight:VB,marginWidth:VB,noResize:FB,noHref:FB,noShade:FB,noWrap:FB,object:null,profile:null,prompt:null,rev:null,rightMargin:VB,rules:null,scheme:null,scrolling:BB,standby:null,summary:null,text:null,topMargin:VB,valueType:null,version:null,vAlign:null,vLink:null,vSpace:VB,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:FB,disableRemotePlayback:FB,prefix:null,property:null,results:VB,security:null,unselectable:null}}),oz=XB({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:JB,properties:{about:$B,accentHeight:VB,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:VB,amplitude:VB,arabicForm:null,ascent:VB,attributeName:null,attributeType:null,azimuth:VB,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:VB,by:null,calcMode:null,capHeight:VB,className:WB,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:VB,diffuseConstant:VB,direction:null,display:null,dur:null,divisor:VB,dominantBaseline:null,download:FB,dx:null,dy:null,edgeMode:null,editable:null,elevation:VB,enableBackground:null,end:null,event:null,exponent:VB,externalResourcesRequired:null,fill:null,fillOpacity:VB,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:HB,g2:HB,glyphName:HB,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:VB,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:VB,horizOriginX:VB,horizOriginY:VB,id:null,ideographic:VB,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:VB,k:VB,k1:VB,k2:VB,k3:VB,k4:VB,kernelMatrix:$B,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:VB,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:VB,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:VB,overlineThickness:VB,paintOrder:null,panose1:null,path:null,pathLength:VB,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:WB,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:VB,pointsAtY:VB,pointsAtZ:VB,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$B,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$B,rev:$B,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$B,requiredFeatures:$B,requiredFonts:$B,requiredFormats:$B,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:VB,specularExponent:VB,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:VB,strikethroughThickness:VB,string:null,stroke:null,strokeDashArray:$B,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:VB,strokeOpacity:VB,strokeWidth:null,style:null,surfaceScale:VB,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$B,tabIndex:VB,tableValues:null,target:null,targetX:VB,targetY:VB,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$B,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:VB,underlineThickness:VB,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:VB,values:null,vAlphabetic:VB,vMathematical:VB,vectorEffect:null,vHanging:VB,vIdeographic:VB,version:null,vertAdvY:VB,vertOriginX:VB,vertOriginY:VB,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:VB,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),rz=/^data[-\w.:]+$/i,sz=/-[a-z]/g,az=/[A-Z]/g;function lz(e){return"-"+e.toLowerCase()}function cz(e){return e.charAt(1).toUpperCase()}const uz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hz=RB([QB,ZB,tz,nz,iz],"html"),dz=RB([QB,ZB,tz,nz,oz],"svg");var gz={},fz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pz=/\n/g,mz=/^\s*/,vz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,bz=/^:\s*/,_z=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yz=/^[;\s]*/,wz=/^\s+|\s+$/g,Cz="";function Sz(e){return e?e.replace(wz,Cz):Cz}var xz=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gz,"__esModule",{value:!0});var kz=xz((function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function o(e){var t=e.match(pz);t&&(n+=t.length);var o=e.lastIndexOf("\n");i=~o?e.length-o:i+e.length}function r(){var e={line:n,column:i};return function(t){return t.position=new s(e),c(),t}}function s(e){this.start=e,this.end={line:n,column:i},this.source=t.source}function a(o){var r=new Error(t.source+":"+n+":"+i+": "+o);if(r.reason=o,r.filename=t.source,r.line=n,r.column=i,r.source=e,!t.silent)throw r}function l(t){var n=t.exec(e);if(n){var i=n[0];return o(i),e=e.slice(i.length),n}}function c(){l(mz)}function u(e){var t;for(e=e||[];t=h();)!1!==t&&e.push(t);return e}function h(){var t=r();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;Cz!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,Cz===e.charAt(n-1))return a("End of comment missing");var s=e.slice(2,n-2);return i+=2,o(s),e=e.slice(n),i+=2,t({type:"comment",comment:s})}}function d(){var e=r(),t=l(vz);if(t){if(h(),!l(bz))return a("property missing ':'");var n=l(_z),i=e({type:"declaration",property:Sz(t[0].replace(fz,Cz)),value:n?Sz(n[0].replace(fz,Cz)):Cz});return l(yz),i}}return s.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=d();)!1!==e&&(t.push(e),u(t));return t}()}));var Lz=gz.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var i=(0,kz.default)(e),o="function"==typeof t;return i.forEach((function(e){if("declaration"===e.type){var i=e.property,r=e.value;o?t(i,r,e):r&&((n=n||{})[i]=r)}})),n};const Dz=Lz.default||Lz,Ez=Tz("end"),Nz=Tz("start");function Tz(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Iz(e){return e&&"object"==typeof e?"position"in e||"type"in e?Rz(e.position):"start"in e||"end"in e?Rz(e):"line"in e||"column"in e?Mz(e):"":""}function Mz(e){return Az(e&&e.line)+":"+Az(e&&e.column)}function Rz(e){return Mz(e&&e.start)+"-"+Mz(e&&e.end)}function Az(e){return e&&"number"==typeof e?e:1}class Oz extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let i="",o={},r=!1;if(t&&(o="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?i=e:!o.cause&&e&&(r=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?o.ruleId=n:(o.source=n.slice(0,e),o.ruleId=n.slice(e+1))}if(!o.place&&o.ancestors&&o.ancestors){const e=o.ancestors[o.ancestors.length-1];e&&(o.place=e.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Iz(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=r&&o.cause&&"string"==typeof o.cause.stack?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Oz.prototype.file="",Oz.prototype.name="",Oz.prototype.reason="",Oz.prototype.message="",Oz.prototype.stack="",Oz.prototype.column=void 0,Oz.prototype.line=void 0,Oz.prototype.ancestors=void 0,Oz.prototype.cause=void 0,Oz.prototype.fatal=void 0,Oz.prototype.place=void 0,Oz.prototype.ruleId=void 0,Oz.prototype.source=void 0;const Pz={}.hasOwnProperty,Fz=new Map,Bz=/[A-Z]/g,zz=/-([a-z])/g,Vz=new Set(["table","tbody","thead","tfoot","tr"]),Wz=new Set(["td","th"]),Hz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $z(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return n;function n(n,i,o,r){const s=Array.isArray(o.children),a=Nz(n);return t(i,o,r,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return i;function i(e,i,o,r){const s=Array.isArray(o.children)?n:t;return r?s(i,o,r):s(i,o)}}(0,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?dz:hz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},r=jz(o,e,void 0);return r&&"string"!=typeof r?r:o.create(e,o.Fragment,{children:r||void 0},void 0)}function jz(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let o=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(o=dz,e.schema=o);e.ancestors.push(t);const r=Yz(e,t.tagName,!1),s=function(e,t){const n={};let i,o;for(o in t.properties)if("children"!==o&&Pz.call(t.properties,o)){const r=Gz(e,o,t.properties[o]);if(r){const[o,s]=r;e.tableCellAlignToStyle&&"align"===o&&"string"==typeof s&&Wz.has(t.tagName)?i=s:n[o]=s}}if(i){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i}return n}(e,t);let a=qz(e,t);Vz.has(t.tagName)&&(a=a.filter((function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&IB(t.value):IB(t));var t})));return Uz(e,s,r,t),Kz(s,a),e.ancestors.pop(),e.schema=i,e.create(t,r,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Xz(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let o=i;"svg"===t.name&&"html"===i.space&&(o=dz,e.schema=o);e.ancestors.push(t);const r=null===t.name?e.Fragment:Yz(e,t.name,!0),s=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];t.type;const o=t.expression;o.type;const r=o.properties[0];r.type,Object.assign(n,e.evaluater.evaluateExpression(r.argument))}else Xz(e,t.position);else{const o=i.name;let r;if(i.value&&"object"==typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];t.type,r=e.evaluater.evaluateExpression(t.expression)}else Xz(e,t.position);else r=null===i.value||i.value;n[o]=r}return n}(e,t),a=qz(e,t);return Uz(e,s,r,t),Kz(s,a),e.ancestors.pop(),e.schema=i,e.create(t,r,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xz(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return Kz(i,qz(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Uz(e,t,n,i){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Kz(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function qz(e,t){const n=[];let i=-1;const o=e.passKeys?new Map:Fz;for(;++i<t.children.length;){const r=t.children[i];let s;if(e.passKeys){const e="element"===r.type?r.tagName:"mdxJsxFlowElement"===r.type||"mdxJsxTextElement"===r.type?r.name:void 0;if(e){const t=o.get(e)||0;s=e+"-"+t,o.set(e,t+1)}}const a=jz(e,r,s);void 0!==a&&n.push(a)}return n}function Gz(e,t,n){const i=function(e,t){const n=AB(t);let i=t,o=OB;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&rz.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(sz,cz);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!sz.test(e)){let n=e.replace(az,lz);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}o=qB}return new o(i,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===i.property){let t="object"==typeof n?n:function(e,t){const n={};try{Dz(t,i)}catch(o){if(!e.ignoreInvalidStyle){const t=o,n=new Oz("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Hz+"#cannot-parse-style-attribute",n}}return n;function i(e,t){let i=e;"--"!==i.slice(0,2)&&("-ms-"===i.slice(0,4)&&(i="ms-"+i.slice(4)),i=i.replace(zz,Qz)),n[i]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Pz.call(e,n)&&(t[Zz(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?uz[i.property]||i.property:i.attribute,n]}}function Yz(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,o=-1;for(;++o<e.length;){const t=NB(e[o])?{type:"Identifier",name:e[o]}:{type:"Literal",value:e[o]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(o&&"Literal"===t.type),optional:!1}:t}i=n}else i=NB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return Pz.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);Xz(e)}function Xz(e,t){const n=new Oz("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Hz+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Zz(e){let t=e.replace(Bz,Jz);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Qz(e,t){return t.toUpperCase()}function Jz(e){return"-"+e.toLowerCase()}const eV={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},tV={};function nV(e,t){const n=tV;return iV(e,"boolean"!=typeof n.includeImageAlt||n.includeImageAlt,"boolean"!=typeof n.includeHtml||n.includeHtml)}function iV(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oV(e.children,t,n)}return Array.isArray(e)?oV(e,t,n):""}function oV(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=iV(e[o],t,n);return i.join("")}const rV=document.createElement("i");function sV(e){const t="&"+e+";";rV.innerHTML=t;const n=rV.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function aV(e,t,n,i){const o=e.length;let r,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,i.length<1e4)r=Array.from(i),r.unshift(t,n),e.splice(...r);else for(n&&e.splice(t,n);s<i.length;)r=i.slice(s,s+1e4),r.unshift(t,0),e.splice(...r),s+=1e4,t+=1e4}function lV(e,t){return e.length>0?(aV(e,e.length,0,t),e):t}const cV={}.hasOwnProperty;function uV(e){const t={};let n=-1;for(;++n<e.length;)hV(t,e[n]);return t}function hV(e,t){let n;for(n in t){const i=(cV.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let r;if(o)for(r in o){cV.call(i,r)||(i[r]=[]);const e=o[r];dV(i[r],Array.isArray(e)?e:e?[e]:[])}}}function dV(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);aV(e,0,0,i)}function gV(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"�":String.fromCodePoint(n)}function fV(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pV=DV(/[A-Za-z]/),mV=DV(/[\dA-Za-z]/),vV=DV(/[#-'*+\--9=?A-Z^-~]/);function bV(e){return null!==e&&(e<32||127===e)}const _V=DV(/\d/),yV=DV(/[\dA-Fa-f]/),wV=DV(/[!-/:-@[-`{-~]/);function CV(e){return null!==e&&e<-2}function SV(e){return null!==e&&(e<0||32===e)}function xV(e){return-2===e||-1===e||32===e}const kV=DV(/\p{P}|\p{S}/u),LV=DV(/\s/);function DV(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function EV(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const r=e.charCodeAt(n);let s="";if(37===r&&mV(e.charCodeAt(n+1))&&mV(e.charCodeAt(n+2)))o=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(s=String.fromCharCode(r));else if(r>55295&&r<57344){const t=e.charCodeAt(n+1);r<56320&&t>56319&&t<57344?(s=String.fromCharCode(r,t),o=1):s="�"}else s=String.fromCharCode(r);s&&(t.push(e.slice(i,n),encodeURIComponent(s)),i=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}function NV(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let r=0;return function(i){if(xV(i))return e.enter(n),s(i);return t(i)};function s(i){return xV(i)&&r++<o?(e.consume(i),s):(e.exit(n),t(i))}}const TV={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),NV(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),i(t)}));let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):CV(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),o)}}};const IV={tokenize:function(e){const t=this,n=[];let i,o,r,s=0;return a;function a(i){if(s<n.length){const o=n[s];return t.containerState=o[1],e.attempt(o[0].continuation,l,c)(i)}return c(i)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const n=t.events.length;let o,r=n;for(;r--;)if("exit"===t.events[r][0]&&"chunkFlow"===t.events[r][1].type){o=t.events[r][1].end;break}v(s);let a=n;for(;a<t.events.length;)t.events[a][1].end=Object.assign({},o),a++;return aV(t.events,r+1,0,t.events.slice(n)),t.events.length=a,c(e)}return a(e)}function c(o){if(s===n.length){if(!i)return d(o);if(i.currentConstruct&&i.currentConstruct.concrete)return f(o);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(MV,u,h)(o)}function u(e){return i&&b(),v(s),d(e)}function h(e){return t.parser.lazy[t.now().line]=s!==n.length,r=t.now().offset,f(e)}function d(n){return t.containerState={},e.attempt(MV,g,f)(n)}function g(e){return s++,n.push([t.currentConstruct,t.containerState]),d(e)}function f(n){return null===n?(i&&b(),v(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),p(n))}function p(n){return null===n?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):CV(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),p)}function m(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=o,o&&(o.next=e),o=e,i.defineSkip(e.start),i.write(a),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<r&&(!i.events[e][1].end||i.events[e][1].end.offset>r))return;const n=t.events.length;let o,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(o){a=t.events[l][1].end;break}o=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},a),e++;aV(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(i){let o=n.length;for(;o-- >i;){const i=n[o];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function b(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}},MV={tokenize:function(e,t,n){return NV(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function RV(e){return null===e||SV(e)||LV(e)?1:kV(e)?2:void 0}function AV(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const r=e[o].resolveAll;r&&!i.includes(r)&&(t=r(t,n),i.push(r))}return t}const OV={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=RV(i);let r;return function(t){return r=t,e.enter("attentionSequence"),s(t)};function s(a){if(a===r)return e.consume(a),s;const l=e.exit("attentionSequence"),c=RV(a),u=!c||2===c&&o||n.includes(a),h=!o||2===o&&c||n.includes(i);return l._open=Boolean(42===r?u:u&&(o||!h)),l._close=Boolean(42===r?h:h&&(c||!u)),t(a)}},resolveAll:function(e,t){let n,i,o,r,s,a,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h=Object.assign({},e[n][1].end),d=Object.assign({},e[u][1].start);PV(h,-a),PV(d,a),r={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:d},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},r.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},r.start),e[u][1].start=Object.assign({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=lV(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=lV(l,[["enter",i,t],["enter",r,t],["exit",r,t],["enter",o,t]]),l=lV(l,AV(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=lV(l,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=lV(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,aV(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function PV(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const FV={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return pV(t)?(e.consume(t),r):64===t?n(t):l(t)}function r(e){return 43===e||45===e||46===e||mV(e)?(i=1,s(e)):l(e)}function s(t){return 58===t?(e.consume(t),i=0,a):(43===t||45===t||46===t||mV(t))&&i++<32?(e.consume(t),s):(i=0,l(t))}function a(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||bV(i)?n(i):(e.consume(i),a)}function l(t){return 64===t?(e.consume(t),c):vV(t)?(e.consume(t),l):n(t)}function c(e){return mV(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),i=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):h(n)}function h(t){if((45===t||mV(t))&&i++<63){const n=45===t?h:u;return e.consume(t),n}return n(t)}}};const BV={tokenize:function(e,t,n){return function(t){return xV(t)?NV(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||CV(e)?t(e):n(e)}},partial:!0};const zV={name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return xV(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const i=this;return function(t){if(xV(t))return NV(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return o(t)};function o(i){return e.attempt(zV,t,n)(i)}}},exit:function(e){e.exit("blockQuote")}};const VV={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return wV(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};const WV={name:"characterReference",tokenize:function(e,t,n){const i=this;let o,r,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,r=mV,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,r=yV,c):(e.enter("characterReferenceValue"),o=7,r=_V,c(t))}function c(a){if(59===a&&s){const o=e.exit("characterReferenceValue");return r!==mV||sV(i.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return r(a)&&s++<o?(e.consume(a),c):n(a)}}};const HV={tokenize:function(e,t,n){const i=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0},$V={name:"codeFenced",tokenize:function(e,t,n){const i=this,o={tokenize:function(e,t,n){let o=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),xV(t)?NV(e,c,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===r?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===r?(o++,e.consume(t),u):o>=a?(e.exit("codeFencedFenceSequence"),xV(t)?NV(e,h,"whitespace")(t):h(t)):n(t)}function h(i){return null===i||CV(i)?(e.exit("codeFencedFence"),t(i)):n(i)}},partial:!0};let r,s=0,a=0;return function(t){return function(t){const n=i.events[i.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,r=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===r?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),xV(t)?NV(e,c,"whitespace")(t):c(t))}function c(n){return null===n||CV(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(HV,g,b)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||CV(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):xV(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),NV(e,h,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),u)}function h(t){return null===t||CV(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||CV(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===r?n(t):(e.consume(t),d)}function g(t){return e.attempt(o,b,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),p}function p(t){return s>0&&xV(t)?NV(e,m,"linePrefix",s+1)(t):m(t)}function m(t){return null===t||CV(t)?e.check(HV,g,b)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||CV(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),v)}function b(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const jV={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),NV(e,o,"linePrefix",5)(t)};function o(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?r(e):n(e)}function r(t){return null===t?a(t):CV(t)?e.attempt(UV,r,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||CV(t)?(e.exit("codeFlowValue"),r(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},UV={tokenize:function(e,t,n){const i=this;return o;function o(t){return i.parser.lazy[i.now().line]?n(t):CV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):NV(e,r,"linePrefix",5)(t)}function r(e){const r=i.events[i.events.length-1];return r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(e):CV(e)?o(e):n(e)}},partial:!0};const KV={name:"codeText",tokenize:function(e,t,n){let i,o,r=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),r++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(o=e.enter("codeTextSequence"),i=0,c(t)):CV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||CV(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}},resolve:function(e){let t,n,i=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=o;++t<i;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[i][1].type="codeTextPadding",o+=2,i-=2;break}t=o-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};class qV{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&GV(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),GV(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),GV(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);GV(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);GV(this.left,t.reverse())}}}function GV(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function YV(e){const t={};let n,i,o,r,s,a,l,c=-1;const u=new qV(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(a=n[1]._tokenizer.events,o=0,o<a.length&&"lineEndingBlank"===a[o][1].type&&(o+=2),o<a.length&&"content"===a[o][1].type))for(;++o<a.length&&"content"!==a[o][1].type;)"chunkText"===a[o][1].type&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,XV(u,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,i=void 0;o--&&(r=u.get(o),"lineEnding"===r[1].type||"lineEndingBlank"===r[1].type);)"enter"===r[0]&&(i&&(u.get(i)[1].type="lineEndingBlank"),r[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},u.get(i)[1].start),s=u.slice(i,c),s.unshift(n),u.splice(i,c-i+1,s))}}return aV(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function XV(e,t){const n=e.get(t)[1],i=e.get(t)[2];let o=t-1;const r=[],s=n._tokenizer||i.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,h,d=-1,g=n,f=0,p=0;const m=[p];for(;g;){for(;e.get(++o)[1]!==g;);r.push(o),g._tokenizer||(u=i.sliceStream(g),g.next||u.push(null),h&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++d<a.length;)"exit"===a[d][0]&&"enter"===a[d-1][0]&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(p=d+1,m.push(p),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):m.pop(),d=m.length;d--;){const t=a.slice(m[d],m[d+1]),n=r.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),d=-1;++d<l.length;)c[f+l[d][0]]=f+l[d][1],f+=l[d][1]-l[d][0]-1;return c}const ZV={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?o(t):CV(t)?e.check(QV,r,o)(t):(e.consume(t),i)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function r(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}},resolve:function(e){return YV(e),e}},QV={tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),NV(e,o,"linePrefix")};function o(o){if(null===o||CV(o))return n(o);const r=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}},partial:!0};function JV(e,t,n,i,o,r,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(i),e.enter(o),e.enter(r),e.consume(t),e.exit(r),h;if(null===t||32===t||41===t||bV(t))return n(t);return e.enter(i),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),f(t)};function h(n){return 62===n?(e.enter(r),e.consume(n),e.exit(r),e.exit(o),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(a),h(t)):null===t||60===t||CV(t)?n(t):(e.consume(t),92===t?g:d)}function g(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function f(o){return u||null!==o&&41!==o&&!SV(o)?u<c&&40===o?(e.consume(o),u++,f):41===o?(e.consume(o),u--,f):null===o||32===o||40===o||bV(o)?n(o):(e.consume(o),92===o?p:f):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(o))}function p(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function eW(e,t,n,i,o,r){const s=this;let a,l=0;return function(t){return e.enter(i),e.enter(o),e.consume(t),e.exit(o),e.enter(r),c};function c(h){return l>999||null===h||91===h||93===h&&!a||94===h&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):93===h?(e.exit(r),e.enter(o),e.consume(h),e.exit(o),e.exit(i),t):CV(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(t){return null===t||91===t||93===t||CV(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),a||(a=!xV(t)),92===t?h:u)}function h(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function tW(e,t,n,i,o,r){let s;return function(t){if(34===t||39===t||40===t)return e.enter(i),e.enter(o),e.consume(t),e.exit(o),s=40===t?41:t,a;return n(t)};function a(n){return n===s?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),t):(e.enter(r),l(n))}function l(t){return t===s?(e.exit(r),a(s)):null===t?n(t):CV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),NV(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||CV(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function nW(e,t){let n;return function i(o){if(CV(o))return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i;if(xV(o))return NV(e,i,n?"linePrefix":"lineSuffix")(o);return t(o)}}const iW={name:"definition",tokenize:function(e,t,n){const i=this;let o;return function(t){return e.enter("definition"),function(t){return eW.call(i,e,r,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function r(t){return o=fV(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return SV(t)?nW(e,a)(t):a(t)}function a(t){return JV(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(oW,c,c)(t)}function c(t){return xV(t)?NV(e,u,"whitespace")(t):u(t)}function u(r){return null===r||CV(r)?(e.exit("definition"),i.parser.defined.push(o),t(r)):n(r)}}},oW={tokenize:function(e,t,n){return function(t){return SV(t)?nW(e,i)(t):n(t)};function i(t){return tW(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return xV(t)?NV(e,r,"whitespace")(t):r(t)}function r(e){return null===e||CV(e)?t(e):n(e)}},partial:!0};const rW={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return CV(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}};const sW={name:"headingAtx",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&i++<6?(e.consume(t),o):null===t||SV(t)?(e.exit("atxHeadingSequence"),r(t)):n(t)}function r(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||CV(n)?(e.exit("atxHeading"),t(n)):xV(n)?NV(e,r,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),r(t))}function a(t){return null===t||35===t||SV(t)?(e.exit("atxHeadingText"),r(t)):(e.consume(t),a)}},resolve:function(e,t){let n,i,o=e.length-2,r=3;"whitespace"===e[r][1].type&&(r+=2);o-2>r&&"whitespace"===e[o][1].type&&(o-=2);"atxHeadingSequence"===e[o][1].type&&(r===o-1||o-4>r&&"whitespace"===e[o-2][1].type)&&(o-=r+1===o?2:4);o>r&&(n={type:"atxHeadingText",start:e[r][1].start,end:e[o][1].end},i={type:"chunkText",start:e[r][1].start,end:e[o][1].end,contentType:"text"},aV(e,r,o-r+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e}};const aW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lW=["pre","script","style","textarea"],cW={name:"htmlFlow",tokenize:function(e,t,n){const i=this;let o,r,s,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(a){return 33===a?(e.consume(a),u):47===a?(e.consume(a),r=!0,g):63===a?(e.consume(a),o=3,i.interrupt?t:A):pV(a)?(e.consume(a),s=String.fromCharCode(a),f):n(a)}function u(r){return 45===r?(e.consume(r),o=2,h):91===r?(e.consume(r),o=5,a=0,d):pV(r)?(e.consume(r),o=4,i.interrupt?t:A):n(r)}function h(o){return 45===o?(e.consume(o),i.interrupt?t:A):n(o)}function d(o){const r="CDATA[";return o===r.charCodeAt(a++)?(e.consume(o),6===a?i.interrupt?t:L:d):n(o)}function g(t){return pV(t)?(e.consume(t),s=String.fromCharCode(t),f):n(t)}function f(a){if(null===a||47===a||62===a||SV(a)){const l=47===a,c=s.toLowerCase();return l||r||!lW.includes(c)?aW.includes(s.toLowerCase())?(o=6,l?(e.consume(a),p):i.interrupt?t(a):L(a)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(a):r?m(a):v(a)):(o=1,i.interrupt?t(a):L(a))}return 45===a||mV(a)?(e.consume(a),s+=String.fromCharCode(a),f):n(a)}function p(o){return 62===o?(e.consume(o),i.interrupt?t:L):n(o)}function m(t){return xV(t)?(e.consume(t),m):x(t)}function v(t){return 47===t?(e.consume(t),x):58===t||95===t||pV(t)?(e.consume(t),b):xV(t)?(e.consume(t),v):x(t)}function b(t){return 45===t||46===t||58===t||95===t||mV(t)?(e.consume(t),b):_(t)}function _(t){return 61===t?(e.consume(t),y):xV(t)?(e.consume(t),_):v(t)}function y(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):xV(t)?(e.consume(t),y):C(t)}function w(t){return t===l?(e.consume(t),l=null,S):null===t||CV(t)?n(t):(e.consume(t),w)}function C(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||SV(t)?_(t):(e.consume(t),C)}function S(e){return 47===e||62===e||xV(e)?v(e):n(e)}function x(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return null===t||CV(t)?L(t):xV(t)?(e.consume(t),k):n(t)}function L(t){return 45===t&&2===o?(e.consume(t),T):60===t&&1===o?(e.consume(t),I):62===t&&4===o?(e.consume(t),O):63===t&&3===o?(e.consume(t),A):93===t&&5===o?(e.consume(t),R):!CV(t)||6!==o&&7!==o?null===t||CV(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),L):(e.exit("htmlFlowData"),e.check(uW,P,D)(t))}function D(t){return e.check(hW,E,P)(t)}function E(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),N}function N(t){return null===t||CV(t)?D(t):(e.enter("htmlFlowData"),L(t))}function T(t){return 45===t?(e.consume(t),A):L(t)}function I(t){return 47===t?(e.consume(t),s="",M):L(t)}function M(t){if(62===t){const n=s.toLowerCase();return lW.includes(n)?(e.consume(t),O):L(t)}return pV(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),M):L(t)}function R(t){return 93===t?(e.consume(t),A):L(t)}function A(t){return 62===t?(e.consume(t),O):45===t&&2===o?(e.consume(t),A):L(t)}function O(t){return null===t||CV(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),O)}function P(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},uW={tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(BV,t,n)}},partial:!0},hW={tokenize:function(e,t,n){const i=this;return function(t){if(CV(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o;return n(t)};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0};const dW={name:"htmlText",tokenize:function(e,t,n){const i=this;let o,r,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),y):63===t?(e.consume(t),b):pV(t)?(e.consume(t),S):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),r=0,g):pV(t)?(e.consume(t),v):n(t)}function c(t){return 45===t?(e.consume(t),d):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),h):CV(t)?(s=u,M(t)):(e.consume(t),u)}function h(t){return 45===t?(e.consume(t),d):u(t)}function d(e){return 62===e?I(e):45===e?h(e):u(e)}function g(t){const i="CDATA[";return t===i.charCodeAt(r++)?(e.consume(t),6===r?f:g):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),p):CV(t)?(s=f,M(t)):(e.consume(t),f)}function p(t){return 93===t?(e.consume(t),m):f(t)}function m(t){return 62===t?I(t):93===t?(e.consume(t),m):f(t)}function v(t){return null===t||62===t?I(t):CV(t)?(s=v,M(t)):(e.consume(t),v)}function b(t){return null===t?n(t):63===t?(e.consume(t),_):CV(t)?(s=b,M(t)):(e.consume(t),b)}function _(e){return 62===e?I(e):b(e)}function y(t){return pV(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||mV(t)?(e.consume(t),w):C(t)}function C(t){return CV(t)?(s=C,M(t)):xV(t)?(e.consume(t),C):I(t)}function S(t){return 45===t||mV(t)?(e.consume(t),S):47===t||62===t||SV(t)?x(t):n(t)}function x(t){return 47===t?(e.consume(t),I):58===t||95===t||pV(t)?(e.consume(t),k):CV(t)?(s=x,M(t)):xV(t)?(e.consume(t),x):I(t)}function k(t){return 45===t||46===t||58===t||95===t||mV(t)?(e.consume(t),k):L(t)}function L(t){return 61===t?(e.consume(t),D):CV(t)?(s=L,M(t)):xV(t)?(e.consume(t),L):x(t)}function D(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,E):CV(t)?(s=D,M(t)):xV(t)?(e.consume(t),D):(e.consume(t),N)}function E(t){return t===o?(e.consume(t),o=void 0,T):null===t?n(t):CV(t)?(s=E,M(t)):(e.consume(t),E)}function N(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||SV(t)?x(t):(e.consume(t),N)}function T(e){return 47===e||62===e||SV(e)?x(e):n(e)}function I(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function M(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return xV(t)?NV(e,A,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):A(t)}function A(t){return e.enter("htmlTextData"),s(t)}}};const gW={name:"labelEnd",tokenize:function(e,t,n){const i=this;let o,r,s=i.events.length;for(;s--;)if(("labelImage"===i.events[s][1].type||"labelLink"===i.events[s][1].type)&&!i.events[s][1]._balanced){o=i.events[s][1];break}return function(t){if(!o)return n(t);if(o._inactive)return u(t);return r=i.parser.defined.includes(fV(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(fW,c,r?c:u)(t):91===t?e.attempt(pW,c,r?l:u)(t):r?c(t):u(t)}function l(t){return e.attempt(mW,c,u)(t)}function c(e){return t(e)}function u(e){return o._balanced=!0,n(e)}},resolveTo:function(e,t){let n,i,o,r,s=e.length,a=0;for(;s--;)if(n=e[s][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(o=s);const l={type:"labelLink"===e[i][1].type?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[i+a+2][1].end),end:Object.assign({},e[o-2][1].start)};return r=[["enter",l,t],["enter",c,t]],r=lV(r,e.slice(i+1,i+a+3)),r=lV(r,[["enter",u,t]]),r=lV(r,AV(t.parser.constructs.insideSpan.null,e.slice(i+a+4,o-3),t)),r=lV(r,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),r=lV(r,e.slice(o+1)),r=lV(r,[["exit",l,t]]),aV(e,i,e.length,r),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},fW={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return SV(t)?nW(e,o)(t):o(t)}function o(t){return 41===t?c(t):JV(e,r,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function r(t){return SV(t)?nW(e,a)(t):c(t)}function s(e){return n(e)}function a(t){return 34===t||39===t||40===t?tW(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return SV(t)?nW(e,c)(t):c(t)}function c(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},pW={tokenize:function(e,t,n){const i=this;return function(t){return eW.call(i,e,o,r,"reference","referenceMarker","referenceString")(t)};function o(e){return i.parser.defined.includes(fV(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function r(e){return n(e)}}},mW={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const vW={name:"labelStartImage",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),r):n(t)}function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:gW.resolveAll};const bW={name:"labelStartLink",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:gW.resolveAll};const _W={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),NV(e,t,"linePrefix")}}};const yW={name:"thematicBreak",tokenize:function(e,t,n){let i,o=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,r(e)}(t)};function r(r){return r===i?(e.enter("thematicBreakSequence"),s(r)):o>=3&&(null===r||CV(r))?(e.exit("thematicBreak"),t(r)):n(r)}function s(t){return t===i?(e.consume(t),o++,s):(e.exit("thematicBreakSequence"),xV(t)?NV(e,r,"whitespace")(t):r(t))}}};const wW={name:"list",tokenize:function(e,t,n){const i=this,o=i.events[i.events.length-1];let r=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,s=0;return function(t){const o=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!i.containerState.marker||t===i.containerState.marker:_V(t)){if(i.containerState.type||(i.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(yW,n,l)(t):l(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return _V(t)&&++s<10?(e.consume(t),a):(!i.interrupt||s<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(BV,i.interrupt?n:c,e.attempt(CW,h,u))}function c(e){return i.containerState.initialBlankLine=!0,r++,h(e)}function u(t){return xV(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),h):n(t)}function h(n){return i.containerState.size=r+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(BV,(function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,NV(e,t,"listItemIndent",i.containerState.size+1)(n)}),(function(n){if(i.containerState.furtherBlankLines||!xV(n))return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(n);return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(SW,t,o)(n)}));function o(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,NV(e,e.attempt(wW,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},CW={tokenize:function(e,t,n){const i=this;return NV(e,(function(e){const o=i.events[i.events.length-1];return!xV(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)}),"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},SW={tokenize:function(e,t,n){const i=this;return NV(e,(function(e){const o=i.events[i.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(e):n(e)}),"listItemIndent",i.containerState.size+1)},partial:!0};const xW={name:"setextUnderline",tokenize:function(e,t,n){const i=this;let o;return function(t){let s,a=i.events.length;for(;a--;)if("lineEnding"!==i.events[a][1].type&&"linePrefix"!==i.events[a][1].type&&"content"!==i.events[a][1].type){s="paragraph"===i.events[a][1].type;break}if(!i.parser.lazy[i.now().line]&&(i.interrupt||s))return e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),r(t)}(t);return n(t)};function r(t){return t===o?(e.consume(t),r):(e.exit("setextHeadingLineSequence"),xV(t)?NV(e,s,"lineSuffix")(t):s(t))}function s(i){return null===i||CV(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}},resolveTo:function(e,t){let n,i,o,r=e.length;for(;r--;)if("enter"===e[r][0]){if("content"===e[r][1].type){n=r;break}"paragraph"===e[r][1].type&&(i=r)}else"content"===e[r][1].type&&e.splice(r,1),o||"definition"!==e[r][1].type||(o=r);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const kW={tokenize:function(e){const t=this,n=e.attempt(BV,(function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,i,NV(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ZV,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const LW={resolveAll:TW()},DW=NW("string"),EW=NW("text");function NW(e){return{tokenize:function(t){const n=this,i=this.parser.constructs[e],o=t.attempt(i,r,s);return r;function r(e){return l(e)?o(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=i[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:TW("text"===e?IW:void 0)}}function TW(e){return function(t,n){let i,o=-1;for(;++o<=t.length;)void 0===i?t[o]&&"data"===t[o][1].type&&(i=o,o++):t[o]&&"data"===t[o][1].type||(o!==i+2&&(t[i][1].end=t[o-1][1].end,t.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(t,n):t}}function IW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],o=t.sliceStream(i);let r,s=o.length,a=-1,l=0;for(;s--;){const e=o[s];if("string"==typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)r=!0,l++;else if(-1!==e){s++;break}}if(l){const o={type:n===e.length||r||l<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-l,offset:i.end.offset-l,_index:i.start._index+s,_bufferIndex:s?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},o.start),i.start.offset===i.end.offset?Object.assign(i,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}function MW(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},r=[];let s=[],a=[];const l={consume:function(e){CV(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,b()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=d(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=d(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){v(e,t.from)})),check:m(p),interrupt:m(p,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const r=e[n];let s;if("string"==typeof r)s=r;else switch(r){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&o)continue;s=" ";break;default:s=String.fromCharCode(r)}o=-2===r,i.push(s)}return i.join("")}(h(e),t)},now:d,defineSkip:function(e){o[e.line]=e.column,b()},write:function(e){if(s=lV(s,e),g(),null!==s[s.length-1])return[];return v(t,0),c.events=AV(r,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&r.push(t),c;function h(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,r=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(i,r)];else{if(s=e.slice(n,o),i>-1){const e=s[0];"string"==typeof e?s[0]=e.slice(i):s.shift()}r>0&&s.push(e[o].slice(0,r))}return s}(s,e)}function d(){const{line:e,column:t,offset:n,_index:o,_bufferIndex:r}=i;return{line:e,column:t,offset:n,_index:o,_bufferIndex:r}}function g(){let e;for(;i._index<s.length;){const t=s[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)f(t.charCodeAt(i._bufferIndex));else f(t)}}function f(e){u=u(e)}function p(e,t){t.restore()}function m(e,t){return function(n,o,r){let s,u,h,g;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function f(e){return s=e,u=0,0===e.length?r:p(e[u])}function p(e){return function(n){g=function(){const e=d(),t=c.previous,n=c.currentConstruct,o=c.events.length,r=Array.from(a);return{restore:s,from:o};function s(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=o,a=r,b()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,m,v)(n)}}function m(t){return e(h,g),o}function v(e){return g.restore(),++u<s.length?p(s[u]):r}}}function v(e,t){e.resolveAll&&!r.includes(e)&&r.push(e),e.resolve&&aV(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function b(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}const RW={42:wW,43:wW,45:wW,48:wW,49:wW,50:wW,51:wW,52:wW,53:wW,54:wW,55:wW,56:wW,57:wW,62:zV},AW={91:iW},OW={[-2]:jV,[-1]:jV,32:jV},PW={35:sW,42:yW,45:[xW,yW],60:cW,61:xW,95:yW,96:$V,126:$V},FW={38:WV,92:VV},BW={[-5]:_W,[-4]:_W,[-3]:_W,33:vW,38:WV,42:OV,60:[FV,dW],91:bW,92:[rW,VV],93:gW,95:OV,96:KV},zW={null:[OV,LW]},VW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:AW,disable:{null:[]},document:RW,flow:PW,flowInitial:OW,insideSpan:zW,string:FW,text:BW},Symbol.toStringTag,{value:"Module"}));const WW=/[\0\t\n\r]/g;const HW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $W(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return gV(n.slice(t?2:1),t?16:10)}return sV(n)||e}const jW={}.hasOwnProperty;function UW(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(te),autolinkProtocol:k,autolinkEmail:k,atxHeading:r(Z),blockQuote:r(K),characterEscape:k,characterReference:k,codeFenced:r(q),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:r(q,s),codeText:r(G,s),codeTextData:k,data:k,codeFlowValue:k,definition:r(Y),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:r(X),hardBreakEscape:r(Q),hardBreakTrailing:r(Q),htmlFlow:r(J,s),htmlFlowData:k,htmlText:r(J,s),htmlTextData:k,image:r(ee),label:s,link:r(te),listItem:r(ie),listItemValue:d,listOrdered:r(ne,h),listUnordered:r(ne),paragraph:r(oe),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:r(Z),strong:r(re),thematicBreak:r(ae)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:U,autolinkProtocol:j,blockQuote:l(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:H,characterReference:$,codeFenced:l(m),codeFencedFence:p,codeFencedFenceInfo:g,codeFencedFenceMeta:f,codeFlowValue:L,codeIndented:l(v),codeText:l(I),codeTextData:L,data:L,definition:l(),definitionDestinationString:y,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(N),htmlFlowData:L,htmlText:l(T),htmlTextData:L,image:l(R),label:O,labelText:A,lineEnding:D,link:l(M),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:V,resourceDestinationString:P,resourceTitleString:F,resource:B,setextHeading:l(x),setextHeadingLineSequence:S,setextHeadingText:C,strong:l(),thematicBreak:l()}};qW(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(e){let i={type:"root",children:[]};const r={stack:[i],tokenStack:[],config:t,enter:a,exit:c,buffer:s,resume:u,data:n},l=[];let h=-1;for(;++h<e.length;)if("listOrdered"===e[h][1].type||"listUnordered"===e[h][1].type)if("enter"===e[h][0])l.push(h);else{h=o(e,l.pop(),h)}for(h=-1;++h<e.length;){const n=t[e[h][0]];jW.call(n,e[h][1].type)&&n[e[h][1].type].call(Object.assign({sliceSerialize:e[h][2].sliceSerialize},r),e[h][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||YW).call(r,void 0,e[0])}for(i.position={start:KW(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:KW(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},h=-1;++h<t.transforms.length;)i=t.transforms[h](i)||i;return i}function o(e,t,n){let i,o,r,s,a=t-1,l=-1,c=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!i||s||l||r||(r=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let s=a;for(o=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",o=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}r&&(!o||r<o)&&(i._spread=!0),i.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||a,0,["exit",i,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const o={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=o,e.splice(a,0,["enter",o,t[2]]),a++,n++,r=void 0,s=!0}}}return e[t][1]._spread=c,n}function r(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:KW(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+Iz({start:e.start,end:e.end})+"): it’s not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||YW).call(this,e,i[0])}n.position.end=KW(e.end)}function u(){return nV(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function g(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function b(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=fV(this.sliceSerialize(e)).toLowerCase()}function _(){const e=this.resume();this.stack[this.stack.length-1].title=e}function y(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function S(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function k(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=se(),n.position={start:KW(e.start),end:void 0},t.push(n)),this.stack.push(n)}function L(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=KW(e.end)}function D(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=KW(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(k.call(this,e),L.call(this,e))}function E(){this.data.atHardBreak=!0}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function A(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(HW,$W)}(t),n.identifier=fV(t).toLowerCase()}function O(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function P(){const e=this.resume();this.stack[this.stack.length-1].url=e}function F(){const e=this.resume();this.stack[this.stack.length-1].title=e}function B(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function V(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=fV(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function W(e){this.data.characterReferenceType=e.type}function H(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;if(n)i=gV(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{i=sV(t)}this.stack[this.stack.length-1].value+=i}function $(e){this.stack.pop().position.end=KW(e.end)}function j(e){L.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function U(e){L.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function q(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function J(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!YV(e););return e}(function(e){const t={defined:[],lazy:{},constructs:uV([VW,...(e||{}).extensions||[]]),content:n(TV),document:n(IV),flow:n(kW),string:n(DW),text:n(EW)};return t;function n(e){return function(n){return MW(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",i=!0;return function(o,r,s){const a=[];let l,c,u,h,d;for(o=n+("string"==typeof o?o.toString():new TextDecoder(r||void 0).decode(o)),u=0,n="",i&&(65279===o.charCodeAt(0)&&u++,i=void 0);u<o.length;){if(WW.lastIndex=u,l=WW.exec(o),h=l&&void 0!==l.index?l.index:o.length,d=o.charCodeAt(h),!l){n=o.slice(u);break}if(10===d&&u===h&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),u<h&&(a.push(o.slice(u,h)),t+=h-u),d){case 0:a.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),a.push(-2);t++<c;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}u=h+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function KW(e){return{line:e.line,column:e.column,offset:e.offset}}function qW(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?qW(e,i):GW(e,i)}}function GW(e,t){let n;for(n in t)if(jW.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function YW(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Iz({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Iz({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Iz({start:t.start,end:t.end})+") is still open")}function XW(e){const t=this;t.parser=function(n){return UW(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ZW(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const o=e.all(t),r=o[0];r&&"text"===r.type?r.value="["+r.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&"text"===s.type?s.value+=i:o.push({type:"text",value:i}),o}function QW(e){const t=e.spread;return null==t?e.children.length>1:t}const JW=9,eH=32;function tH(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),o=0;const r=[];for(;i;)r.push(nH(t.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(t);return r.push(nH(t.slice(o),o>0,!1)),r.join("")}function nH(e,t,n){let i=0,o=e.length;if(t){let t=e.codePointAt(i);for(;t===JW||t===eH;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(o-1);for(;t===JW||t===eH;)o--,t=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}const iH={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={};t.lang&&(i.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),o=EV(i.toLowerCase()),r=e.footnoteOrder.indexOf(i);let s,a=e.footnoteCounts.get(i);void 0===a?(a=0,e.footnoteOrder.push(i),s=e.footnoteOrder.length):s=r+1,a+=1,e.footnoteCounts.set(i,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ZW(e,t);const o={src:EV(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(o.title=i.title);const r={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,r),e.applyData(t,r)},image:function(e,t){const n={src:EV(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ZW(e,t);const o={href:EV(i.url||"")};null!==i.title&&void 0!==i.title&&(o.title=i.title);const r={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},link:function(e,t){const n={href:EV(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),o=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=QW(n[i])}return t}(n):QW(t),r={},s=[];if("boolean"==typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const e=i[a];(o||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?s.push(e):s.push(...e.children)}const l=i[i.length-1];l&&(o||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:r,children:s};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},i=e.all(t);let o=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++o<i.length;){const e=i[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const r={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,r),e.applyData(t,r)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),o=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),o.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},r=Nz(t.children[1]),s=Ez(t.children[t.children.length-1]);r&&s&&(i.position={start:r,end:s}),o.push(i)}const r={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,r),e.applyData(t,r)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,o=0===(i?i.indexOf(t):1)?"th":"td",r=n&&"table"===n.type?n.align:void 0,s=r?r.length:t.children.length;let a=-1;const l=[];for(;++a<s;){const n=t.children[a],i={},s=r?r[a]:void 0;s&&(i.align=s);let c={type:"element",tagName:o,properties:i,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:tH(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:oH,yaml:oH,definition:oH,footnoteDefinition:oH};function oH(){}const rH="object"==typeof self?self:globalThis,sH=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=o=>{if(e.has(o))return e.get(o);const[r,s]=t[o];switch(r){case 0:case-1:return n(s,o);case 1:{const e=n([],o);for(const t of s)e.push(i(t));return e}case 2:{const e=n({},o);for(const[t,n]of s)e[i(t)]=i(n);return e}case 3:return n(new Date(s),o);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),o)}case 5:{const e=n(new Map,o);for(const[t,n]of s)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,o);for(const t of s)e.add(i(t));return e}case 7:{const{name:e,message:t}=s;return n(new rH[e](t),o)}case 8:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o)}return n(new rH[r](s),o)};return i})(new Map,e)(0),aH="",{toString:lH}={},{keys:cH}=Object,uH=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=lH.call(e).slice(8,-1);switch(n){case"Array":return[1,aH];case"Object":return[2,aH];case"Date":return[3,aH];case"RegExp":return[4,aH];case"Map":return[5,aH];case"Set":return[6,aH]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},hH=([e,t])=>0===e&&("function"===t||"symbol"===t),dH=(e,{json:t,lossy:n}={})=>{const i=[];return((e,t,n,i)=>{const o=(e,t)=>{const o=i.push(e)-1;return n.set(t,o),o},r=i=>{if(n.has(i))return n.get(i);let[s,a]=uH(i);switch(s){case 0:{let t=i;switch(a){case"bigint":s=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return o([-1],i)}return o([s,t],i)}case 1:{if(a)return o([a,[...i]],i);const e=[],t=o([s,e],i);for(const n of i)e.push(r(n));return t}case 2:{if(a)switch(a){case"BigInt":return o([a,i.toString()],i);case"Boolean":case"Number":case"String":return o([a,i.valueOf()],i)}if(t&&"toJSON"in i)return r(i.toJSON());const n=[],l=o([s,n],i);for(const t of cH(i))!e&&hH(uH(i[t]))||n.push([r(t),r(i[t])]);return l}case 3:return o([s,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return o([s,{source:e,flags:t}],i)}case 5:{const t=[],n=o([s,t],i);for(const[o,s]of i)(e||!hH(uH(o))&&!hH(uH(s)))&&t.push([r(o),r(s)]);return n}case 6:{const t=[],n=o([s,t],i);for(const o of i)!e&&hH(uH(o))||t.push(r(o));return n}}const{message:l}=i;return o([s,{name:a,message:l}],i)};return r})(!(t||n),!!t,new Map,i)(e),i},gH="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?sH(dH(e,t)):structuredClone(e):(e,t)=>sH(dH(e,t));function fH(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function pH(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const mH=function(e){if(null==e)return bH;if("function"==typeof e)return vH(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mH(e[n]);return vH(i);function i(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return vH(n);function n(n){const i=n;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}(e);if("string"==typeof e)return function(e){return vH(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function vH(e){return function(t,n,i){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function bH(){return!0}const _H=[],yH=!0,wH=!1,CH="skip";function SH(e,t,n,i){let o;"function"==typeof t&&"function"!=typeof n?(i=n,n=t):o=t;const r=mH(o),s=i?-1:1;!function e(o,a,l){const c=o&&"object"==typeof o?o:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+o.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,h,d=_H;if((!t||r(o,a,l[l.length-1]||void 0))&&(d=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[yH,e];return null==e?_H:[e]}(n(o,l)),d[0]===wH))return d;if("children"in o&&o.children){const t=o;if(t.children&&d[0]!==CH)for(u=(i?t.children.length:-1)+s,h=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,h)(),c[0]===wH)return c;u="number"==typeof c[1]?c[1]:u+s}}return d}}(e,void 0,[])()}function xH(e,t,n,i){let o,r,s;"function"==typeof t&&"function"!=typeof n?(r=void 0,s=t,o=n):(r=t,s=n,o=i),SH(e,r,(function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return s(e,i,n)}),o)}const kH={}.hasOwnProperty,LH={};function DH(e,t){e.position&&(t.position=function(e){const t=Nz(e),n=Ez(e);if(t&&n)return{start:t,end:n}}(e))}function EH(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&o&&Object.assign(n.properties,gH(o)),"children"in n&&n.children&&null!=i&&(n.children=i)}return n}function NH(e,t){const n=t.data||{},i=!("value"in t)||kH.call(n,"hProperties")||kH.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function TH(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function IH(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function MH(e,t){const n=function(e,t){const n=t||LH,i=new Map,o=new Map,r=new Map,s={...iH,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const o=a.one(n[i],e);if(o){if(i&&"break"===n[i-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=IH(o.value)),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=IH(e.value))}Array.isArray(o)?t.push(...o):t.push(o)}}}return t},applyData:EH,definitionById:i,footnoteById:o,footnoteCounts:r,footnoteOrder:[],handlers:s,one:function(e,t){const n=e.type,i=a.handlers[n];if(kH.call(a.handlers,n)&&i)return i(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,i=gH(n);return i.children=a.all(e),i}return gH(e)}return(a.options.unknownHandler||NH)(a,e,t)},options:n,patch:DH,wrap:TH};return xH(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:o,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),a}(e,t),i=n.one(e,void 0),o=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||fH,i=e.options.footnoteBackLabel||pH,o=e.options.footnoteLabel||"Footnotes",r=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const o=e.footnoteById.get(e.footnoteOrder[l]);if(!o)continue;const r=e.all(o),s=String(o.identifier).toUpperCase(),c=EV(s.toLowerCase());let u=0;const h=[],d=e.footnoteCounts.get(s);for(;void 0!==d&&++u<=d;){h.length>0&&h.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof i?i:i(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const g=r[r.length-1];if(g&&"element"===g.type&&"p"===g.tagName){const e=g.children[g.children.length-1];e&&"text"===e.type?e.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...h)}else r.push(...h);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(r,!0)};e.patch(o,f),a.push(f)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...gH(s),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),r=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&r.children.push({type:"text",value:"\n"},o),r}function RH(e,t){return e&&"run"in e?async function(n,i){const o=MH(n,{file:i,...t});await e.run(o,i)}:function(n,i){return MH(n,{file:i,...t||e})}}function AH(e){if(e)throw e}var OH=Object.prototype.hasOwnProperty,PH=Object.prototype.toString,FH=Object.defineProperty,BH=Object.getOwnPropertyDescriptor,zH=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===PH.call(e)},VH=function(e){if(!e||"[object Object]"!==PH.call(e))return!1;var t,n=OH.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&OH.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return void 0===t||OH.call(e,t)},WH=function(e,t){FH&&"__proto__"===t.name?FH(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},HH=function(e,t){if("__proto__"===t){if(!OH.call(e,t))return;if(BH)return BH(e,t).value}return e[t]};const $H=c((function e(){var t,n,i,o,r,s,a=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)i=HH(a,n),a!==(o=HH(t,n))&&(u&&o&&(VH(o)||(r=zH(o)))?(r?(r=!1,s=i&&zH(i)?i:[]):s=i&&VH(i)?i:{},WH(a,{name:n,newValue:e(u,s,o)})):void 0!==o&&WH(a,{name:n,newValue:o}));return a}));function jH(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function UH(){const e=[],t={run:function(...t){let n=-1;const i=t.pop();if("function"!=typeof i)throw new TypeError("Expected function as last argument, not "+i);!function o(r,...s){const a=e[++n];let l=-1;if(r)i(r);else{for(;++l<t.length;)null!==s[l]&&void 0!==s[l]||(s[l]=t[l]);t=s,a?function(e,t){let n;return i;function i(...t){const i=e.length>t.length;let a;i&&t.push(o);try{a=e.apply(this,t)}catch(r){if(i&&n)throw r;return o(r)}i||(a&&a.then&&"function"==typeof a.then?a.then(s,o):a instanceof Error?o(a):s(a))}function o(e,...i){n||(n=!0,t(e,...i))}function s(e){o(null,e)}}(a,o)(...s):i(null,...s)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const KH={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');qH(e);let n,i=0,o=-1,r=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;r--;)if(47===e.codePointAt(r)){if(n){i=r+1;break}}else o<0&&(n=!0,o=r+1);return o<0?"":e.slice(i,o)}if(t===e)return"";let s=-1,a=t.length-1;for(;r--;)if(47===e.codePointAt(r)){if(n){i=r+1;break}}else s<0&&(n=!0,s=r+1),a>-1&&(e.codePointAt(r)===t.codePointAt(a--)?a<0&&(o=r):(a=-1,o=s));i===o?o=s:o<0&&(o=e.length);return e.slice(i,o)},dirname:function(e){if(qH(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){qH(e);let t,n=e.length,i=-1,o=0,r=-1,s=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)i<0&&(t=!0,i=n+1),46===a?r<0?r=n:1!==s&&(s=1):r>-1&&(s=-1);else if(t){o=n+1;break}}if(r<0||i<0||0===s||1===s&&r===i-1&&r===o+1)return"";return e.slice(r,i)},join:function(...e){let t,n=-1;for(;++n<e.length;)qH(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){qH(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,o="",r=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(o.length<2||2!==r||46!==o.codePointAt(o.length-1)||46!==o.codePointAt(o.length-2))if(o.length>2){if(i=o.lastIndexOf("/"),i!==o.length-1){i<0?(o="",r=0):(o=o.slice(0,i),r=o.length-1-o.lastIndexOf("/")),s=l,a=0;continue}}else if(o.length>0){o="",r=0,s=l,a=0;continue}t&&(o=o.length>0?o+"/..":"..",r=2)}else o.length>0?o+="/"+e.slice(s+1,l):o=e.slice(s+1,l),r=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return o}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function qH(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const GH={cwd:function(){return"/"}};function YH(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function XH(e){if("string"==typeof e)e=new URL(e);else if(!YH(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const ZH=["history","path","basename","stem","extname","dirname"];class QH{constructor(e){let t;t=e?YH(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":GH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<ZH.length;){const e=ZH[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)ZH.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?KH.basename(this.path):void 0}set basename(e){e$(e,"basename"),JH(e,"basename"),this.path=KH.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?KH.dirname(this.path):void 0}set dirname(e){t$(this.basename,"dirname"),this.path=KH.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?KH.extname(this.path):void 0}set extname(e){if(JH(e,"extname"),t$(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=KH.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){YH(e)&&(e=XH(e)),e$(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?KH.basename(this.path,this.extname):void 0}set stem(e){e$(e,"stem"),JH(e,"stem"),this.path=KH.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new Oz(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function JH(e,t){if(e&&e.includes(KH.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+KH.sep+"`")}function e$(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function t$(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const n$=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i},i$={}.hasOwnProperty;class o$ extends n${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UH()}copy(){const e=new o$;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data($H(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(l$("data",this.frozen),this.namespace[e]=t,this):i$.call(this.namespace,e)&&this.namespace[e]||void 0:e?(l$("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"==typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=h$(e),n=this.parser||this.Parser;return s$("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),s$("process",this.parser||this.Parser),a$("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,o){const r=h$(e),s=n.parse(r);function a(e,n){e||!n?o(e):i?i(n):t(void 0,n)}n.run(s,r,(function(e,t,i){if(e||!t||!i)return a(e);const o=t,r=n.stringify(o,i);var s;"string"==typeof(s=r)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(s)?i.value=r:i.result=r,a(e,i)}))}}processSync(e){let t,n=!1;return this.freeze(),s$("processSync",this.parser||this.Parser),a$("processSync",this.compiler||this.Compiler),this.process(e,(function(e,i){n=!0,AH(e),t=i})),u$("processSync","process",n),t}run(e,t,n){c$(e),this.freeze();const i=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(o,r){const s=h$(t);i.run(e,s,(function(t,i,s){const a=i||e;t?r(t):o?o(a):n(void 0,a,s)}))}}runSync(e,t){let n,i=!1;return this.run(e,t,(function(e,t){AH(e),n=t,i=!0})),u$("runSync","run",i),n}stringify(e,t){this.freeze();const n=h$(t),i=this.compiler||this.Compiler;return a$("stringify",i),c$(e),i(e,n)}use(e,...t){const n=this.attachers,i=this.namespace;if(l$("use",this.frozen),null==e);else if("function"==typeof e)a(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?s(e):r(e)}return this;function o(e){if("function"==typeof e)a(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;a(t,n)}else r(e)}}function r(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(e.plugins),e.settings&&(i.settings=$H(!0,i.settings,e.settings))}function s(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){o(e[t])}}}function a(e,t){let i=-1,o=-1;for(;++i<n.length;)if(n[i][0]===e){o=i;break}if(-1===o)n.push([e,...t]);else if(t.length>0){let[i,...r]=t;const s=n[o][1];jH(s)&&jH(i)&&(i=$H(!0,s,i)),n[o]=[e,i,...r]}}}}const r$=(new o$).freeze();function s$(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function a$(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function l$(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c$(e){if(!jH(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function u$(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function h$(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new QH(e)}const d$=[],g$={allowDangerousHtml:!0},f$=/^(https?|ircs?|mailto|xmpp)$/i,p$=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function m$(e){const t=e.allowedElements,n=e.allowElement,i=e.children||"",o=e.className,r=e.components,s=e.disallowedElements,a=e.rehypePlugins||d$,l=e.remarkPlugins||d$,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...g$}:g$,u=e.skipHtml,h=e.unwrapDisallowed,d=e.urlTransform||v$,g=r$().use(XW).use(l).use(RH,c).use(a),f=new QH;"string"==typeof i&&(f.value=i);for(const v of p$)Object.hasOwn(e,v.from)&&(v.from,v.to&&v.to,v.id);const p=g.parse(f);let m=g.runSync(p,f);return o&&(m={type:"element",tagName:"div",properties:{className:o},children:"root"===m.type?m.children:[m]}),xH(m,(function(e,i,o){if("raw"===e.type&&o&&"number"==typeof i)return u?o.children.splice(i,1):o.children[i]={type:"text",value:e.value},i;if("element"===e.type){let t;for(t in eV)if(Object.hasOwn(eV,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],i=eV[t];(null===i||i.includes(e.tagName))&&(e.properties[t]=d(String(n||""),t,e))}}if("element"===e.type){let r=t?!t.includes(e.tagName):!!s&&s.includes(e.tagName);if(!r&&n&&"number"==typeof i&&(r=!n(e,i,o)),r&&o&&"number"==typeof i)return h&&e.children?o.children.splice(i,1,...e.children):o.children.splice(i,1),i}})),$z(m,{Fragment:re.Fragment,components:r,ignoreInvalidStyle:!0,jsx:re.jsx,jsxs:re.jsxs,passKeys:!0,passNode:!0})}function v$(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return t<0||o>-1&&t>o||n>-1&&t>n||i>-1&&t>i||f$.test(e.slice(0,t))?e:""}function b$(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,o=n.indexOf(t);for(;-1!==o;)i++,o=n.indexOf(t,o+t.length);return i}function _$(e,t,n){const i=mH((n||{}).ignore||[]),o=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const e=n[i];t.push([y$(e[0]),w$(e[1])])}return t}(t);let r=-1;for(;++r<o.length;)SH(e,"text",s);function s(e,t){let n,s=-1;for(;++s<t.length;){const e=t[s],o=n?n.children:void 0;if(i(e,o?o.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],i=o[r][0],s=o[r][1];let a=0;const l=n.children.indexOf(e);let c=!1,u=[];i.lastIndex=0;let h=i.exec(e.value);for(;h;){const n=h.index,o={index:h.index,input:h.input,stack:[...t,e]};let r=s(...h,o);if("string"==typeof r&&(r=r.length>0?{type:"text",value:r}:void 0),!1===r?i.lastIndex=n+1:(a!==n&&u.push({type:"text",value:e.value.slice(a,n)}),Array.isArray(r)?u.push(...r):r&&u.push(r),a=n+h[0].length,c=!0),!i.global)break;h=i.exec(e.value)}c?(a<e.value.length&&u.push({type:"text",value:e.value.slice(a)}),n.children.splice(l,1,...u)):u=[e];return l+u.length}(e,t)}}function y$(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function w$(e){return"function"==typeof e?e:function(){return e}}const C$="phrasing",S$=["autolink","link","image","label"];function x$(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function k$(e){this.config.enter.autolinkProtocol.call(this,e)}function L$(e){this.config.exit.autolinkProtocol.call(this,e)}function D$(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function E$(e){this.config.exit.autolinkEmail.call(this,e)}function N$(e){this.exit(e)}function T$(e){_$(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,I$],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,M$]],{ignore:["link","linkReference"]})}function I$(e,t,n,i,o){let r="";if(!R$(o))return!1;if(/^w/i.test(t)&&(n=t+n,t="",r="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const s=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const o=b$(e,"(");let r=b$(e,")");for(;-1!==i&&o>r;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),r++;return[e,n]}(n+i);if(!s[0])return!1;const a={type:"link",title:null,url:r+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function M$(e,t,n,i){return!(!R$(i,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function R$(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||LV(n)||kV(n))&&(!t||47!==n)}function A$(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function O$(){this.buffer()}function P$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=fV(this.sliceSerialize(e)).toLowerCase()}function F$(e){this.exit(e)}function B$(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function z$(){this.buffer()}function V$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=fV(this.sliceSerialize(e)).toLowerCase()}function W$(e){this.exit(e)}function H$(e,t,n,i){const o=n.createTracker(i);let r=o.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return r+=o.move(n.safe(n.associationId(e),{...o.current(),before:r,after:"]"})),a(),s(),r+=o.move("]"),r}function $$(e,t,n,i){const o=n.createTracker(i);let r=o.move("[^");const s=n.enter("footnoteDefinition"),a=n.enter("label");return r+=o.move(n.safe(n.associationId(e),{...o.current(),before:r,after:"]"})),a(),r+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),r+=o.move(n.indentLines(n.containerFlow(e,o.current()),j$)),s(),r}function j$(e,t,n){return 0===t?e:(n?"":"    ")+e}H$.peek=function(){return"["};const U$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function K$(e){this.enter({type:"delete",children:[]},e)}function q$(e){this.exit(e)}function G$(e,t,n,i){const o=n.createTracker(i),r=n.enter("strikethrough");let s=o.move("~~");return s+=n.containerPhrasing(e,{...o.current(),before:s,after:"~"}),s+=o.move("~~"),r(),s}function Y$(e){return e.length}function X$(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function Z$(e,t,n){return">"+(n?"":" ")+e}function Q$(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function J$(e,t,n,i){let o=-1;for(;++o<n.unsafe.length;)if("\n"===n.unsafe[o].character&&(r=n.stack,s=n.unsafe[o],Q$(r,s.inConstruct,!0)&&!Q$(r,s.notInConstruct,!1)))return/[ \t]/.test(i.before)?"":" ";var r,s;return"\\\n"}function ej(e,t){const n=String(e);let i=n.indexOf(t),o=i,r=0,s=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===o?++r>s&&(s=r):r=1,o=i+t.length,i=n.indexOf(t,o);return s}function tj(e,t,n){return(n?"":"    ")+e}function nj(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ij(e,t,n,i){const o=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),r=n.enter("emphasis"),s=n.createTracker(i);let a=s.move(o);return a+=s.move(n.containerPhrasing(e,{before:a,after:o,...s.current()})),a+=s.move(o),r(),a}function oj(e){return e.value||""}function rj(e,t,n,i){const o=nj(n),r='"'===o?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(i);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${r}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),a()),c+=l.move(")"),s(),c}function sj(e,t,n,i){const o=e.referenceType,r=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(i);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=u,r(),"full"!==o&&c&&c===h?"shortcut"===o?l=l.slice(0,-1):l+=a.move("]"):l+=a.move(h+"]"),l}function aj(e,t,n){let i=e.value||"",o="`",r=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++r<n.unsafe.length;){const e=n.unsafe[r],t=n.compilePattern(e);let o;if(e.atBreak)for(;o=t.exec(i);){let e=o.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(o.index+1)}}return o+i+o}function lj(e,t){const n=nV(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function cj(e,t,n,i){const o=nj(n),r='"'===o?"Quote":"Apostrophe",s=n.createTracker(i);let a,l;if(lj(e,n)){const t=n.stack;n.stack=[],a=n.enter("autolink");let i=s.move("<");return i+=s.move(n.containerPhrasing(e,{before:i,after:">",...s.current()})),i+=s.move(">"),a(),n.stack=t,i}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${r}`),c+=s.move(" "+o),c+=s.move(n.safe(e.title,{before:c,after:o,...s.current()})),c+=s.move(o),l()),c+=s.move(")"),a(),c}function uj(e,t,n,i){const o=e.referenceType,r=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(i);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=u,r(),"full"!==o&&c&&c===h?"shortcut"===o?l=l.slice(0,-1):l+=a.move("]"):l+=a.move(h+"]"),l}function hj(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function dj(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}G$.peek=function(){return"~"},ij.peek=function(e,t,n){return n.options.emphasis||"*"},oj.peek=function(){return"<"},rj.peek=function(){return"!"},sj.peek=function(){return"!"},aj.peek=function(){return"`"},cj.peek=function(e,t,n){return lj(e,n)?"<":"["},uj.peek=function(){return"["};const gj=mH(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function fj(e,t,n,i){const o=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),r=n.enter("strong"),s=n.createTracker(i);let a=s.move(o+o);return a+=s.move(n.containerPhrasing(e,{before:a,after:o,...s.current()})),a+=s.move(o+o),r(),a}fj.peek=function(e,t,n){return n.options.strong||"*"};const pj={blockquote:function(e,t,n,i){const o=n.enter("blockquote"),r=n.createTracker(i);r.move("> "),r.shift(2);const s=n.indentLines(n.containerFlow(e,r.current()),Z$);return o(),s},break:J$,code:function(e,t,n,i){const o=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),r=e.value||"",s="`"===o?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(r,tj);return e(),t}const a=n.createTracker(i),l=o.repeat(Math.max(ej(r,o)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(e.lang){const t=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...a.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...a.current()})),t()}return u+=a.move("\n"),r&&(u+=a.move(r+"\n")),u+=a.move(l),c(),u},definition:function(e,t,n,i){const o=nj(n),r='"'===o?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(i);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),a(),e.title&&(a=n.enter(`title${r}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),a()),s(),c},emphasis:ij,hardBreak:J$,heading:function(e,t,n,i){const o=Math.max(Math.min(6,e.depth||1),1),r=n.createTracker(i);if(function(e,t){let n=!1;return xH(e,(function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,wH})),Boolean((!e.depth||e.depth<3)&&nV(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),i=n.enter("phrasing"),s=n.containerPhrasing(e,{...r.current(),before:"\n",after:"\n"});return i(),t(),s+"\n"+(1===o?"=":"-").repeat(s.length-(Math.max(s.lastIndexOf("\r"),s.lastIndexOf("\n"))+1))}const s="#".repeat(o),a=n.enter("headingAtx"),l=n.enter("phrasing");r.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...r.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c},html:oj,image:rj,imageReference:sj,inlineCode:aj,link:cj,linkReference:uj,list:function(e,t,n,i){const o=n.enter("list"),r=n.bulletCurrent;let s=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):hj(n);const a=e.ordered?"."===s?")":".":function(e){const t=hj(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&s===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==s&&"-"!==s||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),dj(n)===s&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(e,i);return n.bulletLastUsed=s,n.bulletCurrent=r,o(),c},listItem:function(e,t,n,i){const o=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let r=n.bulletCurrent||hj(n);t&&"list"===t.type&&t.ordered&&(r=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+r);let s=r.length+1;("tab"===o||"mixed"===o&&(t&&"list"===t.type&&t.spread||e.spread))&&(s=4*Math.ceil(s/4));const a=n.createTracker(i);a.move(r+" ".repeat(s-r.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),(function(e,t,n){if(t)return(n?"":" ".repeat(s))+e;return(n?r:r+" ".repeat(s-r.length))+e}));return l(),c},paragraph:function(e,t,n,i){const o=n.enter("paragraph"),r=n.enter("phrasing"),s=n.containerPhrasing(e,i);return r(),o(),s},root:function(e,t,n,i){return(e.children.some((function(e){return gj(e)}))?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:fj,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){const i=(dj(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?i.slice(0,-1):i}};function mj(e){const t=e._align;this.enter({type:"table",align:t.map((function(e){return"none"===e?null:e})),children:[]},e),this.data.inTable=!0}function vj(e){this.exit(e),this.data.inTable=void 0}function bj(e){this.enter({type:"tableRow",children:[]},e)}function _j(e){this.exit(e)}function yj(e){this.enter({type:"tableCell",children:[]},e)}function wj(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Cj));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Cj(e,t){return"|"===t?t:e}function Sj(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,o=t.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let i=pj.inlineCode(e,t,n);n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&"));return i},table:function(e,t,n,i){return a(function(e,t,n){const i=e.children;let o=-1;const r=[],s=t.enter("table");for(;++o<i.length;)r[o]=l(i[o],t,n);return s(),r}(e,n,i),e.align)},tableCell:s,tableRow:function(e,t,n,i){const o=a([l(e,n,i)]);return o.slice(0,o.indexOf("\n"))}}};function s(e,t,n,i){const o=n.enter("tableCell"),s=n.enter("phrasing"),a=n.containerPhrasing(e,{...i,before:r,after:r});return s(),o(),a}function a(e,t){return function(e,t={}){const n=(t.align||[]).concat(),i=t.stringLength||Y$,o=[],r=[],s=[],a=[];let l=0,c=-1;for(;++c<e.length;){const n=[],o=[];let h=-1;for(e[c].length>l&&(l=e[c].length);++h<e[c].length;){const r=null==(u=e[c][h])?"":String(u);if(!1!==t.alignDelimiters){const e=i(r);o[h]=e,(void 0===a[h]||e>a[h])&&(a[h]=e)}n.push(r)}r[c]=n,s[c]=o}var u;let h=-1;if("object"==typeof n&&"length"in n)for(;++h<l;)o[h]=X$(n[h]);else{const e=X$(n);for(;++h<l;)o[h]=e}h=-1;const d=[],g=[];for(;++h<l;){const e=o[h];let n="",i="";99===e?(n=":",i=":"):108===e?n=":":114===e&&(i=":");let r=!1===t.alignDelimiters?1:Math.max(1,a[h]-n.length-i.length);const s=n+"-".repeat(r)+i;!1!==t.alignDelimiters&&(r=n.length+r+i.length,r>a[h]&&(a[h]=r),g[h]=r),d[h]=s}r.splice(1,0,d),s.splice(1,0,g),c=-1;const f=[];for(;++c<r.length;){const e=r[c],n=s[c];h=-1;const i=[];for(;++h<l;){const r=e[h]||"";let s="",c="";if(!1!==t.alignDelimiters){const e=a[h]-(n[h]||0),t=o[h];114===t?s=" ".repeat(e):99===t?e%2?(s=" ".repeat(e/2+.5),c=" ".repeat(e/2-.5)):(s=" ".repeat(e/2),c=s):c=" ".repeat(e)}!1===t.delimiterStart||h||i.push("|"),!1===t.padding||!1===t.alignDelimiters&&""===r||!1===t.delimiterStart&&!h||i.push(" "),!1!==t.alignDelimiters&&i.push(s),i.push(r),!1!==t.alignDelimiters&&i.push(c),!1!==t.padding&&i.push(" "),!1===t.delimiterEnd&&h===l-1||i.push("|")}f.push(!1===t.delimiterEnd?i.join("").replace(/ +$/,""):i.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:i,padding:n,stringLength:o})}function l(e,t,n){const i=e.children;let o=-1;const r=[],a=t.enter("tableRow");for(;++o<i.length;)r[o]=s(i[o],0,t,n);return a(),r}}function xj(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function kj(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const i=t.children;let o,r=-1;for(;++r<i.length;){const e=i[r];if("paragraph"===e.type){o=e;break}}o===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Lj(e,t,n,i){const o=e.children[0],r="boolean"==typeof e.checked&&o&&"paragraph"===o.type,s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(i);r&&a.move(s);let l=pj.listItem(e,t,n,{...i,...a.current()});return r&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+s}))),l}const Dj={tokenize:function(e,t,n){let i=0;return function t(r){if((87===r||119===r)&&i<3)return i++,e.consume(r),t;if(46===r&&3===i)return e.consume(r),o;return n(r)};function o(e){return null===e?n(e):t(e)}},partial:!0},Ej={tokenize:function(e,t,n){let i,o,r;return s;function s(t){return 46===t||95===t?e.check(Tj,l,a)(t):null===t||SV(t)||LV(t)||45!==t&&kV(t)?l(t):(r=!0,e.consume(t),s)}function a(t){return 95===t?i=!0:(o=i,i=void 0),e.consume(t),s}function l(e){return o||i||!r?n(e):t(e)}},partial:!0},Nj={tokenize:function(e,t){let n=0,i=0;return o;function o(s){return 40===s?(n++,e.consume(s),o):41===s&&i<n?r(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(Tj,t,r)(s):null===s||SV(s)||LV(s)?t(s):(e.consume(s),o)}function r(t){return 41===t&&i++,e.consume(t),o}},partial:!0},Tj={tokenize:function(e,t,n){return i;function i(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),i):38===s?(e.consume(s),r):93===s?(e.consume(s),o):60===s||null===s||SV(s)||LV(s)?t(s):n(s)}function o(e){return null===e||40===e||91===e||SV(e)||LV(e)?t(e):i(e)}function r(e){return pV(e)?s(e):n(e)}function s(t){return 59===t?(e.consume(t),i):pV(t)?(e.consume(t),s):n(t)}},partial:!0},Ij={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(e){return mV(e)?n(e):t(e)}},partial:!0},Mj={name:"wwwAutolink",tokenize:function(e,t,n){const i=this;return function(t){if(87!==t&&119!==t||!Fj.call(i,i.previous)||Wj(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Dj,e.attempt(Ej,e.attempt(Nj,o),n),n)(t)};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:Fj},Rj={name:"protocolAutolink",tokenize:function(e,t,n){const i=this;let o="",r=!1;return function(t){if((72===t||104===t)&&Bj.call(i,i.previous)&&!Wj(i.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(t),e.consume(t),s;return n(t)};function s(t){if(pV(t)&&o.length<5)return o+=String.fromCodePoint(t),e.consume(t),s;if(58===t){const n=o.toLowerCase();if("http"===n||"https"===n)return e.consume(t),a}return n(t)}function a(t){return 47===t?(e.consume(t),r?l:(r=!0,a)):n(t)}function l(t){return null===t||bV(t)||SV(t)||LV(t)||kV(t)?n(t):e.attempt(Ej,e.attempt(Nj,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Bj},Aj={name:"emailAutolink",tokenize:function(e,t,n){const i=this;let o,r;return function(t){if(!Vj(t)||!zj.call(i,i.previous)||Wj(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)};function s(t){return Vj(t)?(e.consume(t),s):64===t?(e.consume(t),a):n(t)}function a(t){return 46===t?e.check(Ij,c,l)(t):45===t||95===t||mV(t)?(r=!0,e.consume(t),a):c(t)}function l(t){return e.consume(t),o=!0,a}function c(s){return r&&o&&pV(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:zj},Oj={};let Pj=48;for(;Pj<123;)Oj[Pj]=Aj,Pj++,58===Pj?Pj=65:91===Pj&&(Pj=97);function Fj(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||SV(e)}function Bj(e){return!pV(e)}function zj(e){return!(47===e||Vj(e))}function Vj(e){return 43===e||45===e||46===e||95===e||mV(e)}function Wj(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}Oj[43]=Aj,Oj[45]=Aj,Oj[46]=Aj,Oj[95]=Aj,Oj[72]=[Aj,Rj],Oj[104]=[Aj,Rj],Oj[87]=[Aj,Mj],Oj[119]=[Aj,Mj];const Hj={tokenize:function(e,t,n){const i=this;return NV(e,(function(e){const o=i.events[i.events.length-1];return o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function $j(e,t,n){const i=this;let o=i.events.length;const r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;o--;){const e=i.events[o][1];if("labelImage"===e.type){s=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(o){if(!s||!s._balanced)return n(o);const a=fV(i.sliceSerialize({start:s.end,end:i.now()}));if(94!==a.codePointAt(0)||!r.includes(a.slice(1)))return n(o);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)}}function jj(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},a=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...a),e}function Uj(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let r,s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),a};function a(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(a){if(s>999||93===a&&!r||null===a||91===a||SV(a))return n(a);if(93===a){e.exit("chunkString");const r=e.exit("gfmFootnoteCallString");return o.includes(fV(i.sliceSerialize(r)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(a)}return SV(a)||(r=!0),s++,e.consume(a),92===a?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function Kj(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let r,s,a=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(a>999||93===t&&!s||null===t||91===t||SV(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return r=fV(i.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return SV(t)||(s=!0),a++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),a++,c):c(t)}function h(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o.includes(r)||o.push(r),NV(e,d,"gfmFootnoteDefinitionWhitespace")):n(t)}function d(e){return t(e)}}function qj(e,t,n){return e.check(BV,t,e.attempt(Hj,t,n))}function Gj(e){e.exit("gfmFootnoteDefinition")}function Yj(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const o=this.previous,r=this.events;let s=0;return function(t){if(126===o&&"characterEscape"!==r[r.length-1][1].type)return i(t);return e.enter("strikethroughSequenceTemporary"),a(t)};function a(r){const l=RV(o);if(126===r)return s>1?i(r):(e.consume(r),s++,a);if(s<2&&!t)return i(r);const c=e.exit("strikethroughSequenceTemporary"),u=RV(r);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(r)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},r={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",o,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",r,t]],a=t.parser.constructs.insideSpan.null;a&&aV(s,s.length,0,AV(a,e.slice(i+1,n),t)),aV(s,s.length,0,[["exit",r,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",o,t]]),aV(e,i-1,n-i+3,s),n=i+s.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class Xj{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,i){let o=0;if(0===n&&0===i.length)return;for(;o<e.map.length;){if(e.map[o][0]===t)return e.map[o][1]+=n,void e.map[o][2].push(...i);o+=1}e.map.push([t,n,i])}(this,e,t,n)}consume(e){if(this.map.sort((function(e,t){return e[0]-t[0]})),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push([...e]),e.length=0;let i=n.pop();for(;i;)e.push(...i),i=n.pop();this.map.length=0}}function Zj(e,t){let n=!1;const i=[];for(;t<e.length;){const o=e[t];if(n){if("enter"===o[0])"tableContent"===o[1].type&&i.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===o[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=i.length-1;i[e]="left"===i[e]?"center":"right"}}else if("tableDelimiterRow"===o[1].type)break}else"enter"===o[0]&&"tableDelimiterRow"===o[1].type&&(n=!0);t+=1}return i}function Qj(e,t,n){const i=this;let o,r=0,s=0;return function(e){let t=i.events.length-1;for(;t>-1;){const e=i.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const o=t>-1?i.events[t][1].type:null,r="tableHead"===o||"tableRow"===o?y:a;if(r===y&&i.parser.lazy[i.now().line])return n(e);return r(e)};function a(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return o=!0,s+=1,l(e)}(t)}function l(t){return null===t?n(t):CV(t)?s>1?(s=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h):n(t):xV(t)?NV(e,l,"whitespace")(t):(s+=1,o&&(o=!1,r+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),o=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||SV(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function h(t){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(t):(e.enter("tableDelimiterRow"),o=!1,xV(t)?NV(e,d,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):d(t))}function d(t){return 45===t||58===t?f(t):124===t?(o=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):_(t)}function g(t){return xV(t)?NV(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),p):45===t?(s+=1,p(t)):null===t||CV(t)?b(t):_(t)}function p(t){return 45===t?(e.enter("tableDelimiterFiller"),m(t)):_(t)}function m(t){return 45===t?(e.consume(t),m):58===t?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(t))}function v(t){return xV(t)?NV(e,b,"whitespace")(t):b(t)}function b(n){return 124===n?d(n):(null===n||CV(n))&&o&&r===s?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):_(n)}function _(e){return n(e)}function y(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||CV(n)?(e.exit("tableRow"),t(n)):xV(n)?NV(e,w,"whitespace")(n):(e.enter("data"),C(n))}function C(t){return null===t||124===t||SV(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?S:C)}function S(t){return 92===t||124===t?(e.consume(t),C):C(t)}}function Jj(e,t){let n,i,o,r=-1,s=!0,a=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,h=0;const d=new Xj;for(;++r<e.length;){const g=e[r],f=g[1];"enter"===g[0]?"tableHead"===f.type?(u=!1,0!==h&&(tU(d,t,h,n,i),i=void 0,h=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},d.add(r,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(s=!0,o=void 0,l=[0,0,0,0],c=[0,r+1,0,0],u&&(u=!1,i={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},d.add(r,0,[["enter",i,t]])),a="tableDelimiterRow"===f.type?2:i?3:1):!a||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(s?s=!1:(0!==l[1]&&(c[0]=c[1],o=eU(d,t,l,a,void 0,o)),l=c,c=[l[1],r,0,0])):(s=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],o=eU(d,t,l,a,void 0,o),l=[0,0,0,0]),c[2]=r)):"tableHead"===f.type?(u=!0,h=r):"tableRow"===f.type||"tableDelimiterRow"===f.type?(h=r,0!==l[1]?(c[0]=c[1],o=eU(d,t,l,a,r,o)):0!==c[1]&&(o=eU(d,t,c,a,r,o)),a=0):!a||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type||(c[3]=r)}for(0!==h&&tU(d,t,h,n,i),d.consume(t.events),r=-1;++r<t.events.length;){const e=t.events[r];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Zj(t.events,r))}return e}function eU(e,t,n,i,o,r){const s=1===i?"tableHeader":2===i?"tableDelimiter":"tableData";0!==n[0]&&(r.end=Object.assign({},nU(t.events,n[0])),e.add(n[0],0,[["exit",r,t]]));const a=nU(t.events,n[1]);if(r={type:s,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",r,t]]),0!==n[2]){const o=nU(t.events,n[2]),r=nU(t.events,n[3]),s={type:"tableContent",start:Object.assign({},o),end:Object.assign({},r)};if(e.add(n[2],0,[["enter",s,t]]),2!==i){const i=t.events[n[2]],o=t.events[n[3]];if(i[1].end=Object.assign({},o[1].end),i[1].type="chunkText",i[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,i=n[3]-n[2]-1;e.add(t,i,[])}}e.add(n[3]+1,0,[["exit",s,t]])}return void 0!==o&&(r.end=Object.assign({},nU(t.events,o)),e.add(o,0,[["exit",r,t]]),r=void 0),r}function tU(e,t,n,i,o){const r=[],s=nU(t.events,n);o&&(o.end=Object.assign({},s),r.push(["exit",o,t])),i.end=Object.assign({},s),r.push(["exit",i,t]),e.add(n+1,0,r)}function nU(e,t){const n=e[t],i="enter"===n[0]?"start":"end";return n[1][i]}const iU={name:"tasklistCheck",tokenize:function(e,t,n){const i=this;return function(t){if(null!==i.previous||!i._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o};function o(t){return SV(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),r):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),r):n(t)}function r(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(t)}function s(i){return CV(i)?t(i):xV(i)?e.check({tokenize:oU},t,n)(i):n(i)}}};function oU(e,t,n){return NV(e,(function(e){return null===e?n(e):t(e)}),"whitespace")}const rU={};function sU(e){const t=e||rU,n=this.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),r=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(function(e){return uV([{text:Oj},{document:{91:{name:"gfmFootnoteDefinition",tokenize:Kj,continuation:{tokenize:qj},exit:Gj}},text:{91:{name:"gfmFootnoteCall",tokenize:Uj},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:$j,resolveTo:jj}}},Yj(e),{flow:{null:{name:"table",tokenize:Qj,resolveAll:Jj}}},{text:{91:iU}}])}(t)),o.push([{transforms:[T$],enter:{literalAutolink:x$,literalAutolinkEmail:k$,literalAutolinkHttp:k$,literalAutolinkWww:k$},exit:{literalAutolink:N$,literalAutolinkEmail:E$,literalAutolinkHttp:L$,literalAutolinkWww:D$}},{enter:{gfmFootnoteDefinition:A$,gfmFootnoteDefinitionLabelString:O$,gfmFootnoteCall:B$,gfmFootnoteCallString:z$},exit:{gfmFootnoteDefinition:F$,gfmFootnoteDefinitionLabelString:P$,gfmFootnoteCall:W$,gfmFootnoteCallString:V$}},{canContainEols:["delete"],enter:{strikethrough:K$},exit:{strikethrough:q$}},{enter:{table:mj,tableData:yj,tableHeader:yj,tableRow:bj},exit:{codeText:wj,table:vj,tableData:_j,tableHeader:_j,tableRow:_j}},{exit:{taskListCheckValueChecked:xj,taskListCheckValueUnchecked:xj,paragraph:kj}}]),r.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:C$,notInConstruct:S$},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:C$,notInConstruct:S$},{character:":",before:"[ps]",after:"\\/",inConstruct:C$,notInConstruct:S$}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:$$,footnoteReference:H$}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:U$}],handlers:{delete:G$}},Sj(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Lj}}]}}(t))}const aU={tokenize:function(e,t,n){const i=this,o=i.events[i.events.length-1],r=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0;let s=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(t)};function a(t){return 36===t?(e.consume(t),s++,a):s<2?n(t):(e.exit("mathFlowFenceSequence"),NV(e,l,"whitespace")(t))}function l(t){return null===t||CV(t)?u(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return null===t||CV(t)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),u(t)):36===t?n(t):(e.consume(t),c)}function u(n){return e.exit("mathFlowFence"),i.interrupt?t(n):e.attempt(lU,h,p)(n)}function h(t){return e.attempt({tokenize:m,partial:!0},p,d)(t)}function d(t){return(r?NV(e,g,"linePrefix",r+1):g)(t)}function g(t){return null===t?p(t):CV(t)?e.attempt(lU,h,p)(t):(e.enter("mathFlowValue"),f(t))}function f(t){return null===t||CV(t)?(e.exit("mathFlowValue"),g(t)):(e.consume(t),f)}function p(n){return e.exit("mathFlow"),t(n)}function m(e,t,n){let o=0;return NV(e,(function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),r(t)}),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function r(t){return 36===t?(o++,e.consume(t),r):o<s?n(t):(e.exit("mathFlowFenceSequence"),NV(e,a,"whitespace")(t))}function a(i){return null===i||CV(i)?(e.exit("mathFlowFence"),t(i)):n(i)}}},concrete:!0,name:"mathFlow"},lU={tokenize:function(e,t,n){const i=this;return function(n){if(null===n)return t(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),o};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0};function cU(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),{tokenize:function(e,n,i){let o,r,s=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),a(t)};function a(n){return 36===n?(e.consume(n),s++,a):s<2&&!t?i(n):(e.exit("mathTextSequence"),l(n))}function l(t){return null===t?i(t):36===t?(r=e.enter("mathTextSequence"),o=0,u(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):CV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("mathTextData"),c(t))}function c(t){return null===t||32===t||36===t||CV(t)?(e.exit("mathTextData"),l(t)):(e.consume(t),c)}function u(t){return 36===t?(e.consume(t),o++,u):o===s?(e.exit("mathTextSequence"),e.exit("mathText"),n(t)):(r.type="mathTextData",c(t))}},resolve:uU,previous:hU,name:"mathText"}}function uU(e){let t,n,i=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=o;++t<i;)if("mathTextData"===e[t][1].type){e[i][1].type="mathTextPadding",e[o][1].type="mathTextPadding",o+=2,i-=2;break}for(t=o-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e}function hU(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}const dU={};function gU(e){const t=e||dU,n=this.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),r=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(function(e){return{flow:{36:aU},text:{36:cU(e)}}}(t)),o.push(function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},e),this.buffer()}},exit:{mathFlow:function(e){const t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.stack[this.stack.length-1];n.type,this.exit(e),n.value=t;const i=n.data.hChildren[0];i.type,i.tagName,i.children.push({type:"text",value:t}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.meta=e},mathFlowValue:e,mathText:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,this.exit(e),n.value=t,n.data.hChildren.push({type:"text",value:t})},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),r.push(function(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:"\n",inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n,i){const o=e.value||"",r=n.createTracker(i),s="$".repeat(Math.max(ej(o,"$")+1,2)),a=n.enter("mathFlow");let l=r.move(s);if(e.meta){const t=n.enter("mathFlowMeta");l+=r.move(n.safe(e.meta,{after:"\n",before:l,encode:["$"],...r.current()})),t()}return l+=r.move("\n"),o&&(l+=r.move(o+"\n")),l+=r.move(s),a(),l},inlineMath:n}};function n(e,n,i){let o=e.value||"",r=1;for(t||r++;new RegExp("(^|[^$])"+"\\$".repeat(r)+"([^$]|$)").test(o);)r++;const s="$".repeat(r);/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^\$|\$$/.test(o))&&(o=" "+o+" ");let a=-1;for(;++a<i.unsafe.length;){const e=i.unsafe[a];if(!e.atBreak)continue;const t=i.compilePattern(e);let n;for(;n=t.exec(o);){let e=n.index;10===o.codePointAt(e)&&13===o.codePointAt(e-1)&&e--,o=o.slice(0,e)+" "+o.slice(n.index+1)}}return s+o+s}}(t))}function fU(e,t=0){return e[e.length-(1+t)]}function pU(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let i=0,o=e.length;i<o;i++)if(!n(e[i],t[i]))return!1;return!0}function*mU(e,t){let n,i;for(const o of e)void 0!==i&&t(i,o)?n.push(o):(n&&(yield n),n=[o]),i=o;n&&(yield n)}function vU(e,t){for(let n=0;n<=e.length;n++)t(0===n?void 0:e[n-1],n===e.length?void 0:e[n])}function bU(e){return Array.isArray(e)&&e.length>0}function _U(e,t=e=>e){const n=new Set;return e.filter((e=>{const i=t(e);return!n.has(i)&&(n.add(i),!0)}))}function yU(e,t){return e.length>0?e[0]:t}function wU(e,t){let n="number"==typeof t?e:0;"number"==typeof t?n=e:(n=0,t=e);const i=[];if(n<=t)for(let o=n;o<t;o++)i.push(o);else for(let o=n;o>t;o--)i.push(o);return i}function CU(e,t,n){const i=e.slice(0,t),o=e.slice(t);return i.concat(n,o)}function SU(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function xU(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function kU(e,t){for(const n of t)e.push(n)}function LU(e,t,n,i){const o=DU(e,t);let r=e.splice(o,n);return void 0===r&&(r=[]),function(e,t,n){const i=DU(e,t),o=e.length,r=n.length;e.length=o+r;for(let s=o-1;s>=i;s--)e[s+r]=e[s];for(let s=0;s<r;s++)e[s+i]=n[s]}(e,o,i),r}function DU(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}var EU,NU;function TU(e,t){return(n,i)=>t(e(n),e(i))}(NU=EU||(EU={})).isLessThan=function(e){return e<0},NU.isLessThanOrEqual=function(e){return e<=0},NU.isGreaterThan=function(e){return e>0},NU.isNeitherLessOrGreaterThan=function(e){return 0===e},NU.greaterThan=1,NU.lessThan=-1,NU.neitherLessOrGreaterThan=0;const IU=(e,t)=>e-t,MU=(e,t)=>IU(e?1:0,t?1:0);function RU(e){return(t,n)=>-e(t,n)}class AU{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,n}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,n}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class OU{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate((t=>(e.push(t),!0))),e}filter(e){return new OU((t=>this.iterate((n=>!e(n)||t(n)))))}map(e){return new OU((t=>this.iterate((n=>t(e(n))))))}findLast(e){let t;return this.iterate((n=>(e(n)&&(t=n),!0))),t}findLastMaxBy(e){let t,n=!0;return this.iterate((i=>((n||EU.isGreaterThan(e(i,t)))&&(n=!1,t=i),!0))),t}}function PU(e){return"string"==typeof e}function FU(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function BU(e){const t=Object.getPrototypeOf(Uint8Array);return"object"==typeof e&&e instanceof t}function zU(e){return"number"==typeof e&&!isNaN(e)}function VU(e){return!!e&&"function"==typeof e[Symbol.iterator]}function WU(e){return!0===e||!1===e}function HU(e){return void 0===e}function $U(e){return!jU(e)}function jU(e){return HU(e)||null===e}function UU(e,t){if(!e)throw new Error("Unexpected type")}function KU(e){if(jU(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function qU(e){return"function"==typeof e}function GU(e,t){if(PU(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(qU(t)){try{if(e instanceof t)return}catch(n){}if(!jU(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function YU(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.entries(e).forEach((([e,n])=>{t[e]=n&&"object"==typeof n?YU(n):n})),t}OU.empty=new OU((e=>{}));const XU=Object.prototype.hasOwnProperty;function ZU(e,t){return QU(e,t,new Set)}function QU(e,t,n){if(jU(e))return e;const i=t(e);if(void 0!==i)return i;if(Array.isArray(e)){const i=[];for(const o of e)i.push(QU(o,t,n));return i}if(FU(e)){if(n.has(e))throw new Error("Cannot clone recursive data-structure");n.add(e);const i={};for(const o in e)XU.call(e,o)&&(i[o]=QU(e[o],t,n));return n.delete(e),i}return e}function JU(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!JU(e[n],t[n]))return!1}else{const o=[];for(i in e)o.push(i);o.sort();const r=[];for(i in t)r.push(i);if(r.sort(),!JU(o,r))return!1;for(n=0;n<o.length;n++)if(!JU(e[o[n]],t[o[n]]))return!1}return!0}function eK(e){const t=[];for(const n of function(e){let t=[];for(;Object.prototype!==e;)t=t.concat(Object.getOwnPropertyNames(e)),e=Object.getPrototypeOf(e);return t}(e))"function"==typeof e[n]&&t.push(n);return t}let tK="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function nK(e,t,...n){return function(e,t){let n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,n)=>{const i=n[0],o=t[i];let r=e;return"string"==typeof o?r=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(r=String(o)),r})),tK&&(n="［"+n.replace(/[aouei]/g,"$&$&")+"］"),n}(t,n)}var iK;const oK="en";let rK,sK,aK,lK=!1,cK=!1,uK=!1,hK=!1,dK=!1,gK=!1,fK=!1,pK=oK,mK=oK;const vK="object"==typeof self?self:"object"==typeof global?global:{};let bK;void 0!==vK.vscode&&void 0!==vK.vscode.process?bK=vK.vscode.process:"undefined"!=typeof process&&(bK=process);const _K="string"==typeof(null===(iK=null==bK?void 0:bK.versions)||void 0===iK?void 0:iK.electron)&&"renderer"===(null==bK?void 0:bK.type);if("object"!=typeof navigator||_K)if("object"==typeof bK){lK="win32"===bK.platform,cK="darwin"===bK.platform,uK="linux"===bK.platform,uK&&bK.env.SNAP&&bK.env.SNAP_REVISION,bK.env.CI||bK.env.BUILD_ARTIFACTSTAGINGDIRECTORY,rK=oK,pK=oK;const e=bK.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),n=t.availableLanguages["*"];rK=t.locale,mK=t.osLocale,pK=n||oK,sK=t._translationsConfigFile}catch(fTe){}hK=!0}else console.error("Unable to resolve platform.");else aK=navigator.userAgent,lK=aK.indexOf("Windows")>=0,cK=aK.indexOf("Macintosh")>=0,gK=(aK.indexOf("Macintosh")>=0||aK.indexOf("iPad")>=0||aK.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,uK=aK.indexOf("Linux")>=0,fK=(null==aK?void 0:aK.indexOf("Mobi"))>=0,dK=!0,nK(0,"_"),rK=oK,pK=rK,mK=navigator.language;const yK=lK,wK=cK,CK=uK,SK=hK,xK=dK,kK=dK&&"function"==typeof vK.importScripts,LK=gK,DK=fK,EK=aK,NK="function"==typeof vK.postMessage&&!vK.importScripts,TK=(()=>{if(NK){const e=[];vK.addEventListener("message",(t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){const i=e[n];if(i.id===t.data.vscodeScheduleAsyncWork)return e.splice(n,1),void i.callback()}}));let t=0;return n=>{const i=++t;e.push({id:i,callback:n}),vK.postMessage({vscodeScheduleAsyncWork:i},"*")}}return e=>setTimeout(e)})(),IK=cK||gK?2:lK?1:3;let MK=!0,RK=!1;const AK=!!(EK&&EK.indexOf("Chrome")>=0),OK=!!(EK&&EK.indexOf("Firefox")>=0),PK=!!(!AK&&EK&&EK.indexOf("Safari")>=0),FK=!!(EK&&EK.indexOf("Edg/")>=0);EK&&EK.indexOf("Android");const BK={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var zK;!function(e){function t(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]}e.is=t;const n=Object.freeze([]);function*i(e){yield e}e.empty=function(){return n},e.single=i,e.wrap=function(e){return t(e)?e:i(e)},e.from=function(e){return e||n},e.reverse=function*(e){for(let t=e.length-1;t>=0;t--)yield e[t]},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const n of e)if(t(n))return!0;return!1},e.find=function(e,t){for(const n of e)if(t(n))return n},e.filter=function*(e,t){for(const n of e)t(n)&&(yield n)},e.map=function*(e,t){let n=0;for(const i of e)yield t(i,n++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,n){let i=n;for(const o of e)i=t(i,o);return i},e.slice=function*(e,t,n=e.length){for(t<0&&(t+=e.length),n<0?n+=e.length:n>e.length&&(n=e.length);t<n;t++)yield e[t]},e.consume=function(t,n=Number.POSITIVE_INFINITY){const i=[];if(0===n)return[i,t];const o=t[Symbol.iterator]();for(let r=0;r<n;r++){const t=o.next();if(t.done)return[i,e.empty()];i.push(t.value)}return[i,{[Symbol.iterator]:()=>o}]}}(zK||(zK={}));let VK=class e{constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};VK.Undefined=new VK(void 0);class WK{constructor(){this._first=VK.Undefined,this._last=VK.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===VK.Undefined}clear(){let e=this._first;for(;e!==VK.Undefined;){const t=e.next;e.prev=VK.Undefined,e.next=VK.Undefined,e=t}this._first=VK.Undefined,this._last=VK.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const n=new VK(e);if(this._first===VK.Undefined)this._first=n,this._last=n;else if(t){const e=this._last;this._last=n,n.prev=e,e.next=n}else{const e=this._first;this._first=n,n.next=e,e.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==VK.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==VK.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==VK.Undefined&&e.next!==VK.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===VK.Undefined&&e.next===VK.Undefined?(this._first=VK.Undefined,this._last=VK.Undefined):e.next===VK.Undefined?(this._last=this._last.prev,this._last.next=VK.Undefined):e.prev===VK.Undefined&&(this._first=this._first.next,this._first.prev=VK.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==VK.Undefined;)yield e.element,e=e.next}}const HK="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const $K=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const n of HK)e.indexOf(n)>=0||(t+="\\"+n);return t+="\\s]+)",new RegExp(t,"g")}();function jK(e){let t=$K;if(e&&e instanceof RegExp)if(e.global)t=e;else{let n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}const UK=new WK;function KK(e,t,n,i,o){if(o||(o=zK.first(UK)),n.length>o.maxLen){let r=e-o.maxLen/2;return r<0?r=0:i+=r,KK(e,t,n=n.substring(r,e+o.maxLen/2),i,o)}const r=Date.now(),s=e-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-r>=o.timeBudget);c++){const e=s-o.windowSize*c;t.lastIndex=Math.max(0,e);const i=qK(t,n,s,a);if(!i&&l)break;if(l=i,e<=0)break;a=e}if(l){const e={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return t.lastIndex=0,e}return null}function qK(e,t,n,i){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=n&&e.lastIndex>=n)return o;if(i>0&&t>i)return null}return null}UK.unshift({maxLen:1e3,windowSize:15,timeBudget:150});class GK{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class YK{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class XK{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}applyUpdate(e,t){return QK(e,t)}compute(e,t,n){return n}}class ZK{constructor(e,t){this.newValue=e,this.didChange=t}}function QK(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return new ZK(t,e!==t);if(Array.isArray(e)||Array.isArray(t)){const n=Array.isArray(e)&&Array.isArray(t)&&pU(e,t);return new ZK(t,!n)}let n=!1;for(const i in t)if(t.hasOwnProperty(i)){const o=QK(e[i],t[i]);o.didChange&&(e[i]=o.newValue,n=!0)}return new ZK(e,n)}class JK{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return QK(e,t)}validate(e){return this.defaultValue}}class eq{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}applyUpdate(e,t){return QK(e,t)}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,n){return n}}function tq(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class nq extends eq{constructor(e,t,n,i=void 0){void 0!==i&&(i.type="boolean",i.default=n),super(e,t,n,i)}validate(e){return tq(e,this.defaultValue)}}function iq(e,t,n,i){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(n,o),o=Math.min(i,o),0|o)}class oq extends eq{static clampedInt(e,t,n,i){return iq(e,t,n,i)}constructor(e,t,n,i,o,r=void 0){void 0!==r&&(r.type="integer",r.default=n,r.minimum=i,r.maximum=o),super(e,t,n,r),this.minimum=i,this.maximum=o}validate(e){return oq.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function rq(e,t,n,i){if(void 0===e)return t;const o=sq.float(e,t);return sq.clamp(o,n,i)}class sq extends eq{static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const n=parseFloat(e);return isNaN(n)?t:n}constructor(e,t,n,i,o){void 0!==o&&(o.type="number",o.default=n),super(e,t,n,o),this.validationFn=i}validate(e){return this.validationFn(sq.float(e,this.defaultValue))}}class aq extends eq{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,n,i=void 0){void 0!==i&&(i.type="string",i.default=n),super(e,t,n,i)}validate(e){return aq.string(e,this.defaultValue)}}function lq(e,t,n,i){return"string"!=typeof e?t:i&&e in i?i[e]:-1===n.indexOf(e)?t:e}class cq extends eq{constructor(e,t,n,i,o=void 0){void 0!==o&&(o.type="string",o.enum=i,o.default=n),super(e,t,n,o),this._allowedValues=i}validate(e){return lq(e,this.defaultValue,this._allowedValues)}}class uq extends XK{constructor(e,t,n,i,o,r,s=void 0){void 0!==s&&(s.type="string",s.enum=o,s.default=i),super(e,t,n,s),this._allowedValues=o,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var hq,dq;(dq=hq||(hq={}))[dq.Line=1]="Line",dq[dq.Block=2]="Block",dq[dq.Underline=3]="Underline",dq[dq.LineThin=4]="LineThin",dq[dq.BlockOutline=5]="BlockOutline",dq[dq.UnderlineThin=6]="UnderlineThin";class gq extends XK{constructor(){super(51,"fontLigatures",gq.OFF,{anyOf:[{type:"boolean",description:nK(0,"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:nK(0,"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:nK(0,"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?gq.OFF:"true"===e?gq.ON:e:Boolean(e)?gq.ON:gq.OFF}}gq.OFF='"liga" off, "calt" off',gq.ON='"liga" on, "calt" on';class fq extends XK{constructor(){super(54,"fontVariations",fq.OFF,{anyOf:[{type:"boolean",description:nK(0,"Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:nK(0,"Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:nK(0,"Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?fq.OFF:"true"===e?fq.TRANSLATE:e:Boolean(e)?fq.TRANSLATE:fq.OFF}compute(e,t,n){return e.fontInfo.fontVariationSettings}}fq.OFF="normal",fq.TRANSLATE="translate";class pq extends XK{constructor(){super(53,"fontWeight",Eq.fontWeight,{anyOf:[{type:"number",minimum:pq.MINIMUM_VALUE,maximum:pq.MAXIMUM_VALUE,errorMessage:nK(0,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:pq.SUGGESTION_VALUES}],default:Eq.fontWeight,description:nK(0,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(oq.clampedInt(e,Eq.fontWeight,pq.MINIMUM_VALUE,pq.MAXIMUM_VALUE))}}pq.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],pq.MINIMUM_VALUE=1,pq.MAXIMUM_VALUE=1e3;class mq extends JK{constructor(){super(143)}compute(e,t,n){return mq.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,n=Math.floor(e.paddingTop/e.lineHeight);let i=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(i=Math.max(i,t-1));const o=(n+e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:n,extraLinesBeyondLastLine:i,desiredRatio:o,minimapLineCount:Math.floor(e.viewLineCount/o)}}static _computeMinimapLayout(e,t){const n=e.outerWidth,i=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*i),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:i};const r=t.stableMinimapLayoutInput,s=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.paddingTop===r.paddingTop&&e.paddingBottom===r.paddingBottom&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let h=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const d=e.minimap.maxColumn,g=e.minimap.size,f=e.minimap.side,p=e.verticalScrollbarWidth,m=e.viewLineCount,v=e.remainingWidth,b=e.isViewportWrapping,_=u?2:3;let y=Math.floor(o*i);const w=y/o;let C=!1,S=!1,x=_*h,k=h/o,L=1;if("fill"===g||"fit"===g){const{typicalViewportLineCount:n,extraLinesBeforeFirstLine:r,extraLinesBeyondLastLine:l,desiredRatio:u,minimapLineCount:d}=mq.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:c,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:i,lineHeight:a,pixelRatio:o});if(m/d>1)C=!0,S=!0,h=1,x=1,k=h/o;else{let i=!1,c=h+1;if("fit"===g){const e=Math.ceil((r+m+l)*x);b&&s&&v<=t.stableFitRemainingWidth?(i=!0,c=t.stableFitMaxMinimapScale):i=e>y}if("fill"===g||i){C=!0;const i=h;x=Math.min(a*o,Math.max(1,Math.floor(1/u))),b&&s&&v<=t.stableFitRemainingWidth&&(c=t.stableFitMaxMinimapScale),h=Math.min(c,Math.max(1,Math.floor(x/_))),h>i&&(L=Math.min(2,h/i)),k=h/o/L,y=Math.ceil(Math.max(n,r+m+l)*x),b?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=v,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const D=Math.floor(d*k),E=Math.min(D,Math.max(0,Math.floor((v-p-2)*k/(l+k)))+8);let N=Math.floor(o*E);const T=N/o;N=Math.floor(N*L);return{renderMinimap:u?1:2,minimapLeft:"left"===f?0:n-E-p,minimapWidth:E,minimapHeightIsEditorHeight:C,minimapIsSampling:S,minimapScale:h,minimapLineHeight:x,minimapCanvasInnerWidth:N,minimapCanvasInnerHeight:y,minimapCanvasOuterWidth:T,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const n=0|t.outerWidth,i=0|t.outerHeight,o=0|t.lineHeight,r=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,c=t.viewLineCount,u=e.get(135),h="inherit"===u?e.get(134):u,d="inherit"===h?e.get(130):h,g=e.get(133),f=t.isDominatedByLongLines,p=e.get(57),m=0!==e.get(67).renderType,v=e.get(68),b=e.get(104),_=e.get(83),y=e.get(72),w=e.get(102),C=w.verticalScrollbarSize,S=w.verticalHasArrows,x=w.arrowSize,k=w.horizontalScrollbarSize,L=e.get(43),D="never"!==e.get(109);let E=e.get(65);L&&D&&(E+=16);let N=0;if(m){const e=Math.max(r,v);N=Math.round(e*a)}let T=0;p&&(T=o*t.glyphMarginDecorationLaneCount);let I=0,M=I+T,R=M+N,A=R+E;const O=n-T-N-E;let P=!1,F=!1,B=-1;"inherit"===h&&f?(P=!0,F=!0):"on"===d||"bounded"===d?F=!0:"wordWrapColumn"===d&&(B=g);const z=mq._computeMinimapLayout({outerWidth:n,outerHeight:i,lineHeight:o,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:b,paddingTop:_.top,paddingBottom:_.bottom,minimap:y,verticalScrollbarWidth:C,viewLineCount:c,remainingWidth:O,isViewportWrapping:F},t.memory||new YK);0!==z.renderMinimap&&0===z.minimapLeft&&(I+=z.minimapWidth,M+=z.minimapWidth,R+=z.minimapWidth,A+=z.minimapWidth);const V=O-z.minimapWidth,W=Math.max(1,Math.floor((V-C-2)/s)),H=S?x:0;return F&&(B=Math.max(1,W),"bounded"===d&&(B=Math.min(B,g))),{width:n,height:i,glyphMarginLeft:I,glyphMarginWidth:T,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:M,lineNumbersWidth:N,decorationsLeft:R,decorationsWidth:E,contentLeft:A,contentWidth:V,minimap:z,viewportColumn:W,isWordWrapMinified:P,isViewportWrapping:F,wrappingColumn:B,verticalScrollbarWidth:C,horizontalScrollbarHeight:k,overviewRuler:{top:H,width:C,height:i-2*H,right:0}}}}function vq(e){const t=e.get(97);return"editable"===t?e.get(90):"on"!==t}function bq(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const _q="inUntrustedWorkspace",yq="editor.unicodeHighlight.allowedCharacters",wq="editor.unicodeHighlight.invisibleCharacters",Cq="editor.unicodeHighlight.nonBasicASCII",Sq="editor.unicodeHighlight.ambiguousCharacters",xq="editor.unicodeHighlight.includeComments",kq="editor.unicodeHighlight.includeStrings",Lq="editor.unicodeHighlight.allowedLocales";function Dq(e,t,n){const i=n.indexOf(e);return-1===i?t:n[i]}const Eq={fontFamily:wK?"Menlo, Monaco, 'Courier New', monospace":CK?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:wK?12:14,lineHeight:0,letterSpacing:0},Nq=[];function Tq(e){return Nq[e.id]=e,e}const Iq={acceptSuggestionOnCommitCharacter:Tq(new nq(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:nK(0,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Tq(new cq(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",nK(0,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:nK(0,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Tq(new class extends XK{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[nK(0,"Use platform APIs to detect when a Screen Reader is attached"),nK(0,"Optimize for usage with a Screen Reader"),nK(0,"Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:nK(0,"Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return 0===n?e.accessibilitySupport:n}}),accessibilityPageSize:Tq(new oq(3,"accessibilityPageSize",10,1,1073741824,{description:nK(0,"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Tq(new aq(4,"ariaLabel",nK(0,"Editor content"))),ariaRequired:Tq(new nq(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Tq(new nq(8,"screenReaderAnnounceInlineSuggestion",!0,{description:nK(0,"Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Tq(new cq(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",nK(0,"Use language configurations to determine when to autoclose brackets."),nK(0,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:nK(0,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Tq(new cq(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",nK(0,"Use language configurations to determine when to autoclose comments."),nK(0,"Autoclose comments only when the cursor is to the left of whitespace."),""],description:nK(0,"Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Tq(new cq(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",nK(0,"Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:nK(0,"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Tq(new cq(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",nK(0,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:nK(0,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Tq(new cq(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",nK(0,"Use language configurations to determine when to autoclose quotes."),nK(0,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:nK(0,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Tq(new uq(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[nK(0,"The editor will not insert indentation automatically."),nK(0,"The editor will keep the current line's indentation."),nK(0,"The editor will keep the current line's indentation and honor language defined brackets."),nK(0,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),nK(0,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:nK(0,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Tq(new nq(13,"automaticLayout",!1)),autoSurround:Tq(new cq(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[nK(0,"Use language configurations to determine when to automatically surround selections."),nK(0,"Surround with quotes but not brackets."),nK(0,"Surround with brackets but not quotes."),""],description:nK(0,"Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Tq(new class extends XK{constructor(){const e={enabled:BK.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:BK.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:nK(0,"Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:nK(0,"Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:tq(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:Tq(new class extends XK{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[nK(0,"Enables bracket pair guides."),nK(0,"Enables bracket pair guides only for the active bracket pair."),nK(0,"Disables bracket pair guides.")],default:e.bracketPairs,description:nK(0,"Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[nK(0,"Enables horizontal guides as addition to vertical bracket pair guides."),nK(0,"Enables horizontal guides only for the active bracket pair."),nK(0,"Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:nK(0,"Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:nK(0,"Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:nK(0,"Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[nK(0,"Highlights the active indent guide."),nK(0,"Highlights the active indent guide even if bracket guides are highlighted."),nK(0,"Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:nK(0,"Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:Dq(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Dq(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:tq(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:tq(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Dq(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:Tq(new nq(115,"stickyTabStops",!1,{description:nK(0,"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Tq(new nq(17,"codeLens",!0,{description:nK(0,"Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Tq(new aq(18,"codeLensFontFamily","",{description:nK(0,"Controls the font family for CodeLens.")})),codeLensFontSize:Tq(new oq(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:nK(0,"Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Tq(new nq(20,"colorDecorators",!0,{description:nK(0,"Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Tq(new cq(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[nK(0,"Make the color picker appear both on click and hover of the color decorator"),nK(0,"Make the color picker appear on hover of the color decorator"),nK(0,"Make the color picker appear on click of the color decorator")],description:nK(0,"Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Tq(new oq(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:nK(0,"Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Tq(new nq(22,"columnSelection",!1,{description:nK(0,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:Tq(new class extends XK{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:nK(0,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:nK(0,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:tq(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:tq(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Tq(new nq(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Tq(new nq(25,"copyWithSyntaxHighlighting",!0,{description:nK(0,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Tq(new uq(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:nK(0,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:Tq(new cq(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[nK(0,"Smooth caret animation is disabled."),nK(0,"Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),nK(0,"Smooth caret animation is always enabled.")],description:nK(0,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Tq(new uq(28,"cursorStyle",hq.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return hq.Line;case"block":return hq.Block;case"underline":return hq.Underline;case"line-thin":return hq.LineThin;case"block-outline":return hq.BlockOutline;case"underline-thin":return hq.UnderlineThin}}),{description:nK(0,"Controls the cursor style.")})),cursorSurroundingLines:Tq(new oq(29,"cursorSurroundingLines",0,0,1073741824,{description:nK(0,"Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Tq(new cq(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[nK(0,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),nK(0,"`cursorSurroundingLines` is enforced always.")],markdownDescription:nK(0,"Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:Tq(new oq(31,"cursorWidth",0,0,1073741824,{markdownDescription:nK(0,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Tq(new nq(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Tq(new nq(33,"disableMonospaceOptimizations",!1)),domReadOnly:Tq(new nq(34,"domReadOnly",!1)),dragAndDrop:Tq(new nq(35,"dragAndDrop",!0,{description:nK(0,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Tq(new class extends nq{constructor(){super(37,"emptySelectionClipboard",!0,{description:nK(0,"Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}}),dropIntoEditor:Tq(new class extends XK{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:nK(0,"Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:nK(0,"Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[nK(0,"Show the drop selector widget after a file is dropped into the editor."),nK(0,"Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),showDropSelector:lq(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}),stickyScroll:Tq(new class extends XK{constructor(){const e={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:10,description:nK(0,"Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:nK(0,"Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:nK(0,"Enable scrolling of the sticky scroll widget with the editor's horizontal scrollbar.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),maxLineCount:oq.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:lq(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:tq(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}),experimentalWhitespaceRendering:Tq(new cq(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[nK(0,"Use a new rendering method with svgs."),nK(0,"Use a new rendering method with font characters."),nK(0,"Use the stable rendering method.")],description:nK(0,"Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Tq(new aq(39,"extraEditorClassName","")),fastScrollSensitivity:Tq(new sq(40,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:nK(0,"Scrolling speed multiplier when pressing `Alt`.")})),find:Tq(new class extends XK{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:nK(0,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[nK(0,"Never seed search string from the editor selection."),nK(0,"Always seed search string from the editor selection, including word at cursor position."),nK(0,"Only seed search string from the editor selection.")],description:nK(0,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[nK(0,"Never turn on Find in Selection automatically (default)."),nK(0,"Always turn on Find in Selection automatically."),nK(0,"Turn on Find in Selection automatically when multiple lines of content are selected.")],description:nK(0,"Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:nK(0,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:wK},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:nK(0,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:nK(0,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:tq(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":lq(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":lq(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:tq(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:tq(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:tq(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Tq(new nq(42,"fixedOverflowWidgets",!1)),folding:Tq(new nq(43,"folding",!0,{description:nK(0,"Controls whether the editor has code folding enabled.")})),foldingStrategy:Tq(new cq(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[nK(0,"Use a language-specific folding strategy if available, else the indentation-based one."),nK(0,"Use the indentation-based folding strategy.")],description:nK(0,"Controls the strategy for computing folding ranges.")})),foldingHighlight:Tq(new nq(45,"foldingHighlight",!0,{description:nK(0,"Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Tq(new nq(46,"foldingImportsByDefault",!1,{description:nK(0,"Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Tq(new oq(47,"foldingMaximumRegions",5e3,10,65e3,{description:nK(0,"The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Tq(new nq(48,"unfoldOnClickAfterEndOfLine",!1,{description:nK(0,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Tq(new aq(49,"fontFamily",Eq.fontFamily,{description:nK(0,"Controls the font family.")})),fontInfo:Tq(new class extends JK{constructor(){super(50)}compute(e,t,n){return e.fontInfo}}),fontLigatures2:Tq(new gq),fontSize:Tq(new class extends eq{constructor(){super(52,"fontSize",Eq.fontSize,{type:"number",minimum:6,maximum:100,default:Eq.fontSize,description:nK(0,"Controls the font size in pixels.")})}validate(e){const t=sq.float(e,this.defaultValue);return 0===t?Eq.fontSize:sq.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}}),fontWeight:Tq(new pq),fontVariations:Tq(new fq),formatOnPaste:Tq(new nq(55,"formatOnPaste",!1,{description:nK(0,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Tq(new nq(56,"formatOnType",!1,{description:nK(0,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Tq(new nq(57,"glyphMargin",!0,{description:nK(0,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Tq(new class extends XK{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[nK(0,"Show Peek view of the results (default)"),nK(0,"Go to the primary result and show a Peek view"),nK(0,"Go to the primary result and enable Peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:nK(0,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:nK(0,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:nK(0,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:nK(0,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:nK(0,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:nK(0,"Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:nK(0,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:nK(0,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:nK(0,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:nK(0,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:nK(0,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,n,i,o,r;if(!e||"object"!=typeof e)return this.defaultValue;const s=e;return{multiple:lq(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:lq(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(n=s.multipleTypeDefinitions)&&void 0!==n?n:lq(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(i=s.multipleDeclarations)&&void 0!==i?i:lq(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=s.multipleImplementations)&&void 0!==o?o:lq(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=s.multipleReferences)&&void 0!==r?r:lq(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:aq.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:aq.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:aq.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:aq.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:aq.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:Tq(new nq(59,"hideCursorInOverviewRuler",!1,{description:nK(0,"Controls whether the cursor should be hidden in the overview ruler.")})),hover:Tq(new class extends XK{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:nK(0,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:nK(0,"Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:nK(0,"Controls the delay in milliseconds after thich the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:nK(0,"Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),delay:oq.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:tq(t.sticky,this.defaultValue.sticky),hidingDelay:oq.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:tq(t.above,this.defaultValue.above)}}}),inDiffEditor:Tq(new nq(61,"inDiffEditor",!1)),letterSpacing:Tq(new sq(63,"letterSpacing",Eq.letterSpacing,(e=>sq.clamp(e,-5,20)),{description:nK(0,"Controls the letter spacing in pixels.")})),lightbulb:Tq(new class extends XK{constructor(){const e={enabled:!0};super(64,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Enables the Code Action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:tq(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:Tq(new class extends XK{constructor(){super(65,"lineDecorationsWidth",10)}validate(e){if("string"==typeof e&&/^\d+(\.\d+)?ch$/.test(e)){return-parseFloat(e.substring(0,e.length-2))}return oq.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,n){return n<0?oq.clampedInt(-n*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):n}}),lineHeight:Tq(new class extends sq{constructor(){super(66,"lineHeight",Eq.lineHeight,(e=>sq.clamp(e,0,150)),{markdownDescription:nK(0,"Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,n){return e.fontInfo.lineHeight}}),lineNumbers:Tq(new class extends XK{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[nK(0,"Line numbers are not rendered."),nK(0,"Line numbers are rendered as absolute number."),nK(0,"Line numbers are rendered as distance in lines to cursor position."),nK(0,"Line numbers are rendered every 10 lines.")],default:"on",description:nK(0,"Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,n=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:n}}}),lineNumbersMinChars:Tq(new oq(68,"lineNumbersMinChars",5,1,300)),linkedEditing:Tq(new nq(69,"linkedEditing",!1,{description:nK(0,"Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Tq(new nq(70,"links",!0,{description:nK(0,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Tq(new cq(71,"matchBrackets","always",["always","near","never"],{description:nK(0,"Highlight matching brackets.")})),minimap:Tq(new class extends XK{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:nK(0,"Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[nK(0,"The minimap has the same size as the editor contents (and might scroll)."),nK(0,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),nK(0,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:nK(0,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:nK(0,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:nK(0,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:nK(0,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:nK(0,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:nK(0,"Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),autohide:tq(t.autohide,this.defaultValue.autohide),size:lq(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:lq(t.side,this.defaultValue.side,["right","left"]),showSlider:lq(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:tq(t.renderCharacters,this.defaultValue.renderCharacters),scale:oq.clampedInt(t.scale,1,1,3),maxColumn:oq.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:Tq(new cq(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Tq(new sq(74,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:nK(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Tq(new nq(75,"mouseWheelZoom",!1,{markdownDescription:nK(0,"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Tq(new nq(76,"multiCursorMergeOverlapping",!0,{description:nK(0,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Tq(new uq(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?wK?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[nK(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),nK(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:nK(0,"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Tq(new cq(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[nK(0,"Each cursor pastes a single line of the text."),nK(0,"Each cursor pastes the full text.")],markdownDescription:nK(0,"Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Tq(new oq(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:nK(0,"Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Tq(new nq(80,"occurrencesHighlight",!0,{description:nK(0,"Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Tq(new nq(81,"overviewRulerBorder",!0,{description:nK(0,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Tq(new oq(82,"overviewRulerLanes",3,0,3)),padding:Tq(new class extends XK{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:nK(0,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:nK(0,"Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:oq.clampedInt(t.top,0,0,1e3),bottom:oq.clampedInt(t.bottom,0,0,1e3)}}}),pasteAs:Tq(new class extends XK{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:nK(0,"Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:nK(0,"Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[nK(0,"Show the paste selector widget after content is pasted into the editor."),nK(0,"Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),showPasteSelector:lq(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}),parameterHints:Tq(new class extends XK{constructor(){const e={enabled:!0,cycle:!0};super(85,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:nK(0,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),cycle:tq(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Tq(new cq(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[nK(0,"Focus the tree when opening peek"),nK(0,"Focus the editor when opening peek")],description:nK(0,"Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Tq(new nq(87,"definitionLinkOpensInPeek",!1,{description:nK(0,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Tq(new class extends XK{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[nK(0,"Quick suggestions show inside the suggest widget"),nK(0,"Quick suggestions show as ghost text"),nK(0,"Quick suggestions are disabled")]}];super(88,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:nK(0,"Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:nK(0,"Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:nK(0,"Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:nK(0,"Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if("boolean"==typeof e){const t=e?"on":"off";return{comments:t,strings:t,other:t}}if(!e||"object"!=typeof e)return this.defaultValue;const{other:t,comments:n,strings:i}=e,o=["on","inline","off"];let r,s,a;return r="boolean"==typeof t?t?"on":"off":lq(t,this.defaultValue.other,o),s="boolean"==typeof n?n?"on":"off":lq(n,this.defaultValue.comments,o),a="boolean"==typeof i?i?"on":"off":lq(i,this.defaultValue.strings,o),{other:r,comments:s,strings:a}}}),quickSuggestionsDelay:Tq(new oq(89,"quickSuggestionsDelay",10,0,1073741824,{description:nK(0,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Tq(new nq(90,"readOnly",!1)),readOnlyMessage:Tq(new class extends XK{constructor(){super(91,"readOnlyMessage",void 0)}validate(e){return e&&"object"==typeof e?e:this.defaultValue}}),renameOnType:Tq(new nq(92,"renameOnType",!1,{description:nK(0,"Controls whether the editor auto renames on type."),markdownDeprecationMessage:nK(0,"Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Tq(new nq(93,"renderControlCharacters",!0,{description:nK(0,"Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Tq(new cq(94,"renderFinalNewline",CK?"dimmed":"on",["off","on","dimmed"],{description:nK(0,"Render last line number when the file ends with a newline.")})),renderLineHighlight:Tq(new cq(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",nK(0,"Highlights both the gutter and the current line.")],description:nK(0,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Tq(new nq(96,"renderLineHighlightOnlyWhenFocus",!1,{description:nK(0,"Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Tq(new cq(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Tq(new cq(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",nK(0,"Render whitespace characters except for single spaces between words."),nK(0,"Render whitespace characters only on selected text."),nK(0,"Render only trailing whitespace characters."),""],description:nK(0,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Tq(new oq(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Tq(new nq(100,"roundedSelection",!0,{description:nK(0,"Controls whether selections should have rounded corners.")})),rulers:Tq(new class extends XK{constructor(){const e=[],t={type:"number",description:nK(0,"Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:nK(0,"Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:nK(0,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const n of e)if("number"==typeof n)t.push({column:oq.clampedInt(n,0,0,1e4),color:null});else if(n&&"object"==typeof n){const e=n;t.push({column:oq.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:Tq(new class extends XK{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(102,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[nK(0,"The vertical scrollbar will be visible only when necessary."),nK(0,"The vertical scrollbar will always be visible."),nK(0,"The vertical scrollbar will always be hidden.")],default:"auto",description:nK(0,"Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[nK(0,"The horizontal scrollbar will be visible only when necessary."),nK(0,"The horizontal scrollbar will always be visible."),nK(0,"The horizontal scrollbar will always be hidden.")],default:"auto",description:nK(0,"Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:nK(0,"The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:nK(0,"The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:nK(0,"Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,n=oq.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),i=oq.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:oq.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:bq(t.vertical,this.defaultValue.vertical),horizontal:bq(t.horizontal,this.defaultValue.horizontal),useShadows:tq(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:tq(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:tq(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:tq(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:tq(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:oq.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:i,verticalSliderSize:oq.clampedInt(t.verticalSliderSize,i,0,1e3),scrollByPage:tq(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:Tq(new oq(103,"scrollBeyondLastColumn",4,0,1073741824,{description:nK(0,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Tq(new nq(104,"scrollBeyondLastLine",!0,{description:nK(0,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Tq(new nq(105,"scrollPredominantAxis",!0,{description:nK(0,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Tq(new nq(106,"selectionClipboard",!0,{description:nK(0,"Controls whether the Linux primary clipboard should be supported."),included:CK})),selectionHighlight:Tq(new nq(107,"selectionHighlight",!0,{description:nK(0,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Tq(new nq(108,"selectOnLineNumbers",!0)),showFoldingControls:Tq(new cq(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[nK(0,"Always show the folding controls."),nK(0,"Never show the folding controls and reduce the gutter size."),nK(0,"Only show the folding controls when the mouse is over the gutter.")],description:nK(0,"Controls when the folding controls on the gutter are shown.")})),showUnused:Tq(new nq(110,"showUnused",!0,{description:nK(0,"Controls fading out of unused code.")})),showDeprecated:Tq(new nq(138,"showDeprecated",!0,{description:nK(0,"Controls strikethrough deprecated variables.")})),inlayHints:Tq(new class extends XK{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:nK(0,"Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[nK(0,"Inlay hints are enabled"),nK(0,"Inlay hints are showing by default and hide when holding {0}",wK?"Ctrl+Option":"Ctrl+Alt"),nK(0,"Inlay hints are hidden by default and show when holding {0}",wK?"Ctrl+Option":"Ctrl+Alt"),nK(0,"Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:nK(0,"Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:nK(0,"Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:nK(0,"Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return"boolean"==typeof t.enabled&&(t.enabled=t.enabled?"on":"off"),{enabled:lq(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:oq.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:aq.string(t.fontFamily,this.defaultValue.fontFamily),padding:tq(t.padding,this.defaultValue.padding)}}}),snippetSuggestions:Tq(new cq(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[nK(0,"Show snippet suggestions on top of other suggestions."),nK(0,"Show snippet suggestions below other suggestions."),nK(0,"Show snippets suggestions with other suggestions."),nK(0,"Do not show snippet suggestions.")],description:nK(0,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Tq(new class extends XK{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:nK(0,"Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:nK(0,"Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:tq(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:tq(e.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue}}),smoothScrolling:Tq(new nq(113,"smoothScrolling",!1,{description:nK(0,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Tq(new oq(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Tq(new class extends XK{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[nK(0,"Insert suggestion without overwriting text right of the cursor."),nK(0,"Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:nK(0,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:nK(0,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:nK(0,"Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:nK(0,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[nK(0,"Always select a suggestion when automatically triggering IntelliSense."),nK(0,"Never select a suggestion when automatically triggering IntelliSense."),nK(0,"Select a suggestion only when triggering IntelliSense from a trigger character."),nK(0,"Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:nK(0,"Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:nK(0,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:nK(0,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:nK(0,"Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:nK(0,"Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:nK(0,"Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:nK(0,"This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:nK(0,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:nK(0,"When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:lq(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:tq(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:tq(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:tq(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:tq(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:lq(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:tq(t.showIcons,this.defaultValue.showIcons),showStatusBar:tq(t.showStatusBar,this.defaultValue.showStatusBar),preview:tq(t.preview,this.defaultValue.preview),previewMode:lq(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:tq(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:tq(t.showMethods,this.defaultValue.showMethods),showFunctions:tq(t.showFunctions,this.defaultValue.showFunctions),showConstructors:tq(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:tq(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:tq(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:tq(t.showFields,this.defaultValue.showFields),showVariables:tq(t.showVariables,this.defaultValue.showVariables),showClasses:tq(t.showClasses,this.defaultValue.showClasses),showStructs:tq(t.showStructs,this.defaultValue.showStructs),showInterfaces:tq(t.showInterfaces,this.defaultValue.showInterfaces),showModules:tq(t.showModules,this.defaultValue.showModules),showProperties:tq(t.showProperties,this.defaultValue.showProperties),showEvents:tq(t.showEvents,this.defaultValue.showEvents),showOperators:tq(t.showOperators,this.defaultValue.showOperators),showUnits:tq(t.showUnits,this.defaultValue.showUnits),showValues:tq(t.showValues,this.defaultValue.showValues),showConstants:tq(t.showConstants,this.defaultValue.showConstants),showEnums:tq(t.showEnums,this.defaultValue.showEnums),showEnumMembers:tq(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:tq(t.showKeywords,this.defaultValue.showKeywords),showWords:tq(t.showWords,this.defaultValue.showWords),showColors:tq(t.showColors,this.defaultValue.showColors),showFiles:tq(t.showFiles,this.defaultValue.showFiles),showReferences:tq(t.showReferences,this.defaultValue.showReferences),showFolders:tq(t.showFolders,this.defaultValue.showFolders),showTypeParameters:tq(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:tq(t.showSnippets,this.defaultValue.showSnippets),showUsers:tq(t.showUsers,this.defaultValue.showUsers),showIssues:tq(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Tq(new class extends XK{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:nK(0,"Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover"],enumDescriptions:[nK(0,"Show the inline suggestion toolbar whenever an inline suggestion is shown."),nK(0,"Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:nK(0,"Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:nK(0,"Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:tq(t.enabled,this.defaultValue.enabled),mode:lq(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:lq(t.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:tq(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:tq(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}),inlineCompletionsAccessibilityVerbose:Tq(new nq(147,"inlineCompletionsAccessibilityVerbose",!1,{description:nK(0,"Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Tq(new oq(118,"suggestFontSize",0,0,1e3,{markdownDescription:nK(0,"Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Tq(new oq(119,"suggestLineHeight",0,0,1e3,{markdownDescription:nK(0,"Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Tq(new nq(120,"suggestOnTriggerCharacters",!0,{description:nK(0,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Tq(new cq(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[nK(0,"Always select the first suggestion."),nK(0,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),nK(0,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:nK(0,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Tq(new cq(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[nK(0,"Tab complete will insert the best matching suggestion when pressing tab."),nK(0,"Disable tab completions."),nK(0,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:nK(0,"Enables tab completions.")})),tabIndex:Tq(new oq(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:Tq(new class extends XK{constructor(){const e={nonBasicASCII:_q,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:_q,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",e,{[Cq]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_q],default:e.nonBasicASCII,description:nK(0,"Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[wq]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:nK(0,"Controls whether characters that just reserve space or have no width at all are highlighted.")},[Sq]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:nK(0,"Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[xq]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_q],default:e.includeComments,description:nK(0,"Controls whether characters in comments should also be subject to Unicode highlighting.")},[kq]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_q],default:e.includeStrings,description:nK(0,"Controls whether characters in strings should also be subject to Unicode highlighting.")},[yq]:{restricted:!0,type:"object",default:e.allowedCharacters,description:nK(0,"Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Lq]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:nK(0,"Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let n=!1;t.allowedCharacters&&e&&(JU(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),n=!0)),t.allowedLocales&&e&&(JU(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),n=!0));const i=super.applyUpdate(e,t);return n?new ZK(i.newValue,!0):i}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{nonBasicASCII:Dq(t.nonBasicASCII,_q,[!0,!1,_q]),invisibleCharacters:tq(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:tq(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Dq(t.includeComments,_q,[!0,!1,_q]),includeStrings:Dq(t.includeStrings,_q,[!0,!1,_q]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if("object"!=typeof e||!e)return t;const n={};for(const[i,o]of Object.entries(e))!0===o&&(n[i]=!0);return n}}),unusualLineTerminators:Tq(new cq(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[nK(0,"Unusual line terminators are automatically removed."),nK(0,"Unusual line terminators are ignored."),nK(0,"Unusual line terminators prompt to be removed.")],description:nK(0,"Remove unusual line terminators that might cause problems.")})),useShadowDOM:Tq(new nq(126,"useShadowDOM",!0)),useTabStops:Tq(new nq(127,"useTabStops",!0,{description:nK(0,"Inserting and deleting whitespace follows tab stops.")})),wordBreak:Tq(new cq(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[nK(0,"Use the default line break rule."),nK(0,"Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:nK(0,"Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:Tq(new aq(129,"wordSeparators",HK,{description:nK(0,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Tq(new cq(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[nK(0,"Lines will never wrap."),nK(0,"Lines will wrap at the viewport width."),nK(0,"Lines will wrap at `#editor.wordWrapColumn#`."),nK(0,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:nK(0,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Tq(new aq(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:Tq(new aq(132,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:Tq(new oq(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:nK(0,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Tq(new cq(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Tq(new cq(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Tq(new class extends JK{constructor(){super(140)}compute(e,t,n){const i=["monaco-editor"];return t.get(39)&&i.push(t.get(39)),e.extraEditorClassName&&i.push(e.extraEditorClassName),"default"===t.get(73)?i.push("mouse-default"):"copy"===t.get(73)&&i.push("mouse-copy"),t.get(110)&&i.push("showUnused"),t.get(138)&&i.push("showDeprecated"),i.join(" ")}}),defaultColorDecorators:Tq(new nq(145,"defaultColorDecorators",!1,{markdownDescription:nK(0,"Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Tq(new class extends JK{constructor(){super(141)}compute(e,t,n){return e.pixelRatio}}),tabFocusMode:Tq(new nq(142,"tabFocusMode",!1,{markdownDescription:nK(0,"Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Tq(new mq),wrappingInfo:Tq(new class extends JK{constructor(){super(144)}compute(e,t,n){const i=t.get(143);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:i.isWordWrapMinified,isViewportWrapping:i.isViewportWrapping,wrappingColumn:i.wrappingColumn}}}),wrappingIndent:Tq(new class extends XK{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[nK(0,"No indentation. Wrapped lines begin at column 1."),nK(0,"Wrapped lines get the same indentation as the parent."),nK(0,"Wrapped lines get +1 indentation toward the parent."),nK(0,"Wrapped lines get +2 indentation toward the parent.")],description:nK(0,"Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,n){return 2===t.get(2)?0:n}}),wrappingStrategy:Tq(new class extends XK{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[nK(0,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),nK(0,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:nK(0,"Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return lq(e,"simple",["simple","advanced"])}compute(e,t,n){return 2===t.get(2)?"advanced":n}})};const Mq=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack){if(Hq.isErrorNoTelemetry(e))throw new Hq(e.message+"\n\n"+e.stack);throw new Error(e.message+"\n\n"+e.stack)}throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function Rq(e){Fq(e)||Mq.onUnexpectedError(e)}function Aq(e){Fq(e)||Mq.onUnexpectedExternalError(e)}function Oq(e){if(e instanceof Error){const{name:t,message:n}=e;return{$isError:!0,name:t,message:n,stack:e.stacktrace||e.stack,noTelemetry:Hq.isErrorNoTelemetry(e)}}return e}const Pq="Canceled";function Fq(e){return e instanceof Bq||e instanceof Error&&e.name===Pq&&e.message===Pq}class Bq extends Error{constructor(){super(Pq),this.name=this.message}}function zq(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}function Vq(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}class Wq extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class Hq extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof Hq)return e;const t=new Hq;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return"CodeExpectedError"===e.name}}class $q extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,$q.prototype)}}function jq(e){const t=this;let n,i=!1;return function(){return i||(i=!0,n=e.apply(t,arguments)),n}}function Uq(e){if(zK.is(e)){const t=[];for(const n of e)if(n)try{n.dispose()}catch(fTe){t.push(fTe)}if(1===t.length)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function Kq(...e){return qq((()=>Uq(e)))}function qq(e){return{dispose:jq((()=>{e()}))}}class Gq{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{Uq(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?Gq.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}}Gq.DISABLE_DISPOSED_WARNING=!1;class Yq{constructor(){this._store=new Gq,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}Yq.None=Object.freeze({dispose(){}});class Xq{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}}class Zq{constructor(e){this.object=e}dispose(){}}class Qq{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Uq(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,n=!1){var i;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||null===(i=this._store.get(e))||void 0===i||i.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;null===(t=this._store.get(e))||void 0===t||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const Jq=globalThis.performance&&"function"==typeof globalThis.performance.now;class eG{static create(e){return new eG(e)}constructor(e){this._now=Jq&&!1===e?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}var tG;!function(e){function t(e){return(t,n=null,i)=>{let o,r=!1;return o=e((e=>{if(!r)return o?o.dispose():r=!0,t.call(n,e)}),null,i),r&&o.dispose(),o}}function n(e,t,n){return o(((n,i=null,o)=>e((e=>n.call(i,t(e))),null,o)),n)}function i(e,t,n){return o(((n,i=null,o)=>e((e=>t(e)&&n.call(i,e)),null,o)),n)}function o(e,t){let n;const i=new sG({onWillAddFirstListener(){n=e(i.fire,i)},onDidRemoveLastListener(){null==n||n.dispose()}});return null==t||t.add(i),i.event}function r(e,t,n=100,i=!1,o=!1,r,s){let a,l,c,u,h=0;const d=new sG({leakWarningThreshold:r,onWillAddFirstListener(){a=e((e=>{h++,l=t(l,e),i&&!c&&(d.fire(l),l=void 0),u=()=>{const e=l;l=void 0,c=void 0,(!i||h>1)&&d.fire(e),h=0},"number"==typeof n?(clearTimeout(c),c=setTimeout(u,n)):void 0===c&&(c=0,queueMicrotask(u))}))},onWillRemoveListener(){o&&h>0&&(null==u||u())},onDidRemoveLastListener(){u=void 0,a.dispose()}});return null==s||s.add(d),d.event}e.None=()=>Yq.None,e.defer=function(e,t){return r(e,(()=>{}),0,void 0,!0,void 0,t)},e.once=t,e.map=n,e.forEach=function(e,t,n){return o(((n,i=null,o)=>e((e=>{t(e),n.call(i,e)}),null,o)),n)},e.filter=i,e.signal=function(e){return e},e.any=function(...e){return(t,n=null,i)=>function(e,t){t instanceof Array?t.push(e):t&&t.add(e);return e}(Kq(...e.map((e=>e((e=>t.call(n,e)))))),i)},e.reduce=function(e,t,i,o){let r=i;return n(e,(e=>(r=t(r,e),r)),o)},e.debounce=r,e.accumulate=function(t,n=0,i){return e.debounce(t,((e,t)=>e?(e.push(t),e):[t]),n,void 0,!0,void 0,i)},e.latch=function(e,t=(e,t)=>e===t,n){let o,r=!0;return i(e,(e=>{const n=r||!t(e,o);return r=!1,o=e,n}),n)},e.split=function(t,n,i){return[e.filter(t,n,i),e.filter(t,(e=>!n(e)),i)]},e.buffer=function(e,t=!1,n=[],i){let o=n.slice(),r=e((e=>{o?o.push(e):a.fire(e)}));i&&i.add(r);const s=()=>{null==o||o.forEach((e=>a.fire(e))),o=null},a=new sG({onWillAddFirstListener(){r||(r=e((e=>a.fire(e))),i&&i.add(r))},onDidAddFirstListener(){o&&(t?setTimeout(s):s())},onDidRemoveLastListener(){r&&r.dispose(),r=null}});return i&&i.add(a),a.event},e.chain=function(e,t){return(n,i,o)=>{const r=t(new a);return e((function(e){const t=r.evaluate(e);t!==s&&n.call(i,t)}),void 0,o)}};const s=Symbol("HaltChainable");class a{constructor(){this.steps=[]}map(e){return this.steps.push(e),this}forEach(e){return this.steps.push((t=>(e(t),t))),this}filter(e){return this.steps.push((t=>e(t)?t:s)),this}reduce(e,t){let n=t;return this.steps.push((t=>(n=e(n,t),n))),this}latch(e=(e,t)=>e===t){let t,n=!0;return this.steps.push((i=>{const o=n||!e(i,t);return n=!1,t=i,o?i:s})),this}evaluate(e){for(const t of this.steps)if((e=t(e))===s)break;return e}}e.fromNodeEventEmitter=function(e,t,n=e=>e){const i=(...e)=>o.fire(n(...e)),o=new sG({onWillAddFirstListener:()=>e.on(t,i),onDidRemoveLastListener:()=>e.removeListener(t,i)});return o.event},e.fromDOMEventEmitter=function(e,t,n=e=>e){const i=(...e)=>o.fire(n(...e)),o=new sG({onWillAddFirstListener:()=>e.addEventListener(t,i),onDidRemoveLastListener:()=>e.removeEventListener(t,i)});return o.event},e.toPromise=function(e){return new Promise((n=>t(e)(n)))},e.fromPromise=function(e){const t=new sG;return e.then((e=>{t.fire(e)}),(()=>{t.fire(void 0)})).finally((()=>{t.dispose()})),t.event},e.runAndSubscribe=function(e,t){return t(void 0),e((e=>t(e)))},e.runAndSubscribeWithStore=function(e,t){let n=null;function i(e){null==n||n.dispose(),n=new Gq,t(e,n)}i(void 0);const o=e((e=>i(e)));return qq((()=>{o.dispose(),null==n||n.dispose()}))};class l{constructor(e,t){this._observable=e,this._counter=0,this._hasChanged=!1;const n={onWillAddFirstListener:()=>{e.addObserver(this)},onDidRemoveLastListener:()=>{e.removeObserver(this)}};this.emitter=new sG(n),t&&t.add(this.emitter)}beginUpdate(e){this._counter++}handlePossibleChange(e){}handleChange(e,t){this._hasChanged=!0}endUpdate(e){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}e.fromObservable=function(e,t){return new l(e,t).emitter.event},e.fromObservableLight=function(e){return t=>{let n=0,i=!1;const o={beginUpdate(){n++},endUpdate(){n--,0===n&&(e.reportChanges(),i&&(i=!1,t()))},handlePossibleChange(){},handleChange(){i=!0}};return e.addObserver(o),e.reportChanges(),{dispose(){e.removeObserver(o)}}}}}(tG||(tG={}));class nG{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${nG._idPool++}`,nG.all.add(this)}start(e){this._stopWatch=new eG,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}nG.all=new Set,nG._idPool=0;class iG{constructor(e,t=Math.random().toString(18).slice(2,5)){this.threshold=e,this.name=t,this._warnCountdown=0}dispose(){var e;null===(e=this._stacks)||void 0===e||e.clear()}check(e,t){const n=this.threshold;if(n<=0||t<n)return;this._stacks||(this._stacks=new Map);const i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){let e;this._warnCountdown=.5*n;let i=0;for(const[t,n]of this._stacks)(!e||i<n)&&(e=t,i=n);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${i}):`),console.warn(e)}return()=>{const t=this._stacks.get(e.value)||0;this._stacks.set(e.value,t-1)}}}class oG{static create(){var e;return new oG(null!==(e=(new Error).stack)&&void 0!==e?e:"")}constructor(e){this.value=e}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class rG{constructor(e){this.value=e}}let sG=class{constructor(e){var t,n,i,o,r;this._size=0,this._options=e,this._leakageMon=(null===(t=this._options)||void 0===t?void 0:t.leakWarningThreshold)?new iG(null!==(i=null===(n=this._options)||void 0===n?void 0:n.leakWarningThreshold)&&void 0!==i?i:-1):void 0,this._perfMon=(null===(o=this._options)||void 0===o?void 0:o._profName)?new nG(this._options._profName):void 0,this._deliveryQueue=null===(r=this._options)||void 0===r?void 0:r.deliveryQueue}dispose(){var e,t,n,i;this._disposed||(this._disposed=!0,(null===(e=this._deliveryQueue)||void 0===e?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),null===(n=null===(t=this._options)||void 0===t?void 0:t.onDidRemoveLastListener)||void 0===n||n.call(t),null===(i=this._leakageMon)||void 0===i||i.dispose())}get event(){var e;return null!==(e=this._event)&&void 0!==e||(this._event=(e,t,n)=>{var i,o,r,s,a;if(this._leakageMon&&this._size>3*this._leakageMon.threshold)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),Yq.None;if(this._disposed)return Yq.None;t&&(e=e.bind(t));const l=new rG(e);let c;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(l.stack=oG.create(),c=this._leakageMon.check(l.stack,this._size+1)),this._listeners?this._listeners instanceof rG?(null!==(a=this._deliveryQueue)&&void 0!==a||(this._deliveryQueue=new aG),this._listeners=[this._listeners,l]):this._listeners.push(l):(null===(o=null===(i=this._options)||void 0===i?void 0:i.onWillAddFirstListener)||void 0===o||o.call(i,this),this._listeners=l,null===(s=null===(r=this._options)||void 0===r?void 0:r.onDidAddFirstListener)||void 0===s||s.call(r,this)),this._size++;const u=qq((()=>{null==c||c(),this._removeListener(l)}));return n instanceof Gq?n.add(u):Array.isArray(n)&&n.push(u),u}),this._event}_removeListener(e){var t,n,i,o;if(null===(n=null===(t=this._options)||void 0===t?void 0:t.onWillRemoveListener)||void 0===n||n.call(t,this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,null===(o=null===(i=this._options)||void 0===i?void 0:i.onDidRemoveLastListener)||void 0===o||o.call(i,this),void(this._size=0);const r=this._listeners,s=r.indexOf(e);if(-1===s)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[s]=void 0;const a=this._deliveryQueue.current===this;if(2*this._size<=r.length){let e=0;for(let t=0;t<r.length;t++)r[t]?r[e++]=r[t]:a&&(this._deliveryQueue.end--,e<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=e}}_deliver(e,t){var n;if(!e)return;const i=(null===(n=this._options)||void 0===n?void 0:n.onListenerError)||Rq;if(i)try{e.value(t)}catch(fTe){i(fTe)}else e.value(t)}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,n,i,o;if((null===(t=this._deliveryQueue)||void 0===t?void 0:t.current)&&(this._deliverQueue(this._deliveryQueue),null===(n=this._perfMon)||void 0===n||n.stop()),null===(i=this._perfMon)||void 0===i||i.start(this._size),this._listeners)if(this._listeners instanceof rG)this._deliver(this._listeners,e);else{const t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}else;null===(o=this._perfMon)||void 0===o||o.stop()}hasListeners(){return this._size>0}};class aG{constructor(){this.i=-1,this.end=0}enqueue(e,t,n){this.i=0,this.end=n,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class lG extends sG{constructor(e){super(e),this._isPaused=0,this._eventQueue=new WK,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class cG extends lG{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class uG extends sG{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=null==e?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),1===this._queuedEvents.length&&queueMicrotask((()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach((e=>super.fire(e))),this._queuedEvents=[]})))}}class hG{constructor(){this.buffers=[]}wrapEvent(e){return(t,n,i)=>e((e=>{const i=this.buffers[this.buffers.length-1];i?i.push((()=>t.call(n,e))):t.call(n,e)}),void 0,i)}bufferEvents(e){const t=[];this.buffers.push(t);const n=e();return this.buffers.pop(),t.forEach((e=>e())),n}}class dG{constructor(){this.listening=!1,this.inputEvent=tG.None,this.inputEventListener=Yq.None,this.emitter=new sG({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const gG=Object.freeze((function(e,t){const n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));var fG,pG;(pG=fG||(fG={})).isCancellationToken=function(e){return e===pG.None||e===pG.Cancelled||e instanceof mG||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},pG.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:tG.None}),pG.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:gG});class mG{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?gG:(this._emitter||(this._emitter=new sG),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let vG=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new mG),this._token}cancel(){this._token?this._token instanceof mG&&this._token.cancel():this._token=fG.Cancelled}dispose(e=!1){var t;e&&this.cancel(),null===(t=this._parentListener)||void 0===t||t.dispose(),this._token?this._token instanceof mG&&this._token.dispose():this._token=fG.None}};class bG{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const _G=new bG,yG=new bG,wG=new bG,CG=new Array(230),SG=Object.create(null),xG=Object.create(null),kG=[];for(let pTe=0;pTe<=193;pTe++)kG[pTe]=-1;var LG,DG;!function(){const e="",t=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[1,1,"Hyper",0,e,0,e,e,e],[1,2,"Super",0,e,0,e,e,e],[1,3,"Fn",0,e,0,e,e,e],[1,4,"FnLock",0,e,0,e,e,e],[1,5,"Suspend",0,e,0,e,e,e],[1,6,"Resume",0,e,0,e,e,e],[1,7,"Turbo",0,e,0,e,e,e],[1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[1,9,"WakeUp",0,e,0,e,e,e],[0,10,"KeyA",31,"A",65,"VK_A",e,e],[0,11,"KeyB",32,"B",66,"VK_B",e,e],[0,12,"KeyC",33,"C",67,"VK_C",e,e],[0,13,"KeyD",34,"D",68,"VK_D",e,e],[0,14,"KeyE",35,"E",69,"VK_E",e,e],[0,15,"KeyF",36,"F",70,"VK_F",e,e],[0,16,"KeyG",37,"G",71,"VK_G",e,e],[0,17,"KeyH",38,"H",72,"VK_H",e,e],[0,18,"KeyI",39,"I",73,"VK_I",e,e],[0,19,"KeyJ",40,"J",74,"VK_J",e,e],[0,20,"KeyK",41,"K",75,"VK_K",e,e],[0,21,"KeyL",42,"L",76,"VK_L",e,e],[0,22,"KeyM",43,"M",77,"VK_M",e,e],[0,23,"KeyN",44,"N",78,"VK_N",e,e],[0,24,"KeyO",45,"O",79,"VK_O",e,e],[0,25,"KeyP",46,"P",80,"VK_P",e,e],[0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[0,27,"KeyR",48,"R",82,"VK_R",e,e],[0,28,"KeyS",49,"S",83,"VK_S",e,e],[0,29,"KeyT",50,"T",84,"VK_T",e,e],[0,30,"KeyU",51,"U",85,"VK_U",e,e],[0,31,"KeyV",52,"V",86,"VK_V",e,e],[0,32,"KeyW",53,"W",87,"VK_W",e,e],[0,33,"KeyX",54,"X",88,"VK_X",e,e],[0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[0,36,"Digit1",22,"1",49,"VK_1",e,e],[0,37,"Digit2",23,"2",50,"VK_2",e,e],[0,38,"Digit3",24,"3",51,"VK_3",e,e],[0,39,"Digit4",25,"4",52,"VK_4",e,e],[0,40,"Digit5",26,"5",53,"VK_5",e,e],[0,41,"Digit6",27,"6",54,"VK_6",e,e],[0,42,"Digit7",28,"7",55,"VK_7",e,e],[0,43,"Digit8",29,"8",56,"VK_8",e,e],[0,44,"Digit9",30,"9",57,"VK_9",e,e],[0,45,"Digit0",21,"0",48,"VK_0",e,e],[1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,e,0,e,e,e],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[1,64,"F1",59,"F1",112,"VK_F1",e,e],[1,65,"F2",60,"F2",113,"VK_F2",e,e],[1,66,"F3",61,"F3",114,"VK_F3",e,e],[1,67,"F4",62,"F4",115,"VK_F4",e,e],[1,68,"F5",63,"F5",116,"VK_F5",e,e],[1,69,"F6",64,"F6",117,"VK_F6",e,e],[1,70,"F7",65,"F7",118,"VK_F7",e,e],[1,71,"F8",66,"F8",119,"VK_F8",e,e],[1,72,"F9",67,"F9",120,"VK_F9",e,e],[1,73,"F10",68,"F10",121,"VK_F10",e,e],[1,74,"F11",69,"F11",122,"VK_F11",e,e],[1,75,"F12",70,"F12",123,"VK_F12",e,e],[1,76,"PrintScreen",0,e,0,e,e,e],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",e,e],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[1,80,"Home",14,"Home",36,"VK_HOME",e,e],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[1,83,"End",13,"End",35,"VK_END",e,e],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",e,e],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",e,e],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",e,e],[1,94,"NumpadEnter",3,e,0,e,e,e],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",e,e],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",e,e],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",e,e],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",e,e],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",e,e],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",e,e],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",e,e],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",e,e],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",e,e],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",e,e],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",e,e],[1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[1,108,"Power",0,e,0,e,e,e],[1,109,"NumpadEqual",0,e,0,e,e,e],[1,110,"F13",71,"F13",124,"VK_F13",e,e],[1,111,"F14",72,"F14",125,"VK_F14",e,e],[1,112,"F15",73,"F15",126,"VK_F15",e,e],[1,113,"F16",74,"F16",127,"VK_F16",e,e],[1,114,"F17",75,"F17",128,"VK_F17",e,e],[1,115,"F18",76,"F18",129,"VK_F18",e,e],[1,116,"F19",77,"F19",130,"VK_F19",e,e],[1,117,"F20",78,"F20",131,"VK_F20",e,e],[1,118,"F21",79,"F21",132,"VK_F21",e,e],[1,119,"F22",80,"F22",133,"VK_F22",e,e],[1,120,"F23",81,"F23",134,"VK_F23",e,e],[1,121,"F24",82,"F24",135,"VK_F24",e,e],[1,122,"Open",0,e,0,e,e,e],[1,123,"Help",0,e,0,e,e,e],[1,124,"Select",0,e,0,e,e,e],[1,125,"Again",0,e,0,e,e,e],[1,126,"Undo",0,e,0,e,e,e],[1,127,"Cut",0,e,0,e,e,e],[1,128,"Copy",0,e,0,e,e,e],[1,129,"Paste",0,e,0,e,e,e],[1,130,"Find",0,e,0,e,e,e],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",e,e],[1,136,"KanaMode",0,e,0,e,e,e],[0,137,"IntlYen",0,e,0,e,e,e],[1,138,"Convert",0,e,0,e,e,e],[1,139,"NonConvert",0,e,0,e,e,e],[1,140,"Lang1",0,e,0,e,e,e],[1,141,"Lang2",0,e,0,e,e,e],[1,142,"Lang3",0,e,0,e,e,e],[1,143,"Lang4",0,e,0,e,e,e],[1,144,"Lang5",0,e,0,e,e,e],[1,145,"Abort",0,e,0,e,e,e],[1,146,"Props",0,e,0,e,e,e],[1,147,"NumpadParenLeft",0,e,0,e,e,e],[1,148,"NumpadParenRight",0,e,0,e,e,e],[1,149,"NumpadBackspace",0,e,0,e,e,e],[1,150,"NumpadMemoryStore",0,e,0,e,e,e],[1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[1,152,"NumpadMemoryClear",0,e,0,e,e,e],[1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",e,e],[1,156,"NumpadClearEntry",0,e,0,e,e,e],[1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[1,0,e,6,"Alt",18,"VK_MENU",e,e],[1,0,e,57,"Meta",91,"VK_COMMAND",e,e],[1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[1,165,"BrightnessUp",0,e,0,e,e,e],[1,166,"BrightnessDown",0,e,0,e,e,e],[1,167,"MediaPlay",0,e,0,e,e,e],[1,168,"MediaRecord",0,e,0,e,e,e],[1,169,"MediaFastForward",0,e,0,e,e,e],[1,170,"MediaRewind",0,e,0,e,e,e],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",e,e],[1,174,"Eject",0,e,0,e,e,e],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[1,180,"SelectTask",0,e,0,e,e,e],[1,181,"LaunchScreenSaver",0,e,0,e,e,e],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[1,189,"ZoomToggle",0,e,0,e,e,e],[1,190,"MailReply",0,e,0,e,e,e],[1,191,"MailForward",0,e,0,e,e,e],[1,192,"MailSend",0,e,0,e,e,e],[1,0,e,114,"KeyInComposition",229,e,e,e],[1,0,e,116,"ABNT_C2",194,"VK_ABNT_C2",e,e],[1,0,e,96,"OEM_8",223,"VK_OEM_8",e,e],[1,0,e,0,e,0,"VK_KANA",e,e],[1,0,e,0,e,0,"VK_HANGUL",e,e],[1,0,e,0,e,0,"VK_JUNJA",e,e],[1,0,e,0,e,0,"VK_FINAL",e,e],[1,0,e,0,e,0,"VK_HANJA",e,e],[1,0,e,0,e,0,"VK_KANJI",e,e],[1,0,e,0,e,0,"VK_CONVERT",e,e],[1,0,e,0,e,0,"VK_NONCONVERT",e,e],[1,0,e,0,e,0,"VK_ACCEPT",e,e],[1,0,e,0,e,0,"VK_MODECHANGE",e,e],[1,0,e,0,e,0,"VK_SELECT",e,e],[1,0,e,0,e,0,"VK_PRINT",e,e],[1,0,e,0,e,0,"VK_EXECUTE",e,e],[1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[1,0,e,0,e,0,"VK_HELP",e,e],[1,0,e,0,e,0,"VK_APPS",e,e],[1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[1,0,e,0,e,0,"VK_PACKET",e,e],[1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[1,0,e,0,e,0,"VK_ATTN",e,e],[1,0,e,0,e,0,"VK_CRSEL",e,e],[1,0,e,0,e,0,"VK_EXSEL",e,e],[1,0,e,0,e,0,"VK_EREOF",e,e],[1,0,e,0,e,0,"VK_PLAY",e,e],[1,0,e,0,e,0,"VK_ZOOM",e,e],[1,0,e,0,e,0,"VK_NONAME",e,e],[1,0,e,0,e,0,"VK_PA1",e,e],[1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],n=[],i=[];for(const o of t){const[e,t,r,s,a,l,c,u,h]=o;if(i[t]||(i[t]=!0,SG[r]=t,xG[r.toLowerCase()]=t,e&&(kG[t]=s)),!n[s]){if(n[s]=!0,!a)throw new Error(`String representation missing for key code ${s} around scan code ${r}`);_G.define(s,a),yG.define(s,u||a),wG.define(s,h||u||a)}l&&(CG[l]=s)}}(),(DG=LG||(LG={})).toString=function(e){return _G.keyCodeToStr(e)},DG.fromString=function(e){return _G.strToKeyCode(e)},DG.toUserSettingsUS=function(e){return yG.keyCodeToStr(e)},DG.toUserSettingsGeneral=function(e){return wG.keyCodeToStr(e)},DG.fromUserSettings=function(e){return yG.strToKeyCode(e)||wG.strToKeyCode(e)},DG.toElectronAccelerator=function(e){if(e>=98&&e<=113)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return _G.keyCodeToStr(e)};var EG={};let NG;if(void 0!==vK.vscode&&void 0!==vK.vscode.process){const e=vK.vscode.process;NG={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd()}}else NG="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return EG},cwd:()=>EG.VSCODE_CWD||process.cwd()}:{get platform(){return yK?"win32":wK?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const TG=NG.cwd,IG=NG.env,MG=NG.platform,RG=46,AG=47,OG=92,PG=58;class FG extends Error{constructor(e,t,n){let i;"string"==typeof t&&0===t.indexOf("not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";const o=-1!==e.indexOf(".")?"property":"argument";let r=`The "${e}" ${o} ${i} of type ${t}`;r+=". Received type "+typeof n,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function BG(e,t){if("string"!=typeof e)throw new FG(t,"string",e)}const zG="win32"===MG;function VG(e){return e===AG||e===OG}function WG(e){return e===AG}function HG(e){return e>=65&&e<=90||e>=97&&e<=122}function $G(e,t,n,i){let o="",r=0,s=-1,a=0,l=0;for(let c=0;c<=e.length;++c){if(c<e.length)l=e.charCodeAt(c);else{if(i(l))break;l=AG}if(i(l)){if(s===c-1||1===a);else if(2===a){if(o.length<2||2!==r||o.charCodeAt(o.length-1)!==RG||o.charCodeAt(o.length-2)!==RG){if(o.length>2){const e=o.lastIndexOf(n);-1===e?(o="",r=0):(o=o.slice(0,e),r=o.length-1-o.lastIndexOf(n)),s=c,a=0;continue}if(0!==o.length){o="",r=0,s=c,a=0;continue}}t&&(o+=o.length>0?`${n}..`:"..",r=2)}else o.length>0?o+=`${n}${e.slice(s+1,c)}`:o=e.slice(s+1,c),r=c-s-1;s=c,a=0}else l===RG&&-1!==a?++a:a=-1}return o}function jG(e,t){!function(e,t){if(null===e||"object"!=typeof e)throw new FG(t,"Object",e)}(t,"pathObject");const n=t.dir||t.root,i=t.base||`${t.name||""}${t.ext||""}`;return n?n===t.root?`${n}${i}`:`${n}${e}${i}`:i}const UG={resolve(...e){let t="",n="",i=!1;for(let o=e.length-1;o>=-1;o--){let r;if(o>=0){if(r=e[o],BG(r,"path"),0===r.length)continue}else 0===t.length?r=TG():(r=IG[`=${t}`]||TG(),(void 0===r||r.slice(0,2).toLowerCase()!==t.toLowerCase()&&r.charCodeAt(2)===OG)&&(r=`${t}\\`));const s=r.length;let a=0,l="",c=!1;const u=r.charCodeAt(0);if(1===s)VG(u)&&(a=1,c=!0);else if(VG(u))if(c=!0,VG(r.charCodeAt(1))){let e=2,t=e;for(;e<s&&!VG(r.charCodeAt(e));)e++;if(e<s&&e!==t){const n=r.slice(t,e);for(t=e;e<s&&VG(r.charCodeAt(e));)e++;if(e<s&&e!==t){for(t=e;e<s&&!VG(r.charCodeAt(e));)e++;e!==s&&e===t||(l=`\\\\${n}\\${r.slice(t,e)}`,a=e)}}}else a=1;else HG(u)&&r.charCodeAt(1)===PG&&(l=r.slice(0,2),a=2,s>2&&VG(r.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(i){if(t.length>0)break}else if(n=`${r.slice(a)}\\${n}`,i=c,c&&t.length>0)break}return n=$G(n,!i,"\\",VG),i?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){BG(e,"path");const t=e.length;if(0===t)return".";let n,i=0,o=!1;const r=e.charCodeAt(0);if(1===t)return WG(r)?"\\":e;if(VG(r))if(o=!0,VG(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!VG(e.charCodeAt(o));)o++;if(o<t&&o!==r){const s=e.slice(r,o);for(r=o;o<t&&VG(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!VG(e.charCodeAt(o));)o++;if(o===t)return`\\\\${s}\\${e.slice(r)}\\`;o!==r&&(n=`\\\\${s}\\${e.slice(r,o)}`,i=o)}}}else i=1;else HG(r)&&e.charCodeAt(1)===PG&&(n=e.slice(0,2),i=2,t>2&&VG(e.charCodeAt(2))&&(o=!0,i=3));let s=i<t?$G(e.slice(i),!o,"\\",VG):"";return 0!==s.length||o||(s="."),s.length>0&&VG(e.charCodeAt(t-1))&&(s+="\\"),void 0===n?o?`\\${s}`:s:o?`${n}\\${s}`:`${n}${s}`},isAbsolute(e){BG(e,"path");const t=e.length;if(0===t)return!1;const n=e.charCodeAt(0);return VG(n)||t>2&&HG(n)&&e.charCodeAt(1)===PG&&VG(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,n;for(let r=0;r<e.length;++r){const i=e[r];BG(i,"path"),i.length>0&&(void 0===t?t=n=i:t+=`\\${i}`)}if(void 0===t)return".";let i=!0,o=0;if("string"==typeof n&&VG(n.charCodeAt(0))){++o;const e=n.length;e>1&&VG(n.charCodeAt(1))&&(++o,e>2&&(VG(n.charCodeAt(2))?++o:i=!1))}if(i){for(;o<t.length&&VG(t.charCodeAt(o));)o++;o>=2&&(t=`\\${t.slice(o)}`)}return UG.normalize(t)},relative(e,t){if(BG(e,"from"),BG(t,"to"),e===t)return"";const n=UG.resolve(e),i=UG.resolve(t);if(n===i)return"";if((e=n.toLowerCase())===(t=i.toLowerCase()))return"";let o=0;for(;o<e.length&&e.charCodeAt(o)===OG;)o++;let r=e.length;for(;r-1>o&&e.charCodeAt(r-1)===OG;)r--;const s=r-o;let a=0;for(;a<t.length&&t.charCodeAt(a)===OG;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===OG;)l--;const c=l-a,u=s<c?s:c;let h=-1,d=0;for(;d<u;d++){const n=e.charCodeAt(o+d);if(n!==t.charCodeAt(a+d))break;n===OG&&(h=d)}if(d!==u){if(-1===h)return i}else{if(c>u){if(t.charCodeAt(a+d)===OG)return i.slice(a+d+1);if(2===d)return i.slice(a+d)}s>u&&(e.charCodeAt(o+d)===OG?h=d:2===d&&(h=3)),-1===h&&(h=0)}let g="";for(d=o+h+1;d<=r;++d)d!==r&&e.charCodeAt(d)!==OG||(g+=0===g.length?"..":"\\..");return a+=h,g.length>0?`${g}${i.slice(a,l)}`:(i.charCodeAt(a)===OG&&++a,i.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e||0===e.length)return e;const t=UG.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===OG){if(t.charCodeAt(1)===OG){const e=t.charCodeAt(2);if(63!==e&&e!==RG)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(HG(t.charCodeAt(0))&&t.charCodeAt(1)===PG&&t.charCodeAt(2)===OG)return`\\\\?\\${t}`;return e},dirname(e){BG(e,"path");const t=e.length;if(0===t)return".";let n=-1,i=0;const o=e.charCodeAt(0);if(1===t)return VG(o)?e:".";if(VG(o)){if(n=i=1,VG(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!VG(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&VG(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!VG(e.charCodeAt(o));)o++;if(o===t)return e;o!==r&&(n=i=o+1)}}}}else HG(o)&&e.charCodeAt(1)===PG&&(n=t>2&&VG(e.charCodeAt(2))?3:2,i=n);let r=-1,s=!0;for(let a=t-1;a>=i;--a)if(VG(e.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(-1===r){if(-1===n)return".";r=n}return e.slice(0,r)},basename(e,t){void 0!==t&&BG(t,"ext"),BG(e,"path");let n,i=0,o=-1,r=!0;if(e.length>=2&&HG(e.charCodeAt(0))&&e.charCodeAt(1)===PG&&(i=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=i;--n){const l=e.charCodeAt(n);if(VG(l)){if(!r){i=n+1;break}}else-1===a&&(r=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=a))}return i===o?o=a:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=i;--n)if(VG(e.charCodeAt(n))){if(!r){i=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname(e){BG(e,"path");let t=0,n=-1,i=0,o=-1,r=!0,s=0;e.length>=2&&e.charCodeAt(1)===PG&&HG(e.charCodeAt(0))&&(t=i=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(VG(t)){if(!r){i=a+1;break}}else-1===o&&(r=!1,o=a+1),t===RG?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===o||0===s||1===s&&n===o-1&&n===i+1?"":e.slice(n,o)},format:jG.bind(null,"\\"),parse(e){BG(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.length;let i=0,o=e.charCodeAt(0);if(1===n)return VG(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(VG(o)){if(i=1,VG(e.charCodeAt(1))){let t=2,o=t;for(;t<n&&!VG(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&VG(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&!VG(e.charCodeAt(t));)t++;t===n?i=t:t!==o&&(i=t+1)}}}}else if(HG(o)&&e.charCodeAt(1)===PG){if(n<=2)return t.root=t.dir=e,t;if(i=2,VG(e.charCodeAt(2))){if(3===n)return t.root=t.dir=e,t;i=3}}i>0&&(t.root=e.slice(0,i));let r=-1,s=i,a=-1,l=!0,c=e.length-1,u=0;for(;c>=i;--c)if(o=e.charCodeAt(c),VG(o)){if(!l){s=c+1;break}}else-1===a&&(l=!1,a=c+1),o===RG?-1===r?r=c:1!==u&&(u=1):-1!==r&&(u=-1);return-1!==a&&(-1===r||0===u||1===u&&r===a-1&&r===s+1?t.base=t.name=e.slice(s,a):(t.name=e.slice(s,r),t.base=e.slice(s,a),t.ext=e.slice(r,a))),t.dir=s>0&&s!==i?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},KG=(()=>{if(zG){const e=/\\/g;return()=>{const t=TG().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>TG()})(),qG={resolve(...e){let t="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){const o=i>=0?e[i]:KG();BG(o,"path"),0!==o.length&&(t=`${o}/${t}`,n=o.charCodeAt(0)===AG)}return t=$G(t,!n,"/",WG),n?`/${t}`:t.length>0?t:"."},normalize(e){if(BG(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===AG,n=e.charCodeAt(e.length-1)===AG;return 0===(e=$G(e,!t,"/",WG)).length?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(BG(e,"path"),e.length>0&&e.charCodeAt(0)===AG),join(...e){if(0===e.length)return".";let t;for(let n=0;n<e.length;++n){const i=e[n];BG(i,"path"),i.length>0&&(void 0===t?t=i:t+=`/${i}`)}return void 0===t?".":qG.normalize(t)},relative(e,t){if(BG(e,"from"),BG(t,"to"),e===t)return"";if((e=qG.resolve(e))===(t=qG.resolve(t)))return"";const n=e.length,i=n-1,o=t.length-1,r=i<o?i:o;let s=-1,a=0;for(;a<r;a++){const n=e.charCodeAt(1+a);if(n!==t.charCodeAt(1+a))break;n===AG&&(s=a)}if(a===r)if(o>r){if(t.charCodeAt(1+a)===AG)return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else i>r&&(e.charCodeAt(1+a)===AG?s=a:0===a&&(s=0));let l="";for(a=1+s+1;a<=n;++a)a!==n&&e.charCodeAt(a)!==AG||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+s)}`},toNamespacedPath:e=>e,dirname(e){if(BG(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===AG;let n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(e.charCodeAt(o)===AG){if(!i){n=o;break}}else i=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename(e,t){void 0!==t&&BG(t,"ext"),BG(e,"path");let n,i=0,o=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(l===AG){if(!r){i=n+1;break}}else-1===a&&(r=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=a))}return i===o?o=a:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===AG){if(!r){i=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname(e){BG(e,"path");let t=-1,n=0,i=-1,o=!0,r=0;for(let s=e.length-1;s>=0;--s){const a=e.charCodeAt(s);if(a!==AG)-1===i&&(o=!1,i=s+1),a===RG?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){n=s+1;break}}return-1===t||-1===i||0===r||1===r&&t===i-1&&t===n+1?"":e.slice(t,i)},format:jG.bind(null,"/"),parse(e){BG(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.charCodeAt(0)===AG;let i;n?(t.root="/",i=1):i=0;let o=-1,r=0,s=-1,a=!0,l=e.length-1,c=0;for(;l>=i;--l){const t=e.charCodeAt(l);if(t!==AG)-1===s&&(a=!1,s=l+1),t===RG?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);else if(!a){r=l+1;break}}if(-1!==s){const i=0===r&&n?1:r;-1===o||0===c||1===c&&o===s-1&&o===r+1?t.base=t.name=e.slice(i,s):(t.name=e.slice(i,o),t.base=e.slice(i,s),t.ext=e.slice(o,s))}return r>0?t.dir=e.slice(0,r-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};qG.win32=UG.win32=UG,qG.posix=UG.posix=qG;const GG=zG?UG.normalize:qG.normalize,YG=zG?UG.resolve:qG.resolve,XG=zG?UG.relative:qG.relative,ZG=zG?UG.dirname:qG.dirname,QG=zG?UG.basename:qG.basename,JG=zG?UG.extname:qG.extname,eY=zG?UG.sep:qG.sep,tY=/^\w[\w\d+.-]*$/,nY=/^\//,iY=/^\/\//;const oY="",rY="/",sY=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class aY{static isUri(e){return e instanceof aY||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}constructor(e,t,n,i,o,r=!1){"object"==typeof e?(this.scheme=e.scheme||oY,this.authority=e.authority||oY,this.path=e.path||oY,this.query=e.query||oY,this.fragment=e.fragment||oY):(this.scheme=function(e,t){return e||t?e:"file"}(e,r),this.authority=t||oY,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==rY&&(t=rY+t):t=rY}return t}(this.scheme,n||oY),this.query=i||oY,this.fragment=o||oY,function(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!tY.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!nY.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(iY.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,r))}get fsPath(){return gY(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:i,query:o,fragment:r}=e;return void 0===t?t=this.scheme:null===t&&(t=oY),void 0===n?n=this.authority:null===n&&(n=oY),void 0===i?i=this.path:null===i&&(i=oY),void 0===o?o=this.query:null===o&&(o=oY),void 0===r?r=this.fragment:null===r&&(r=oY),t===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&r===this.fragment?this:new cY(t,n,i,o,r)}static parse(e,t=!1){const n=sY.exec(e);return n?new cY(n[2]||oY,vY(n[4]||oY),vY(n[5]||oY),vY(n[7]||oY),vY(n[9]||oY),t):new cY(oY,oY,oY,oY,oY)}static file(e){let t=oY;if(yK&&(e=e.replace(/\\/g,rY)),e[0]===rY&&e[1]===rY){const n=e.indexOf(rY,2);-1===n?(t=e.substring(2),e=rY):(t=e.substring(2,n),e=e.substring(n)||rY)}return new cY("file",t,e,oY,oY)}static from(e,t){return new cY(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return n=yK&&"file"===e.scheme?aY.file(UG.join(gY(e,!0),...t)).path:qG.join(e.path,...t),e.with({path:n})}toString(e=!1){return fY(this,e)}toJSON(){return this}static revive(e){var t,n;if(e){if(e instanceof aY)return e;{const i=new cY(e);return i._formatted=null!==(t=e.external)&&void 0!==t?t:null,i._fsPath=e._sep===lY&&null!==(n=e.fsPath)&&void 0!==n?n:null,i}}return e}}const lY=yK?1:void 0;let cY=class extends aY{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=gY(this,!1)),this._fsPath}toString(e=!1){return e?fY(this,!0):(this._formatted||(this._formatted=fY(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=lY),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const uY={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function hY(e,t,n){let i,o=-1;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s||n&&91===s||n&&93===s||n&&58===s)-1!==o&&(i+=encodeURIComponent(e.substring(o,r)),o=-1),void 0!==i&&(i+=e.charAt(r));else{void 0===i&&(i=e.substr(0,r));const t=uY[s];void 0!==t?(-1!==o&&(i+=encodeURIComponent(e.substring(o,r)),o=-1),i+=t):-1===o&&(o=r)}}return-1!==o&&(i+=encodeURIComponent(e.substring(o))),void 0!==i?i:e}function dY(e){let t;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=uY[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function gY(e,t){let n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,yK&&(n=n.replace(/\//g,"\\")),n}function fY(e,t){const n=t?dY:hY;let i="",{scheme:o,authority:r,path:s,query:a,fragment:l}=e;if(o&&(i+=o,i+=":"),(r||"file"===o)&&(i+=rY,i+=rY),r){let e=r.indexOf("@");if(-1!==e){const t=r.substr(0,e);r=r.substr(e+1),e=t.lastIndexOf(":"),-1===e?i+=n(t,!1,!1):(i+=n(t.substr(0,e),!1,!1),i+=":",i+=n(t.substr(e+1),!1,!0)),i+="@"}r=r.toLowerCase(),e=r.lastIndexOf(":"),-1===e?i+=n(r,!1,!0):(i+=n(r.substr(0,e),!1,!0),i+=r.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}i+=n(s,!0,!1)}return a&&(i+="?",i+=n(a,!1,!1)),l&&(i+="#",i+=t?l:hY(l,!1,!1)),i}function pY(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+pY(e.substr(3)):e}}const mY=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function vY(e){return e.match(mY)?e.replace(mY,(e=>pY(e))):e}let bY=class e{constructor(e,t){this.lineNumber=e,this.column=t}with(t=this.lineNumber,n=this.column){return t===this.lineNumber&&n===this.column?this:new e(t,n)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(t){return e.equals(this,t)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(t){return e.isBefore(this,t)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){const n=0|e.lineNumber,i=0|t.lineNumber;if(n===i){return(0|e.column)-(0|t.column)}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}},_Y=class e{constructor(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<=e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>=e.endColumn))}containsRange(t){return e.containsRange(this,t)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(t){return e.plusRange(this,t)}static plusRange(t,n){let i,o,r,s;return n.startLineNumber<t.startLineNumber?(i=n.startLineNumber,o=n.startColumn):n.startLineNumber===t.startLineNumber?(i=n.startLineNumber,o=Math.min(n.startColumn,t.startColumn)):(i=t.startLineNumber,o=t.startColumn),n.endLineNumber>t.endLineNumber?(r=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(r=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(r=t.endLineNumber,s=t.endColumn),new e(i,o,r,s)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,n){let i=t.startLineNumber,o=t.startColumn,r=t.endLineNumber,s=t.endColumn;const a=n.startLineNumber,l=n.startColumn,c=n.endLineNumber,u=n.endColumn;return i<a?(i=a,o=l):i===a&&(o=Math.max(o,l)),r>c?(r=c,s=u):r===c&&(s=Math.min(s,u)),i>r||i===r&&o>s?null:new e(i,o,r,s)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(e){return new bY(e.endLineNumber,e.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(e){return new bY(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,n){return new e(this.startLineNumber,this.startColumn,t,n)}setStartPosition(t,n){return new e(t,n,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}static fromPositions(t,n=t){return new e(t.lineNumber,t.column,n.lineNumber,n.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){const n=0|e.startColumn,i=0|t.startColumn;if(n===i){const n=0|e.endLineNumber,i=0|t.endLineNumber;if(n===i){return(0|e.endColumn)-(0|t.endColumn)}return n-i}return n-i}return n-i}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},yY=class e extends _Y{constructor(e,t,n,i){super(e,t,n,i),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(t){return e.selectionsEqual(this,t)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(t,n){return 0===this.getDirection()?new e(this.startLineNumber,this.startColumn,t,n):new e(t,n,this.startLineNumber,this.startColumn)}getPosition(){return new bY(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new bY(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(t,n){return 0===this.getDirection()?new e(t,n,this.endLineNumber,this.endColumn):new e(this.endLineNumber,this.endColumn,t,n)}static fromPositions(t,n=t){return new e(t.lineNumber,t.column,n.lineNumber,n.column)}static fromRange(t,n){return 0===n?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new e(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}static liftSelection(t){return new e(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(t,n,i,o,r){return 0===r?new e(t,n,i,o):new e(i,o,t,n)}};const wY=Object.create(null);function CY(e,t){if(PU(t)){const n=wY[t];if(void 0===n)throw new Error(`${e} references an unknown codicon: ${t}`);t=n}return wY[e]=t,{id:e}}function SY(){return wY}const xY={add:CY("add",6e4),plus:CY("plus",6e4),gistNew:CY("gist-new",6e4),repoCreate:CY("repo-create",6e4),lightbulb:CY("lightbulb",60001),lightBulb:CY("light-bulb",60001),repo:CY("repo",60002),repoDelete:CY("repo-delete",60002),gistFork:CY("gist-fork",60003),repoForked:CY("repo-forked",60003),gitPullRequest:CY("git-pull-request",60004),gitPullRequestAbandoned:CY("git-pull-request-abandoned",60004),recordKeys:CY("record-keys",60005),keyboard:CY("keyboard",60005),tag:CY("tag",60006),tagAdd:CY("tag-add",60006),tagRemove:CY("tag-remove",60006),gitPullRequestLabel:CY("git-pull-request-label",60006),person:CY("person",60007),personFollow:CY("person-follow",60007),personOutline:CY("person-outline",60007),personFilled:CY("person-filled",60007),gitBranch:CY("git-branch",60008),gitBranchCreate:CY("git-branch-create",60008),gitBranchDelete:CY("git-branch-delete",60008),sourceControl:CY("source-control",60008),mirror:CY("mirror",60009),mirrorPublic:CY("mirror-public",60009),star:CY("star",60010),starAdd:CY("star-add",60010),starDelete:CY("star-delete",60010),starEmpty:CY("star-empty",60010),comment:CY("comment",60011),commentAdd:CY("comment-add",60011),alert:CY("alert",60012),warning:CY("warning",60012),search:CY("search",60013),searchSave:CY("search-save",60013),logOut:CY("log-out",60014),signOut:CY("sign-out",60014),logIn:CY("log-in",60015),signIn:CY("sign-in",60015),eye:CY("eye",60016),eyeUnwatch:CY("eye-unwatch",60016),eyeWatch:CY("eye-watch",60016),circleFilled:CY("circle-filled",60017),primitiveDot:CY("primitive-dot",60017),closeDirty:CY("close-dirty",60017),debugBreakpoint:CY("debug-breakpoint",60017),debugBreakpointDisabled:CY("debug-breakpoint-disabled",60017),debugHint:CY("debug-hint",60017),primitiveSquare:CY("primitive-square",60018),edit:CY("edit",60019),pencil:CY("pencil",60019),info:CY("info",60020),issueOpened:CY("issue-opened",60020),gistPrivate:CY("gist-private",60021),gitForkPrivate:CY("git-fork-private",60021),lock:CY("lock",60021),mirrorPrivate:CY("mirror-private",60021),close:CY("close",60022),removeClose:CY("remove-close",60022),x:CY("x",60022),repoSync:CY("repo-sync",60023),sync:CY("sync",60023),clone:CY("clone",60024),desktopDownload:CY("desktop-download",60024),beaker:CY("beaker",60025),microscope:CY("microscope",60025),vm:CY("vm",60026),deviceDesktop:CY("device-desktop",60026),file:CY("file",60027),fileText:CY("file-text",60027),more:CY("more",60028),ellipsis:CY("ellipsis",60028),kebabHorizontal:CY("kebab-horizontal",60028),mailReply:CY("mail-reply",60029),reply:CY("reply",60029),organization:CY("organization",60030),organizationFilled:CY("organization-filled",60030),organizationOutline:CY("organization-outline",60030),newFile:CY("new-file",60031),fileAdd:CY("file-add",60031),newFolder:CY("new-folder",60032),fileDirectoryCreate:CY("file-directory-create",60032),trash:CY("trash",60033),trashcan:CY("trashcan",60033),history:CY("history",60034),clock:CY("clock",60034),folder:CY("folder",60035),fileDirectory:CY("file-directory",60035),symbolFolder:CY("symbol-folder",60035),logoGithub:CY("logo-github",60036),markGithub:CY("mark-github",60036),github:CY("github",60036),terminal:CY("terminal",60037),console:CY("console",60037),repl:CY("repl",60037),zap:CY("zap",60038),symbolEvent:CY("symbol-event",60038),error:CY("error",60039),stop:CY("stop",60039),variable:CY("variable",60040),symbolVariable:CY("symbol-variable",60040),array:CY("array",60042),symbolArray:CY("symbol-array",60042),symbolModule:CY("symbol-module",60043),symbolPackage:CY("symbol-package",60043),symbolNamespace:CY("symbol-namespace",60043),symbolObject:CY("symbol-object",60043),symbolMethod:CY("symbol-method",60044),symbolFunction:CY("symbol-function",60044),symbolConstructor:CY("symbol-constructor",60044),symbolBoolean:CY("symbol-boolean",60047),symbolNull:CY("symbol-null",60047),symbolNumeric:CY("symbol-numeric",60048),symbolNumber:CY("symbol-number",60048),symbolStructure:CY("symbol-structure",60049),symbolStruct:CY("symbol-struct",60049),symbolParameter:CY("symbol-parameter",60050),symbolTypeParameter:CY("symbol-type-parameter",60050),symbolKey:CY("symbol-key",60051),symbolText:CY("symbol-text",60051),symbolReference:CY("symbol-reference",60052),goToFile:CY("go-to-file",60052),symbolEnum:CY("symbol-enum",60053),symbolValue:CY("symbol-value",60053),symbolRuler:CY("symbol-ruler",60054),symbolUnit:CY("symbol-unit",60054),activateBreakpoints:CY("activate-breakpoints",60055),archive:CY("archive",60056),arrowBoth:CY("arrow-both",60057),arrowDown:CY("arrow-down",60058),arrowLeft:CY("arrow-left",60059),arrowRight:CY("arrow-right",60060),arrowSmallDown:CY("arrow-small-down",60061),arrowSmallLeft:CY("arrow-small-left",60062),arrowSmallRight:CY("arrow-small-right",60063),arrowSmallUp:CY("arrow-small-up",60064),arrowUp:CY("arrow-up",60065),bell:CY("bell",60066),bold:CY("bold",60067),book:CY("book",60068),bookmark:CY("bookmark",60069),debugBreakpointConditionalUnverified:CY("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:CY("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:CY("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:CY("debug-breakpoint-data-unverified",60072),debugBreakpointData:CY("debug-breakpoint-data",60073),debugBreakpointDataDisabled:CY("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:CY("debug-breakpoint-log-unverified",60074),debugBreakpointLog:CY("debug-breakpoint-log",60075),debugBreakpointLogDisabled:CY("debug-breakpoint-log-disabled",60075),briefcase:CY("briefcase",60076),broadcast:CY("broadcast",60077),browser:CY("browser",60078),bug:CY("bug",60079),calendar:CY("calendar",60080),caseSensitive:CY("case-sensitive",60081),check:CY("check",60082),checklist:CY("checklist",60083),chevronDown:CY("chevron-down",60084),dropDownButton:CY("drop-down-button",60084),chevronLeft:CY("chevron-left",60085),chevronRight:CY("chevron-right",60086),chevronUp:CY("chevron-up",60087),chromeClose:CY("chrome-close",60088),chromeMaximize:CY("chrome-maximize",60089),chromeMinimize:CY("chrome-minimize",60090),chromeRestore:CY("chrome-restore",60091),circle:CY("circle",60092),circleOutline:CY("circle-outline",60092),debugBreakpointUnverified:CY("debug-breakpoint-unverified",60092),circleSlash:CY("circle-slash",60093),circuitBoard:CY("circuit-board",60094),clearAll:CY("clear-all",60095),clippy:CY("clippy",60096),closeAll:CY("close-all",60097),cloudDownload:CY("cloud-download",60098),cloudUpload:CY("cloud-upload",60099),code:CY("code",60100),collapseAll:CY("collapse-all",60101),colorMode:CY("color-mode",60102),commentDiscussion:CY("comment-discussion",60103),compareChanges:CY("compare-changes",60157),creditCard:CY("credit-card",60105),dash:CY("dash",60108),dashboard:CY("dashboard",60109),database:CY("database",60110),debugContinue:CY("debug-continue",60111),debugDisconnect:CY("debug-disconnect",60112),debugPause:CY("debug-pause",60113),debugRestart:CY("debug-restart",60114),debugStart:CY("debug-start",60115),debugStepInto:CY("debug-step-into",60116),debugStepOut:CY("debug-step-out",60117),debugStepOver:CY("debug-step-over",60118),debugStop:CY("debug-stop",60119),debug:CY("debug",60120),deviceCameraVideo:CY("device-camera-video",60121),deviceCamera:CY("device-camera",60122),deviceMobile:CY("device-mobile",60123),diffAdded:CY("diff-added",60124),diffIgnored:CY("diff-ignored",60125),diffModified:CY("diff-modified",60126),diffRemoved:CY("diff-removed",60127),diffRenamed:CY("diff-renamed",60128),diff:CY("diff",60129),discard:CY("discard",60130),editorLayout:CY("editor-layout",60131),emptyWindow:CY("empty-window",60132),exclude:CY("exclude",60133),extensions:CY("extensions",60134),eyeClosed:CY("eye-closed",60135),fileBinary:CY("file-binary",60136),fileCode:CY("file-code",60137),fileMedia:CY("file-media",60138),filePdf:CY("file-pdf",60139),fileSubmodule:CY("file-submodule",60140),fileSymlinkDirectory:CY("file-symlink-directory",60141),fileSymlinkFile:CY("file-symlink-file",60142),fileZip:CY("file-zip",60143),files:CY("files",60144),filter:CY("filter",60145),flame:CY("flame",60146),foldDown:CY("fold-down",60147),foldUp:CY("fold-up",60148),fold:CY("fold",60149),folderActive:CY("folder-active",60150),folderOpened:CY("folder-opened",60151),gear:CY("gear",60152),gift:CY("gift",60153),gistSecret:CY("gist-secret",60154),gist:CY("gist",60155),gitCommit:CY("git-commit",60156),gitCompare:CY("git-compare",60157),gitMerge:CY("git-merge",60158),githubAction:CY("github-action",60159),githubAlt:CY("github-alt",60160),globe:CY("globe",60161),grabber:CY("grabber",60162),graph:CY("graph",60163),gripper:CY("gripper",60164),heart:CY("heart",60165),home:CY("home",60166),horizontalRule:CY("horizontal-rule",60167),hubot:CY("hubot",60168),inbox:CY("inbox",60169),issueClosed:CY("issue-closed",60324),issueReopened:CY("issue-reopened",60171),issues:CY("issues",60172),italic:CY("italic",60173),jersey:CY("jersey",60174),json:CY("json",60175),bracket:CY("bracket",60175),kebabVertical:CY("kebab-vertical",60176),key:CY("key",60177),law:CY("law",60178),lightbulbAutofix:CY("lightbulb-autofix",60179),linkExternal:CY("link-external",60180),link:CY("link",60181),listOrdered:CY("list-ordered",60182),listUnordered:CY("list-unordered",60183),liveShare:CY("live-share",60184),loading:CY("loading",60185),location:CY("location",60186),mailRead:CY("mail-read",60187),mail:CY("mail",60188),markdown:CY("markdown",60189),megaphone:CY("megaphone",60190),mention:CY("mention",60191),milestone:CY("milestone",60192),gitPullRequestMilestone:CY("git-pull-request-milestone",60192),mortarBoard:CY("mortar-board",60193),move:CY("move",60194),multipleWindows:CY("multiple-windows",60195),mute:CY("mute",60196),noNewline:CY("no-newline",60197),note:CY("note",60198),octoface:CY("octoface",60199),openPreview:CY("open-preview",60200),package:CY("package",60201),paintcan:CY("paintcan",60202),pin:CY("pin",60203),play:CY("play",60204),run:CY("run",60204),plug:CY("plug",60205),preserveCase:CY("preserve-case",60206),preview:CY("preview",60207),project:CY("project",60208),pulse:CY("pulse",60209),question:CY("question",60210),quote:CY("quote",60211),radioTower:CY("radio-tower",60212),reactions:CY("reactions",60213),references:CY("references",60214),refresh:CY("refresh",60215),regex:CY("regex",60216),remoteExplorer:CY("remote-explorer",60217),remote:CY("remote",60218),remove:CY("remove",60219),replaceAll:CY("replace-all",60220),replace:CY("replace",60221),repoClone:CY("repo-clone",60222),repoForcePush:CY("repo-force-push",60223),repoPull:CY("repo-pull",60224),repoPush:CY("repo-push",60225),report:CY("report",60226),requestChanges:CY("request-changes",60227),rocket:CY("rocket",60228),rootFolderOpened:CY("root-folder-opened",60229),rootFolder:CY("root-folder",60230),rss:CY("rss",60231),ruby:CY("ruby",60232),saveAll:CY("save-all",60233),saveAs:CY("save-as",60234),save:CY("save",60235),screenFull:CY("screen-full",60236),screenNormal:CY("screen-normal",60237),searchStop:CY("search-stop",60238),server:CY("server",60240),settingsGear:CY("settings-gear",60241),settings:CY("settings",60242),shield:CY("shield",60243),smiley:CY("smiley",60244),sortPrecedence:CY("sort-precedence",60245),splitHorizontal:CY("split-horizontal",60246),splitVertical:CY("split-vertical",60247),squirrel:CY("squirrel",60248),starFull:CY("star-full",60249),starHalf:CY("star-half",60250),symbolClass:CY("symbol-class",60251),symbolColor:CY("symbol-color",60252),symbolCustomColor:CY("symbol-customcolor",60252),symbolConstant:CY("symbol-constant",60253),symbolEnumMember:CY("symbol-enum-member",60254),symbolField:CY("symbol-field",60255),symbolFile:CY("symbol-file",60256),symbolInterface:CY("symbol-interface",60257),symbolKeyword:CY("symbol-keyword",60258),symbolMisc:CY("symbol-misc",60259),symbolOperator:CY("symbol-operator",60260),symbolProperty:CY("symbol-property",60261),wrench:CY("wrench",60261),wrenchSubaction:CY("wrench-subaction",60261),symbolSnippet:CY("symbol-snippet",60262),tasklist:CY("tasklist",60263),telescope:CY("telescope",60264),textSize:CY("text-size",60265),threeBars:CY("three-bars",60266),thumbsdown:CY("thumbsdown",60267),thumbsup:CY("thumbsup",60268),tools:CY("tools",60269),triangleDown:CY("triangle-down",60270),triangleLeft:CY("triangle-left",60271),triangleRight:CY("triangle-right",60272),triangleUp:CY("triangle-up",60273),twitter:CY("twitter",60274),unfold:CY("unfold",60275),unlock:CY("unlock",60276),unmute:CY("unmute",60277),unverified:CY("unverified",60278),verified:CY("verified",60279),versions:CY("versions",60280),vmActive:CY("vm-active",60281),vmOutline:CY("vm-outline",60282),vmRunning:CY("vm-running",60283),watch:CY("watch",60284),whitespace:CY("whitespace",60285),wholeWord:CY("whole-word",60286),window:CY("window",60287),wordWrap:CY("word-wrap",60288),zoomIn:CY("zoom-in",60289),zoomOut:CY("zoom-out",60290),listFilter:CY("list-filter",60291),listFlat:CY("list-flat",60292),listSelection:CY("list-selection",60293),selection:CY("selection",60293),listTree:CY("list-tree",60294),debugBreakpointFunctionUnverified:CY("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:CY("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:CY("debug-breakpoint-function-disabled",60296),debugStackframeActive:CY("debug-stackframe-active",60297),circleSmallFilled:CY("circle-small-filled",60298),debugStackframeDot:CY("debug-stackframe-dot",60298),debugStackframe:CY("debug-stackframe",60299),debugStackframeFocused:CY("debug-stackframe-focused",60299),debugBreakpointUnsupported:CY("debug-breakpoint-unsupported",60300),symbolString:CY("symbol-string",60301),debugReverseContinue:CY("debug-reverse-continue",60302),debugStepBack:CY("debug-step-back",60303),debugRestartFrame:CY("debug-restart-frame",60304),callIncoming:CY("call-incoming",60306),callOutgoing:CY("call-outgoing",60307),menu:CY("menu",60308),expandAll:CY("expand-all",60309),feedback:CY("feedback",60310),gitPullRequestReviewer:CY("git-pull-request-reviewer",60310),groupByRefType:CY("group-by-ref-type",60311),ungroupByRefType:CY("ungroup-by-ref-type",60312),account:CY("account",60313),gitPullRequestAssignee:CY("git-pull-request-assignee",60313),bellDot:CY("bell-dot",60314),debugConsole:CY("debug-console",60315),library:CY("library",60316),output:CY("output",60317),runAll:CY("run-all",60318),syncIgnored:CY("sync-ignored",60319),pinned:CY("pinned",60320),githubInverted:CY("github-inverted",60321),debugAlt:CY("debug-alt",60305),serverProcess:CY("server-process",60322),serverEnvironment:CY("server-environment",60323),pass:CY("pass",60324),stopCircle:CY("stop-circle",60325),playCircle:CY("play-circle",60326),record:CY("record",60327),debugAltSmall:CY("debug-alt-small",60328),vmConnect:CY("vm-connect",60329),cloud:CY("cloud",60330),merge:CY("merge",60331),exportIcon:CY("export",60332),graphLeft:CY("graph-left",60333),magnet:CY("magnet",60334),notebook:CY("notebook",60335),redo:CY("redo",60336),checkAll:CY("check-all",60337),pinnedDirty:CY("pinned-dirty",60338),passFilled:CY("pass-filled",60339),circleLargeFilled:CY("circle-large-filled",60340),circleLarge:CY("circle-large",60341),circleLargeOutline:CY("circle-large-outline",60341),combine:CY("combine",60342),gather:CY("gather",60342),table:CY("table",60343),variableGroup:CY("variable-group",60344),typeHierarchy:CY("type-hierarchy",60345),typeHierarchySub:CY("type-hierarchy-sub",60346),typeHierarchySuper:CY("type-hierarchy-super",60347),gitPullRequestCreate:CY("git-pull-request-create",60348),runAbove:CY("run-above",60349),runBelow:CY("run-below",60350),notebookTemplate:CY("notebook-template",60351),debugRerun:CY("debug-rerun",60352),workspaceTrusted:CY("workspace-trusted",60353),workspaceUntrusted:CY("workspace-untrusted",60354),workspaceUnspecified:CY("workspace-unspecified",60355),terminalCmd:CY("terminal-cmd",60356),terminalDebian:CY("terminal-debian",60357),terminalLinux:CY("terminal-linux",60358),terminalPowershell:CY("terminal-powershell",60359),terminalTmux:CY("terminal-tmux",60360),terminalUbuntu:CY("terminal-ubuntu",60361),terminalBash:CY("terminal-bash",60362),arrowSwap:CY("arrow-swap",60363),copy:CY("copy",60364),personAdd:CY("person-add",60365),filterFilled:CY("filter-filled",60366),wand:CY("wand",60367),debugLineByLine:CY("debug-line-by-line",60368),inspect:CY("inspect",60369),layers:CY("layers",60370),layersDot:CY("layers-dot",60371),layersActive:CY("layers-active",60372),compass:CY("compass",60373),compassDot:CY("compass-dot",60374),compassActive:CY("compass-active",60375),azure:CY("azure",60376),issueDraft:CY("issue-draft",60377),gitPullRequestClosed:CY("git-pull-request-closed",60378),gitPullRequestDraft:CY("git-pull-request-draft",60379),debugAll:CY("debug-all",60380),debugCoverage:CY("debug-coverage",60381),runErrors:CY("run-errors",60382),folderLibrary:CY("folder-library",60383),debugContinueSmall:CY("debug-continue-small",60384),beakerStop:CY("beaker-stop",60385),graphLine:CY("graph-line",60386),graphScatter:CY("graph-scatter",60387),pieChart:CY("pie-chart",60388),bracketDot:CY("bracket-dot",60389),bracketError:CY("bracket-error",60390),lockSmall:CY("lock-small",60391),azureDevops:CY("azure-devops",60392),verifiedFilled:CY("verified-filled",60393),newLine:CY("newline",60394),layout:CY("layout",60395),layoutActivitybarLeft:CY("layout-activitybar-left",60396),layoutActivitybarRight:CY("layout-activitybar-right",60397),layoutPanelLeft:CY("layout-panel-left",60398),layoutPanelCenter:CY("layout-panel-center",60399),layoutPanelJustify:CY("layout-panel-justify",60400),layoutPanelRight:CY("layout-panel-right",60401),layoutPanel:CY("layout-panel",60402),layoutSidebarLeft:CY("layout-sidebar-left",60403),layoutSidebarRight:CY("layout-sidebar-right",60404),layoutStatusbar:CY("layout-statusbar",60405),layoutMenubar:CY("layout-menubar",60406),layoutCentered:CY("layout-centered",60407),layoutSidebarRightOff:CY("layout-sidebar-right-off",60416),layoutPanelOff:CY("layout-panel-off",60417),layoutSidebarLeftOff:CY("layout-sidebar-left-off",60418),target:CY("target",60408),indent:CY("indent",60409),recordSmall:CY("record-small",60410),errorSmall:CY("error-small",60411),arrowCircleDown:CY("arrow-circle-down",60412),arrowCircleLeft:CY("arrow-circle-left",60413),arrowCircleRight:CY("arrow-circle-right",60414),arrowCircleUp:CY("arrow-circle-up",60415),heartFilled:CY("heart-filled",60420),map:CY("map",60421),mapFilled:CY("map-filled",60422),circleSmall:CY("circle-small",60423),bellSlash:CY("bell-slash",60424),bellSlashDot:CY("bell-slash-dot",60425),commentUnresolved:CY("comment-unresolved",60426),gitPullRequestGoToChanges:CY("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:CY("git-pull-request-new-changes",60428),searchFuzzy:CY("search-fuzzy",60429),commentDraft:CY("comment-draft",60430),send:CY("send",60431),sparkle:CY("sparkle",60432),insert:CY("insert",60433),mic:CY("mic",60434),dialogError:CY("dialog-error","error"),dialogWarning:CY("dialog-warning","warning"),dialogInfo:CY("dialog-info","info"),dialogClose:CY("dialog-close","close"),treeItemExpanded:CY("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:CY("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:CY("tree-filter-on-type-off","list-selection"),treeFilterClear:CY("tree-filter-clear","close"),treeItemLoading:CY("tree-item-loading","loading"),menuSelection:CY("menu-selection","check"),menuSubmenu:CY("menu-submenu","chevron-right"),menuBarMore:CY("menubar-more","more"),scrollbarButtonLeft:CY("scrollbar-button-left","triangle-left"),scrollbarButtonRight:CY("scrollbar-button-right","triangle-right"),scrollbarButtonUp:CY("scrollbar-button-up","triangle-up"),scrollbarButtonDown:CY("scrollbar-button-down","triangle-down"),toolBarMore:CY("toolbar-more","more"),quickInputBack:CY("quick-input-back","arrow-left")};var kY=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class LY extends Yq{get isResolved(){return this._isResolved}constructor(e,t,n){super(),this._registry=e,this._languageId=t,this._factory=n,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return kY(this,void 0,void 0,(function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}))}_create(){return kY(this,void 0,void 0,(function*(){const e=yield this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}))}}let DY=class{constructor(e,t,n){this.offset=e,this.type=t,this.language=n,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class EY{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class NY{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var TY,IY,MY,RY,AY,OY,PY,FY,BY,zY,VY;!function(e){const t=new Map;t.set(0,xY.symbolMethod),t.set(1,xY.symbolFunction),t.set(2,xY.symbolConstructor),t.set(3,xY.symbolField),t.set(4,xY.symbolVariable),t.set(5,xY.symbolClass),t.set(6,xY.symbolStruct),t.set(7,xY.symbolInterface),t.set(8,xY.symbolModule),t.set(9,xY.symbolProperty),t.set(10,xY.symbolEvent),t.set(11,xY.symbolOperator),t.set(12,xY.symbolUnit),t.set(13,xY.symbolValue),t.set(15,xY.symbolEnum),t.set(14,xY.symbolConstant),t.set(15,xY.symbolEnum),t.set(16,xY.symbolEnumMember),t.set(17,xY.symbolKeyword),t.set(27,xY.symbolSnippet),t.set(18,xY.symbolText),t.set(19,xY.symbolColor),t.set(20,xY.symbolFile),t.set(21,xY.symbolReference),t.set(22,xY.symbolCustomColor),t.set(23,xY.symbolFolder),t.set(24,xY.symbolTypeParameter),t.set(25,xY.account),t.set(26,xY.issues),e.toIcon=function(e){let n=t.get(e);return n||(console.info("No codicon found for CompletionItemKind "+e),n=xY.symbolProperty),n};const n=new Map;n.set("method",0),n.set("function",1),n.set("constructor",2),n.set("field",3),n.set("variable",4),n.set("class",5),n.set("struct",6),n.set("interface",7),n.set("module",8),n.set("property",9),n.set("event",10),n.set("operator",11),n.set("unit",12),n.set("value",13),n.set("constant",14),n.set("enum",15),n.set("enum-member",16),n.set("enumMember",16),n.set("keyword",17),n.set("snippet",27),n.set("text",18),n.set("color",19),n.set("file",20),n.set("reference",21),n.set("customcolor",22),n.set("folder",23),n.set("type-parameter",24),n.set("typeParameter",24),n.set("account",25),n.set("issue",26),e.fromString=function(e,t){let i=n.get(e);return void 0!==i||t||(i=9),i}}(TY||(TY={})),(MY=IY||(IY={}))[MY.Automatic=0]="Automatic",MY[MY.Explicit=1]="Explicit";class WY{constructor(e,t,n,i){this.range=e,this.text=t,this.completionKind=n,this.isSnippetText=i}equals(e){return _Y.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}(AY=RY||(RY={}))[AY.Invoke=1]="Invoke",AY[AY.TriggerCharacter=2]="TriggerCharacter",AY[AY.ContentChange=3]="ContentChange",(PY=OY||(OY={}))[PY.Text=0]="Text",PY[PY.Read=1]="Read",PY[PY.Write=2]="Write",nK(0,"array"),nK(0,"boolean"),nK(0,"class"),nK(0,"constant"),nK(0,"constructor"),nK(0,"enumeration"),nK(0,"enumeration member"),nK(0,"event"),nK(0,"field"),nK(0,"file"),nK(0,"function"),nK(0,"interface"),nK(0,"key"),nK(0,"method"),nK(0,"module"),nK(0,"namespace"),nK(0,"null"),nK(0,"number"),nK(0,"object"),nK(0,"operator"),nK(0,"package"),nK(0,"property"),nK(0,"string"),nK(0,"struct"),nK(0,"type parameter"),nK(0,"variable"),function(e){const t=new Map;t.set(0,xY.symbolFile),t.set(1,xY.symbolModule),t.set(2,xY.symbolNamespace),t.set(3,xY.symbolPackage),t.set(4,xY.symbolClass),t.set(5,xY.symbolMethod),t.set(6,xY.symbolProperty),t.set(7,xY.symbolField),t.set(8,xY.symbolConstructor),t.set(9,xY.symbolEnum),t.set(10,xY.symbolInterface),t.set(11,xY.symbolFunction),t.set(12,xY.symbolVariable),t.set(13,xY.symbolConstant),t.set(14,xY.symbolString),t.set(15,xY.symbolNumber),t.set(16,xY.symbolBoolean),t.set(17,xY.symbolArray),t.set(18,xY.symbolObject),t.set(19,xY.symbolKey),t.set(20,xY.symbolNull),t.set(21,xY.symbolEnumMember),t.set(22,xY.symbolStruct),t.set(23,xY.symbolEvent),t.set(24,xY.symbolOperator),t.set(25,xY.symbolTypeParameter),e.toIcon=function(e){let n=t.get(e);return n||(console.info("No codicon found for SymbolKind "+e),n=xY.symbolProperty),n}}(FY||(FY={}));class HY{static fromValue(e){switch(e){case"comment":return HY.Comment;case"imports":return HY.Imports;case"region":return HY.Region}return new HY(e)}constructor(e){this.value=e}}HY.Comment=new HY("comment"),HY.Imports=new HY("imports"),HY.Region=new HY("region"),(BY||(BY={})).is=function(e){return!(!e||"object"!=typeof e)&&"string"==typeof e.id&&"string"==typeof e.title},(VY=zY||(zY={}))[VY.Type=1]="Type",VY[VY.Parameter=2]="Parameter";class $Y{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then((e=>{e&&e.dispose()}))}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const jY=new class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new sG,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),qq((()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))}))}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var n;null===(n=this._factories.get(e))||void 0===n||n.dispose();const i=new LY(this,e,t);return this._factories.set(e,i),qq((()=>{const t=this._factories.get(e);t&&t===i&&(this._factories.delete(e),t.dispose())}))}getOrCreate(e){return kY(this,void 0,void 0,(function*(){const t=this.get(e);if(t)return t;const n=this._factories.get(e);return!n||n.isResolved?null:(yield n.resolve(),this.get(e))}))}isResolved(e){if(this.get(e))return!0;const t=this._factories.get(e);return!(t&&!t.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};var UY,KY,qY,GY,YY,XY,ZY,QY,JY,eX,tX,nX,iX,oX,rX,sX,aX,lX,cX,uX,hX,dX,gX,fX,pX,mX,vX,bX,_X,yX,wX,CX,SX,xX,kX,LX,DX,EX,NX,TX,IX,MX,RX,AX,OX,PX,FX,BX,zX,VX,WX,HX,$X,jX,UX,KX,qX,GX,YX,XX,ZX,QX,JX,eZ,tZ,nZ,iZ,oZ,rZ,sZ,aZ,lZ,cZ;(KY=UY||(UY={}))[KY.Unknown=0]="Unknown",KY[KY.Disabled=1]="Disabled",KY[KY.Enabled=2]="Enabled",(GY=qY||(qY={}))[GY.Invoke=1]="Invoke",GY[GY.Auto=2]="Auto",(XY=YY||(YY={}))[XY.None=0]="None",XY[XY.KeepWhitespace=1]="KeepWhitespace",XY[XY.InsertAsSnippet=4]="InsertAsSnippet",(QY=ZY||(ZY={}))[QY.Method=0]="Method",QY[QY.Function=1]="Function",QY[QY.Constructor=2]="Constructor",QY[QY.Field=3]="Field",QY[QY.Variable=4]="Variable",QY[QY.Class=5]="Class",QY[QY.Struct=6]="Struct",QY[QY.Interface=7]="Interface",QY[QY.Module=8]="Module",QY[QY.Property=9]="Property",QY[QY.Event=10]="Event",QY[QY.Operator=11]="Operator",QY[QY.Unit=12]="Unit",QY[QY.Value=13]="Value",QY[QY.Constant=14]="Constant",QY[QY.Enum=15]="Enum",QY[QY.EnumMember=16]="EnumMember",QY[QY.Keyword=17]="Keyword",QY[QY.Text=18]="Text",QY[QY.Color=19]="Color",QY[QY.File=20]="File",QY[QY.Reference=21]="Reference",QY[QY.Customcolor=22]="Customcolor",QY[QY.Folder=23]="Folder",QY[QY.TypeParameter=24]="TypeParameter",QY[QY.User=25]="User",QY[QY.Issue=26]="Issue",QY[QY.Snippet=27]="Snippet",(eX=JY||(JY={}))[eX.Deprecated=1]="Deprecated",(nX=tX||(tX={}))[nX.Invoke=0]="Invoke",nX[nX.TriggerCharacter=1]="TriggerCharacter",nX[nX.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(oX=iX||(iX={}))[oX.EXACT=0]="EXACT",oX[oX.ABOVE=1]="ABOVE",oX[oX.BELOW=2]="BELOW",(sX=rX||(rX={}))[sX.NotSet=0]="NotSet",sX[sX.ContentFlush=1]="ContentFlush",sX[sX.RecoverFromMarkers=2]="RecoverFromMarkers",sX[sX.Explicit=3]="Explicit",sX[sX.Paste=4]="Paste",sX[sX.Undo=5]="Undo",sX[sX.Redo=6]="Redo",(lX=aX||(aX={}))[lX.LF=1]="LF",lX[lX.CRLF=2]="CRLF",function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(cX||(cX={})),(hX=uX||(uX={}))[hX.None=0]="None",hX[hX.Keep=1]="Keep",hX[hX.Brackets=2]="Brackets",hX[hX.Advanced=3]="Advanced",hX[hX.Full=4]="Full",(gX=dX||(dX={}))[gX.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",gX[gX.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",gX[gX.accessibilitySupport=2]="accessibilitySupport",gX[gX.accessibilityPageSize=3]="accessibilityPageSize",gX[gX.ariaLabel=4]="ariaLabel",gX[gX.ariaRequired=5]="ariaRequired",gX[gX.autoClosingBrackets=6]="autoClosingBrackets",gX[gX.autoClosingComments=7]="autoClosingComments",gX[gX.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",gX[gX.autoClosingDelete=9]="autoClosingDelete",gX[gX.autoClosingOvertype=10]="autoClosingOvertype",gX[gX.autoClosingQuotes=11]="autoClosingQuotes",gX[gX.autoIndent=12]="autoIndent",gX[gX.automaticLayout=13]="automaticLayout",gX[gX.autoSurround=14]="autoSurround",gX[gX.bracketPairColorization=15]="bracketPairColorization",gX[gX.guides=16]="guides",gX[gX.codeLens=17]="codeLens",gX[gX.codeLensFontFamily=18]="codeLensFontFamily",gX[gX.codeLensFontSize=19]="codeLensFontSize",gX[gX.colorDecorators=20]="colorDecorators",gX[gX.colorDecoratorsLimit=21]="colorDecoratorsLimit",gX[gX.columnSelection=22]="columnSelection",gX[gX.comments=23]="comments",gX[gX.contextmenu=24]="contextmenu",gX[gX.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",gX[gX.cursorBlinking=26]="cursorBlinking",gX[gX.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",gX[gX.cursorStyle=28]="cursorStyle",gX[gX.cursorSurroundingLines=29]="cursorSurroundingLines",gX[gX.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",gX[gX.cursorWidth=31]="cursorWidth",gX[gX.disableLayerHinting=32]="disableLayerHinting",gX[gX.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",gX[gX.domReadOnly=34]="domReadOnly",gX[gX.dragAndDrop=35]="dragAndDrop",gX[gX.dropIntoEditor=36]="dropIntoEditor",gX[gX.emptySelectionClipboard=37]="emptySelectionClipboard",gX[gX.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",gX[gX.extraEditorClassName=39]="extraEditorClassName",gX[gX.fastScrollSensitivity=40]="fastScrollSensitivity",gX[gX.find=41]="find",gX[gX.fixedOverflowWidgets=42]="fixedOverflowWidgets",gX[gX.folding=43]="folding",gX[gX.foldingStrategy=44]="foldingStrategy",gX[gX.foldingHighlight=45]="foldingHighlight",gX[gX.foldingImportsByDefault=46]="foldingImportsByDefault",gX[gX.foldingMaximumRegions=47]="foldingMaximumRegions",gX[gX.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",gX[gX.fontFamily=49]="fontFamily",gX[gX.fontInfo=50]="fontInfo",gX[gX.fontLigatures=51]="fontLigatures",gX[gX.fontSize=52]="fontSize",gX[gX.fontWeight=53]="fontWeight",gX[gX.fontVariations=54]="fontVariations",gX[gX.formatOnPaste=55]="formatOnPaste",gX[gX.formatOnType=56]="formatOnType",gX[gX.glyphMargin=57]="glyphMargin",gX[gX.gotoLocation=58]="gotoLocation",gX[gX.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",gX[gX.hover=60]="hover",gX[gX.inDiffEditor=61]="inDiffEditor",gX[gX.inlineSuggest=62]="inlineSuggest",gX[gX.letterSpacing=63]="letterSpacing",gX[gX.lightbulb=64]="lightbulb",gX[gX.lineDecorationsWidth=65]="lineDecorationsWidth",gX[gX.lineHeight=66]="lineHeight",gX[gX.lineNumbers=67]="lineNumbers",gX[gX.lineNumbersMinChars=68]="lineNumbersMinChars",gX[gX.linkedEditing=69]="linkedEditing",gX[gX.links=70]="links",gX[gX.matchBrackets=71]="matchBrackets",gX[gX.minimap=72]="minimap",gX[gX.mouseStyle=73]="mouseStyle",gX[gX.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",gX[gX.mouseWheelZoom=75]="mouseWheelZoom",gX[gX.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",gX[gX.multiCursorModifier=77]="multiCursorModifier",gX[gX.multiCursorPaste=78]="multiCursorPaste",gX[gX.multiCursorLimit=79]="multiCursorLimit",gX[gX.occurrencesHighlight=80]="occurrencesHighlight",gX[gX.overviewRulerBorder=81]="overviewRulerBorder",gX[gX.overviewRulerLanes=82]="overviewRulerLanes",gX[gX.padding=83]="padding",gX[gX.pasteAs=84]="pasteAs",gX[gX.parameterHints=85]="parameterHints",gX[gX.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",gX[gX.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",gX[gX.quickSuggestions=88]="quickSuggestions",gX[gX.quickSuggestionsDelay=89]="quickSuggestionsDelay",gX[gX.readOnly=90]="readOnly",gX[gX.readOnlyMessage=91]="readOnlyMessage",gX[gX.renameOnType=92]="renameOnType",gX[gX.renderControlCharacters=93]="renderControlCharacters",gX[gX.renderFinalNewline=94]="renderFinalNewline",gX[gX.renderLineHighlight=95]="renderLineHighlight",gX[gX.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",gX[gX.renderValidationDecorations=97]="renderValidationDecorations",gX[gX.renderWhitespace=98]="renderWhitespace",gX[gX.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",gX[gX.roundedSelection=100]="roundedSelection",gX[gX.rulers=101]="rulers",gX[gX.scrollbar=102]="scrollbar",gX[gX.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",gX[gX.scrollBeyondLastLine=104]="scrollBeyondLastLine",gX[gX.scrollPredominantAxis=105]="scrollPredominantAxis",gX[gX.selectionClipboard=106]="selectionClipboard",gX[gX.selectionHighlight=107]="selectionHighlight",gX[gX.selectOnLineNumbers=108]="selectOnLineNumbers",gX[gX.showFoldingControls=109]="showFoldingControls",gX[gX.showUnused=110]="showUnused",gX[gX.snippetSuggestions=111]="snippetSuggestions",gX[gX.smartSelect=112]="smartSelect",gX[gX.smoothScrolling=113]="smoothScrolling",gX[gX.stickyScroll=114]="stickyScroll",gX[gX.stickyTabStops=115]="stickyTabStops",gX[gX.stopRenderingLineAfter=116]="stopRenderingLineAfter",gX[gX.suggest=117]="suggest",gX[gX.suggestFontSize=118]="suggestFontSize",gX[gX.suggestLineHeight=119]="suggestLineHeight",gX[gX.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",gX[gX.suggestSelection=121]="suggestSelection",gX[gX.tabCompletion=122]="tabCompletion",gX[gX.tabIndex=123]="tabIndex",gX[gX.unicodeHighlighting=124]="unicodeHighlighting",gX[gX.unusualLineTerminators=125]="unusualLineTerminators",gX[gX.useShadowDOM=126]="useShadowDOM",gX[gX.useTabStops=127]="useTabStops",gX[gX.wordBreak=128]="wordBreak",gX[gX.wordSeparators=129]="wordSeparators",gX[gX.wordWrap=130]="wordWrap",gX[gX.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",gX[gX.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",gX[gX.wordWrapColumn=133]="wordWrapColumn",gX[gX.wordWrapOverride1=134]="wordWrapOverride1",gX[gX.wordWrapOverride2=135]="wordWrapOverride2",gX[gX.wrappingIndent=136]="wrappingIndent",gX[gX.wrappingStrategy=137]="wrappingStrategy",gX[gX.showDeprecated=138]="showDeprecated",gX[gX.inlayHints=139]="inlayHints",gX[gX.editorClassName=140]="editorClassName",gX[gX.pixelRatio=141]="pixelRatio",gX[gX.tabFocusMode=142]="tabFocusMode",gX[gX.layoutInfo=143]="layoutInfo",gX[gX.wrappingInfo=144]="wrappingInfo",gX[gX.defaultColorDecorators=145]="defaultColorDecorators",gX[gX.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",gX[gX.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose",(pX=fX||(fX={}))[pX.TextDefined=0]="TextDefined",pX[pX.LF=1]="LF",pX[pX.CRLF=2]="CRLF",(vX=mX||(mX={}))[vX.LF=0]="LF",vX[vX.CRLF=1]="CRLF",(_X=bX||(bX={}))[_X.Left=1]="Left",_X[_X.Right=2]="Right",(wX=yX||(yX={}))[wX.None=0]="None",wX[wX.Indent=1]="Indent",wX[wX.IndentOutdent=2]="IndentOutdent",wX[wX.Outdent=3]="Outdent",(SX=CX||(CX={}))[SX.Both=0]="Both",SX[SX.Right=1]="Right",SX[SX.Left=2]="Left",SX[SX.None=3]="None",function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(xX||(xX={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(kX||(kX={})),(DX=LX||(LX={}))[DX.DependsOnKbLayout=-1]="DependsOnKbLayout",DX[DX.Unknown=0]="Unknown",DX[DX.Backspace=1]="Backspace",DX[DX.Tab=2]="Tab",DX[DX.Enter=3]="Enter",DX[DX.Shift=4]="Shift",DX[DX.Ctrl=5]="Ctrl",DX[DX.Alt=6]="Alt",DX[DX.PauseBreak=7]="PauseBreak",DX[DX.CapsLock=8]="CapsLock",DX[DX.Escape=9]="Escape",DX[DX.Space=10]="Space",DX[DX.PageUp=11]="PageUp",DX[DX.PageDown=12]="PageDown",DX[DX.End=13]="End",DX[DX.Home=14]="Home",DX[DX.LeftArrow=15]="LeftArrow",DX[DX.UpArrow=16]="UpArrow",DX[DX.RightArrow=17]="RightArrow",DX[DX.DownArrow=18]="DownArrow",DX[DX.Insert=19]="Insert",DX[DX.Delete=20]="Delete",DX[DX.Digit0=21]="Digit0",DX[DX.Digit1=22]="Digit1",DX[DX.Digit2=23]="Digit2",DX[DX.Digit3=24]="Digit3",DX[DX.Digit4=25]="Digit4",DX[DX.Digit5=26]="Digit5",DX[DX.Digit6=27]="Digit6",DX[DX.Digit7=28]="Digit7",DX[DX.Digit8=29]="Digit8",DX[DX.Digit9=30]="Digit9",DX[DX.KeyA=31]="KeyA",DX[DX.KeyB=32]="KeyB",DX[DX.KeyC=33]="KeyC",DX[DX.KeyD=34]="KeyD",DX[DX.KeyE=35]="KeyE",DX[DX.KeyF=36]="KeyF",DX[DX.KeyG=37]="KeyG",DX[DX.KeyH=38]="KeyH",DX[DX.KeyI=39]="KeyI",DX[DX.KeyJ=40]="KeyJ",DX[DX.KeyK=41]="KeyK",DX[DX.KeyL=42]="KeyL",DX[DX.KeyM=43]="KeyM",DX[DX.KeyN=44]="KeyN",DX[DX.KeyO=45]="KeyO",DX[DX.KeyP=46]="KeyP",DX[DX.KeyQ=47]="KeyQ",DX[DX.KeyR=48]="KeyR",DX[DX.KeyS=49]="KeyS",DX[DX.KeyT=50]="KeyT",DX[DX.KeyU=51]="KeyU",DX[DX.KeyV=52]="KeyV",DX[DX.KeyW=53]="KeyW",DX[DX.KeyX=54]="KeyX",DX[DX.KeyY=55]="KeyY",DX[DX.KeyZ=56]="KeyZ",DX[DX.Meta=57]="Meta",DX[DX.ContextMenu=58]="ContextMenu",DX[DX.F1=59]="F1",DX[DX.F2=60]="F2",DX[DX.F3=61]="F3",DX[DX.F4=62]="F4",DX[DX.F5=63]="F5",DX[DX.F6=64]="F6",DX[DX.F7=65]="F7",DX[DX.F8=66]="F8",DX[DX.F9=67]="F9",DX[DX.F10=68]="F10",DX[DX.F11=69]="F11",DX[DX.F12=70]="F12",DX[DX.F13=71]="F13",DX[DX.F14=72]="F14",DX[DX.F15=73]="F15",DX[DX.F16=74]="F16",DX[DX.F17=75]="F17",DX[DX.F18=76]="F18",DX[DX.F19=77]="F19",DX[DX.F20=78]="F20",DX[DX.F21=79]="F21",DX[DX.F22=80]="F22",DX[DX.F23=81]="F23",DX[DX.F24=82]="F24",DX[DX.NumLock=83]="NumLock",DX[DX.ScrollLock=84]="ScrollLock",DX[DX.Semicolon=85]="Semicolon",DX[DX.Equal=86]="Equal",DX[DX.Comma=87]="Comma",DX[DX.Minus=88]="Minus",DX[DX.Period=89]="Period",DX[DX.Slash=90]="Slash",DX[DX.Backquote=91]="Backquote",DX[DX.BracketLeft=92]="BracketLeft",DX[DX.Backslash=93]="Backslash",DX[DX.BracketRight=94]="BracketRight",DX[DX.Quote=95]="Quote",DX[DX.OEM_8=96]="OEM_8",DX[DX.IntlBackslash=97]="IntlBackslash",DX[DX.Numpad0=98]="Numpad0",DX[DX.Numpad1=99]="Numpad1",DX[DX.Numpad2=100]="Numpad2",DX[DX.Numpad3=101]="Numpad3",DX[DX.Numpad4=102]="Numpad4",DX[DX.Numpad5=103]="Numpad5",DX[DX.Numpad6=104]="Numpad6",DX[DX.Numpad7=105]="Numpad7",DX[DX.Numpad8=106]="Numpad8",DX[DX.Numpad9=107]="Numpad9",DX[DX.NumpadMultiply=108]="NumpadMultiply",DX[DX.NumpadAdd=109]="NumpadAdd",DX[DX.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",DX[DX.NumpadSubtract=111]="NumpadSubtract",DX[DX.NumpadDecimal=112]="NumpadDecimal",DX[DX.NumpadDivide=113]="NumpadDivide",DX[DX.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",DX[DX.ABNT_C1=115]="ABNT_C1",DX[DX.ABNT_C2=116]="ABNT_C2",DX[DX.AudioVolumeMute=117]="AudioVolumeMute",DX[DX.AudioVolumeUp=118]="AudioVolumeUp",DX[DX.AudioVolumeDown=119]="AudioVolumeDown",DX[DX.BrowserSearch=120]="BrowserSearch",DX[DX.BrowserHome=121]="BrowserHome",DX[DX.BrowserBack=122]="BrowserBack",DX[DX.BrowserForward=123]="BrowserForward",DX[DX.MediaTrackNext=124]="MediaTrackNext",DX[DX.MediaTrackPrevious=125]="MediaTrackPrevious",DX[DX.MediaStop=126]="MediaStop",DX[DX.MediaPlayPause=127]="MediaPlayPause",DX[DX.LaunchMediaPlayer=128]="LaunchMediaPlayer",DX[DX.LaunchMail=129]="LaunchMail",DX[DX.LaunchApp2=130]="LaunchApp2",DX[DX.Clear=131]="Clear",DX[DX.MAX_VALUE=132]="MAX_VALUE",(NX=EX||(EX={}))[NX.Hint=1]="Hint",NX[NX.Info=2]="Info",NX[NX.Warning=4]="Warning",NX[NX.Error=8]="Error",(IX=TX||(TX={}))[IX.Unnecessary=1]="Unnecessary",IX[IX.Deprecated=2]="Deprecated",(RX=MX||(MX={}))[RX.Inline=1]="Inline",RX[RX.Gutter=2]="Gutter",(OX=AX||(AX={}))[OX.UNKNOWN=0]="UNKNOWN",OX[OX.TEXTAREA=1]="TEXTAREA",OX[OX.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",OX[OX.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",OX[OX.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",OX[OX.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",OX[OX.CONTENT_TEXT=6]="CONTENT_TEXT",OX[OX.CONTENT_EMPTY=7]="CONTENT_EMPTY",OX[OX.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",OX[OX.CONTENT_WIDGET=9]="CONTENT_WIDGET",OX[OX.OVERVIEW_RULER=10]="OVERVIEW_RULER",OX[OX.SCROLLBAR=11]="SCROLLBAR",OX[OX.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",OX[OX.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(FX=PX||(PX={}))[FX.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",FX[FX.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",FX[FX.TOP_CENTER=2]="TOP_CENTER",(zX=BX||(BX={}))[zX.Left=1]="Left",zX[zX.Center=2]="Center",zX[zX.Right=4]="Right",zX[zX.Full=7]="Full",(WX=VX||(VX={}))[WX.Left=0]="Left",WX[WX.Right=1]="Right",WX[WX.None=2]="None",WX[WX.LeftOfInjectedText=3]="LeftOfInjectedText",WX[WX.RightOfInjectedText=4]="RightOfInjectedText",($X=HX||(HX={}))[$X.Off=0]="Off",$X[$X.On=1]="On",$X[$X.Relative=2]="Relative",$X[$X.Interval=3]="Interval",$X[$X.Custom=4]="Custom",(UX=jX||(jX={}))[UX.None=0]="None",UX[UX.Text=1]="Text",UX[UX.Blocks=2]="Blocks",(qX=KX||(KX={}))[qX.Smooth=0]="Smooth",qX[qX.Immediate=1]="Immediate",(YX=GX||(GX={}))[YX.Auto=1]="Auto",YX[YX.Hidden=2]="Hidden",YX[YX.Visible=3]="Visible",(ZX=XX||(XX={}))[ZX.LTR=0]="LTR",ZX[ZX.RTL=1]="RTL",function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(QX||(QX={})),(eZ=JX||(JX={}))[eZ.File=0]="File",eZ[eZ.Module=1]="Module",eZ[eZ.Namespace=2]="Namespace",eZ[eZ.Package=3]="Package",eZ[eZ.Class=4]="Class",eZ[eZ.Method=5]="Method",eZ[eZ.Property=6]="Property",eZ[eZ.Field=7]="Field",eZ[eZ.Constructor=8]="Constructor",eZ[eZ.Enum=9]="Enum",eZ[eZ.Interface=10]="Interface",eZ[eZ.Function=11]="Function",eZ[eZ.Variable=12]="Variable",eZ[eZ.Constant=13]="Constant",eZ[eZ.String=14]="String",eZ[eZ.Number=15]="Number",eZ[eZ.Boolean=16]="Boolean",eZ[eZ.Array=17]="Array",eZ[eZ.Object=18]="Object",eZ[eZ.Key=19]="Key",eZ[eZ.Null=20]="Null",eZ[eZ.EnumMember=21]="EnumMember",eZ[eZ.Struct=22]="Struct",eZ[eZ.Event=23]="Event",eZ[eZ.Operator=24]="Operator",eZ[eZ.TypeParameter=25]="TypeParameter",(nZ=tZ||(tZ={}))[nZ.Deprecated=1]="Deprecated",(oZ=iZ||(iZ={}))[oZ.Hidden=0]="Hidden",oZ[oZ.Blink=1]="Blink",oZ[oZ.Smooth=2]="Smooth",oZ[oZ.Phase=3]="Phase",oZ[oZ.Expand=4]="Expand",oZ[oZ.Solid=5]="Solid",function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(rZ||(rZ={})),(aZ=sZ||(sZ={}))[aZ.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",aZ[aZ.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",aZ[aZ.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",aZ[aZ.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(cZ=lZ||(lZ={}))[cZ.None=0]="None",cZ[cZ.Same=1]="Same",cZ[cZ.Indent=2]="Indent",cZ[cZ.DeepIndent=3]="DeepIndent";let uZ=class{static chord(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)}};function hZ(){return{editor:void 0,languages:void 0,CancellationTokenSource:vG,Emitter:sG,KeyCode:LX,KeyMod:uZ,Position:bY,Range:_Y,Selection:yY,SelectionDirection:XX,MarkerSeverity:EX,MarkerTag:TX,Uri:aY,Token:DY}}uZ.CtrlCmd=2048,uZ.Shift=1024,uZ.Alt=512,uZ.WinCtrl=256;class dZ{get cachedValues(){return this._map}constructor(e){this.fn=e,this._map=new Map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class gZ{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var fZ;const pZ=/{(\d+)}/g;function mZ(e,...t){return 0===t.length?e:e.replace(pZ,(function(e,n){const i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]}))}function vZ(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function bZ(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function _Z(e,t){if(!e||!t)return e;const n=t.length;if(0===n||0===e.length)return e;let i=0;for(;e.indexOf(t,i)===i;)i+=n;return e.substring(i)}function yZ(e,t,n={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=bZ(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let i="";return n.global&&(i+="g"),n.matchCase||(i+="i"),n.multiline&&(i+="m"),n.unicode&&(i+="u"),new RegExp(e,i)}function wZ(e){return e.split(/\r\n|\r|\n/)}function CZ(e){for(let t=0,n=e.length;t<n;t++){const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}return-1}function SZ(e,t=0,n=e.length){for(let i=t;i<n;i++){const n=e.charCodeAt(i);if(32!==n&&9!==n)return e.substring(t,i)}return e.substring(t,n)}function xZ(e,t=e.length-1){for(let n=t;n>=0;n--){const t=e.charCodeAt(n);if(32!==t&&9!==t)return n}return-1}function kZ(e,t){return e<t?-1:e>t?1:0}function LZ(e,t,n=0,i=e.length,o=0,r=t.length){for(;n<i&&o<r;n++,o++){const i=e.charCodeAt(n),r=t.charCodeAt(o);if(i<r)return-1;if(i>r)return 1}const s=i-n,a=r-o;return s<a?-1:s>a?1:0}function DZ(e,t){return EZ(e,t,0,e.length,0,t.length)}function EZ(e,t,n=0,i=e.length,o=0,r=t.length){for(;n<i&&o<r;n++,o++){let s=e.charCodeAt(n),a=t.charCodeAt(o);if(s===a)continue;if(s>=128||a>=128)return LZ(e.toLowerCase(),t.toLowerCase(),n,i,o,r);TZ(s)&&(s-=32),TZ(a)&&(a-=32);const l=s-a;if(0!==l)return l}const s=i-n,a=r-o;return s<a?-1:s>a?1:0}function NZ(e){return e>=48&&e<=57}function TZ(e){return e>=97&&e<=122}function IZ(e){return e>=65&&e<=90}function MZ(e,t){return e.length===t.length&&0===EZ(e,t)}function RZ(e,t){const n=t.length;return!(t.length>e.length)&&0===EZ(e,t,0,n)}function AZ(e,t){const n=Math.min(e.length,t.length);let i;for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function OZ(e,t){const n=Math.min(e.length,t.length);let i;const o=e.length-1,r=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(r-i))return i;return n}function PZ(e){return 55296<=e&&e<=56319}function FZ(e){return 56320<=e&&e<=57343}function BZ(e,t){return t-56320+(e-55296<<10)+65536}function zZ(e,t,n){const i=e.charCodeAt(n);if(PZ(i)&&n+1<t){const t=e.charCodeAt(n+1);if(FZ(t))return BZ(i,t)}return i}class VZ{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=function(e,t){const n=e.charCodeAt(t-1);if(FZ(n)&&t>1){const i=e.charCodeAt(t-2);if(PZ(i))return BZ(i,n)}return n}(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=zZ(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class WZ{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new VZ(e,t)}nextGraphemeLength(){const e=nQ.getInstance(),t=this._iterator,n=t.offset;let i=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const n=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(tQ(i,o)){t.setOffset(n);break}i=o}return t.offset-n}prevGraphemeLength(){const e=nQ.getInstance(),t=this._iterator,n=t.offset;let i=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const n=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(tQ(o,i)){t.setOffset(n);break}i=o}return n-t.offset}eol(){return this._iterator.eol()}}function HZ(e,t){return new WZ(e,t).nextGraphemeLength()}function $Z(e,t){return new WZ(e,t).prevGraphemeLength()}let jZ;function UZ(e){return jZ||(jZ=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),jZ.test(e)}const KZ=/^[\t\n\r\x20-\x7E]*$/;function qZ(e){return KZ.test(e)}const GZ=/[\u2028\u2029]/;function YZ(e){return GZ.test(e)}function XZ(e){return e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function ZZ(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129008||e>=129280&&e<=129535||e>=129648&&e<=129782}const QZ=String.fromCharCode(65279);function JZ(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function eQ(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function tQ(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class nQ{static getInstance(){return nQ._INSTANCE||(nQ._INSTANCE=new nQ),nQ._INSTANCE}constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,n=t.length/3;let i=1;for(;i<=n;)if(e<t[3*i])i*=2;else{if(!(e>t[3*i+1]))return t[3*i+2];i=2*i+1}return 0}}function iQ(e,t){if(0===e)return 0;const n=function(e,t){const n=new VZ(t,e);let i=n.prevCodePoint();for(;oQ(i)||65039===i||8419===i;){if(0===n.offset)return;i=n.prevCodePoint()}if(!ZZ(i))return;let o=n.offset;if(o>0){8205===n.prevCodePoint()&&(o=n.offset)}return o}(e,t);if(void 0!==n)return n;const i=new VZ(t,e);return i.prevCodePoint(),i.offset}function oQ(e){return 127995<=e&&e<=127999}nQ._INSTANCE=null;class rQ{static getInstance(e){return fZ.cache.get(Array.from(e))}static getLocales(){return fZ._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}fZ=rQ,rQ.ambiguousCharacterData=new gZ((()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))),rQ.cache=new class{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}((e=>{function t(e){const t=new Map;for(let n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}function n(e,t){if(!e)return t;const n=new Map;for(const[i,o]of e)t.has(i)&&n.set(i,o);return n}const i=fZ.ambiguousCharacterData.value;let o,r=e.filter((e=>!e.startsWith("_")&&e in i));0===r.length&&(r=["_default"]);for(const a of r){o=n(o,t(i[a]))}const s=function(e,t){const n=new Map(e);for(const[i,o]of t)n.set(i,o);return n}(t(i._common),o);return new fZ(s)})),rQ._locales=new gZ((()=>Object.keys(fZ.ambiguousCharacterData.value).filter((e=>!e.startsWith("_")))));class sQ{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(sQ.getRawData())),this._data}static isInvisibleCharacter(e){return sQ.getData().has(e)}static get codePoints(){return sQ.getData()}}sQ._data=void 0;class aQ{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}aQ.INSTANCE=new aQ;class lQ extends Yq{constructor(){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;null===(t=this._mediaQueryList)||void 0===t||t.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class cQ extends Yq{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new lQ);this._register(e.onDidChange((()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)})))}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function uQ(e,t){"string"==typeof e&&(e=window.matchMedia(e)),e.addEventListener("change",t)}const hQ=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new cQ),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};const dQ=navigator.userAgent,gQ=dQ.indexOf("Firefox")>=0,fQ=dQ.indexOf("AppleWebKit")>=0,pQ=dQ.indexOf("Chrome")>=0,mQ=!pQ&&dQ.indexOf("Safari")>=0,vQ=!pQ&&!mQ&&fQ;dQ.indexOf("Electron/");const bQ=dQ.indexOf("Android")>=0;let _Q=!1;if(window.matchMedia){const e=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=window.matchMedia("(display-mode: fullscreen)");_Q=e.matches,uQ(e,(({matches:e})=>{_Q&&t.matches||(_Q=e)}))}class yQ{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=wQ(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=wQ(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=wQ(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=wQ(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=wQ(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=wQ(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=wQ(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=wQ(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=wQ(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=wQ(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=wQ(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function wQ(e){return"number"==typeof e?`${e}px`:e}function CQ(e){return new yQ(e)}function SQ(e,t){e instanceof yQ?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setFontVariationSettings(t.fontVariationSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.fontVariationSettings=t.fontVariationSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}class xQ{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class kQ{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");SQ(t,this._bareFontInfo),e.appendChild(t);const n=document.createElement("div");SQ(n,this._bareFontInfo),n.style.fontWeight="bold",e.appendChild(n);const i=document.createElement("div");SQ(i,this._bareFontInfo),i.style.fontStyle="italic",e.appendChild(i);const o=[];for(const r of this._requests){let e;0===r.type&&(e=t),2===r.type&&(e=n),1===r.type&&(e=i),e.appendChild(document.createElement("br"));const s=document.createElement("span");kQ._render(s,r),e.appendChild(s),o.push(s)}this._container=e,this._testElements=o}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let n=t.chr;for(let e=0;e<8;e++)n+=n;e.textContent=n}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],n=this._testElements[e];t.fulfill(n.offsetWidth/256)}}}const LQ=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new sG,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},DQ=wK?1.5:1.35;class EQ{static createFromValidatedSettings(e,t,n){const i=e.get(49),o=e.get(53),r=e.get(52),s=e.get(51),a=e.get(54),l=e.get(66),c=e.get(63);return EQ._create(i,o,r,s,a,l,c,t,n)}static _create(e,t,n,i,o,r,s,a,l){0===r?r=DQ*n:r<8&&(r*=n),(r=Math.round(r))<8&&(r=8);const c=1+(l?0:.1*LQ.getZoomLevel());if(n*=c,r*=c,o===fq.TRANSLATE)if("normal"===t||"bold"===t)o=fq.OFF;else{o=`'wght' ${parseInt(t,10)}`,t="normal"}return new EQ({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:n,fontFeatureSettings:i,fontVariationSettings:o,lineHeight:r,letterSpacing:s})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=Eq.fontFamily,t=EQ._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class NQ extends EQ{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=2,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class TQ{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const n=e.getId();this._keys[n]=e,this._values[n]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}const IQ=new class extends Yq{constructor(){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._cache=new TQ,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new TQ,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=window.setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const n of e)n.isTrusted||(t=!0,this._cache.remove(n));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new NQ({pixelRatio:hQ.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,n,i){const o=new xQ(e,t);return n.push(o),null==i||i.push(o),o}_actualReadFontInfo(e){const t=[],n=[],i=this._createRequest("n",0,t,n),o=this._createRequest("ｍ",0,t,null),r=this._createRequest(" ",0,t,n),s=this._createRequest("0",0,t,n),a=this._createRequest("1",0,t,n),l=this._createRequest("2",0,t,n),c=this._createRequest("3",0,t,n),u=this._createRequest("4",0,t,n),h=this._createRequest("5",0,t,n),d=this._createRequest("6",0,t,n),g=this._createRequest("7",0,t,n),f=this._createRequest("8",0,t,n),p=this._createRequest("9",0,t,n),m=this._createRequest("→",0,t,n),v=this._createRequest("￫",0,t,null),b=this._createRequest("·",0,t,n),_=this._createRequest(String.fromCharCode(11825),0,t,null),y="|/-_ilm%";for(let k=0,L=8;k<L;k++)this._createRequest(y.charAt(k),0,t,n),this._createRequest(y.charAt(k),1,t,n),this._createRequest(y.charAt(k),2,t,n);!function(e,t){new kQ(e,t).read()}(e,t);const w=Math.max(s.width,a.width,l.width,c.width,u.width,h.width,d.width,g.width,f.width,p.width);let C=e.fontFeatureSettings===gq.OFF;const S=n[0].width;for(let k=1,L=n.length;C&&k<L;k++){const e=S-n[k].width;if(e<-.001||e>.001){C=!1;break}}let x=!0;return C&&v.width!==S&&(x=!1),v.width>m.width&&(x=!1),new NQ({pixelRatio:hQ.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,fontVariationSettings:e.fontVariationSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:C,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:x,spaceWidth:r.width,middotWidth:b.width,wsmiddotWidth:_.width,maxDigitWidth:w},!0)}};var MQ,RQ;(RQ=MQ||(MQ={})).serviceIds=new Map,RQ.DI_TARGET="$di$target",RQ.DI_DEPENDENCIES="$di$dependencies",RQ.getServiceDependencies=function(e){return e[RQ.DI_DEPENDENCIES]||[]};const AQ=OQ("instantiationService");function OQ(e){if(MQ.serviceIds.has(e))return MQ.serviceIds.get(e);const t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[MQ.DI_TARGET]===t?t[MQ.DI_DEPENDENCIES].push({id:e,index:n}):(t[MQ.DI_DEPENDENCIES]=[{id:e,index:n}],t[MQ.DI_TARGET]=t)}(t,e,i)};return t.toString=()=>e,MQ.serviceIds.set(e,t),t}const PQ=OQ("codeEditorService"),FQ=OQ("modelService"),BQ=OQ("textModelService");var zQ,VQ,WQ=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class HQ extends Yq{constructor(e,t="",n="",i=!0,o){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return WQ(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class $Q extends Yq{constructor(){super(...arguments),this._onWillRun=this._register(new sG),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new sG),this.onDidRun=this._onDidRun.event}run(e,t){return WQ(this,void 0,void 0,(function*(){if(!e.enabled)return;let n;this._onWillRun.fire({action:e});try{yield this.runAction(e,t)}catch(fTe){n=fTe}this._onDidRun.fire({action:e,error:n})}))}runAction(e,t){return WQ(this,void 0,void 0,(function*(){yield e.run(t)}))}}class jQ{constructor(){this.id=jQ.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const n of e)n.length&&(t=t.length?[...t,new jQ,...n]:n);return t}run(){return WQ(this,void 0,void 0,(function*(){}))}}jQ.ID="vs.actions.separator";class UQ{get actions(){return this._actions}constructor(e,t,n,i){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=i,this._actions=n}run(){return WQ(this,void 0,void 0,(function*(){}))}}class KQ extends HQ{constructor(){super(KQ.ID,nK(0,"(empty)"),void 0,!1)}}function qQ(e){var t,n;return{id:e.id,label:e.label,class:void 0,enabled:null===(t=e.enabled)||void 0===t||t,checked:null!==(n=e.checked)&&void 0!==n&&n,run:(...t)=>WQ(this,void 0,void 0,(function*(){return e.run(...t)})),tooltip:e.label}}KQ.ID="vs.actions.empty",(zQ||(zQ={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9-]+",e.iconModifierExpression="~[A-Za-z]+",e.iconNameCharacter="[A-Za-z0-9~-]";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function n(e){const i=t.exec(e.id);if(!i)return n(xY.error);const[,o,r]=i,s=["codicon","codicon-"+o];return r&&s.push("codicon-modifier-"+r.substring(1)),s}e.asClassNameArray=n,e.asClassName=function(e){return n(e).join(" ")},e.asCSSSelector=function(e){return"."+n(e).join(".")},e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||zQ.isThemeColor(e.color))};const i=new RegExp(`^\\$\\((${e.iconNameExpression}(?:${e.iconModifierExpression})?)\\)$`);e.fromString=function(e){const t=i.exec(e);if(!t)return;const[,n]=t;return{id:n}},e.fromId=function(e){return{id:e}},e.modify=function(e,t){let n=e.id;const i=n.lastIndexOf("~");return-1!==i&&(n=n.substring(0,i)),t&&(n=`${n}~${t}`),{id:n}},e.getModifier=function(e){const t=e.id.lastIndexOf("~");if(-1!==t)return e.id.substring(t+1)},e.isEqual=function(e,t){var n,i;return e.id===t.id&&(null===(n=e.color)||void 0===n?void 0:n.id)===(null===(i=t.color)||void 0===i?void 0:i.id)}}(VQ||(VQ={}));const GQ=OQ("commandService"),YQ=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new sG,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(const i of e.description.args)t.push(i.constraint);const n=e.handler;e.handler=function(e,...i){return function(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)GU(e[i],t[i])}(i,t),n(e,...i)}}const{id:n}=e;let i=this._commands.get(n);i||(i=new WK,this._commands.set(n,i));const o=i.unshift(e),r=qq((()=>{o();const e=this._commands.get(n);(null==e?void 0:e.isEmpty())&&this._commands.delete(n)}));return this._onDidRegisterCommand.fire(n),r}registerCommandAlias(e,t){return YQ.registerCommand(e,((e,...n)=>e.get(GQ).executeCommand(t,...n)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return zK.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const n=this.getCommand(t);n&&e.set(t,n)}return e}};function XQ(...e){switch(e.length){case 1:return nK(0,"Did you mean {0}?",e[0]);case 2:return nK(0,"Did you mean {0} or {1}?",e[0],e[1]);case 3:return nK(0,"Did you mean {0}, {1} or {2}?",e[0],e[1],e[2]);default:return}}YQ.registerCommand("noop",(()=>{}));const ZQ=nK(0,"Did you forget to open or close the quote?"),QQ=nK(0,"Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class JQ{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw Vq(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();){this._start=this._current;switch(this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else this._match(126)?this._addToken(9):this._error(XQ("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(XQ("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(XQ("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return!this._isAtEnd()&&(this._input.charCodeAt(this._current)===e&&(this._current++,!0))}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,n=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e}),this._tokens.push(i)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),n=JQ._keywords.get(t);n?this._addToken(n):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(ZQ):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let e=this._current,t=!1,n=!1;for(;;){if(e>=this._input.length)return this._current=e,void this._error(QQ);const i=this._input.charCodeAt(e);if(t)t=!1;else{if(47===i&&!n){e++;break}91===i?n=!0:92===i?t=!0:93===i&&(n=!1)}e++}for(;e<this._input.length&&JQ._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}JQ._regexFlags=new Set(["i","g","s","m","y","u"].map((e=>e.charCodeAt(0)))),JQ._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);const eJ=new Map;eJ.set("false",!1),eJ.set("true",!0),eJ.set("isMac",wK),eJ.set("isLinux",CK),eJ.set("isWindows",yK),eJ.set("isWeb",xK),eJ.set("isMacNative",wK&&!xK),eJ.set("isEdge",FK),eJ.set("isFirefox",OK),eJ.set("isChrome",AK),eJ.set("isSafari",PK);const tJ=Object.prototype.hasOwnProperty,nJ={regexParsingWithErrorRecovery:!0},iJ=nK(0,"Empty context key expression"),oJ=nK(0,"Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),rJ=nK(0,"'in' after 'not'."),sJ=nK(0,"closing parenthesis ')'"),aJ=nK(0,"Unexpected token"),lJ=nK(0,"Did you forget to put && or || before the token?"),cJ=nK(0,"Unexpected end of expression"),uJ=nK(0,"Did you forget to put a context key?");let hJ=class e{constructor(e=nJ){this._config=e,this._scanner=new JQ,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(t){if(""!==t){this._tokens=this._scanner.reset(t).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const t=this._peek(),n=17===t.type?lJ:void 0;throw this._parsingErrors.push({message:aJ,offset:t.offset,lexeme:JQ.getLexeme(t),additionalInfo:n}),e._parseError}return t}catch(fTe){if(fTe!==e._parseError)throw fTe;return}}else this._parsingErrors.push({message:iJ,offset:0,lexeme:"",additionalInfo:oJ})}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return 1===e.length?e[0]:dJ.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return 1===e.length?e[0]:dJ.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),fJ.INSTANCE;case 12:return this._advance(),pJ.INSTANCE;case 0:{this._advance();const e=this._expr();return this._consume(1,sJ),null==e?void 0:e.negate()}case 17:return this._advance(),wJ.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const t=this._peek();switch(t.type){case 11:return this._advance(),dJ.true();case 12:return this._advance(),dJ.false();case 0:{this._advance();const e=this._expr();return this._consume(1,sJ),e}case 17:{const e=t.lexeme;if(this._advance(),this._matchOne(9)){const t=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==t.type)throw this._errExpectedButGot("REGEX",t);const n=t.lexeme,i=n.lastIndexOf("/"),o=i===n.length-1?void 0:this._removeFlagsGY(n.substring(i+1));let r;try{r=new RegExp(n.substring(1,i),o)}catch(fTe){throw this._errExpectedButGot("REGEX",t)}return DJ.create(e,r)}switch(t.type){case 10:case 19:{const n=[t.lexeme];this._advance();let i=this._peek(),o=0;for(let e=0;e<t.lexeme.length;e++)40===t.lexeme.charCodeAt(e)?o++:41===t.lexeme.charCodeAt(e)&&o--;for(;!this._isAtEnd()&&15!==i.type&&16!==i.type;){switch(i.type){case 0:o++;break;case 1:o--;break;case 10:case 18:for(let e=0;e<i.lexeme.length;e++)40===i.lexeme.charCodeAt(e)?o++:41===t.lexeme.charCodeAt(e)&&o--}if(o<0)break;n.push(JQ.getLexeme(i)),this._advance(),i=this._peek()}const r=n.join(""),s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1));let l;try{l=new RegExp(r.substring(1,s),a)}catch(fTe){throw this._errExpectedButGot("REGEX",t)}return dJ.regex(e,l)}case 18:{const o=t.lexeme;this._advance();let r=null;if((n=o)&&"string"==typeof n&&0!==n.trim().length){const e=o.indexOf("/"),n=o.lastIndexOf("/");if(e!==n&&e>=0){const s=o.slice(e+1,n),a="i"===o[n+1]?"i":"";try{r=new RegExp(s,a)}catch(i){throw this._errExpectedButGot("REGEX",t)}}}if(null===r)throw this._errExpectedButGot("REGEX",t);return DJ.create(e,r)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,rJ);const t=this._value();return dJ.notIn(e,t)}switch(this._peek().type){case 3:{this._advance();const t=this._value();if(18===this._previous().type)return dJ.equals(e,t);switch(t){case"true":return dJ.has(e);case"false":return dJ.not(e);default:return dJ.equals(e,t)}}case 4:{this._advance();const t=this._value();if(18===this._previous().type)return dJ.notEquals(e,t);switch(t){case"true":return dJ.not(e);case"false":return dJ.has(e);default:return dJ.notEquals(e,t)}}case 5:return this._advance(),kJ.create(e,this._value());case 6:return this._advance(),LJ.create(e,this._value());case 7:return this._advance(),SJ.create(e,this._value());case 8:return this._advance(),xJ.create(e,this._value());case 13:return this._advance(),dJ.in(e,this._value());default:return dJ.has(e)}}case 20:throw this._parsingErrors.push({message:cJ,offset:t.offset,lexeme:"",additionalInfo:uJ}),e._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}var n}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return!!this._check(e)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(t,n,i){const o=nK(0,"Expected: {0}\nReceived: '{1}'.",t,JQ.getLexeme(n)),r=n.offset,s=JQ.getLexeme(n);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:i}),e._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}};hJ._parseError=new Error;class dJ{static false(){return fJ.INSTANCE}static true(){return pJ.INSTANCE}static has(e){return mJ.create(e)}static equals(e,t){return vJ.create(e,t)}static notEquals(e,t){return yJ.create(e,t)}static regex(e,t){return DJ.create(e,t)}static in(e,t){return bJ.create(e,t)}static notIn(e,t){return _J.create(e,t)}static not(e){return wJ.create(e)}static and(...e){return TJ.create(e,null,!0)}static or(...e){return IJ.create(e,null,!0)}static deserialize(e){if(null==e)return;return this._parser.parse(e)}}function gJ(e,t){return e.cmp(t)}dJ._parser=new hJ({regexParsingWithErrorRecovery:!1});class fJ{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return pJ.INSTANCE}}fJ.INSTANCE=new fJ;class pJ{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return fJ.INSTANCE}}pJ.INSTANCE=new pJ;class mJ{static create(e,t=null){const n=eJ.get(e);return"boolean"==typeof n?n?pJ.INSTANCE:fJ.INSTANCE:new mJ(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:AJ(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=eJ.get(this.key);return"boolean"==typeof e?e?pJ.INSTANCE:fJ.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=wJ.create(this.key,this)),this.negated}}class vJ{static create(e,t,n=null){if("boolean"==typeof t)return t?mJ.create(e,n):wJ.create(e,n);const i=eJ.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?pJ.INSTANCE:fJ.INSTANCE}return new vJ(e,t,n)}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=eJ.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?pJ.INSTANCE:fJ.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=yJ.create(this.key,this.value,this)),this.negated}}class bJ{static create(e,t){return new bJ(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.includes(n):"string"==typeof n&&"object"==typeof t&&null!==t&&tJ.call(t,n)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=_J.create(this.key,this.valueKey)),this.negated}}class _J{static create(e,t){return new _J(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=bJ.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class yJ{static create(e,t,n=null){if("boolean"==typeof t)return t?wJ.create(e,n):mJ.create(e,n);const i=eJ.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?fJ.INSTANCE:pJ.INSTANCE}return new yJ(e,t,n)}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=eJ.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?fJ.INSTANCE:pJ.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=vJ.create(this.key,this.value,this)),this.negated}}class wJ{static create(e,t=null){const n=eJ.get(e);return"boolean"==typeof n?n?fJ.INSTANCE:pJ.INSTANCE:new wJ(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:AJ(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=eJ.get(this.key);return"boolean"==typeof e?e?fJ.INSTANCE:pJ.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=mJ.create(this.key,this)),this.negated}}function CJ(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):fJ.INSTANCE}class SJ{static create(e,t,n=null){return CJ(t,(t=>new SJ(e,t,n)))}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=LJ.create(this.key,this.value,this)),this.negated}}class xJ{static create(e,t,n=null){return CJ(t,(t=>new xJ(e,t,n)))}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=kJ.create(this.key,this.value,this)),this.negated}}class kJ{static create(e,t,n=null){return CJ(t,(t=>new kJ(e,t,n)))}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xJ.create(this.key,this.value,this)),this.negated}}class LJ{static create(e,t,n=null){return CJ(t,(t=>new LJ(e,t,n)))}constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:OJ(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=SJ.create(this.key,this.value,this)),this.negated}}class DJ{static create(e,t){return new DJ(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=EJ.create(this)),this.negated}}class EJ{static create(e){return new EJ(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function NJ(e){let t=null;for(let n=0,i=e.length;n<i;n++){const i=e[n].substituteConstants();if(e[n]!==i&&null===t){t=[];for(let i=0;i<n;i++)t[i]=e[i]}null!==t&&(t[n]=i)}return null===t?e:t}class TJ{static create(e,t,n){return TJ._normalizeArr(e,t,n)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=gJ(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=NJ(this.expr);return e===this.expr?this:TJ.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,n){const i=[];let o=!1;for(const r of e)if(r)if(1!==r.type){if(0===r.type)return fJ.INSTANCE;6!==r.type?i.push(r):i.push(...r.expr)}else o=!0;if(0===i.length&&o)return pJ.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(gJ);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;i.length>1;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop(),o=0===i.length,r=IJ.create(e.expr.map((e=>TJ.create([e,t],null,n))),null,o);r&&(i.push(r),i.sort(gJ))}if(1===i.length)return i[0];if(n){for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++)if(i[e].negate().equals(i[t]))return fJ.INSTANCE;if(1===i.length)return i[0]}return new TJ(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=IJ.create(e,this,!0)}return this.negated}}class IJ{static create(e,t,n){return IJ._normalizeArr(e,t,n)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=gJ(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=NJ(this.expr);return e===this.expr?this:IJ.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let i=[],o=!1;if(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n)if(0!==n.type){if(1===n.type)return pJ.INSTANCE;9!==n.type?i.push(n):i=i.concat(n.expr)}else o=!0}if(0===i.length&&o)return fJ.INSTANCE;i.sort(gJ)}if(0!==i.length){if(1===i.length)return i[0];for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];if(n){for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++)if(i[e].negate().equals(i[t]))return pJ.INSTANCE;if(1===i.length)return i[0]}return new IJ(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),n=e.shift(),i=[];for(const e of BJ(t))for(const t of BJ(n))i.push(TJ.create([e,t],null,!1));e.unshift(IJ.create(i,null,!1))}this.negated=IJ.create(e,this,!0)}return this.negated}}class MJ extends mJ{static all(){return MJ._info.values()}constructor(e,t,n){super(e,null),this._defaultValue=t,"object"==typeof n?MJ._info.push(Object.assign(Object.assign({},n),{key:e})):!0!==n&&MJ._info.push({key:e,description:n,type:null!=t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return vJ.create(this.key,e)}}MJ._info=[];const RJ=OQ("contextKeyService");function AJ(e,t){return e<t?-1:e>t?1:0}function OJ(e,t,n,i){return e<n?-1:e>n?1:t<i?-1:t>i?1:0}function PJ(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&FJ(e.expr,t.expr);if(9===t.type){for(const n of t.expr)if(PJ(e,n))return!0;return!1}if(6===e.type){if(6===t.type)return FJ(t.expr,e.expr);for(const n of e.expr)if(PJ(n,t))return!0;return!1}return e.equals(t)}function FJ(e,t){let n=0,i=0;for(;n<e.length&&i<t.length;){const o=e[n].cmp(t[i]);if(o<0)return!1;0===o?(n++,i++):i++}return n===e.length}function BJ(e){return 9===e.type?e.expr:[e]}function zJ(e,t){if("number"==typeof e){if(0===e)return null;const n=(65535&e)>>>0,i=(4294901760&e)>>>16;return new HJ(0!==i?[VJ(n,t),VJ(i,t)]:[VJ(n,t)])}{const n=[];for(let i=0;i<e.length;i++)n.push(VJ(e[i],t));return new HJ(n)}}function VJ(e,t){const n=!!(2048&e),i=!!(256&e);return new WJ(2===t?i:n,!!(1024&e),!!(512&e),2===t?n:i,255&e)}class WJ{constructor(e,t,n,i,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=o}equals(e){return e instanceof WJ&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class HJ{constructor(e){if(0===e.length)throw zq("chords");this.chords=e}}class $J{constructor(e,t,n,i,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=r}}class jJ{}function UJ(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function KJ(e,t="Unreachable"){throw new Error(t)}function qJ(e){e()||(e(),Rq(new $q("Assertion Failed")))}function GJ(e,t){let n=0;for(;n<e.length-1;){if(!t(e[n],e[n+1]))return!1;n++}return!0}const YJ=new class{constructor(){this.data=new Map}add(e,t){UJ(PU(e)),UJ(FU(t)),UJ(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}};class XJ{constructor(){this._coreKeybindings=new WK,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===IK){if(e&&e.win)return e.win}else if(2===IK){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=XJ.bindToCurrentPlatform(e),n=new Gq;if(t&&t.primary){const i=zJ(t.primary,IK);i&&n.add(this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let i=0,o=t.secondary.length;i<o;i++){const o=zJ(t.secondary[i],IK);o&&n.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-i-1,e.when))}return n}registerCommandAndKeybindingRule(e){return Kq(this.registerKeybindingRule(e),YQ.registerCommand(e))}_registerDefaultKeybinding(e,t,n,i,o,r){const s=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:n,when:r,weight1:i,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,qq((()=>{s(),this._cachedMergedKeybindings=null}))}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(QJ)),this._cachedMergedKeybindings.slice(0)}}const ZJ=new XJ;function QJ(e,t){if(e.weight1!==t.weight1)return e.weight1-t.weight1;if(e.command&&t.command){if(e.command<t.command)return-1;if(e.command>t.command)return 1}return e.weight2-t.weight2}YJ.add("platform.keybindingsRegistry",ZJ);var JJ,e0=function(e,t){return function(n,i){t(n,i,e)}};function t0(e){return void 0!==e.command}class n0{constructor(e){if(n0._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);n0._instances.set(e,this),this.id=e}}n0._instances=new Map,n0.CommandPalette=new n0("CommandPalette"),n0.DebugBreakpointsContext=new n0("DebugBreakpointsContext"),n0.DebugCallStackContext=new n0("DebugCallStackContext"),n0.DebugConsoleContext=new n0("DebugConsoleContext"),n0.DebugVariablesContext=new n0("DebugVariablesContext"),n0.DebugWatchContext=new n0("DebugWatchContext"),n0.DebugToolBar=new n0("DebugToolBar"),n0.DebugToolBarStop=new n0("DebugToolBarStop"),n0.EditorContext=new n0("EditorContext"),n0.SimpleEditorContext=new n0("SimpleEditorContext"),n0.EditorContent=new n0("EditorContent"),n0.EditorLineNumberContext=new n0("EditorLineNumberContext"),n0.EditorContextCopy=new n0("EditorContextCopy"),n0.EditorContextPeek=new n0("EditorContextPeek"),n0.EditorContextShare=new n0("EditorContextShare"),n0.EditorTitle=new n0("EditorTitle"),n0.EditorTitleRun=new n0("EditorTitleRun"),n0.EditorTitleContext=new n0("EditorTitleContext"),n0.EditorTitleContextShare=new n0("EditorTitleContextShare"),n0.EmptyEditorGroup=new n0("EmptyEditorGroup"),n0.EmptyEditorGroupContext=new n0("EmptyEditorGroupContext"),n0.EditorTabsBarContext=new n0("EditorTabsBarContext"),n0.ExplorerContext=new n0("ExplorerContext"),n0.ExplorerContextShare=new n0("ExplorerContextShare"),n0.ExtensionContext=new n0("ExtensionContext"),n0.GlobalActivity=new n0("GlobalActivity"),n0.CommandCenter=new n0("CommandCenter"),n0.CommandCenterCenter=new n0("CommandCenterCenter"),n0.LayoutControlMenuSubmenu=new n0("LayoutControlMenuSubmenu"),n0.LayoutControlMenu=new n0("LayoutControlMenu"),n0.MenubarMainMenu=new n0("MenubarMainMenu"),n0.MenubarAppearanceMenu=new n0("MenubarAppearanceMenu"),n0.MenubarDebugMenu=new n0("MenubarDebugMenu"),n0.MenubarEditMenu=new n0("MenubarEditMenu"),n0.MenubarCopy=new n0("MenubarCopy"),n0.MenubarFileMenu=new n0("MenubarFileMenu"),n0.MenubarGoMenu=new n0("MenubarGoMenu"),n0.MenubarHelpMenu=new n0("MenubarHelpMenu"),n0.MenubarLayoutMenu=new n0("MenubarLayoutMenu"),n0.MenubarNewBreakpointMenu=new n0("MenubarNewBreakpointMenu"),n0.PanelAlignmentMenu=new n0("PanelAlignmentMenu"),n0.PanelPositionMenu=new n0("PanelPositionMenu"),n0.MenubarPreferencesMenu=new n0("MenubarPreferencesMenu"),n0.MenubarRecentMenu=new n0("MenubarRecentMenu"),n0.MenubarSelectionMenu=new n0("MenubarSelectionMenu"),n0.MenubarShare=new n0("MenubarShare"),n0.MenubarSwitchEditorMenu=new n0("MenubarSwitchEditorMenu"),n0.MenubarSwitchGroupMenu=new n0("MenubarSwitchGroupMenu"),n0.MenubarTerminalMenu=new n0("MenubarTerminalMenu"),n0.MenubarViewMenu=new n0("MenubarViewMenu"),n0.MenubarHomeMenu=new n0("MenubarHomeMenu"),n0.OpenEditorsContext=new n0("OpenEditorsContext"),n0.OpenEditorsContextShare=new n0("OpenEditorsContextShare"),n0.ProblemsPanelContext=new n0("ProblemsPanelContext"),n0.SCMChangeContext=new n0("SCMChangeContext"),n0.SCMResourceContext=new n0("SCMResourceContext"),n0.SCMResourceContextShare=new n0("SCMResourceContextShare"),n0.SCMResourceFolderContext=new n0("SCMResourceFolderContext"),n0.SCMResourceGroupContext=new n0("SCMResourceGroupContext"),n0.SCMSourceControl=new n0("SCMSourceControl"),n0.SCMTitle=new n0("SCMTitle"),n0.SearchContext=new n0("SearchContext"),n0.SearchActionMenu=new n0("SearchActionContext"),n0.StatusBarWindowIndicatorMenu=new n0("StatusBarWindowIndicatorMenu"),n0.StatusBarRemoteIndicatorMenu=new n0("StatusBarRemoteIndicatorMenu"),n0.StickyScrollContext=new n0("StickyScrollContext"),n0.TestItem=new n0("TestItem"),n0.TestItemGutter=new n0("TestItemGutter"),n0.TestMessageContext=new n0("TestMessageContext"),n0.TestMessageContent=new n0("TestMessageContent"),n0.TestPeekElement=new n0("TestPeekElement"),n0.TestPeekTitle=new n0("TestPeekTitle"),n0.TouchBarContext=new n0("TouchBarContext"),n0.TitleBarContext=new n0("TitleBarContext"),n0.TitleBarTitleContext=new n0("TitleBarTitleContext"),n0.TunnelContext=new n0("TunnelContext"),n0.TunnelPrivacy=new n0("TunnelPrivacy"),n0.TunnelProtocol=new n0("TunnelProtocol"),n0.TunnelPortInline=new n0("TunnelInline"),n0.TunnelTitle=new n0("TunnelTitle"),n0.TunnelLocalAddressInline=new n0("TunnelLocalAddressInline"),n0.TunnelOriginInline=new n0("TunnelOriginInline"),n0.ViewItemContext=new n0("ViewItemContext"),n0.ViewContainerTitle=new n0("ViewContainerTitle"),n0.ViewContainerTitleContext=new n0("ViewContainerTitleContext"),n0.ViewTitle=new n0("ViewTitle"),n0.ViewTitleContext=new n0("ViewTitleContext"),n0.CommentEditorActions=new n0("CommentEditorActions"),n0.CommentThreadTitle=new n0("CommentThreadTitle"),n0.CommentThreadActions=new n0("CommentThreadActions"),n0.CommentThreadAdditionalActions=new n0("CommentThreadAdditionalActions"),n0.CommentThreadTitleContext=new n0("CommentThreadTitleContext"),n0.CommentThreadCommentContext=new n0("CommentThreadCommentContext"),n0.CommentTitle=new n0("CommentTitle"),n0.CommentActions=new n0("CommentActions"),n0.InteractiveToolbar=new n0("InteractiveToolbar"),n0.InteractiveCellTitle=new n0("InteractiveCellTitle"),n0.InteractiveCellDelete=new n0("InteractiveCellDelete"),n0.InteractiveCellExecute=new n0("InteractiveCellExecute"),n0.InteractiveInputExecute=new n0("InteractiveInputExecute"),n0.NotebookToolbar=new n0("NotebookToolbar"),n0.NotebookStickyScrollContext=new n0("NotebookStickyScrollContext"),n0.NotebookCellTitle=new n0("NotebookCellTitle"),n0.NotebookCellDelete=new n0("NotebookCellDelete"),n0.NotebookCellInsert=new n0("NotebookCellInsert"),n0.NotebookCellBetween=new n0("NotebookCellBetween"),n0.NotebookCellListTop=new n0("NotebookCellTop"),n0.NotebookCellExecute=new n0("NotebookCellExecute"),n0.NotebookCellExecutePrimary=new n0("NotebookCellExecutePrimary"),n0.NotebookDiffCellInputTitle=new n0("NotebookDiffCellInputTitle"),n0.NotebookDiffCellMetadataTitle=new n0("NotebookDiffCellMetadataTitle"),n0.NotebookDiffCellOutputsTitle=new n0("NotebookDiffCellOutputsTitle"),n0.NotebookOutputToolbar=new n0("NotebookOutputToolbar"),n0.NotebookEditorLayoutConfigure=new n0("NotebookEditorLayoutConfigure"),n0.NotebookKernelSource=new n0("NotebookKernelSource"),n0.BulkEditTitle=new n0("BulkEditTitle"),n0.BulkEditContext=new n0("BulkEditContext"),n0.TimelineItemContext=new n0("TimelineItemContext"),n0.TimelineTitle=new n0("TimelineTitle"),n0.TimelineTitleContext=new n0("TimelineTitleContext"),n0.TimelineFilterSubMenu=new n0("TimelineFilterSubMenu"),n0.AccountsContext=new n0("AccountsContext"),n0.PanelTitle=new n0("PanelTitle"),n0.AuxiliaryBarTitle=new n0("AuxiliaryBarTitle"),n0.TerminalInstanceContext=new n0("TerminalInstanceContext"),n0.TerminalEditorInstanceContext=new n0("TerminalEditorInstanceContext"),n0.TerminalNewDropdownContext=new n0("TerminalNewDropdownContext"),n0.TerminalTabContext=new n0("TerminalTabContext"),n0.TerminalTabEmptyAreaContext=new n0("TerminalTabEmptyAreaContext"),n0.WebviewContext=new n0("WebviewContext"),n0.InlineCompletionsActions=new n0("InlineCompletionsActions"),n0.NewFile=new n0("NewFile"),n0.MergeInput1Toolbar=new n0("MergeToolbar1Toolbar"),n0.MergeInput2Toolbar=new n0("MergeToolbar2Toolbar"),n0.MergeBaseToolbar=new n0("MergeBaseToolbar"),n0.MergeInputResultToolbar=new n0("MergeToolbarResultToolbar"),n0.InlineSuggestionToolbar=new n0("InlineSuggestionToolbar"),n0.ChatContext=new n0("ChatContext"),n0.ChatCodeBlock=new n0("ChatCodeblock"),n0.ChatMessageTitle=new n0("ChatMessageTitle"),n0.ChatExecute=new n0("ChatExecute"),n0.ChatInputSide=new n0("ChatInputSide"),n0.AccessibleView=new n0("AccessibleView");const i0=OQ("menuService");class o0{static for(e){let t=this._all.get(e);return t||(t=new o0(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const n of e)n instanceof o0&&t.add(n.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}o0._all=new Map;const r0=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new uG({merge:o0.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(e){return this._commands.set(e.id,e),this._onDidChangeMenu.fire(o0.for(n0.CommandPalette)),qq((()=>{this._commands.delete(e.id)&&this._onDidChangeMenu.fire(o0.for(n0.CommandPalette))}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,n)=>e.set(n,t))),e}appendMenuItem(e,t){let n=this._menuItems.get(e);n||(n=new WK,this._menuItems.set(e,n));const i=n.push(t);return this._onDidChangeMenu.fire(o0.for(e)),qq((()=>{i(),this._onDidChangeMenu.fire(o0.for(e))}))}appendMenuItems(e){const t=new Gq;for(const{id:n,item:i}of e)t.add(this.appendMenuItem(n,i));return t}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===n0.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const n of e)t0(n)&&(t.add(n.command.id),n.alt&&t.add(n.alt.id));this._commands.forEach(((n,i)=>{t.has(i)||e.push({command:n})}))}};class s0 extends UQ{constructor(e,t,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,n,"submenu"),this.item=e,this.hideActions=t}}let a0=JJ=class{static label(e,t){return(null==t?void 0:t.renderShortTitle)&&e.shortTitle?"string"==typeof e.shortTitle?e.shortTitle:e.shortTitle.value:"string"==typeof e.title?e.title:e.title.value}constructor(e,t,n,i,o,r){var s,a;let l;if(this.hideActions=i,this._commandService=r,this.id=e.id,this.label=JJ.label(e,n),this.tooltip=null!==(a="string"==typeof e.tooltip?e.tooltip:null===(s=e.tooltip)||void 0===s?void 0:s.value)&&void 0!==a?a:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const t=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(t.condition),this.checked&&t.tooltip&&(this.tooltip="string"==typeof t.tooltip?t.tooltip:t.tooltip.value),this.checked&&VQ.isThemeIcon(t.icon)&&(l=t.icon),this.checked&&t.title&&(this.label="string"==typeof t.title?t.title:t.title.value)}l||(l=VQ.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new JJ(t,void 0,n,i,o,r):void 0,this._options=n,this.class=l&&VQ.asClassName(l)}run(...e){var t,n;let i=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(i=[...i,this._options.arg]),(null===(n=this._options)||void 0===n?void 0:n.shouldForwardArgs)&&(i=[...i,...e]),this._commandService.executeCommand(this.id,...i)}};a0=JJ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([e0(4,RJ),e0(5,GQ)],a0);const l0=OQ("telemetryService"),c0=OQ("logService");var u0,h0;(h0=u0||(u0={}))[h0.Off=0]="Off",h0[h0.Trace=1]="Trace",h0[h0.Debug=2]="Debug",h0[h0.Info=3]="Info",h0[h0.Warning=4]="Warning",h0[h0.Error=5]="Error";const d0=u0.Info;class g0 extends Yq{constructor(){super(...arguments),this.level=d0,this._onDidChangeLogLevel=this._register(new sG),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==u0.Off&&this.level<=e}}class f0 extends g0{constructor(e=d0,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(u0.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(u0.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(u0.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(u0.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(u0.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}dispose(){}}class p0 extends g0{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const n of this.loggers)n.trace(e,...t)}debug(e,...t){for(const n of this.loggers)n.debug(e,...t)}info(e,...t){for(const n of this.loggers)n.info(e,...t)}warn(e,...t){for(const n of this.loggers)n.warn(e,...t)}error(e,...t){for(const n of this.loggers)n.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose()}}new MJ("logLevel",function(e){switch(e){case u0.Trace:return"trace";case u0.Debug:return"debug";case u0.Info:return"info";case u0.Warning:return"warn";case u0.Error:return"error";case u0.Off:return"off"}}(u0.Info));SK||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,SK||navigator&&navigator.clipboard&&navigator.clipboard.readText,SK||_Q||navigator.keyboard,"ontouchstart"in window||navigator.maxTouchPoints;const m0=window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0);const v0=wK?256:2048,b0=wK?2048:256;class _0{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=function(e){if(e.charCode){const t=String.fromCharCode(e.charCode).toUpperCase();return LG.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(gQ)switch(t){case 59:return 85;case 60:if(CK)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(wK)return 57}else if(fQ){if(wK&&93===t)return 57;if(!wK&&92===t)return 57}return CG[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=v0),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=b0),t|=e,t}_computeKeyCodeChord(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new WJ(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let y0=!1,w0=null;function C0(e){if(!e.parent||e.parent===e)return null;try{const t=e.location,n=e.parent.location;if("null"!==t.origin&&"null"!==n.origin&&t.origin!==n.origin)return y0=!0,null}catch(fTe){return y0=!0,null}return e.parent}class S0{static getSameOriginWindowChain(){if(!w0){w0=[];let e,t=window;do{e=C0(t),e?w0.push({window:t,iframeElement:t.frameElement||null}):w0.push({window:t,iframeElement:null}),t=e}while(t)}return w0.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,i=0;const o=this.getSameOriginWindowChain();for(const r of o){if(n+=r.window.scrollY,i+=r.window.scrollX,r.window===t)break;if(!r.iframeElement)break;const e=r.iframeElement.getBoundingClientRect();n+=e.top,i+=e.left}return{top:n,left:i}}}class x0{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=e.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const t=S0.getPositionOfChildWindowRelativeToAncestorWindow(window,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class k0{constructor(e,t=0,n=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){const t=e,n=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=gQ&&!wK?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=mQ&&yK?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=gQ&&!wK?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;null===(e=this.browserEvent)||void 0===e||e.preventDefault()}stopPropagation(){var e;null===(e=this.browserEvent)||void 0===e||e.stopPropagation()}}
/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:L0,setPrototypeOf:D0,isFrozen:E0,getPrototypeOf:N0,getOwnPropertyDescriptor:T0}=Object;let{freeze:I0,seal:M0,create:R0}=Object,{apply:A0,construct:O0}="undefined"!=typeof Reflect&&Reflect;A0||(A0=function(e,t,n){return e.apply(t,n)}),I0||(I0=function(e){return e}),M0||(M0=function(e){return e}),O0||(O0=function(e,t){return new e(...t)});const P0=G0(Array.prototype.forEach),F0=G0(Array.prototype.pop),B0=G0(Array.prototype.push),z0=G0(String.prototype.toLowerCase),V0=G0(String.prototype.toString),W0=G0(String.prototype.match),H0=G0(String.prototype.replace),$0=G0(String.prototype.indexOf),j0=G0(String.prototype.trim),U0=G0(RegExp.prototype.test),K0=(q0=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O0(q0,t)});var q0;function G0(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return A0(e,t,i)}}function Y0(e,t,n){var i;n=null!==(i=n)&&void 0!==i?i:z0,D0&&D0(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(E0(t)||(t[o]=e),i=e)}e[i]=!0}return e}function X0(e){const t=R0(null);for(const[n,i]of L0(e))t[n]=i;return t}function Z0(e,t){for(;null!==e;){const n=T0(e,t);if(n){if(n.get)return G0(n.get);if("function"==typeof n.value)return G0(n.value)}e=N0(e)}return function(e){return console.warn("fallback value for",e),null}}const Q0=I0(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J0=I0(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),e1=I0(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t1=I0(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),n1=I0(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),i1=I0(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),o1=I0(["#text"]),r1=I0(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),s1=I0(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),a1=I0(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),l1=I0(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c1=M0(/\{\{[\w\W]*|[\w\W]*\}\}/gm),u1=M0(/<%[\w\W]*|[\w\W]*%>/gm),h1=M0(/\${[\w\W]*}/gm),d1=M0(/^data-[\-\w.\u00B7-\uFFFF]/),g1=M0(/^aria-[\-\w]+$/),f1=M0(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),p1=M0(/^(?:\w+script|data):/i),m1=M0(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),v1=M0(/^html$/i);var b1=Object.freeze({__proto__:null,MUSTACHE_EXPR:c1,ERB_EXPR:u1,TMPLIT_EXPR:h1,DATA_ATTR:d1,ARIA_ATTR:g1,IS_ALLOWED_URI:f1,IS_SCRIPT_OR_DATA:p1,ATTR_WHITESPACE:m1,DOCTYPE_NAME:v1});var _1=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const i=t.document,o=i.currentScript;let{document:r}=t;const{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:g,trustedTypes:f}=t,p=c.prototype,m=Z0(p,"cloneNode"),v=Z0(p,"nextSibling"),b=Z0(p,"childNodes"),_=Z0(p,"parentNode");if("function"==typeof a){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let y,w="";const{implementation:C,createNodeIterator:S,createDocumentFragment:x,getElementsByTagName:k}=r,{importNode:L}=i;let D={};n.isSupported="function"==typeof L0&&"function"==typeof _&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:E,ERB_EXPR:N,TMPLIT_EXPR:T,DATA_ATTR:I,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:A}=b1;let{IS_ALLOWED_URI:O}=b1,P=null;const F=Y0({},[...Q0,...J0,...e1,...n1,...o1]);let B=null;const z=Y0({},[...r1,...s1,...a1,...l1]);let V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,H=null,$=!0,j=!0,U=!1,K=!0,q=!1,G=!1,Y=!1,X=!1,Z=!1,Q=!1,J=!1,ee=!0,te=!1,ne=!0,ie=!1,oe={},re=null;const se=Y0({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const le=Y0({},["audio","video","img","source","image","track"]);let ce=null;const ue=Y0({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",de="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let fe=ge,pe=!1,me=null;const ve=Y0({},[he,de,ge],V0);let be;const _e=["application/xhtml+xml","text/html"];let ye,we=null;const Ce=r.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){if(!we||we!==e){if(e&&"object"==typeof e||(e={}),e=X0(e),be=be=-1===_e.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===be?V0:z0,P="ALLOWED_TAGS"in e?Y0({},e.ALLOWED_TAGS,ye):F,B="ALLOWED_ATTR"in e?Y0({},e.ALLOWED_ATTR,ye):z,me="ALLOWED_NAMESPACES"in e?Y0({},e.ALLOWED_NAMESPACES,V0):ve,ce="ADD_URI_SAFE_ATTR"in e?Y0(X0(ue),e.ADD_URI_SAFE_ATTR,ye):ue,ae="ADD_DATA_URI_TAGS"in e?Y0(X0(le),e.ADD_DATA_URI_TAGS,ye):le,re="FORBID_CONTENTS"in e?Y0({},e.FORBID_CONTENTS,ye):se,W="FORBID_TAGS"in e?Y0({},e.FORBID_TAGS,ye):{},H="FORBID_ATTR"in e?Y0({},e.FORBID_ATTR,ye):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,j=!1!==e.ALLOW_DATA_ATTR,U=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,G=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,Q=e.RETURN_DOM_FRAGMENT||!1,J=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||f1,fe=e.NAMESPACE||ge,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(j=!1),Q&&(Z=!0),oe&&(P=Y0({},[...o1]),B=[],!0===oe.html&&(Y0(P,Q0),Y0(B,r1)),!0===oe.svg&&(Y0(P,J0),Y0(B,s1),Y0(B,l1)),!0===oe.svgFilters&&(Y0(P,e1),Y0(B,s1),Y0(B,l1)),!0===oe.mathMl&&(Y0(P,n1),Y0(B,a1),Y0(B,l1))),e.ADD_TAGS&&(P===F&&(P=X0(P)),Y0(P,e.ADD_TAGS,ye)),e.ADD_ATTR&&(B===z&&(B=X0(B)),Y0(B,e.ADD_ATTR,ye)),e.ADD_URI_SAFE_ATTR&&Y0(ce,e.ADD_URI_SAFE_ATTR,ye),e.FORBID_CONTENTS&&(re===se&&(re=X0(re)),Y0(re,e.FORBID_CONTENTS,ye)),ne&&(P["#text"]=!0),G&&Y0(P,["html","head","body"]),P.table&&(Y0(P,["tbody"]),delete W.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw K0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw K0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,w=y.createHTML("")}else void 0===y&&(y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(r){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,o)),null!==y&&"string"==typeof w&&(w=y.createHTML(""));I0&&I0(e),we=e}},ke=Y0({},["mi","mo","mn","ms","mtext"]),Le=Y0({},["foreignobject","desc","title","annotation-xml"]),De=Y0({},["title","style","font","a","script"]),Ee=Y0({},J0);Y0(Ee,e1),Y0(Ee,t1);const Ne=Y0({},n1);Y0(Ne,i1);const Te=function(e){B0(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Ie=function(e,t){try{B0(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(i){B0(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!B[e])if(Z||Q)try{Te(t)}catch(i){}else try{t.setAttribute(e,"")}catch(i){}},Me=function(e){let t,n;if(X)e="<remove></remove>"+e;else{const t=W0(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===be&&fe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=y?y.createHTML(e):e;if(fe===ge)try{t=(new g).parseFromString(i,be)}catch(s){}if(!t||!t.documentElement){t=C.createDocument(fe,"template",null);try{t.documentElement.innerHTML=pe?w:i}catch(s){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),fe===ge?k.call(t,G?"html":"body")[0]:G?t.documentElement:o},Re=function(e){return S.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Ae=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Oe=function(e,t,i){D[e]&&P0(D[e],(e=>{e.call(n,t,i,we)}))},Pe=function(e){let t;if(Oe("beforeSanitizeElements",e,null),(i=e)instanceof d&&("string"!=typeof i.nodeName||"string"!=typeof i.textContent||"function"!=typeof i.removeChild||!(i.attributes instanceof h)||"function"!=typeof i.removeAttribute||"function"!=typeof i.setAttribute||"string"!=typeof i.namespaceURI||"function"!=typeof i.insertBefore||"function"!=typeof i.hasChildNodes))return Te(e),!0;var i;const o=ye(e.nodeName);if(Oe("uponSanitizeElement",e,{tagName:o,allowedTags:P}),e.hasChildNodes()&&!Ae(e.firstElementChild)&&(!Ae(e.content)||!Ae(e.content.firstElementChild))&&U0(/<[/\w]/g,e.innerHTML)&&U0(/<[/\w]/g,e.textContent))return Te(e),!0;if(!P[o]||W[o]){if(!W[o]&&Be(o)){if(V.tagNameCheck instanceof RegExp&&U0(V.tagNameCheck,o))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(o))return!1}if(ne&&!re[o]){const t=_(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let i=n.length-1;i>=0;--i)t.insertBefore(m(n[i],!0),v(e))}}return Te(e),!0}return e instanceof c&&!function(e){let t=_(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});const n=z0(e.tagName),i=z0(t.tagName);return!!me[e.namespaceURI]&&(e.namespaceURI===de?t.namespaceURI===ge?"svg"===n:t.namespaceURI===he?"svg"===n&&("annotation-xml"===i||ke[i]):Boolean(Ee[n]):e.namespaceURI===he?t.namespaceURI===ge?"math"===n:t.namespaceURI===de?"math"===n&&Le[i]:Boolean(Ne[n]):e.namespaceURI===ge?!(t.namespaceURI===de&&!Le[i])&&!(t.namespaceURI===he&&!ke[i])&&!Ne[n]&&(De[n]||!Ee[n]):!("application/xhtml+xml"!==be||!me[e.namespaceURI]))}(e)?(Te(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!U0(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&3===e.nodeType&&(t=e.textContent,t=H0(t,E," "),t=H0(t,N," "),t=H0(t,T," "),e.textContent!==t&&(B0(n.removed,{element:e.cloneNode()}),e.textContent=t)),Oe("afterSanitizeElements",e,null),!1):(Te(e),!0)},Fe=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in r||n in Ce))return!1;if(j&&!H[t]&&U0(I,t));else if($&&U0(M,t));else if(!B[t]||H[t]){if(!(Be(e)&&(V.tagNameCheck instanceof RegExp&&U0(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&U0(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&U0(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(ce[t]);else if(U0(O,H0(n,A,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==$0(n,"data:")||!ae[e]){if(U&&!U0(R,H0(n,A,"")));else if(n)return!1}else;return!0},Be=function(e){return e.indexOf("-")>0},ze=function(e){let t,i,o,r;Oe("beforeSanitizeAttributes",e,null);const{attributes:s}=e;if(!s)return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(r=s.length;r--;){t=s[r];const{name:c,namespaceURI:u}=t;if(i="value"===c?t.value:j0(t.value),o=ye(c),a.attrName=o,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,Oe("uponSanitizeAttribute",e,a),i=a.attrValue,a.forceKeepAttr)continue;if(Ie(c,e),!a.keepAttr)continue;if(!K&&U0(/\/>/i,i)){Ie(c,e);continue}q&&(i=H0(i,E," "),i=H0(i,N," "),i=H0(i,T," "));const h=ye(e.nodeName);if(Fe(h,o,i)){if(!te||"id"!==o&&"name"!==o||(Ie(c,e),i="user-content-"+i),y&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(u);else switch(f.getAttributeType(h,o)){case"TrustedHTML":i=y.createHTML(i);break;case"TrustedScriptURL":i=y.createScriptURL(i)}try{u?e.setAttributeNS(u,c,i):e.setAttribute(c,i),F0(n.removed)}catch(l){}}}Oe("afterSanitizeAttributes",e,null)},Ve=function e(t){let n;const i=Re(t);for(Oe("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Oe("uponSanitizeShadowNode",n,null),Pe(n)||(n.content instanceof s&&e(n.content),ze(n));Oe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,o,r,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pe=!e,pe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ae(e)){if("function"!=typeof e.toString)throw K0("toString is not a function");if("string"!=typeof(e=e.toString()))throw K0("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Y||xe(c),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){const t=ye(e.nodeName);if(!P[t]||W[t])throw K0("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Me("\x3c!----\x3e"),o=t.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!Z&&!q&&!G&&-1===e.indexOf("<"))return y&&J?y.createHTML(e):e;if(t=Me(e),!t)return Z?null:J?w:""}t&&X&&Te(t.firstChild);const u=Re(ie?e:t);for(;r=u.nextNode();)Pe(r)||(r.content instanceof s&&Ve(r.content),ze(r));if(ie)return e;if(Z){if(Q)for(a=x.call(t.ownerDocument);t.firstChild;)a.appendChild(t.firstChild);else a=t;return(B.shadowroot||B.shadowrootmode)&&(a=L.call(i,a,!0)),a}let h=G?t.outerHTML:t.innerHTML;return G&&P["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&U0(v1,t.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+h),q&&(h=H0(h,E," "),h=H0(h,N," "),h=H0(h,T," ")),y&&J?y.createHTML(h):h},n.setConfig=function(e){xe(e),Y=!0},n.clearConfig=function(){we=null,Y=!1},n.isValidAttribute=function(e,t,n){we||xe({});const i=ye(e),o=ye(t);return Fe(i,o,n)},n.addHook=function(e,t){"function"==typeof t&&(D[e]=D[e]||[],B0(D[e],t))},n.removeHook=function(e){if(D[e])return F0(D[e])},n.removeHooks=function(e){D[e]&&(D[e]=[])},n.removeAllHooks=function(){D={}},n}();_1.version,_1.isSupported;const y1=_1.sanitize;_1.setConfig,_1.clearConfig,_1.isValidAttribute;const w1=_1.addHook,C1=_1.removeHook;var S1,x1;_1.removeHooks,_1.removeAllHooks,(x1=S1||(S1={})).inMemory="inmemory",x1.vscode="vscode",x1.internal="private",x1.walkThrough="walkThrough",x1.walkThroughSnippet="walkThroughSnippet",x1.http="http",x1.https="https",x1.file="file",x1.mailto="mailto",x1.untitled="untitled",x1.data="data",x1.command="command",x1.vscodeRemote="vscode-remote",x1.vscodeRemoteResource="vscode-remote-resource",x1.vscodeManagedRemoteResource="vscode-managed-remote-resource",x1.vscodeUserData="vscode-userdata",x1.vscodeCustomEditor="vscode-custom-editor",x1.vscodeNotebookCell="vscode-notebook-cell",x1.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",x1.vscodeNotebookCellOutput="vscode-notebook-cell-output",x1.vscodeInteractiveInput="vscode-interactive-input",x1.vscodeSettings="vscode-settings",x1.vscodeWorkspaceTrust="vscode-workspace-trust",x1.vscodeTerminal="vscode-terminal",x1.vscodeChatSesssion="vscode-chat-editor",x1.webviewPanel="webview-panel",x1.vscodeWebview="vscode-webview",x1.extension="extension",x1.vscodeFileResource="vscode-file",x1.tmp="tmp",x1.vsls="vsls",x1.vscodeSourceControl="vscode-scm";const k1=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${S1.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(s){return Rq(s),e}const t=e.authority;let n=this._hosts[t];n&&-1!==n.indexOf(":")&&-1===n.indexOf("[")&&(n=`[${n}]`);const i=this._ports[t],o=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return"string"==typeof o&&(r+=`&tkn=${encodeURIComponent(o)}`),aY.from({scheme:xK?this._preferredWebSchema:S1.vscodeRemoteResource,authority:`${n}:${i}`,path:this._remoteResourcesPath,query:r})}};class L1{uriToBrowserUri(e){return e.scheme===S1.vscodeRemote?k1.rewrite(e):e.scheme===S1.file&&(SK||kK&&vK.origin===`${S1.vscodeFileResource}://${L1.FALLBACK_AUTHORITY}`)?e.with({scheme:S1.vscodeFileResource,authority:e.authority||L1.FALLBACK_AUTHORITY,query:null,fragment:null}):e}}L1.FALLBACK_AUTHORITY="vscode-app";const D1=new L1;var E1;!function(e){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";e.getHeadersFromQuery=function(e){let i;"string"==typeof e?i=new URL(e).searchParams:e instanceof URL?i=e.searchParams:aY.isUri(e)&&(i=new URL(e.toString(!0)).searchParams);const o=null==i?void 0:i.get(n);if(o)return t.get(o)},e.addSearchParam=function(e,t,i){if(!globalThis.crossOriginIsolated)return;const o=t&&i?"3":i?"2":"1";e instanceof URLSearchParams?e.set(n,o):e[n]=o}}(E1||(E1={}));const{registerWindow:N1,getWindows:T1,onDidCreateWindow:I1}=function(){const e=[],t=new sG;return{onDidCreateWindow:t.event,registerWindow(n){e.push(n);const i=new Gq;return i.add(qq((()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}))),t.fire({window:n,disposableStore:i}),i},getWindows:()=>e}}();function M1(e){for(;e.firstChild;)e.firstChild.remove()}function R1(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class A1{constructor(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function O1(e,t,n,i){return new A1(e,t,n,i)}const P1=function(e,t,n,i){let o=n;return"click"===t||"mousedown"===t?o=function(e){return function(t){return e(new x0(t))}}(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new _0(t))}}(n)),O1(e,t,o,i)};let F1,B1;class z1{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(fTe){Rq(fTe)}}static sort(e,t){return t.priority-e.priority}}function V1(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}function W1(e){var t;const n=e.ownerDocument,i=null===(t=n.defaultView)||void 0===t?void 0:t.window;if(e!==n.body)return new $1(e.clientWidth,e.clientHeight);if(LK&&(null==i?void 0:i.visualViewport))return new $1(i.visualViewport.width,i.visualViewport.height);if((null==i?void 0:i.innerWidth)&&i.innerHeight)return new $1(i.innerWidth,i.innerHeight);if(n.body&&n.body.clientWidth&&n.body.clientHeight)return new $1(n.body.clientWidth,n.body.clientHeight);if(n.documentElement&&n.documentElement.clientWidth&&n.documentElement.clientHeight)return new $1(n.documentElement.clientWidth,n.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let e=[],t=null,n=!1,i=!1;const o=()=>{for(n=!1,t=e,e=[],i=!0;t.length>0;){t.sort(z1.sort);t.shift().execute()}i=!1};B1=(t,i=0)=>{const r=new z1(t,i);return e.push(r),n||(n=!0,requestAnimationFrame(o)),r},F1=(e,n)=>{if(i){const i=new z1(e,n);return t.push(i),i}return B1(e,n)}}();class H1{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){const i=V1(e),o=i?i.getPropertyValue(t):"0";return H1.convertToPixels(e,o)}static getBorderLeftWidth(e){return H1.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return H1.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return H1.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return H1.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return H1.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return H1.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return H1.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return H1.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return H1.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return H1.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return H1.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return H1.getDimension(e,"margin-bottom","marginBottom")}}class $1{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new $1(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof $1?e:new $1(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function j1(e){var t,n,i,o;const r=e.getBoundingClientRect();return{left:r.left+(null!==(n=null===(t=e.ownerDocument.defaultView)||void 0===t?void 0:t.scrollX)&&void 0!==n?n:0),top:r.top+(null!==(o=null===(i=e.ownerDocument.defaultView)||void 0===i?void 0:i.scrollY)&&void 0!==o?o:0),width:r.width,height:r.height}}function U1(e){const t=H1.getMarginLeft(e)+H1.getMarginRight(e);return e.offsetWidth+t}function K1(e){const t=H1.getBorderLeftWidth(e)+H1.getBorderRightWidth(e),n=H1.getPaddingLeft(e)+H1.getPaddingRight(e);return e.offsetWidth-t-n}function q1(e){const t=H1.getBorderTopWidth(e)+H1.getBorderBottomWidth(e),n=H1.getPaddingTop(e)+H1.getPaddingBottom(e);return e.offsetHeight-t-n}function G1(e){const t=H1.getMarginTop(e)+H1.getMarginBottom(e);return e.offsetHeight+t}function Y1(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function X1(e,t,n){return!!function(e,t,n){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(n)if("string"==typeof n){if(e.classList.contains(n))return null}else if(e===n)return null;e=e.parentNode}return null}(e,t,n)}function Z1(e){return e&&!!e.host&&!!e.mode}function Q1(e){return!!J1(e)}function J1(e){for(var t;e.parentNode;){if(e===(null===(t=e.ownerDocument)||void 0===t?void 0:t.body))return null;e=e.parentNode}return Z1(e)?e:null}function e2(){let e=function(){var e;const t=[document,...T1().map((e=>e.document))];return null!==(e=t.find((e=>e.hasFocus())))&&void 0!==e?e:document}().activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function t2(e=document.getElementsByTagName("head")[0],t){const n=document.createElement("style");return n.type="text/css",n.media="screen",null==t||t(n),e.appendChild(n),n}$1.None=new $1(0,0);let n2=null;function i2(e,t,n=function(){return n2||(n2=t2()),n2}()){n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function o2(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const r2={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:fQ?"webkitAnimationStart":"animationstart",ANIMATION_END:fQ?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:fQ?"webkitAnimationIteration":"animationiteration"};function s2(e){const t=e;return!(!t||"function"!=typeof t.preventDefault||"function"!=typeof t.stopPropagation)}const a2=(e,t)=>(e.preventDefault(),t&&e.stopPropagation(),e);class l2 extends Yq{static hasFocusWithin(e){if(o2(e)){const t=J1(e);return Y1(t?t.activeElement:e.ownerDocument.activeElement,e)}return Y1(window.document.activeElement,window.document)}constructor(e){super(),this._onDidFocus=this._register(new sG),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new sG),this.onDidBlur=this._onDidBlur.event;let t=l2.hasFocusWithin(e),n=!1;const i=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(n=!0,window.setTimeout((()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{l2.hasFocusWithin(e)!==t&&(t?o():i())},this._register(O1(e,r2.FOCUS,i,!0)),this._register(O1(e,r2.BLUR,o,!0)),e instanceof HTMLElement&&(this._register(O1(e,r2.FOCUS_IN,(()=>this._refreshStateHandler()))),this._register(O1(e,r2.FOCUS_OUT,(()=>this._refreshStateHandler()))))}}function c2(e){return new l2(e)}function u2(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function h2(e,t){return e.insertBefore(t,e.firstChild),t}function d2(e,...t){e.innerText="",u2(e,...t)}const g2=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var f2,p2;function m2(e,t,n,...i){const o=g2.exec(t);if(!o)throw new Error("Bad use of emmet");const r=o[1]||"div";let s;return s=e!==f2.HTML?document.createElementNS(e,r):document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),n&&Object.entries(n).forEach((([e,t])=>{void 0!==t&&(/^on\w+$/.test(e)?s[e]=t:"selected"===e?t&&s.setAttribute(e,"true"):s.setAttribute(e,t))})),s.append(...i),s}function v2(e,t,...n){return m2(f2.HTML,e,t,...n)}function b2(...e){for(const t of e)t.style.display="",t.removeAttribute("aria-hidden")}function _2(...e){for(const t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function y2(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function w2(e){window.open(e,"_blank","noopener")}function C2(e){return e?`url('${D1.uriToBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function S2(e){return`'${e.replace(/'/g,"%27")}'`}function x2(e,t){if(void 0!==e){const n=e.match(/^\s*var\((.+)\)$/);if(n){const e=n[1].split(",",2);return 2===e.length&&(t=x2(e[1].trim(),t)),`var(${e[0]}, ${t})`}return e}return t}(p2=f2||(f2={})).HTML="http://www.w3.org/1999/xhtml",p2.SVG="http://www.w3.org/2000/svg",v2.SVG=function(e,t,...n){return m2(f2.SVG,e,t,...n)},k1.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");const k2=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class L2 extends sG{constructor(){super(),this._subscriptions=new Gq,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(O1(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=new _0(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(O1(window,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(O1(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(O1(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(O1(document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(O1(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return L2.instance||(L2.instance=new L2),L2.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class D2 extends Yq{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(O1(this.element,r2.DRAG_ENTER,(e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter(e)}))),this._register(O1(this.element,r2.DRAG_OVER,(e=>{var t,n;e.preventDefault(),null===(n=(t=this.callbacks).onDragOver)||void 0===n||n.call(t,e,e.timeStamp-this.dragStartTime)}))),this._register(O1(this.element,r2.DRAG_LEAVE,(e=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(e))}))),this._register(O1(this.element,r2.DRAG_END,(e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(e)}))),this._register(O1(this.element,r2.DROP,(e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(e)})))}}const E2=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function N2(e,...t){let n,i;Array.isArray(t[0])?(n={},i=t[0]):(n=t[0]||{},i=t[1]);const o=E2.exec(e);if(!o||!o.groups)throw new Error("Bad use of h");const r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);const a=[];if(o.groups.class)for(const c of o.groups.class.split("."))""!==c&&a.push(c);if(void 0!==n.className)for(const c of n.className.split("."))""!==c&&a.push(c);a.length>0&&(s.className=a.join(" "));const l={};if(o.groups.name&&(l[o.groups.name]=s),i)for(const c of i)c instanceof HTMLElement?s.appendChild(c):"string"==typeof c?s.append(c):"root"in c&&(Object.assign(l,c),s.appendChild(c.root));for(const[c,u]of Object.entries(n))if("className"!==c)if("style"===c)for(const[e,t]of Object.entries(u))s.style.setProperty(T2(e),"number"==typeof t?t+"px":""+t);else"tabIndex"===c?s.tabIndex=u:s.setAttribute(T2(c),u.toString());return l.root=s,l}function T2(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class I2{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?dJ.and(e,this.precondition):this.precondition);const n={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};ZJ.registerKeybindingRule(n)}}YQ.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){r0.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class M2 extends I2{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,n,i){return this._implementations.push({priority:e,name:t,implementation:n,when:i}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===n)return void this._implementations.splice(e,1)}}}runCommand(e,t){const n=e.get(c0),i=e.get(RJ);n.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const o of this._implementations){if(o.when){const e=i.getContext(e2());if(!o.when.evaluate(e))continue}const r=o.implementation(e,t);if(r){if(n.trace(`Command '${this.id}' was handled by '${o.name}'.`),"boolean"==typeof r)return;return r}}n.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class R2 extends I2{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class A2 extends I2{static bindToContribution(e){return class extends A2{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,n,i){const o=e(n);o&&this._callback(o,i)}}}static runEditorCommand(e,t,n,i){const o=e.get(PQ),r=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(r)return r.invokeWithinContext((e=>{if(e.get(RJ).contextMatchesRules(null!=n?n:void 0))return i(e,r,t)}))}runCommand(e,t){return A2.runEditorCommand(e,t,this.precondition,((e,t,n)=>this.runEditorCommand(e,t,n)))}}function O2(e){return z2.INSTANCE.registerEditorCommand(e),e}function P2(e,t,n){z2.INSTANCE.registerEditorContribution(e,t,n)}var F2,B2;(B2=F2||(F2={})).getEditorCommand=function(e){return z2.INSTANCE.getEditorCommand(e)},B2.getEditorActions=function(){return z2.INSTANCE.getEditorActions()},B2.getEditorContributions=function(){return z2.INSTANCE.getEditorContributions()},B2.getSomeEditorContributions=function(e){return z2.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},B2.getDiffEditorContributions=function(){return z2.INSTANCE.getDiffEditorContributions()};class z2{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,n){this.editorContributions.push({id:e,ctor:t,instantiation:n})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function V2(e){return e.register(),e}z2.INSTANCE=new z2,YJ.add("editor.contributions",z2.INSTANCE);const W2=V2(new M2({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:n0.MenubarEditMenu,group:"1_do",title:nK(0,"&&Undo"),order:1},{menuId:n0.CommandPalette,group:"",title:nK(0,"Undo"),order:1}]}));V2(new R2(W2,{id:"default:undo",precondition:void 0}));const H2=V2(new M2({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:n0.MenubarEditMenu,group:"1_do",title:nK(0,"&&Redo"),order:2},{menuId:n0.CommandPalette,group:"",title:nK(0,"Redo"),order:1}]}));V2(new R2(H2,{id:"default:redo",precondition:void 0}));const $2=V2(new M2({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:n0.MenubarSelectionMenu,group:"1_basic",title:nK(0,"&&Select All"),order:1},{menuId:n0.CommandPalette,group:"",title:nK(0,"Select All"),order:1}]})),j2=Symbol("MicrotaskDelay");var U2=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},K2=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}};function q2(e){return!!e&&"function"==typeof e.then}function G2(e){const t=new vG,n=e(t.token),i=new Promise(((e,i)=>{const o=t.token.onCancellationRequested((()=>{o.dispose(),t.dispose(),i(new Bq)}));Promise.resolve(n).then((n=>{o.dispose(),t.dispose(),e(n)}),(e=>{o.dispose(),t.dispose(),i(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return i.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return i.finally(e)}}}class Y2{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{if(this.queuedPromise=null,this.isDisposed)return;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}dispose(){this.isDisposed=!0}}class X2{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})));const n=()=>{var e;this.deferred=null,null===(e=this.doResolve)||void 0===e||e.call(this,null)};return this.deferred=t===j2?(e=>{let t=!0;return queueMicrotask((()=>{t&&(t=!1,e())})),{isTriggered:()=>t,dispose:()=>{t=!1}}})(n):((e,t)=>{let n=!0;const i=setTimeout((()=>{n=!1,t()}),e);return{isTriggered:()=>n,dispose:()=>{clearTimeout(i),n=!1}}})(t,n),this.completionPromise}isTriggered(){var e;return!!(null===(e=this.deferred)||void 0===e?void 0:e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&(null===(e=this.doReject)||void 0===e||e.call(this,new Bq),this.completionPromise=null)}cancelTimeout(){var e;null===(e=this.deferred)||void 0===e||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class Z2{constructor(e){this.delayer=new X2(e),this.throttler=new Y2}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Q2(e,t){return t?new Promise(((n,i)=>{const o=setTimeout((()=>{r.dispose(),n()}),e),r=t.onCancellationRequested((()=>{clearTimeout(o),r.dispose(),i(new Bq)}))})):G2((t=>Q2(e,t)))}function J2(e,t=0,n){const i=setTimeout((()=>{e(),n&&o.dispose()}),t),o=qq((()=>{clearTimeout(i),null==n||n.deleteAndLeak(o)}));return null==n||n.add(o),o}class e4{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class t4{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class n4{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;null===(e=this.runner)||void 0===e||e.call(this)}}let i4;i4="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{TK((()=>{if(t)return;const n=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,n-Date.now())}))}));let t=!1;return{dispose(){t||(t=!0)}}}:(e,t)=>{const n=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(n))}}};class o4{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=i4((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class r4{get isRejected(){var e;return 1===(null===(e=this.outcome)||void 0===e?void 0:e.outcome)}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}complete(e){return new Promise((t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()}))}error(e){return new Promise((t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()}))}cancel(){return this.error(new Bq)}}var s4,a4;(a4=s4||(s4={})).settled=function(e){return U2(this,void 0,void 0,(function*(){let t;const n=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return n}))},a4.withAsyncBody=function(e){return new Promise(((t,n)=>U2(this,void 0,void 0,(function*(){try{yield e(t,n)}catch(i){n(i)}}))))};class l4{static fromArray(e){return new l4((t=>{t.emitMany(e)}))}static fromPromise(e){return new l4((t=>U2(this,void 0,void 0,(function*(){t.emitMany(yield e)}))))}static fromPromises(e){return new l4((t=>U2(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>U2(this,void 0,void 0,(function*(){return t.emitOne(yield e)})))))}))))}static merge(e){return new l4((t=>U2(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>{var n,i,o;return U2(this,void 0,void 0,(function*(){var r,s,a,l;try{for(n=!0,i=K2(e);!(r=(o=yield i.next()).done);n=!0){l=o.value,n=!1;const e=l;t.emitOne(e)}}catch(c){s={error:c}}finally{try{n||r||!(a=i.return)||(yield a.call(i))}finally{if(s)throw s.error}}}))})))}))))}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new sG,queueMicrotask((()=>U2(this,void 0,void 0,(function*(){const t={emitOne:e=>this.emitOne(e),emitMany:e=>this.emitMany(e),reject:e=>this.reject(e)};try{yield Promise.resolve(e(t)),this.resolve()}catch(n){this.reject(n)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))))}[Symbol.asyncIterator](){let e=0;return{next:()=>U2(this,void 0,void 0,(function*(){for(;;){if(2===this._state)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(1===this._state)return{done:!0,value:void 0};yield tG.toPromise(this._onStateChanged.event)}}))}}static map(e,t){return new l4((n=>U2(this,void 0,void 0,(function*(){var i,o,r,s;try{for(var a,l=!0,c=K2(e);!(i=(a=yield c.next()).done);l=!0){s=a.value,l=!1;const e=s;n.emitOne(t(e))}}catch(u){o={error:u}}finally{try{l||i||!(r=c.return)||(yield r.call(c))}finally{if(o)throw o.error}}}))))}map(e){return l4.map(this,e)}static filter(e,t){return new l4((n=>U2(this,void 0,void 0,(function*(){var i,o,r,s;try{for(var a,l=!0,c=K2(e);!(i=(a=yield c.next()).done);l=!0){s=a.value,l=!1;const e=s;t(e)&&n.emitOne(e)}}catch(u){o={error:u}}finally{try{l||i||!(r=c.return)||(yield r.call(c))}finally{if(o)throw o.error}}}))))}filter(e){return l4.filter(this,e)}static coalesce(e){return l4.filter(e,(e=>!!e))}coalesce(){return l4.coalesce(this)}static toPromise(e){var t,n,i,o,r,s,a;return U2(this,void 0,void 0,(function*(){const l=[];try{for(t=!0,n=K2(e);i=yield n.next(),!(o=i.done);t=!0){a=i.value,t=!1;const e=a;l.push(e)}}catch(c){r={error:c}}finally{try{t||o||!(s=n.return)||(yield s.call(n))}finally{if(r)throw r.error}}return l}))}toPromise(){return l4.toPromise(this)}emitOne(e){0===this._state&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){0===this._state&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(e){0===this._state&&(this._state=2,this._error=e,this._onStateChanged.fire())}}l4.EMPTY=l4.fromArray([]);let c4=!1;function u4(e){xK&&(c4||(c4=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class h4{constructor(e,t,n,i){this.vsWorker=e,this.req=t,this.method=n,this.args=i,this.type=0}}class d4{constructor(e,t,n,i){this.vsWorker=e,this.seq=t,this.res=n,this.err=i,this.type=1}}class g4{constructor(e,t,n,i){this.vsWorker=e,this.req=t,this.eventName=n,this.arg=i,this.type=2}}class f4{constructor(e,t,n){this.vsWorker=e,this.req=t,this.event=n,this.type=3}}class p4{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class m4{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const n=String(++this._lastSentReq);return new Promise(((i,o)=>{this._pendingReplies[n]={resolve:i,reject:o},this._send(new h4(this._workerId,n,e,t))}))}listen(e,t){let n=null;const i=new sG({onWillAddFirstListener:()=>{n=String(++this._lastSentReq),this._pendingEmitters.set(n,i),this._send(new g4(this._workerId,n,e,t))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(n),this._send(new p4(this._workerId,n)),n=null}});return i.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let n=e.err;return e.err.$isError&&(n=new Error,n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack),void t.reject(n)}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new d4(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=Oq(e.detail)),this._send(new d4(this._workerId,t,void 0,Oq(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,n=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new f4(this._workerId,t,e))}));this._pendingEvents.set(t,n)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){const t=[];if(0===e.type)for(let n=0;n<e.args.length;n++)e.args[n]instanceof ArrayBuffer&&t.push(e.args[n]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class v4 extends Yq{constructor(e,t,n){super();let i=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{null==i||i(e)}))),this._protocol=new m4({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof n[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(n[e].apply(n,t))}catch(fTe){return Promise.reject(fTe)}},handleEvent:(e,t)=>{if(_4(e)){const i=n[e].call(n,t);if("function"!=typeof i)throw new Error(`Missing dynamic event ${e} on main thread host.`);return i}if(b4(e)){const t=n[e];if("function"!=typeof t)throw new Error(`Missing event ${e} on main thread host.`);return t}throw new Error(`Malformed event name ${e}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;const r=globalThis.require;void 0!==r&&"function"==typeof r.getConfig?o=r.getConfig():void 0!==globalThis.requirejs&&(o=globalThis.requirejs.s.contexts._.config);const s=eK(n);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);const a=(e,t)=>this._request(e,t),l=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,n)=>{i=n,this._onModuleLoaded.then((t=>{e(function(e,t,n){const i=e=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)},o=e=>function(t){return n(e,t)},r={};for(const s of e)_4(s)?r[s]=o(s):b4(s)?r[s]=n(s,void 0):r[s]=i(s);return r}(t,a,l))}),(e=>{n(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((n,i)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(n,i)}),i)}))}_onError(e,t){console.error(e),console.info(t)}}function b4(e){return"o"===e[0]&&"n"===e[1]&&IZ(e.charCodeAt(2))}function _4(e){return/^onDynamic/.test(e)&&IZ(e.charCodeAt(9))}function y4(e,t){var n;const i=globalThis.MonacoEnvironment;if(null==i?void 0:i.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(e,t)}catch(o){return void Rq(o)}try{return null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy(e,t)}catch(o){return void Rq(o)}}const w4=y4("defaultWorkerFactory",{createScriptURL:e=>e});class C4{constructor(e,t,n,i,o){this.id=t,this.label=n;const r=function(e){const t=globalThis.MonacoEnvironment;if(t){if("function"==typeof t.getWorker)return t.getWorker("workerMain.js",e);if("function"==typeof t.getWorkerUrl){const n=t.getWorkerUrl("workerMain.js",e);return new Worker(w4?w4.createScriptURL(n):n,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(n);"function"==typeof r.then?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){i(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){var n;null===(n=this.worker)||void 0===n||n.then((n=>{try{n.postMessage(e,t)}catch(i){Rq(i),Rq(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:i}))}}))}dispose(){var e;null===(e=this.worker)||void 0===e||e.then((e=>e.terminate())),this.worker=null}}class S4{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,n){const i=++S4.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new C4(e,i,this._label||"anonymous"+i,t,(e=>{u4(e),this._webWorkerFailedBeforeError=e,n(e)}))}}var x4;S4.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(x4||(x4={}));class k4{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const e=String.fromCharCode(n);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class L4{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)D4(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),D4(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),D4(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),D4(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&D4(this.autoClosingPairsCloseSingleChar,t.close,t)}}function D4(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}function E4(e,t){const n=e.getCount(),i=e.findTokenIndexAtOffset(t),o=e.getLanguageId(i);let r=i;for(;r+1<n&&e.getLanguageId(r+1)===o;)r++;let s=i;for(;s>0&&e.getLanguageId(s-1)===o;)s--;return new N4(e,o,s,r+1,e.getStartOffset(s),e.getEndOffset(r))}class N4{constructor(e,t,n,i,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function T4(e){return!!(3&e)}class I4{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new k4(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new k4({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new k4({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof e.autoCloseBefore?e.autoCloseBefore:I4.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof e.autoCloseBefore?e.autoCloseBefore:I4.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}I4.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",I4.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";const M4="undefined"!=typeof Buffer;let R4,A4,O4,P4;class F4{static wrap(e){return M4&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new F4(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return M4?this.buffer.toString():(R4||(R4=new TextDecoder),R4.decode(this.buffer))}}function B4(e,t){return(e[t+0]|0)>>>0|e[t+1]<<8>>>0}function z4(e,t,n){e[n+0]=255&t,t>>>=8,e[n+1]=255&t}function V4(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function W4(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}function H4(e,t){return e[t]}function $4(e,t,n){e[n]=t}function j4(){return A4||(A4=new TextDecoder("UTF-16LE")),A4}function U4(){return P4||(P4=function(){if(!RK){RK=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);MK=513===t[0]}return MK}()?j4():(O4||(O4=new TextDecoder("UTF-16BE")),O4)),P4}function K4(e,t,n){const i=new Uint16Array(e.buffer,t,n);return n>0&&(65279===i[0]||65534===i[0])?function(e,t,n){const i=[];let o=0;for(let r=0;r<n;r++){const n=B4(e,t);t+=2,i[o++]=String.fromCharCode(n)}return i.join("")}(e,t,n):j4().decode(i)}class q4{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return U4().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||PZ(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}class G4{constructor(e,t,n,i,o,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=o,this.reversedRegex=r,this._openSet=G4._toSet(this.open),this._closeSet=G4._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class Y4{constructor(e,t){this._richEditBracketsBrand=void 0;const n=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const n=[];for(let s=0;s<t;s++)n[s]=s;const i=(e,t)=>{const[n,i]=e,[o,r]=t;return n===o||n===r||i===o||i===r},o=(e,i)=>{const o=Math.min(e,i),r=Math.max(e,i);for(let s=0;s<t;s++)n[s]===r&&(n[s]=o)};for(let s=0;s<t;s++){const r=e[s];for(let a=s+1;a<t;a++)i(r,e[a])&&o(n[s],n[a])}const r=[];for(let s=0;s<t;s++){const i=[],o=[];for(let r=0;r<t;r++)if(n[r]===s){const[t,n]=e[r];i.push(t),o.push(n)}i.length>0&&r.push({open:i,close:o})}return r}(t);this.brackets=n.map(((t,i)=>new G4(e,i,t.open,t.close,function(e,t,n,i){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)X4(o[r],n,i,o);return o=Q4(o),o.sort(Z4),o.reverse(),e5(o)}(t.open,t.close,n,i),function(e,t,n,i){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)X4(o[r],n,i,o);return o=Q4(o),o.sort(Z4),o.reverse(),e5(o.map(t5))}(t.open,t.close,n,i)))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=Q4(t),e5(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=Q4(t),e5(t.map(t5))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function X4(e,t,n,i){for(let o=0,r=t.length;o<r;o++){if(o===n)continue;const r=t[o];for(const t of r.open)t.indexOf(e)>=0&&i.push(t);for(const t of r.close)t.indexOf(e)>=0&&i.push(t)}}function Z4(e,t){return e.length-t.length}function Q4(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function J4(e){const t=/^[\w ]+$/.test(e);return e=bZ(e),t?`\\b${e}\\b`:e}function e5(e){return yZ(`(${e.map(J4).join(")|(")})`,!0)}const t5=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return U4().decode(t)}(e)),t}}();class n5{static _findPrevBracketInText(e,t,n,i){const o=n.match(e);if(!o)return null;const r=n.length-(o.index||0),s=o[0].length,a=i+r;return new _Y(t,a-s+1,t,a+1)}static findPrevBracketInRange(e,t,n,i,o){const r=t5(n).substring(n.length-o,n.length-i);return this._findPrevBracketInText(e,t,r,i)}static findNextBracketInText(e,t,n,i){const o=n.match(e);if(!o)return null;const r=o.index||0,s=o[0].length;if(0===s)return null;const a=i+r;return new _Y(t,a+1,t,a+1+s)}static findNextBracketInRange(e,t,n,i,o){const r=n.substring(i,o);return this.findNextBracketInText(e,t,r,i)}}class i5{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return _U(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if(T4(t.getStandardTokenType(i)))return null;const o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,n-1)+e,s=n5.findPrevBracketInRange(o,1,r,0,r.length);if(!s)return null;const a=r.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function o5(e){return e.global&&(e.lastIndex=0),!0}class r5{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&o5(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&o5(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&o5(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&o5(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class s5{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=s5._createOpenBracketRegExp(e[0]),n=s5._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let o=0,r=this._regExpRules.length;o<r;o++){const e=this._regExpRules[o];if([{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return e.action}if(e>=2&&n.length>0&&i.length>0)for(let o=0,r=this._brackets.length;o<r;o++){const e=this._brackets[o];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:x4.IndentOutdent}}if(e>=2&&n.length>0)for(let o=0,r=this._brackets.length;o<r;o++){if(this._brackets[o].openRegExp.test(n))return{indentAction:x4.Indent}}return null}static _createOpenBracketRegExp(e){let t=bZ(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",s5._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=bZ(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,s5._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Rq(t),null}}}const a5=OQ("configurationService");function l5(e,t){const n=Object.create(null);for(const i in e)c5(n,i,e[i],t);return n}function c5(e,t,n,i){const o=t.split("."),r=o.pop();let s=e;for(let a=0;a<o.length;a++){const e=o[a];let n=s[e];switch(typeof n){case"undefined":n=s[e]=Object.create(null);break;case"object":break;default:return void i(`Ignoring ${t} as ${o.slice(0,a+1).join(".")} is ${JSON.stringify(n)}`)}s=n}if("object"==typeof s&&null!==s)try{s[r]=n}catch(fTe){i(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}function u5(e,t){h5(e,t.split("."))}function h5(e,t){const n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){const i=e[n];"object"!=typeof i||Array.isArray(i)||(h5(i,t),0===Object.keys(i).length&&delete e[n])}}else delete e[n]}function d5(e,t,n){const i=function(e,t){let n=e;for(const i of t){if("object"!=typeof n||null===n)return;n=n[i]}return n}(e,t.split("."));return void 0===i?n:i}const g5=OQ("languageService");class f5{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}const p5=[];function m5(e,t,n){t instanceof f5||(t=new f5(t,[],Boolean(n))),p5.push([e,t])}function v5(){return p5}const b5=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),_5="base.contributions.json";const y5=new class{constructor(){this._onDidChangeSchema=new sG,this.schemasById={}}registerSchema(e,t){var n;this.schemasById[(n=e,n.length>0&&"#"===n.charAt(n.length-1)?n.substring(0,n.length-1):n)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};YJ.add(_5,y5);const w5="base.contributions.configuration",C5="vscode://schemas/settings/resourceLanguage",S5=YJ.as(_5);const x5="\\[([^\\]]+)\\]",k5=new RegExp(x5,"g"),L5=new RegExp(`^(${x5})+$`);function D5(e){const t=[];if(L5.test(e)){let n=k5.exec(e);for(;null==n?void 0:n.length;){const i=n[1].trim();i&&t.push(i),n=k5.exec(e)}}return _U(t)}const E5=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new sG,this._onDidUpdateConfiguration=new sG,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:nK(0,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},S5.registerSchema(C5,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const n=new Set;this.doRegisterConfigurations(e,t,n),S5.registerSchema(C5,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var n;const i=[];for(const{overrides:o,source:r}of e)for(const e in o)if(t.add(e),L5.test(e)){const t=this.configurationDefaultsOverrides.get(e),s=null!==(n=null==t?void 0:t.valuesSources)&&void 0!==n?n:new Map;if(r)for(const n of Object.keys(o[e]))s.set(n,r);const a=Object.assign(Object.assign({},(null==t?void 0:t.value)||{}),o[e]);this.configurationDefaultsOverrides.set(e,{source:r,value:a,valuesSources:s});const l={type:"object",default:a,description:nK(0,"Configure settings to be overridden for the {0} language.",e.replace(/[\[\]]/g,"")),$ref:C5,defaultDefaultValue:a,source:PU(r)?void 0:r,defaultValueSource:r};i.push(...D5(e)),this.configurationProperties[e]=l,this.defaultLanguageConfigurationOverridesNode.properties[e]=l}else{this.configurationDefaultsOverrides.set(e,{value:o[e],source:r});const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}this.doRegisterOverrideIdentifiers(i)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,n),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,n,i,o=3,r){var s;o=jU(e.scope)?o:e.scope;const a=e.properties;if(a)for(const c in a){const e=a[c];t&&N5(c,e)?delete a[c]:(e.source=n,e.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,e),L5.test(c)?e.scope=void 0:(e.scope=jU(e.scope)?o:e.scope,e.restricted=jU(e.restricted)?!!(null==i?void 0:i.includes(c)):e.restricted),!a[c].hasOwnProperty("included")||a[c].included?(this.configurationProperties[c]=a[c],(null===(s=a[c].policy)||void 0===s?void 0:s.name)&&this.policyConfigurations.set(a[c].policy.name,c),!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),r.add(c)):(this.excludedConfigurationProperties[c]=a[c],delete a[c]))}const l=e.allOf;if(l)for(const c of l)this.validateAndRegisterProperties(c,t,n,i,o,r)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const n=e.properties;if(n)for(const t in n)this.updateSchema(t,n[t]);const i=e.allOf;null==i||i.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,n={type:"object",description:nK(0,"Configure editor settings to be overridden for a language."),errorMessage:nK(0,"This setting does not support per-language configuration."),$ref:C5};this.updatePropertyDefaultValue(t,n)}}registerOverridePropertyPatternKey(){nK(0,"Configure editor settings to be overridden for a language."),nK(0,"This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const n=this.configurationDefaultsOverrides.get(e);let i=null==n?void 0:n.value,o=null==n?void 0:n.source;HU(i)&&(i=t.defaultDefaultValue,o=void 0),HU(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i,t.defaultValueSource=o}};function N5(e,t){var n,i,o,r;return e.trim()?L5.test(e)?nK(0,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==E5.getConfigurationProperties()[e]?nK(0,"Cannot register '{0}'. This property is already registered.",e):(null===(n=t.policy)||void 0===n?void 0:n.name)&&void 0!==E5.getPolicyConfigurations().get(null===(i=t.policy)||void 0===i?void 0:i.name)?nK(0,"Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(o=t.policy)||void 0===o?void 0:o.name,E5.getPolicyConfigurations().get(null===(r=t.policy)||void 0===r?void 0:r.name)):null:nK(0,"Cannot register an empty property")}YJ.add(w5,E5);const T5=new class{constructor(){this._onDidChangeLanguages=new sG,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};YJ.add("editor.modesRegistry",T5);const I5="plaintext";T5.registerLanguage({id:I5,extensions:[".txt"],aliases:[nK(0,"Plain Text"),"text"],mimetypes:[b5.text]}),YJ.as(w5).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class M5{constructor(e,t){this.languageId=e;const n=t.brackets?R5(t.brackets):[],i=new dZ((e=>{const t=new Set;return{info:new O5(this,e,t),closing:t}})),o=new dZ((e=>{const t=new Set,n=new Set;return{info:new P5(this,e,t,n),opening:t,openingColorized:n}}));for(const[s,a]of n){const e=i.get(s),t=o.get(a);e.closing.add(t.info),t.opening.add(e.info)}const r=t.colorizedBracketPairs?R5(t.colorizedBracketPairs):n.filter((e=>!("<"===e[0]&&">"===e[1])));for(const[s,a]of r){const e=i.get(s),t=o.get(a);e.closing.add(t.info),t.openingColorized.add(e.info),t.opening.add(e.info)}this._openingBrackets=new Map([...i.cachedValues].map((([e,t])=>[e,t.info]))),this._closingBrackets=new Map([...o.cachedValues].map((([e,t])=>[e,t.info])))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function R5(e){return e.filter((([e,t])=>""!==e&&""!==t))}class A5{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class O5 extends A5{constructor(e,t,n){super(e,t),this.openedBrackets=n,this.isOpeningBracket=!0}}class P5 extends A5{constructor(e,t,n,i){super(e,t),this.openingBrackets=n,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(e){return e.config===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var F5=function(e,t){return function(n,i){t(n,i,e)}};class B5{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const z5=OQ("languageConfigurationService");let V5=class extends Yq{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new Y5),this.onDidChangeEmitter=this._register(new sG),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(W5));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>n.has(e))),i=e.change.overrides.filter((([e,t])=>t.some((e=>n.has(e))))).map((([e])=>e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new B5(void 0));else for(const n of i)this.languageService.isRegisteredLanguageId(n)&&(this.configurations.delete(n),this.onDidChangeEmitter.fire(new B5(n)))}))),this._register(this._registry.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new B5(e.languageId))})))}register(e,t,n){return this._registry.register(e,t,n)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,n,i){let o=t.getLanguageConfiguration(e);if(!o){if(!i.isRegisteredLanguageId(e))return new X5(e,{});o=new X5(e,{})}const r=function(e,t){const n=t.getValue(W5.brackets,{overrideIdentifier:e}),i=t.getValue(W5.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:H5(n),colorizedBracketPairs:H5(i)}}(o.languageId,n),s=K5([o.underlyingConfig,r]);return new X5(o.languageId,s)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};V5=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([F5(0,a5),F5(1,g5)],V5);const W5={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function H5(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}function $5(e,t,n){let i=SZ(e.getLineContent(t));return i.length>n-1&&(i=i.substring(0,n-1)),i}function j5(e,t,n){e.tokenization.forceTokenization(t);return E4(e.tokenization.getLineTokens(t),void 0===n?e.getLineMaxColumn(t)-1:n-1)}class U5{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new q5(e,t,++this._order);return this._entries.push(n),this._resolved=null,qq((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new X5(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(q5.cmp),K5(this._entries.map((e=>e.configuration))))}}function K5(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const n of e)t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport};return t}class q5{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class G5{constructor(e){this.languageId=e}}class Y5 extends Yq{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._register(this.register(I5,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,n=0){let i=this._entries.get(e);i||(i=new U5(e),this._entries.set(e,i));const o=i.register(t,n);return this._onDidChange.fire(new G5(e)),qq((()=>{o.dispose(),this._onDidChange.fire(new G5(e))}))}getLanguageConfiguration(e){const t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}}class X5{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s5(this.underlyingConfig):null,this.comments=X5._handleComments(this.underlyingConfig),this.characterPair=new I4(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||$K,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new r5(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new M5(e,this.underlyingConfig)}getWordDefinition(){return jK(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new Y4(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i5(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}getAutoClosingPairs(){return new L4(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){const[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}m5(z5,V5,1);class Z5{constructor(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function Q5(e,t){switch(typeof e){case"object":return null===e?J5(349,t):Array.isArray(e)?(n=e,i=J5(104579,i=t),n.reduce(((e,t)=>Q5(t,e)),i)):function(e,t){return t=J5(181387,t),Object.keys(e).sort().reduce(((t,n)=>(t=e3(n,t),Q5(e[n],t))),t)}(e,t);case"string":return e3(e,t);case"boolean":return function(e,t){return J5(e?433:863,t)}(e,t);case"number":return J5(e,t);case"undefined":return J5(937,t);default:return J5(617,t)}var n,i}function J5(e,t){return(t<<5)-t+e|0}function e3(e,t){t=J5(149417,t);for(let n=0,i=e.length;n<i;n++)t=J5(e.charCodeAt(n),t);return t}function t3(e,t,n=32){const i=n-t;return(e<<t|(~((1<<i)-1)&e)>>>i)>>>0}function n3(e,t=0,n=e.byteLength,i=0){for(let o=0;o<n;o++)e[t+o]=i}function i3(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t,n="0"){for(;e.length<t;)e=n+e;return e}((e>>>0).toString(16),t/4)}class o3{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const n=this._buff;let i,o,r=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(i=s,o=-1,s=0):(i=e.charCodeAt(0),o=0);;){let a=i;if(PZ(i)){if(!(o+1<t)){s=i;break}{const t=e.charCodeAt(o+1);FZ(t)?(o++,a=BZ(i,t)):a=65533}}else FZ(i)&&(a=65533);if(r=this._push(n,r,a),o++,!(o<t))break;i=e.charCodeAt(o)}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(1984&n)>>>6,e[t++]=128|(63&n)>>>0):n<65536?(e[t++]=224|(61440&n)>>>12,e[t++]=128|(4032&n)>>>6,e[t++]=128|(63&n)>>>0):(e[t++]=240|(1835008&n)>>>18,e[t++]=128|(258048&n)>>>12,e[t++]=128|(4032&n)>>>6,e[t++]=128|(63&n)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i3(this._h0)+i3(this._h1)+i3(this._h2)+i3(this._h3)+i3(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,n3(this._buff,this._buffLen),this._buffLen>56&&(this._step(),n3(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=o3._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,t3(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let n,i,o,r=this._h0,s=this._h1,a=this._h2,l=this._h3,c=this._h4;for(let u=0;u<80;u++)u<20?(n=s&a|~s&l,i=1518500249):u<40?(n=s^a^l,i=1859775393):u<60?(n=s&a|s&l|a&l,i=2400959708):(n=s^a^l,i=3395469782),o=t3(r,5)+n+c+i+e.getUint32(4*u,!1)&4294967295,c=l,l=a,a=t3(s,30),s=r,r=o;this._h0=this._h0+r&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+c&4294967295}}o3._bigBlock32=new DataView(new ArrayBuffer(320));class r3{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=e.charCodeAt(n);return t}}function s3(e,t,n){return new u3(new r3(e),new r3(t)).ComputeDiff(n).changes}class a3{static Assert(e,t){if(!e)throw new Error(t)}}class l3{static Copy(e,t,n,i,o){for(let r=0;r<o;r++)n[i+r]=e[t+r]}static Copy2(e,t,n,i,o){for(let r=0;r<o;r++)n[i+r]=e[t+r]}}class c3{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Z5(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u3{constructor(e,t,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=e,this._modifiedSequence=t;const[i,o,r]=u3._getElements(e),[s,a,l]=u3._getElements(t);this._hasStrings=r&&l,this._originalStringElements=i,this._originalElementsOrHash=o,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(u3._isStringArray(t)){const e=new Int32Array(t.length);for(let n=0,i=t.length;n<i;n++)e[n]=e3(t[n],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return u3._getStrictElement(this._originalSequence,e)===u3._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,i,o){const r=[!1];let s=this.ComputeDiffRecursive(e,t,n,i,r);return o&&(s=this.PrettifyChanges(s)),{quitEarly:r[0],changes:s}}ComputeDiffRecursive(e,t,n,i,o){for(o[0]=!1;e<=t&&n<=i&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&i>=n&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||n>i){let o;return n<=i?(a3.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new Z5(e,0,n,i-n+1)]):e<=t?(a3.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),o=[new Z5(e,t-e+1,n,0)]):(a3.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a3.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const r=[0],s=[0],a=this.ComputeRecursionPoint(e,t,n,i,r,s,o),l=r[0],c=s[0];if(null!==a)return a;if(!o[0]){const r=this.ComputeDiffRecursive(e,l,n,c,o);let s=[];return s=o[0]?[new Z5(l+1,t-(l+1)+1,c+1,i-(c+1)+1)]:this.ComputeDiffRecursive(l+1,t,c+1,i,o),this.ConcatenateChanges(r,s)}return[new Z5(e,t-e+1,n,i-n+1)]}WALKTRACE(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f,p,m,v){let b=null,_=null,y=new c3,w=t,C=n,S=d[0]-p[0]-i,x=-1073741824,k=this.m_forwardHistory.length-1;do{const t=S+e;t===w||t<C&&l[t-1]<l[t+1]?(g=(u=l[t+1])-S-i,u<x&&y.MarkNextChange(),x=u,y.AddModifiedElement(u+1,g),S=t+1-e):(g=(u=l[t-1]+1)-S-i,u<x&&y.MarkNextChange(),x=u-1,y.AddOriginalElement(u,g+1),S=t-1-e),k>=0&&(e=(l=this.m_forwardHistory[k])[0],w=1,C=l.length-1)}while(--k>=-1);if(b=y.getReverseChanges(),v[0]){let e=d[0]+1,t=p[0]+1;if(null!==b&&b.length>0){const n=b[b.length-1];e=Math.max(e,n.getOriginalEnd()),t=Math.max(t,n.getModifiedEnd())}_=[new Z5(e,h-e+1,t,f-t+1)]}else{y=new c3,w=r,C=s,S=d[0]-p[0]-a,x=1073741824,k=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+o;e===w||e<C&&c[e-1]>=c[e+1]?(g=(u=c[e+1]-1)-S-a,u>x&&y.MarkNextChange(),x=u+1,y.AddOriginalElement(u+1,g+1),S=e+1-o):(g=(u=c[e-1])-S-a,u>x&&y.MarkNextChange(),x=u,y.AddModifiedElement(u+1,g+1),S=e-1-o),k>=0&&(o=(c=this.m_reverseHistory[k])[0],w=1,C=c.length-1)}while(--k>=-1);_=y.getChanges()}return this.ConcatenateChanges(b,_)}ComputeRecursionPoint(e,t,n,i,o,r,s){let a=0,l=0,c=0,u=0,h=0,d=0;e--,n--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(i-n),f=g+1,p=new Int32Array(f),m=new Int32Array(f),v=i-n,b=t-e,_=e-n,y=t-i,w=(b-v)%2==0;p[v]=e,m[b]=t,s[0]=!1;for(let C=1;C<=g/2+1;C++){let g=0,S=0;c=this.ClipDiagonalBound(v-C,C,v,f),u=this.ClipDiagonalBound(v+C,C,v,f);for(let e=c;e<=u;e+=2){a=e===c||e<u&&p[e-1]<p[e+1]?p[e+1]:p[e-1]+1,l=a-(e-v)-_;const n=a;for(;a<t&&l<i&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(p[e]=a,a+l>g+S&&(g=a,S=l),!w&&Math.abs(e-b)<=C-1&&a>=m[e])return o[0]=a,r[0]=l,n<=m[e]&&C<=1448?this.WALKTRACE(v,c,u,_,b,h,d,y,p,m,a,t,o,l,i,r,w,s):null}const x=(g-e+(S-n)-C)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(g,x))return s[0]=!0,o[0]=g,r[0]=S,x>0&&C<=1448?this.WALKTRACE(v,c,u,_,b,h,d,y,p,m,a,t,o,l,i,r,w,s):(e++,n++,[new Z5(e,t-e+1,n,i-n+1)]);h=this.ClipDiagonalBound(b-C,C,b,f),d=this.ClipDiagonalBound(b+C,C,b,f);for(let f=h;f<=d;f+=2){a=f===h||f<d&&m[f-1]>=m[f+1]?m[f+1]-1:m[f-1],l=a-(f-b)-y;const g=a;for(;a>e&&l>n&&this.ElementsAreEqual(a,l);)a--,l--;if(m[f]=a,w&&Math.abs(f-v)<=C&&a<=p[f])return o[0]=a,r[0]=l,g>=p[f]&&C<=1448?this.WALKTRACE(v,c,u,_,b,h,d,y,p,m,a,t,o,l,i,r,w,s):null}if(C<=1447){let e=new Int32Array(u-c+2);e[0]=v-c+1,l3.Copy2(p,c,e,1,u-c+1),this.m_forwardHistory.push(e),e=new Int32Array(d-h+2),e[0]=b-h+1,l3.Copy2(m,h,e,1,d-h+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,c,u,_,b,h,d,y,p,m,a,t,o,l,i,r,w,s)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const n=e[t],i=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=n.originalLength>0,s=n.modifiedLength>0;for(;n.originalStart+n.originalLength<i&&n.modifiedStart+n.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const e=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!e)break;n.originalStart++,n.modifiedStart++}const a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const n=e[t];let i=0,o=0;if(t>0){const n=e[t-1];i=n.originalStart+n.originalLength,o=n.modifiedStart+n.modifiedLength}const r=n.originalLength>0,s=n.modifiedLength>0;let a=0,l=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let e=1;;e++){const t=n.originalStart-e,c=n.modifiedStart-e;if(t<i||c<o)break;if(r&&!this.OriginalElementsAreEqual(t,t+n.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(c,c+n.modifiedLength))break;const u=(t===i&&c===o?5:0)+this._boundaryScore(t,n.originalLength,c,n.modifiedLength);u>l&&(l=u,a=e)}n.originalStart-=a,n.modifiedStart-=a;const c=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],c)&&(e[t-1]=c[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,n=e.length;t<n;t++){const n=e[t-1],i=e[t],o=i.originalStart-n.originalStart-n.originalLength,r=n.originalStart,s=i.originalStart+i.originalLength,a=s-r,l=n.modifiedStart,c=i.modifiedStart+i.modifiedLength,u=c-l;if(o<5&&a<20&&u<20){const e=this._findBetterContiguousSequence(r,a,l,u,o);if(e){const[t,r]=e;t===n.originalStart+n.originalLength&&r===n.modifiedStart+n.modifiedLength||(n.originalLength=t-n.originalStart,n.modifiedLength=r-n.modifiedStart,i.originalStart=t+o,i.modifiedStart=r+o,i.originalLength=s-i.originalStart,i.modifiedLength=c-i.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,n,i,o){if(t<o||i<o)return null;const r=e+t-o+1,s=n+i-o+1;let a=0,l=0,c=0;for(let u=e;u<r;u++)for(let e=n;e<s;e++){const t=this._contiguousSequenceScore(u,e,o);t>0&&t>a&&(a=t,l=u,c=e)}return a>0?[l,c]:null}_contiguousSequenceScore(e,t,n){let i=0;for(let o=0;o<n;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;i+=this._originalStringElements[e+o].length}return i}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(e,t,n,i){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(n,i)?1:0)}ConcatenateChanges(e,t){const n=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){const i=new Array(e.length+t.length-1);return l3.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],l3.Copy(t,1,i,e.length,t.length-1),i}{const n=new Array(e.length+t.length);return l3.Copy(e,0,n,0,e.length),l3.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,n){if(a3.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),a3.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const i=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new Z5(i,o,r,s),!0}return n[0]=null,!1}ClipDiagonalBound(e,t,n,i){if(e>=0&&e<i)return e;const o=t%2==0;if(e<0){return o===(n%2==0)?0:1}return o===((i-n-1)%2==0)?i-1:i-2}}function h3(e){return e<0?0:e>255?255:0|e}function d3(e){return e<0?0:e>4294967295?4294967295:0|e}class g3{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=d3(e);const n=this.values,i=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=d3(e),t=d3(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=d3(e),t=d3(t);const n=this.values,i=this.prefixSum;if(e>=n.length)return!1;const o=n.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=d3(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,n=this.values.length-1,i=0,o=0,r=0;for(;t<=n;)if(i=t+(n-t)/2|0,o=this.prefixSum[i],r=o-this.values[i],e<r)n=i-1;else{if(!(e>=o))break;t=i+1}return new p3(i,e-r)}}class f3{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),0===e?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],n=t>0?this._prefixSum[t-1]:0;return new p3(t,e-n)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=CU(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const t=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+t;for(let i=0;i<t;i++)this._indexBySum[n+i]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class p3{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class m3{constructor(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const n of t)this._acceptDeleteRange(n.range),this._acceptInsertText(new bY(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new g3(n)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;const n=wZ(t);if(1===n.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);const i=new Uint32Array(n.length-1);for(let o=1;o<n.length;o++)this._lines.splice(e.lineNumber+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}}class v3{constructor(e){const t=h3(e);this._defaultValue=t,this._asciiMap=v3._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const n=h3(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class b3{constructor(e,t,n){const i=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)i[o]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class _3{constructor(e){let t=0,n=0;for(let o=0,r=e.length;o<r;o++){const[i,r,s]=e[o];r>t&&(t=r),i>n&&(n=i),s>n&&(n=s)}t++,n++;const i=new b3(n,t,0);for(let o=0,r=e.length;o<r;o++){const[t,n,r]=e[o];i.set(t,n,r)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let y3=null;let w3=null;class C3{static _createLink(e,t,n,i,o){let r=o-1;do{const n=t.charCodeAt(r);if(2!==e.get(n))break;r--}while(r>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(r);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&r--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:r+2},url:t.substring(i,r+1)}}static computeLinks(e,t=function(){return null===y3&&(y3=new _3([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),y3}()){const n=function(){if(null===w3){w3=new v3(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let n=0;n<e.length;n++)w3.set(e.charCodeAt(n),1);const t=".,;:";for(let n=0;n<t.length;n++)w3.set(t.charCodeAt(n),2)}return w3}(),i=[];for(let o=1,r=e.getLineCount();o<=r;o++){const r=e.getLineContent(o),s=r.length;let a=0,l=0,c=0,u=1,h=!1,d=!1,g=!1,f=!1;for(;a<s;){let e=!1;const s=r.charCodeAt(a);if(13===u){let t;switch(s){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,d=!0,t=0;break;case 93:g=!1,t=d?0:1;break;case 123:f=!0,t=0;break;case 125:t=f?0:1;break;case 39:case 34:case 96:t=c===s?1:39===c||34===c||96===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=g?0:1;break;default:t=n.get(s)}1===t&&(i.push(C3._createLink(n,r,o,l,a)),e=!0)}else if(12===u){let t;91===s?(d=!0,t=0):t=n.get(s),1===t?e=!0:u=13}else u=t.nextState(u,s),0===u&&(e=!0);e&&(u=1,h=!1,d=!1,f=!1,l=a+1,c=s),a++}13===u&&i.push(C3._createLink(n,r,o,l,s))}return i}}class S3{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,o){if(e&&t){const n=this.doNavigateValueSet(t,o);if(n)return{range:e,value:n}}if(n&&i){const e=this.doNavigateValueSet(i,o);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){const n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){const n=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let i=Number(e);const o=parseFloat(e);return isNaN(i)||isNaN(o)||i!==o?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let o=0,r=e.length;null===i&&o<r;o++)i=this.valueSetReplace(e[o],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}S3.INSTANCE=new S3;class x3 extends v3{constructor(e){super(0);for(let t=0,n=e.length;t<n;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const k3=function(e){const t={};return n=>(t.hasOwnProperty(n)||(t[n]=e(n)),t[n])}((e=>new x3(e)));var L3,D3,E3,N3;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(L3||(L3={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(D3||(D3={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(E3||(E3={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(N3||(N3={}));class T3{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),"tabSize"===e.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|e.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&JU(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class I3{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}class M3{constructor(e,t,n,i,o,r){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class R3{constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}class A3{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}function O3(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}class P3{constructor(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,n=e.length;t<n;t++){const i=e.charCodeAt(t);if(10===i)return!0;if(92===i){if(t++,t>=n)break;const i=e.charCodeAt(t);if(110===i||114===i||87===i)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=yZ(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(i){return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new R3(t,this.wordSeparators?k3(this.wordSeparators):null,n?this.searchString:null)}}function F3(e,t,n){if(!n)return new I3(e,null);const i=[];for(let o=0,r=t.length;o<r;o++)i[o]=t[o];return new I3(e,i)}class B3{constructor(e){const t=[];let n=0;for(let i=0,o=e.length;i<o;i++)10===e.charCodeAt(i)&&(t[n++]=i);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let n=0,i=t.length-1;if(-1===i)return 0;if(e<=t[0])return 0;for(;n<i;){const o=n+((i-n)/2|0);t[o]>=e?i=o-1:t[o+1]>=e?(n=o,i=o):n=o+1}return n+1}}class z3{static findMatches(e,t,n,i,o){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,n,new W3(r.wordSeparators,r.regex),i,o):this._doFindMatchesLineByLine(e,n,r,i,o):[]}static _getMultilineMatchRange(e,t,n,i,o,r){let s,a,l=0;if(i?(l=i.findLineFeedCountBeforeOffset(o),s=t+o+l):s=t+o,i){const e=i.findLineFeedCountBeforeOffset(o+r.length)-l;a=s+r.length+e}else a=s+r.length;const c=e.getPositionAt(s),u=e.getPositionAt(a);return new _Y(c.lineNumber,c.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,n,i,o){const r=e.getOffsetAt(t.getStartPosition()),s=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new B3(s):null,l=[];let c,u=0;for(n.reset(0);c=n.next(s);)if(l[u++]=F3(this._getMultilineMatchRange(e,r,s,a,c.index,c[0]),c,i),u>=o)return l;return l}static _doFindMatchesLineByLine(e,t,n,i,o){const r=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,r,i,o),r}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,r,i,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&s<o;l++)s=this._findMatchesInLine(n,e.getLineContent(l),l,0,s,r,i,o);if(s<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(n,a,t.endLineNumber,0,s,r,i,o)}return r}static _findMatchesInLine(e,t,n,i,o,r,s,a){const l=e.wordSeparators;if(!s&&e.simpleSearch){const s=e.simpleSearch,c=s.length,u=t.length;let h=-c;for(;-1!==(h=t.indexOf(s,h+c));)if((!l||V3(l,t,u,h,c))&&(r[o++]=new I3(new _Y(n,h+1+i,n,h+1+c+i),null),o>=a))return o;return o}const c=new W3(e.wordSeparators,e.regex);let u;c.reset(0);do{if(u=c.next(t),u&&(r[o++]=F3(new _Y(n,u.index+1+i,n,u.index+1+u[0].length+i),u,s),o>=a))return o}while(u);return o}static findNextMatch(e,t,n,i){const o=t.parseSearchRequest();if(!o)return null;const r=new W3(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,n,r,i):this._doFindNextMatchLineByLine(e,n,r,i)}static _doFindNextMatchMultiline(e,t,n,i){const o=new bY(t.lineNumber,1),r=e.getOffsetAt(o),s=e.getLineCount(),a=e.getValueInRange(new _Y(o.lineNumber,o.column,s,e.getLineMaxColumn(s)),1),l="\r\n"===e.getEOL()?new B3(a):null;n.reset(t.column-1);const c=n.next(a);return c?F3(this._getMultilineMatchRange(e,r,a,l,c.index,c[0]),c,i):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new bY(1,1),n,i):null}static _doFindNextMatchLineByLine(e,t,n,i){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r),a=this._findFirstMatchInLine(n,s,r,t.column,i);if(a)return a;for(let l=1;l<=o;l++){const t=(r+l-1)%o,s=e.getLineContent(t+1),a=this._findFirstMatchInLine(n,s,t+1,1,i);if(a)return a}return null}static _findFirstMatchInLine(e,t,n,i,o){e.reset(i-1);const r=e.next(t);return r?F3(new _Y(n,r.index+1,n,r.index+1+r[0].length),r,o):null}static findPreviousMatch(e,t,n,i){const o=t.parseSearchRequest();if(!o)return null;const r=new W3(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,n,r,i):this._doFindPreviousMatchLineByLine(e,n,r,i)}static _doFindPreviousMatchMultiline(e,t,n,i){const o=this._doFindMatchesMultiline(e,new _Y(1,1,t.lineNumber,t.column),n,i,9990);if(o.length>0)return o[o.length-1];const r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new bY(r,e.getLineMaxColumn(r)),n,i):null}static _doFindPreviousMatchLineByLine(e,t,n,i){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(n,s,r,i);if(a)return a;for(let l=1;l<=o;l++){const t=(o+r-l-1)%o,s=e.getLineContent(t+1),a=this._findLastMatchInLine(n,s,t+1,i);if(a)return a}return null}static _findLastMatchInLine(e,t,n,i){let o,r=null;for(e.reset(0);o=e.next(t);)r=F3(new _Y(n,o.index+1,n,o.index+1+o[0].length),o,i);return r}}function V3(e,t,n,i,o){return function(e,t,n,i,o){if(0===i)return!0;const r=t.charCodeAt(i-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const n=t.charCodeAt(i);if(0!==e.get(n))return!0}return!1}(e,t,0,i,o)&&function(e,t,n,i,o){if(i+o===n)return!0;const r=t.charCodeAt(i+o);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const n=t.charCodeAt(i+o-1);if(0!==e.get(n))return!0}return!1}(e,t,n,i,o)}class W3{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(n=this._searchRegex.exec(e),!n)return null;const i=n.index,o=n[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){zZ(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||V3(this._wordSeparators,e,t,i,o))return n}while(n);return null}}class H3{static computeUnicodeHighlights(e,t,n){const i=n?n.startLineNumber:1,o=n?n.endLineNumber:e.getLineCount(),r=new $3(t),s=r.getCandidateCodePoints();let a;a="allNonBasicAscii"===s?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(""+`[${bZ(Array.from(s).map((e=>String.fromCodePoint(e))).join(""))}]`,"g");const l=new W3(null,a),c=[];let u,h=!1,d=0,g=0,f=0;e:for(let p=i,m=o;p<=m;p++){const t=e.getLineContent(p),n=t.length;l.reset(0);do{if(u=l.next(t),u){let e=u.index,i=u.index+u[0].length;if(e>0){PZ(t.charCodeAt(e-1))&&e--}if(i+1<n){PZ(t.charCodeAt(i-1))&&i++}const o=t.substring(e,i);let s=KK(e+1,$K,t,0);s&&s.endColumn<=e+1&&(s=null);const a=r.shouldHighlightNonBasicASCII(o,s?s.word:null);if(0!==a){3===a?d++:2===a?g++:1===a?f++:KJ();const t=1e3;if(c.length>=t){h=!0;break e}c.push(new _Y(p,e+1,p,i+1))}}}while(u)}return{ranges:c,hasMore:h,ambiguousCharacterCount:d,invisibleCharacterCount:g,nonBasicAsciiCharacterCount:f}}static computeUnicodeHighlightReason(e,t){const n=new $3(t);switch(n.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const i=e.codePointAt(0),o=n.ambiguousCharacters.getPrimaryConfusable(i),r=rQ.getLocales().filter((e=>!rQ.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(i)));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}class $3{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=rQ.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of sQ.codePoints)j3(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const n=e.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,o=!1;if(t)for(const r of t){const e=r.codePointAt(0),t=qZ(r);i=i||t,t||this.ambiguousCharacters.isAmbiguous(e)||sQ.isInvisibleCharacter(e)||(o=!0)}return!i&&o?0:this.options.invisibleCharacters&&!j3(e)&&sQ.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0}}function j3(e){return" "===e||"\n"===e||"\t"===e}class U3{constructor(e,t,n){this.changes=e,this.moves=t,this.hitTimeout=n}}class K3{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class q3{static addRange(e,t){let n=0;for(;n<t.length&&t[n].endExclusive<e.start;)n++;let i=n;for(;i<t.length&&t[i].start<=e.endExclusive;)i++;if(n===i)t.splice(n,0,e);else{const o=Math.min(e.start,t[n].start),r=Math.max(e.endExclusive,t[i-1].endExclusive);t.splice(n,i-n,new q3(o,r))}}static tryCreate(e,t){if(!(e>t))return new q3(e,t)}static ofLength(e){return new q3(0,e)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new $q(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new q3(this.start+e,this.endExclusive+e)}deltaStart(e){return new q3(this.start+e,this.endExclusive)}deltaEnd(e){return new q3(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new q3(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(t<=n)return new q3(t,n)}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new $q(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new $q(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class G3{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let n=t;for(;n<this._sortedRanges.length&&this._sortedRanges[n].start<=e.endExclusive;)n++;if(t===n)this._sortedRanges.splice(t,0,e);else{const i=Math.min(e.start,this._sortedRanges[t].start),o=Math.max(e.endExclusive,this._sortedRanges[n-1].endExclusive);this._sortedRanges.splice(t,n-t,new q3(i,o))}}toString(){return this._sortedRanges.map((e=>e.toString())).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new G3;for(const n of this._sortedRanges){const i=n.intersect(e);i&&t.addRange(i)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce(((e,t)=>e+t.length),0)}}function Y3(e,t,n){const i=function(e,t,n=e.length-1){for(let i=n;i>=0;i--){if(t(e[i]))return i}return-1}(e,t);if(-1!==i)return e[i]}function X3(e,t){const n=Z3(e,t);return-1===n?void 0:e[n]}function Z3(e,t,n=0,i=e.length){let o=n,r=i;for(;o<r;){const n=Math.floor((o+r)/2);t(e[n])?o=n+1:r=n}return o-1}function Q3(e,t,n=0,i=e.length){let o=n,r=i;for(;o<r;){const n=Math.floor((o+r)/2);t(e[n])?r=n:o=n+1}return o}class J3{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(J3.assertInvariants){if(this._prevFindLastPredicate)for(const t of this._array)if(this._prevFindLastPredicate(t)&&!e(t))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=e}const t=Z3(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,-1===t?void 0:this._array[t]}}function e6(e,t){if(0===e.length)return-1;let n=0;for(let i=1;i<e.length;i++){t(e[i],e[n])>0&&(n=i)}return n}J3.assertInvariants=!1;let t6=class e{static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static joinMany(e){if(0===e.length)return[];let t=new n6(e[0].slice());for(let n=1;n<e.length;n++)t=t.getUnion(new n6(e[n].slice()));return t.ranges}static ofLength(t,n){return new e(t,t+n)}static deserialize(t){return new e(t[0],t[1])}constructor(e,t){if(e>t)throw new $q(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){const n=Math.max(this.startLineNumber,t.startLineNumber),i=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(n<=i)return new e(n,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new _Y(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new _Y(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new q3(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class n6{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(0===e.length)return;const t=Q3(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),n=Z3(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===n)this._normalizedRanges.splice(t,0,e);else if(t===n-1){const n=this._normalizedRanges[t];this._normalizedRanges[t]=n.join(e)}else{const i=this._normalizedRanges[t].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(t,n-t,i)}}contains(e){const t=X3(this._normalizedRanges,(t=>t.startLineNumber<=e));return!!t&&t.endLineNumberExclusive>e}getUnion(e){if(0===this._normalizedRanges.length)return e;if(0===e._normalizedRanges.length)return this;const t=[];let n=0,i=0,o=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let r=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){const t=this._normalizedRanges[n],o=e._normalizedRanges[i];t.startLineNumber<o.startLineNumber?(r=t,n++):(r=o,i++)}else n<this._normalizedRanges.length?(r=this._normalizedRanges[n],n++):(r=e._normalizedRanges[i],i++);null===o?o=r:o.endLineNumberExclusive>=r.startLineNumber?o=new t6(o.startLineNumber,Math.max(o.endLineNumberExclusive,r.endLineNumberExclusive)):(t.push(o),o=r)}return null!==o&&t.push(o),new n6(t)}subtractFrom(e){const t=Q3(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),n=Z3(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===n)return new n6([e]);const i=[];let o=e.startLineNumber;for(let r=t;r<n;r++){const e=this._normalizedRanges[r];e.startLineNumber>o&&i.push(new t6(o,e.startLineNumber)),o=e.endLineNumberExclusive}return o<e.endLineNumberExclusive&&i.push(new t6(o,e.endLineNumberExclusive)),new n6(i)}toString(){return this._normalizedRanges.map((e=>e.toString())).join(", ")}getIntersection(e){const t=[];let n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){const o=this._normalizedRanges[n],r=e._normalizedRanges[i],s=o.intersect(r);s&&!s.isEmpty&&t.push(s),o.endLineNumberExclusive<r.endLineNumberExclusive?n++:i++}return new n6(t)}getWithDelta(e){return new n6(this._normalizedRanges.map((t=>t.delta(e))))}}class i6{static inverse(e,t,n){const i=[];let o=1,r=1;for(const a of e){const e=new o6(new t6(o,a.original.startLineNumber),new t6(r,a.modified.startLineNumber),void 0);e.modified.isEmpty||i.push(e),o=a.original.endLineNumberExclusive,r=a.modified.endLineNumberExclusive}const s=new o6(new t6(o,t+1),new t6(r,n+1),void 0);return s.modified.isEmpty||i.push(s),i}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new i6(this.modified,this.original)}join(e){return new i6(this.original.join(e.original),this.modified.join(e.modified))}}class o6 extends i6{constructor(e,t,n){super(e,t),this.innerChanges=n}flip(){var e;return new o6(this.modified,this.original,null===(e=this.innerChanges)||void 0===e?void 0:e.map((e=>e.flip())))}}class r6{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new r6(this.modifiedRange,this.originalRange)}}class s6{computeDiff(e,t,n){var i;const o=new d6(e,t,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),r=[];let s=null;for(const a of o.changes){let e,t;e=0===a.originalEndLineNumber?new t6(a.originalStartLineNumber+1,a.originalStartLineNumber+1):new t6(a.originalStartLineNumber,a.originalEndLineNumber+1),t=0===a.modifiedEndLineNumber?new t6(a.modifiedStartLineNumber+1,a.modifiedStartLineNumber+1):new t6(a.modifiedStartLineNumber,a.modifiedEndLineNumber+1);let n=new o6(e,t,null===(i=a.charChanges)||void 0===i?void 0:i.map((e=>new r6(new _Y(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),new _Y(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)))));s&&(s.modified.endLineNumberExclusive!==n.modified.startLineNumber&&s.original.endLineNumberExclusive!==n.original.startLineNumber||(n=new o6(s.original.join(n.original),s.modified.join(n.modified),s.innerChanges&&n.innerChanges?s.innerChanges.concat(n.innerChanges):void 0),r.pop())),r.push(n),s=n}return qJ((()=>GJ(r,((e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive==t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber)))),new U3(r,[],o.quitEarly)}}function a6(e,t,n,i){return new u3(e,t,n).ComputeDiff(i)}let l6=class{constructor(e){const t=[],n=[];for(let i=0,o=e.length;i<o;i++)t[i]=g6(e[i],1),n[i]=f6(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const i=[],o=[],r=[];let s=0;for(let a=t;a<=n;a++){const t=this.lines[a],l=e?this._startColumns[a]:1,c=e?this._endColumns[a]:t.length+1;for(let e=l;e<c;e++)i[s]=t.charCodeAt(e-1),o[s]=a+1,r[s]=e,s++;!e&&a<n&&(i[s]=10,o[s]=a+1,r[s]=t.length+1,s++)}return new c6(i,o,r)}};class c6{constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}toString(){return"["+this._charCodes.map(((e,t)=>(10===e?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`)).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return-1===e?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),10===this._charCodes[e]?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return-1===e?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),10===this._charCodes[e]?1:this._columns[e]+1)}}class u6{constructor(e,t,n,i,o,r,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,n){const i=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1),a=n.getStartLineNumber(e.modifiedStart),l=n.getStartColumn(e.modifiedStart),c=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=n.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new u6(i,o,r,s,a,l,c,u)}}class h6{constructor(e,t,n,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=o}static createFromDiffResult(e,t,n,i,o,r,s){let a,l,c,u,h;if(0===t.originalLength?(a=n.getStartLineNumber(t.originalStart)-1,l=0):(a=n.getStartLineNumber(t.originalStart),l=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(c=i.getStartLineNumber(t.modifiedStart)-1,u=0):(c=i.getStartLineNumber(t.modifiedStart),u=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const r=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=i.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(r.getElements().length>0&&a.getElements().length>0){let e=a6(r,a,o,!0).changes;s&&(e=function(e){if(e.length<=1)return e;const t=[e[0]];let n=t[0];for(let i=1,o=e.length;i<o;i++){const o=e[i],r=o.originalStart-(n.originalStart+n.originalLength),s=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(r,s)<3?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(t.push(o),n=o)}return t}(e)),h=[];for(let t=0,n=e.length;t<n;t++)h.push(u6.createFromDiffChange(e[t],r,a))}}return new h6(a,l,c,u,h)}}class d6{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new l6(e),this.modified=new l6(t),this.continueLineDiff=p6(n.maxComputationTime),this.continueCharDiff=p6(0===n.maxComputationTime?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=a6(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(h6.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[n],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:e}}const i=[];let o=0,r=0;for(let s=-1,a=t.length;s<a;s++){const e=s+1<a?t[s+1]:null,n=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<n&&r<l;){const e=this.originalLines[o],t=this.modifiedLines[r];if(e!==t){{let n=g6(e,1),s=g6(t,1);for(;n>1&&s>1;){if(e.charCodeAt(n-2)!==t.charCodeAt(s-2))break;n--,s--}(n>1||s>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,n,r+1,1,s)}{let n=f6(e,1),s=f6(t,1);const a=e.length+1,l=t.length+1;for(;n<a&&s<l;){if(e.charCodeAt(n-1)!==e.charCodeAt(s-1))break;n++,s++}(n<a||s<l)&&this._pushTrimWhitespaceCharChange(i,o+1,n,a,r+1,s,l)}}o++,r++}e&&(i.push(h6.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,r+=e.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(e,t,n,i,o,r,s){if(this._mergeTrimWhitespaceCharChange(e,t,n,i,o,r,s))return;let a;this.shouldComputeCharChanges&&(a=[new u6(t,n,t,i,o,r,o,s)]),e.push(new h6(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,n,i,o,r,s){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber===t&&l.modifiedEndLineNumber===o?(this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new u6(t,n,t,i,o,r,o,s)),!0):l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new u6(t,n,t,i,o,r,o,s)),!0))}}function g6(e,t){const n=CZ(e);return-1===n?t:n+1}function f6(e,t){const n=xZ(e);return-1===n?t:n+2}function p6(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}class m6{static trivial(e,t){return new m6([new v6(q3.ofLength(e.length),q3.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new m6([new v6(q3.ofLength(e.length),q3.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class v6{static invert(e,t){const n=[];return vU(e,((e,i)=>{n.push(v6.fromOffsetPairs(e?e.getEndExclusives():b6.zero,i?i.getStarts():new b6(t,(e?e.seq2Range.endExclusive-e.seq1Range.endExclusive:0)+t)))})),n}static fromOffsetPairs(e,t){return new v6(new q3(e.offset1,t.offset1),new q3(e.offset2,t.offset2))}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new v6(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new v6(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return 0===e?this:new v6(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return 0===e?this:new v6(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return 0===e?this:new v6(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),n=this.seq2Range.intersect(e.seq2Range);if(t&&n)return new v6(t,n)}getStarts(){return new b6(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new b6(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class b6{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}}b6.zero=new b6(0,0),b6.max=new b6(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class _6{isValid(){return!0}}_6.instance=new _6;class y6{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new $q("timeout must be positive")}isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}}class w6{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,n){this.array[e+t*this.width]=n}}function C6(e){return 32===e||9===e}class S6{static getKey(e){let t=this.chrKeys.get(e);return void 0===t&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,n){this.range=e,this.lines=t,this.source=n,this.histogram=[];let i=0;for(let o=e.startLineNumber-1;o<e.endLineNumberExclusive-1;o++){const e=t[o];for(let t=0;t<e.length;t++){i++;const n=e[t],o=S6.getKey(n);this.histogram[o]=(this.histogram[o]||0)+1}i++;const n=S6.getKey("\n");this.histogram[n]=(this.histogram[n]||0)+1}this.totalCount=i}computeSimilarity(e){var t,n;let i=0;const o=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<o;r++)i+=Math.abs((null!==(t=this.histogram[r])&&void 0!==t?t:0)-(null!==(n=e.histogram[r])&&void 0!==n?n:0));return 1-i/(this.totalCount+e.totalCount)}}S6.chrKeys=new Map;class x6{compute(e,t,n=_6.instance,i){if(0===e.length||0===t.length)return m6.trivial(e,t);const o=new w6(e.length,t.length),r=new w6(e.length,t.length),s=new w6(e.length,t.length);for(let g=0;g<e.length;g++)for(let a=0;a<t.length;a++){if(!n.isValid())return m6.trivialTimedOut(e,t);const l=0===g?0:o.get(g-1,a),c=0===a?0:o.get(g,a-1);let u;e.getElement(g)===t.getElement(a)?(u=0===g||0===a?0:o.get(g-1,a-1),g>0&&a>0&&3===r.get(g-1,a-1)&&(u+=s.get(g-1,a-1)),u+=i?i(g,a):1):u=-1;const h=Math.max(l,c,u);if(h===u){const e=g>0&&a>0?s.get(g-1,a-1):0;s.set(g,a,e+1),r.set(g,a,3)}else h===l?(s.set(g,a,0),r.set(g,a,1)):h===c&&(s.set(g,a,0),r.set(g,a,2));o.set(g,a,h)}const a=[];let l=e.length,c=t.length;function u(e,t){e+1===l&&t+1===c||a.push(new v6(new q3(e+1,l),new q3(t+1,c))),l=e,c=t}let h=e.length-1,d=t.length-1;for(;h>=0&&d>=0;)3===r.get(h,d)?(u(h,d),h--,d--):1===r.get(h,d)?h--:d--;return u(-1,-1),a.reverse(),new m6(a,!1)}}class k6{compute(e,t,n=_6.instance){if(0===e.length||0===t.length)return m6.trivial(e,t);const i=e,o=t;function r(e,t){for(;e<i.length&&t<o.length&&i.getElement(e)===o.getElement(t);)e++,t++;return e}let s=0;const a=new D6;a.set(0,r(0,0));const l=new E6;l.set(0,0===a.get(0)?null:new L6(null,0,0,a.get(0)));let c=0;e:for(;;){if(s++,!n.isValid())return m6.trivialTimedOut(i,o);const e=-Math.min(s,o.length+s%2),t=Math.min(s,i.length+s%2);for(c=e;c<=t;c+=2){const n=c===t?-1:a.get(c+1),s=c===e?-1:a.get(c-1)+1,u=Math.min(Math.max(n,s),i.length),h=u-c;if(u>i.length||h>o.length)continue;const d=r(u,h);a.set(c,d);const g=u===n?l.get(c+1):l.get(c-1);if(l.set(c,d!==u?new L6(g,u,h,d-u):g),a.get(c)===i.length&&a.get(c)-c===o.length)break e}}let u=l.get(c);const h=[];let d=i.length,g=o.length;for(;;){const e=u?u.x+u.length:0,t=u?u.y+u.length:0;if(e===d&&t===g||h.push(new v6(new q3(e,d),new q3(t,g))),!u)break;d=u.x,g=u.y,u=u.prev}return h.reverse(),new m6(h,!1)}}class L6{constructor(e,t,n,i){this.prev=e,this.x=t,this.y=n,this.length=i}}class D6{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if((e=-e-1)>=this.negativeArr.length){const e=this.negativeArr;this.negativeArr=new Int32Array(2*e.length),this.negativeArr.set(e)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const e=this.positiveArr;this.positiveArr=new Int32Array(2*e.length),this.positiveArr.set(e)}this.positiveArr[e]=t}}}class E6{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var N6,T6;class I6{constructor(e,t){this.uri=e,this.value=t}}class M6{constructor(e,t){if(this[N6]="ResourceMap",e instanceof M6)this.map=new Map(e.map),this.toKey=null!=t?t:M6.defaultToKey;else if(function(e){return Array.isArray(e)}(e)){this.map=new Map,this.toKey=null!=t?t:M6.defaultToKey;for(const[t,n]of e)this.set(t,n)}else this.map=new Map,this.toKey=null!=e?e:M6.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new I6(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(const[n,i]of this.map)e(i.value,i.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(N6=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}M6.defaultToKey=e=>e.toString();class R6{constructor(){this[T6]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(n)return 0!==t&&this.touch(n,t),n.value}set(e,t,n=0){let i=this._map.get(e);if(i)i.value=t,0!==n&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case 0:case 2:default:this.addItemLast(i);break;case 1:this.addItemFirst(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}values(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}entries(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}[(T6=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}class A6 extends R6{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class O6{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,n]of e)this.set(t,n)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return void 0!==t&&(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class P6{constructor(){this.map=new Map}add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){const n=this.map.get(e);n&&(n.delete(t),0===n.size&&this.map.delete(e))}forEach(e,t){const n=this.map.get(e);n&&n.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class F6{constructor(e,t,n){this.lines=e,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let i=!1;t.start>0&&t.endExclusive>=e.length&&(t=new q3(t.start-1,t.endExclusive),i=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let o=this.lineRange.start;o<this.lineRange.endExclusive;o++){let t=e[o],r=0;if(i)r=t.length,t="",i=!1;else if(!n){const e=t.trimStart();r=t.length-e.length,t=e.trimEnd()}this.additionalOffsetByLine.push(r);for(let e=0;e<t.length;e++)this.elements.push(t.charCodeAt(e));o<e.length-1&&(this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLine[o-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new q3(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map((e=>String.fromCharCode(e))).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=W6(e>0?this.elements[e-1]:-1),n=W6(e<this.elements.length?this.elements[e]:-1);if(6===t&&7===n)return 0;let i=0;return t!==n&&(i+=10,0===t&&1===n&&(i+=1)),i+=V6(t),i+=V6(n),i}translateOffset(e){if(this.lineRange.isEmpty)return new bY(this.lineRange.start+1,1);const t=Z3(this.firstCharOffsetByLine,(t=>t<=e));return new bY(this.lineRange.start+t+1,e-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(e){return _Y.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length)return;if(!B6(this.elements[e]))return;let t=e;for(;t>0&&B6(this.elements[t-1]);)t--;let n=e;for(;n<this.elements.length&&B6(this.elements[n]);)n++;return new q3(t,n)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){var t,n;const i=null!==(t=X3(this.firstCharOffsetByLine,(t=>t<=e.start)))&&void 0!==t?t:0,o=null!==(n=function(e,t){const n=Q3(e,t);return n===e.length?void 0:e[n]}(this.firstCharOffsetByLine,(t=>e.endExclusive<=t)))&&void 0!==n?n:this.elements.length;return new q3(i,o)}}function B6(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}const z6={0:0,1:0,2:0,3:10,4:2,5:3,6:10,7:10};function V6(e){return z6[e]}function W6(e){return 10===e?7:13===e?6:C6(e)?5:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:-1===e?3:4}function H6(e,t,n,i,o,r){let{moves:s,excludedChanges:a}=function(e,t,n,i){const o=[],r=e.filter((e=>e.modified.isEmpty&&e.original.length>=3)).map((e=>new S6(e.original,t,e))),s=new Set(e.filter((e=>e.original.isEmpty&&e.modified.length>=3)).map((e=>new S6(e.modified,n,e)))),a=new Set;for(const l of r){let e,t=-1;for(const n of s){const i=l.computeSimilarity(n);i>t&&(t=i,e=n)}if(t>.9&&e&&(s.delete(e),o.push(new i6(l.range,e.range)),a.add(l.source),a.add(e.source)),!i.isValid())return{moves:o,excludedChanges:a}}return{moves:o,excludedChanges:a}}(e,t,n,r);if(!r.isValid())return[];const l=function(e,t,n,i,o,r){const s=[],a=new P6;for(const d of e)for(let e=d.original.startLineNumber;e<d.original.endLineNumberExclusive-2;e++){const n=`${t[e-1]}:${t[e+1-1]}:${t[e+2-1]}`;a.add(n,{range:new t6(e,e+3)})}const l=[];e.sort(TU((e=>e.modified.startLineNumber),IU));for(const d of e){let e=[];for(let t=d.modified.startLineNumber;t<d.modified.endLineNumberExclusive-2;t++){const i=`${n[t-1]}:${n[t+1-1]}:${n[t+2-1]}`,o=new t6(t,t+3),r=[];a.forEach(i,(({range:t})=>{for(const i of e)if(i.originalLineRange.endLineNumberExclusive+1===t.endLineNumberExclusive&&i.modifiedLineRange.endLineNumberExclusive+1===o.endLineNumberExclusive)return i.originalLineRange=new t6(i.originalLineRange.startLineNumber,t.endLineNumberExclusive),i.modifiedLineRange=new t6(i.modifiedLineRange.startLineNumber,o.endLineNumberExclusive),void r.push(i);const n={modifiedLineRange:o,originalLineRange:t};l.push(n),r.push(n)})),e=r}if(!r.isValid())return[]}l.sort(RU(TU((e=>e.modifiedLineRange.length),IU)));const c=new n6,u=new n6;for(const d of l){const e=d.modifiedLineRange.startLineNumber-d.originalLineRange.startLineNumber,t=c.subtractFrom(d.modifiedLineRange),n=u.subtractFrom(d.originalLineRange).getWithDelta(e),i=t.getIntersection(n);for(const o of i.ranges){if(o.length<3)continue;const t=o,n=o.delta(-e);s.push(new i6(n,t)),c.addRange(t),u.addRange(n)}}s.sort(TU((e=>e.original.startLineNumber),IU));const h=new J3(e);for(let d=0;d<s.length;d++){const t=s[d],n=h.findLastMonotonous((e=>e.original.startLineNumber<=t.original.startLineNumber)),a=X3(e,(e=>e.modified.startLineNumber<=t.modified.startLineNumber)),l=Math.max(t.original.startLineNumber-n.original.startLineNumber,t.modified.startLineNumber-a.modified.startLineNumber),g=h.findLastMonotonous((e=>e.original.startLineNumber<t.original.endLineNumberExclusive)),f=X3(e,(e=>e.modified.startLineNumber<t.modified.endLineNumberExclusive)),p=Math.max(g.original.endLineNumberExclusive-t.original.endLineNumberExclusive,f.modified.endLineNumberExclusive-t.modified.endLineNumberExclusive);let m,v;for(m=0;m<l;m++){const e=t.original.startLineNumber-m-1,n=t.modified.startLineNumber-m-1;if(e>i.length||n>o.length)break;if(c.contains(n)||u.contains(e))break;if(!$6(i[e-1],o[n-1],r))break}for(m>0&&(u.addRange(new t6(t.original.startLineNumber-m,t.original.startLineNumber)),c.addRange(new t6(t.modified.startLineNumber-m,t.modified.startLineNumber))),v=0;v<p;v++){const e=t.original.endLineNumberExclusive+v,n=t.modified.endLineNumberExclusive+v;if(e>i.length||n>o.length)break;if(c.contains(n)||u.contains(e))break;if(!$6(i[e-1],o[n-1],r))break}v>0&&(u.addRange(new t6(t.original.endLineNumberExclusive,t.original.endLineNumberExclusive+v)),c.addRange(new t6(t.modified.endLineNumberExclusive,t.modified.endLineNumberExclusive+v))),(m>0||v>0)&&(s[d]=new i6(new t6(t.original.startLineNumber-m,t.original.endLineNumberExclusive+v),new t6(t.modified.startLineNumber-m,t.modified.endLineNumberExclusive+v)))}return s}(e.filter((e=>!a.has(e))),i,o,t,n,r);return kU(s,l),s=function(e){if(0===e.length)return e;e.sort(TU((e=>e.original.startLineNumber),IU));const t=[e[0]];for(let n=1;n<e.length;n++){const i=t[t.length-1],o=e[n],r=o.original.startLineNumber-i.original.endLineNumberExclusive,s=o.modified.startLineNumber-i.modified.endLineNumberExclusive;r>=0&&s>=0&&r+s<=2?t[t.length-1]=i.join(o):t.push(o)}return t}(s),s=s.filter((e=>e.original.toOffsetRange().slice(t).map((e=>e.trim())).join("\n").length>=10)),s=function(e,t){const n=new J3(e);return t=t.filter((t=>(n.findLastMonotonous((e=>e.original.endLineNumberExclusive<t.original.endLineNumberExclusive))||new i6(new t6(1,1),new t6(1,1)))!==X3(e,(e=>e.modified.endLineNumberExclusive<t.modified.endLineNumberExclusive)))),t}(e,s),s}function $6(e,t,n){if(e.trim()===t.trim())return!0;if(e.length>300&&t.length>300)return!1;const i=(new k6).compute(new F6([e],new q3(0,1),!1),new F6([t],new q3(0,1),!1),n);let o=0;const r=v6.invert(i.diffs,e.length);for(const a of r)a.seq1Range.forEach((t=>{C6(e.charCodeAt(t))||o++}));const s=function(t){let n=0;for(let i=0;i<e.length;i++)C6(t.charCodeAt(i))||n++;return n}(e.length>t.length?e:t);return o/s>.6&&s>10}function j6(e,t,n){let i=n;return i=function(e,t,n){if(0===n.length)return n;const i=[];i.push(n[0]);for(let r=1;r<n.length;r++){const o=i[i.length-1];let s=n[r];if(s.seq1Range.isEmpty||s.seq2Range.isEmpty){const n=s.seq1Range.start-o.seq1Range.endExclusive;let r;for(r=1;r<=n&&(e.getElement(s.seq1Range.start-r)===e.getElement(s.seq1Range.endExclusive-r)&&t.getElement(s.seq2Range.start-r)===t.getElement(s.seq2Range.endExclusive-r));r++);if(r--,r===n){i[i.length-1]=new v6(new q3(o.seq1Range.start,s.seq1Range.endExclusive-n),new q3(o.seq2Range.start,s.seq2Range.endExclusive-n));continue}s=s.delta(-r)}i.push(s)}const o=[];for(let r=0;r<i.length-1;r++){const n=i[r+1];let s=i[r];if(s.seq1Range.isEmpty||s.seq2Range.isEmpty){const o=n.seq1Range.start-s.seq1Range.endExclusive;let a;for(a=0;a<o&&(e.isStronglyEqual(s.seq1Range.start+a,s.seq1Range.endExclusive+a)&&t.isStronglyEqual(s.seq2Range.start+a,s.seq2Range.endExclusive+a));a++);if(a===o){i[r+1]=new v6(new q3(s.seq1Range.start+o,n.seq1Range.endExclusive),new q3(s.seq2Range.start+o,n.seq2Range.endExclusive));continue}a>0&&(s=s.delta(a))}o.push(s)}i.length>0&&o.push(i[i.length-1]);return o}(e,t,i),i=function(e,t,n){if(!e.getBoundaryScore||!t.getBoundaryScore)return n;for(let i=0;i<n.length;i++){const o=i>0?n[i-1]:void 0,r=n[i],s=i+1<n.length?n[i+1]:void 0,a=new q3(o?o.seq1Range.start+1:0,s?s.seq1Range.endExclusive-1:e.length),l=new q3(o?o.seq2Range.start+1:0,s?s.seq2Range.endExclusive-1:t.length);r.seq1Range.isEmpty?n[i]=U6(r,e,t,a,l):r.seq2Range.isEmpty&&(n[i]=U6(r.swap(),t,e,l,a).swap())}return n}(e,t,i),i}function U6(e,t,n,i,o){let r=1;for(;e.seq1Range.start-r>=i.start&&e.seq2Range.start-r>=o.start&&n.isStronglyEqual(e.seq2Range.start-r,e.seq2Range.endExclusive-r)&&r<100;)r++;r--;let s=0;for(;e.seq1Range.start+s<i.endExclusive&&e.seq2Range.endExclusive+s<o.endExclusive&&n.isStronglyEqual(e.seq2Range.start+s,e.seq2Range.endExclusive+s)&&s<100;)s++;if(0===r&&0===s)return e;let a=0,l=-1;for(let c=-r;c<=s;c++){const i=e.seq2Range.start+c,o=e.seq2Range.endExclusive+c,r=e.seq1Range.start+c,s=t.getBoundaryScore(r)+n.getBoundaryScore(i)+n.getBoundaryScore(o);s>l&&(l=s,a=c)}return e.delta(a)}class K6{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){return 1e3-((0===e?0:q6(this.lines[e-1]))+(e===this.lines.length?0:q6(this.lines[e])))}getText(e){return this.lines.slice(e.start,e.endExclusive).join("\n")}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function q6(e){let t=0;for(;t<e.length&&(32===e.charCodeAt(t)||9===e.charCodeAt(t));)t++;return t}class G6{constructor(){this.dynamicProgrammingDiffing=new x6,this.myersDiffingAlgorithm=new k6}computeDiff(e,t,n){if(e.length<=1&&pU(e,t,((e,t)=>e===t)))return new U3([],[],!1);if(1===e.length&&0===e[0].length||1===t.length&&0===t[0].length)return new U3([new o6(new t6(1,e.length+1),new t6(1,t.length+1),[new r6(new _Y(1,1,e.length,e[0].length+1),new _Y(1,1,t.length,t[0].length+1))])],[],!1);const i=0===n.maxComputationTimeMs?_6.instance:new y6(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,r=new Map;function s(e){let t=r.get(e);return void 0===t&&(t=r.size,r.set(e,t)),t}const a=e.map((e=>s(e.trim()))),l=t.map((e=>s(e.trim()))),c=new K6(a,e),u=new K6(l,t),h=(()=>c.length+u.length<1700?this.dynamicProgrammingDiffing.compute(c,u,i,((n,i)=>e[n]===t[i]?0===t[i].length?.1:1+Math.log(1+t[i].length):.99)):this.myersDiffingAlgorithm.compute(c,u))();let d=h.diffs,g=h.hitTimeout;d=j6(c,u,d),d=function(e,t,n){let i=n;if(0===i.length)return i;let o,r=0;do{o=!1;const t=[i[0]];for(let n=1;n<i.length;n++){let r=function(t,n){const i=new q3(a.seq1Range.endExclusive,s.seq1Range.start);return e.getText(i).replace(/\s/g,"").length<=4&&(t.seq1Range.length+t.seq2Range.length>5||n.seq1Range.length+n.seq2Range.length>5)};const s=i[n],a=t[t.length-1];r(a,s)?(o=!0,t[t.length-1]=t[t.length-1].join(s)):t.push(s)}i=t}while(r++<10&&o);return i}(c,0,d);const f=[],p=n=>{if(o)for(let r=0;r<n;r++){const n=m+r,s=v+r;if(e[n]!==t[s]){const r=this.refineDiff(e,t,new v6(new q3(n,n+1),new q3(s,s+1)),i,o);for(const e of r.mappings)f.push(e);r.hitTimeout&&(g=!0)}}};let m=0,v=0;for(const y of d){qJ((()=>y.seq1Range.start-m==y.seq2Range.start-v));p(y.seq1Range.start-m),m=y.seq1Range.endExclusive,v=y.seq2Range.endExclusive;const n=this.refineDiff(e,t,y,i,o);n.hitTimeout&&(g=!0);for(const e of n.mappings)f.push(e)}p(e.length-m);const b=Y6(f,e,t);let _=[];return n.computeMoves&&(_=this.computeMoves(b,e,t,a,l,i,o)),qJ((()=>{function n(e,t){if(e.lineNumber<1||e.lineNumber>t.length)return!1;const n=t[e.lineNumber-1];return!(e.column<1||e.column>n.length+1)}function i(e,t){return!(e.startLineNumber<1||e.startLineNumber>t.length+1)&&!(e.endLineNumberExclusive<1||e.endLineNumberExclusive>t.length+1)}for(const o of b){if(!o.innerChanges)return!1;for(const i of o.innerChanges){if(!(n(i.modifiedRange.getStartPosition(),t)&&n(i.modifiedRange.getEndPosition(),t)&&n(i.originalRange.getStartPosition(),e)&&n(i.originalRange.getEndPosition(),e)))return!1}if(!i(o.modified,t)||!i(o.original,e))return!1}return!0})),new U3(b,_,g)}computeMoves(e,t,n,i,o,r,s){return H6(e,t,n,i,o,r).map((e=>{const i=Y6(this.refineDiff(t,n,new v6(e.original.toOffsetRange(),e.modified.toOffsetRange()),r,s).mappings,t,n,!0);return new K3(e,i)}))}refineDiff(e,t,n,i,o){const r=new F6(e,n.seq1Range,o),s=new F6(t,n.seq2Range,o),a=r.length+s.length<500?this.dynamicProgrammingDiffing.compute(r,s,i):this.myersDiffingAlgorithm.compute(r,s,i);let l=a.diffs;l=j6(r,s,l),l=function(e,t,n){const i=[];let o;function r(){if(!o)return;const e=o.s1Range.length-o.deleted;o.s2Range.length,o.added,Math.max(o.deleted,o.added)+(o.count-1)>e&&i.push(new v6(o.s1Range,o.s2Range)),o=void 0}for(const s of n){let n=function(e,t){var n,i,a,l;if(!o||!o.s1Range.containsRange(e)||!o.s2Range.containsRange(t))if(!o||o.s1Range.endExclusive<e.start&&o.s2Range.endExclusive<t.start)r(),o={added:0,deleted:0,count:0,s1Range:e,s2Range:t};else{const r=q3.tryCreate(o.s1Range.endExclusive,e.start),s=q3.tryCreate(o.s2Range.endExclusive,t.start);o.deleted+=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,o.added+=null!==(i=null==s?void 0:s.length)&&void 0!==i?i:0,o.s1Range=o.s1Range.join(e),o.s2Range=o.s2Range.join(t)}const c=e.intersect(s.seq1Range),u=t.intersect(s.seq2Range);o.count++,o.deleted+=null!==(a=null==c?void 0:c.length)&&void 0!==a?a:0,o.added+=null!==(l=null==u?void 0:u.length)&&void 0!==l?l:0};const i=e.findWordContaining(s.seq1Range.start-1),a=t.findWordContaining(s.seq2Range.start-1),l=e.findWordContaining(s.seq1Range.endExclusive),c=t.findWordContaining(s.seq2Range.endExclusive);i&&l&&a&&c&&i.equals(l)&&a.equals(c)?n(i,a):(i&&a&&n(i,a),l&&c&&n(l,c))}return r(),function(e,t){const n=[];for(;e.length>0||t.length>0;){const i=e[0],o=t[0];let r;r=i&&(!o||i.seq1Range.start<o.seq1Range.start)?e.shift():t.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=r.seq1Range.start?n[n.length-1]=n[n.length-1].join(r):n.push(r)}return n}(n,i)}(r,s,l),l=function(e,t,n){const i=[];for(const o of n){const e=i[i.length-1];e&&(o.seq1Range.start-e.seq1Range.endExclusive<=2||o.seq2Range.start-e.seq2Range.endExclusive<=2)?i[i.length-1]=new v6(e.seq1Range.join(o.seq1Range),e.seq2Range.join(o.seq2Range)):i.push(o)}return i}(0,0,l),l=function(e,t,n){let i=n;if(0===i.length)return i;let o,r=0;do{o=!1;const n=[i[0]];for(let r=1;r<i.length;r++){let s=function(n,i){const o=new q3(l.seq1Range.endExclusive,a.seq1Range.start);if(e.countLinesIn(o)>5||o.length>500)return!1;const r=e.getText(o).trim();if(r.length>20||r.split(/\r\n|\r|\n/).length>1)return!1;const s=e.countLinesIn(n.seq1Range),c=n.seq1Range.length,u=t.countLinesIn(n.seq2Range),h=n.seq2Range.length,d=e.countLinesIn(i.seq1Range),g=i.seq1Range.length,f=t.countLinesIn(i.seq2Range),p=i.seq2Range.length;function m(e){return Math.min(e,130)}return Math.pow(Math.pow(m(40*s+c),1.5)+Math.pow(m(40*u+h),1.5),1.5)+Math.pow(Math.pow(m(40*d+g),1.5)+Math.pow(m(40*f+p),1.5),1.5)>1.3*Math.pow(Math.pow(130,1.5),1.5)};const a=i[r],l=n[n.length-1];s(l,a)?(o=!0,n[n.length-1]=n[n.length-1].join(a)):n.push(a)}i=n}while(r++<10&&o);const s=[];return function(e,t){for(let n=0;n<e.length;n++)t(0===n?void 0:e[n-1],e[n],n+1===e.length?void 0:e[n+1])}(i,((t,n,i)=>{let o=n;function r(e){return e.length>0&&e.trim().length<=3&&n.seq1Range.length+n.seq2Range.length>100}const a=e.extendToFullLines(n.seq1Range),l=e.getText(new q3(a.start,n.seq1Range.start));r(l)&&(o=o.deltaStart(-l.length));const c=e.getText(new q3(n.seq1Range.endExclusive,a.endExclusive));r(c)&&(o=o.deltaEnd(c.length));const u=v6.fromOffsetPairs(t?t.getEndExclusives():b6.zero,i?i.getStarts():b6.max),h=o.intersect(u);s.push(h)})),s}(r,s,l);return{mappings:l.map((e=>new r6(r.translateRange(e.seq1Range),s.translateRange(e.seq2Range)))),hitTimeout:a.hitTimeout}}}function Y6(e,t,n,i=!1){const o=[];for(const r of mU(e.map((e=>function(e,t,n){let i=0,o=0;1===e.modifiedRange.endColumn&&1===e.originalRange.endColumn&&e.originalRange.startLineNumber+i<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+i<=e.modifiedRange.endLineNumber&&(o=-1);e.modifiedRange.startColumn-1>=n[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+o&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+o&&(i=1);const r=new t6(e.originalRange.startLineNumber+i,e.originalRange.endLineNumber+1+o),s=new t6(e.modifiedRange.startLineNumber+i,e.modifiedRange.endLineNumber+1+o);return new o6(r,s,[e])}(e,t,n))),((e,t)=>e.original.overlapOrTouch(t.original)||e.modified.overlapOrTouch(t.modified)))){const e=r[0],t=r[r.length-1];o.push(new o6(e.original.join(t.original),e.modified.join(t.modified),r.map((e=>e.innerChanges[0]))))}return qJ((()=>!(!i&&o.length>0&&o[0].original.startLineNumber!==o[0].modified.startLineNumber)&&GJ(o,((e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive==t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber)))),o}const X6=()=>new s6,Z6=()=>new G6;function Q6(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class J6{constructor(e,t,n,i=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,n)),this.a=Q6(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class e9{constructor(e,t,n,i){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=Q6(Math.max(Math.min(1,t),0),3),this.l=Q6(Math.max(Math.min(1,n),0),3),this.a=Q6(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,o=e.a,r=Math.max(t,n,i),s=Math.min(t,n,i);let a=0,l=0;const c=(s+r)/2,u=r-s;if(u>0){switch(l=Math.min(c<=.5?u/(2*c):u/(2-2*c),1),r){case t:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-t)/u+2;break;case i:a=(t-n)/u+4}a*=60,a=Math.round(a)}return new e9(a,l,c,o)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){const t=e.h/360,{s:n,l:i,a:o}=e;let r,s,a;if(0===n)r=s=a=i;else{const e=i<.5?i*(1+n):i+n-i*n,o=2*i-e;r=e9._hue2rgb(o,e,t+1/3),s=e9._hue2rgb(o,e,t),a=e9._hue2rgb(o,e,t-1/3)}return new J6(Math.round(255*r),Math.round(255*s),Math.round(255*a),o)}}class t9{constructor(e,t,n,i){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=Q6(Math.max(Math.min(1,t),0),3),this.v=Q6(Math.max(Math.min(1,n),0),3),this.a=Q6(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(t,n,i),r=o-Math.min(t,n,i),s=0===o?0:r/o;let a;return a=0===r?0:o===t?((n-i)/r%6+6)%6:o===n?(i-t)/r+2:(t-n)/r+4,new t9(Math.round(60*a),s,o,e.a)}static toRGBA(e){const{h:t,s:n,v:i,a:o}=e,r=i*n,s=r*(1-Math.abs(t/60%2-1)),a=i-r;let[l,c,u]=[0,0,0];return t<60?(l=r,c=s):t<120?(l=s,c=r):t<180?(c=r,u=s):t<240?(c=s,u=r):t<300?(l=s,u=r):t<=360&&(l=r,u=s),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),u=Math.round(255*(u+a)),new J6(l,c,u,o)}}class n9{static fromHex(e){return n9.Format.CSS.parseHex(e)||n9.red}static equals(e,t){return!e&&!t||!(!e||!t)&&e.equals(t)}get hsla(){return this._hsla?this._hsla:e9.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:t9.fromRGBA(this.rgba)}constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof J6)this.rgba=e;else if(e instanceof e9)this._hsla=e,this.rgba=e9.toRGBA(e);else{if(!(e instanceof t9))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=t9.toRGBA(e)}}equals(e){return!!e&&J6.equals(this.rgba,e.rgba)&&e9.equals(this.hsla,e.hsla)&&t9.equals(this.hsva,e.hsva)}getRelativeLuminance(){return Q6(.2126*n9._relativeLuminanceForComponent(this.rgba.r)+.7152*n9._relativeLuminanceForComponent(this.rgba.g)+.0722*n9._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new n9(new e9(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new n9(new e9(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:n,b:i,a:o}=this.rgba;return new n9(new J6(t,n,i,o*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new n9(new J6(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||1!==e.rgba.a)return this;const{r:t,g:n,b:i,a:o}=this.rgba;return new n9(new J6(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-n),e.rgba.b-o*(e.rgba.b-i),1))}toString(){return this._toString||(this._toString=n9.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;const i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(o-i)/o,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;const i=e.getRelativeLuminance();return n=n*(i-t.getRelativeLuminance())/i,e.darken(n)}}var i9,o9;function r9(e){const t=[];for(const n of e){const e=Number(n);(e||0===e&&""!==n.replace(/\s/g,""))&&t.push(e)}return t}function s9(e,t,n,i){return{red:e/255,blue:n/255,green:t/255,alpha:i}}function a9(e,t){const n=t.index,i=t[0].length;if(!n)return;const o=e.positionAt(n);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber,endColumn:o.column+i}}function l9(e,t){if(!e)return;const n=n9.Format.CSS.parseHex(t);return n?{range:e,color:s9(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}:void 0}function c9(e,t,n){if(!e||1!==t.length)return;const i=r9(t[0].values());return{range:e,color:s9(i[0],i[1],i[2],n?i[3]:1)}}function u9(e,t,n){if(!e||1!==t.length)return;const i=r9(t[0].values()),o=new n9(new e9(i[0],i[1]/100,i[2]/100,n?i[3]:1));return{range:e,color:s9(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function h9(e,t){return"string"==typeof e?[...e.matchAll(t)]:e.findMatches(t)}function d9(e){return e&&"function"==typeof e.getValue&&"function"==typeof e.positionAt?function(e){const t=[],n=h9(e,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(const i of n){const n=i.filter((e=>void 0!==e)),o=n[1],r=n[2];if(!r)continue;let s;if("rgb"===o){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;s=c9(a9(e,i),h9(r,t),!1)}else if("rgba"===o){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;s=c9(a9(e,i),h9(r,t),!0)}else if("hsl"===o){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;s=u9(a9(e,i),h9(r,t),!1)}else if("hsla"===o){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;s=u9(a9(e,i),h9(r,t),!0)}else"#"===o&&(s=l9(a9(e,i),o+r));s&&t.push(s)}return t}(e):[]}n9.white=new n9(new J6(255,255,255,1)),n9.black=new n9(new J6(0,0,0,1)),n9.red=new n9(new J6(255,0,0,1)),n9.blue=new n9(new J6(0,0,255,1)),n9.green=new n9(new J6(0,255,0,1)),n9.cyan=new n9(new J6(0,255,255,1)),n9.lightgrey=new n9(new J6(211,211,211,1)),n9.transparent=new n9(new J6(0,0,0,0)),i9=n9||(n9={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:i9.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:i9.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,n=!1){return n&&1===e.rgba.a?i9.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?i9.Format.CSS.formatHex(e):i9.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),o=16*n(e.charCodeAt(5))+n(e.charCodeAt(6));return new i9(new J6(t,i,o,1))}if(9===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),o=16*n(e.charCodeAt(5))+n(e.charCodeAt(6)),r=16*n(e.charCodeAt(7))+n(e.charCodeAt(8));return new i9(new J6(t,i,o,r/255))}if(4===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),o=n(e.charCodeAt(3));return new i9(new J6(16*t+t,16*i+i,16*o+o))}if(5===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),o=n(e.charCodeAt(3)),r=n(e.charCodeAt(4));return new i9(new J6(16*t+t,16*i+i,16*o+o,(16*r+r)/255))}return null}}((o9=i9.Format||(i9.Format={})).CSS||(o9.CSS={}));var g9=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class f9 extends m3{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let n=0;n<this._lines.length;n++){const i=this._lines[n],o=this.offsetAt(new bY(n+1,1)),r=i.matchAll(e);for(const e of r)(e.index||0===e.index)&&(e.index=e.index+o),t.push(e)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const n=KK(e.column,jK(t),this._lines[e.lineNumber-1],0);return n?new _Y(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let i=0,o="",r=0,s=[];return{*[Symbol.iterator](){for(;;)if(r<s.length){const e=o.substring(s[r].start,s[r].end);r+=1,yield e}else{if(!(i<t.length))break;o=t[i],s=n(o,e),r=0,i+=1}}}}getLineWords(e,t){const n=this._lines[e-1],i=this._wordenize(n,t),o=[];for(const r of i)o.push({word:n.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return o}_wordenize(e,t){const n=[];let i;for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,o=[];o.push(this._lines[n].substring(e.startColumn-1));for(let r=n+1;r<i;r++)o.push(this._lines[r]);return o.push(this._lines[i].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!bY.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{const e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0)}return i?{lineNumber:t,column:n}:e}}class p9{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new f9(aY.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,n){return g9(this,void 0,void 0,(function*(){const i=this._getModel(e);return i?H3.computeUnicodeHighlights(i,t,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}))}computeDiff(e,t,n,i){return g9(this,void 0,void 0,(function*(){const o=this._getModel(e),r=this._getModel(t);return o&&r?p9.computeDiff(o,r,n,i):null}))}static computeDiff(e,t,n,i){const o="advanced"===i?Z6():X6(),r=e.getLinesContent(),s=t.getLinesContent(),a=o.computeDiff(r,s,n);function l(e){return e.map((e=>{var t;return[e.original.startLineNumber,e.original.endLineNumberExclusive,e.modified.startLineNumber,e.modified.endLineNumberExclusive,null===(t=e.innerChanges)||void 0===t?void 0:t.map((e=>[e.originalRange.startLineNumber,e.originalRange.startColumn,e.originalRange.endLineNumber,e.originalRange.endColumn,e.modifiedRange.startLineNumber,e.modifiedRange.startColumn,e.modifiedRange.endLineNumber,e.modifiedRange.endColumn]))]}))}return{identical:!(a.changes.length>0)&&this._modelsAreIdentical(e,t),quitEarly:a.hitTimeout,changes:l(a.changes),moves:a.moves.map((e=>[e.lineRangeMapping.original.startLineNumber,e.lineRangeMapping.original.endLineNumberExclusive,e.lineRangeMapping.modified.startLineNumber,e.lineRangeMapping.modified.endLineNumberExclusive,l(e.changes)]))}}static _modelsAreIdentical(e,t){const n=e.getLineCount();if(n!==t.getLineCount())return!1;for(let i=1;i<=n;i++){if(e.getLineContent(i)!==t.getLineContent(i))return!1}return!0}computeMoreMinimalEdits(e,t,n){return g9(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const o=[];let r;t=t.slice(0).sort(((e,t)=>{if(e.range&&t.range)return _Y.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));let s=0;for(let e=1;e<t.length;e++)_Y.getEndPosition(t[s].range).equals(_Y.getStartPosition(t[e].range))?(t[s].range=_Y.fromPositions(_Y.getStartPosition(t[s].range),_Y.getEndPosition(t[e].range)),t[s].text+=t[e].text):(s++,t[s]=t[e]);t.length=s+1;for(let{range:e,text:a,eol:l}of t){if("number"==typeof l&&(r=l),_Y.isEmpty(e)&&!a)continue;const t=i.getValueInRange(e);if(a=a.replace(/\r\n|\n|\r/g,i.eol),t===a)continue;if(Math.max(a.length,t.length)>p9._diffLimit){o.push({range:e,text:a});continue}const s=s3(t,a,n),c=i.offsetAt(_Y.lift(e).getStartPosition());for(const e of s){const t=i.positionAt(c+e.originalStart),n=i.positionAt(c+e.originalStart+e.originalLength),r={text:a.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}};i.getValueInRange(r.range)!==r.text&&o.push(r)}}return"number"==typeof r&&o.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o}))}computeLinks(e){return g9(this,void 0,void 0,(function*(){const t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?C3.computeLinks(e):[]}(t):null}))}computeDefaultDocumentColors(e){return g9(this,void 0,void 0,(function*(){const t=this._getModel(e);return t?d9(t):null}))}textualSuggest(e,t,n,i){return g9(this,void 0,void 0,(function*(){const o=new eG,r=new RegExp(n,i),s=new Set;e:for(const n of e){const e=this._getModel(n);if(e)for(const n of e.words(r))if(n!==t&&isNaN(Number(n))&&(s.add(n),s.size>p9._suggestionsLimit))break e}return{words:Array.from(s),duration:o.elapsed()}}))}computeWordRanges(e,t,n,i){return g9(this,void 0,void 0,(function*(){const o=this._getModel(e);if(!o)return Object.create(null);const r=new RegExp(n,i),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){const t=o.getLineWords(e,r);for(const n of t){if(!isNaN(Number(n.word)))continue;let t=s[n.word];t||(t=[],s[n.word]=t),t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return s}))}navigateValueSet(e,t,n,i,o){return g9(this,void 0,void 0,(function*(){const r=this._getModel(e);if(!r)return null;const s=new RegExp(i,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;const c=r.getValueInRange(l);return S3.INSTANCE.navigateValueSet(t,a,l,c,n)}))}loadForeignModule(e,t,n){const i=function(e,t){const n=e=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)},i={};for(const o of e)i[o]=n(o);return i}(n,((e,t)=>this._host.fhr(e,t))),o={host:i,getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(eK(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(fTe){return Promise.reject(fTe)}}}p9._diffLimit=1e5,p9._suggestionsLimit=1e4,"function"==typeof importScripts&&(globalThis.monaco=hZ());const m9=OQ("textResourceConfigurationService"),v9=OQ("textResourcePropertiesService"),b9=OQ("ILanguageFeaturesService");var _9=function(e,t){return function(n,i){t(n,i,e)}},y9=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const w9=3e5;function C9(e,t){const n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let S9=class extends Yq{constructor(e,t,n,i,o){super(),this._modelService=e,this._workerManager=this._register(new k9(this._modelService,i)),this._logService=n,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>C9(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new x9(this._workerManager,t,this._modelService,i)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return C9(this._modelService,e)}computedUnicodeHighlights(e,t,n){return this._workerManager.withWorker().then((i=>i.computedUnicodeHighlights(e,t,n)))}computeDiff(e,t,n,i){return y9(this,void 0,void 0,(function*(){const o=yield this._workerManager.withWorker().then((o=>o.computeDiff(e,t,n,i)));if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:r(o.changes),moves:o.moves.map((e=>new K3(new i6(new t6(e[0],e[1]),new t6(e[2],e[3])),r(e[4]))))};function r(e){return e.map((e=>{var t;return new o6(new t6(e[0],e[1]),new t6(e[2],e[3]),null===(t=e[4])||void 0===t?void 0:t.map((e=>new r6(new _Y(e[0],e[1],e[2],e[3]),new _Y(e[4],e[5],e[6],e[7])))))}))}}))}computeMoreMinimalEdits(e,t,n=!1){if(bU(t)){if(!C9(this._modelService,e))return Promise.resolve(t);const i=eG.create(),o=this._workerManager.withWorker().then((i=>i.computeMoreMinimalEdits(e,t,n)));return o.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed()))),Promise.race([o,Q2(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return C9(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then((i=>i.navigateValueSet(e,t,n)))}canComputeWordRanges(e){return C9(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((n=>n.computeWordRanges(e,t)))}};S9=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([_9(0,FQ),_9(1,m9),_9(2,c0),_9(3,z5),_9(4,b9)],S9);class x9{constructor(e,t,n,i){this.languageConfigurationService=i,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return y9(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)C9(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())C9(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||i.push(t.uri));if(0===i.length)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),s=r?new _Y(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):_Y.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),c=yield l.textualSuggest(i,null==r?void 0:r.word,o);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:s}})))}:void 0}))}}class k9 extends Yq{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();this._register(new t4).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>w9&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new N9(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class L9 extends Yq{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){const e=new t4;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)Uq(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){const e=n.toString();this._syncedModels[e]||this._beginModelSync(n,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>6e4&&t.push(n)}for(const n of t)this._stopModelSync(n)}_beginModelSync(e,t){const n=this._modelService.getModel(e);if(!n)return;if(!t&&n.isTooLargeForSyncing())return;const i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const o=new Gq;o.add(n.onDidChangeContent((e=>{this._proxy.acceptModelChanged(i.toString(),e)}))),o.add(n.onWillDispose((()=>{this._stopModelSync(i)}))),o.add(qq((()=>{this._proxy.acceptRemovedModel(i)}))),this._syncedModels[i]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Uq(t)}}class D9{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class E9{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class N9 extends Yq{constructor(e,t,n,i){super(),this.languageConfigurationService=i,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new S4(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new v4(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new E9(this)))}catch(e){u4(e),this._worker=new D9(new p9(new E9(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(u4(e),this._worker=new D9(new p9(new E9(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new L9(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return y9(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(function(){const e=new Error(Pq);return e.name=e.message,e}()):this._getProxy().then((n=>(this._getOrCreateModelManager(n).ensureSyncedResources(e,t),n)))}))}computedUnicodeHighlights(e,t,n){return this._withSyncedResources([e]).then((i=>i.computeUnicodeHighlights(e.toString(),t,n)))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),n,i)))}computeMoreMinimalEdits(e,t,n){return this._withSyncedResources([e]).then((i=>i.computeMoreMinimalEdits(e.toString(),t,n)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then((t=>t.computeDefaultDocumentColors(e.toString())))}textualSuggest(e,t,n){return y9(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),o=n.source,r=n.flags;return i.textualSuggest(e.map((e=>e.toString())),t,o,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((n=>{const i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),r=o.source,s=o.flags;return n.computeWordRanges(e.toString(),t,r,s)}))}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then((i=>{const o=this._modelService.getModel(e);if(!o)return null;const r=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),s=r.source,a=r.flags;return i.navigateValueSet(e.toString(),t,n,s,a)}))}dispose(){super.dispose(),this._disposed=!0}}class T9 extends N9{constructor(e,t,n){super(e,n.keepIdleModels||!1,n.label,t),this._foreignModuleId=n.moduleId,this._foreignModuleCreateData=n.createData||null,this._foreignModuleHost=n.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(fTe){return Promise.reject(fTe)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?eK(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)},o={};for(const e of t)o[e]=i(e,n);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}const I9={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},M9=new class{clone(){return this}equals(e){return this===e}};function R9(e,t){return new EY([new DY(0,"",e)],t)}function A9(e,t){const n=new Uint32Array(2);return n[0]=0,n[1]=(32768|e|2<<24)>>>0,new NY(n,null===t?M9:t)}class O9{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return!!(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e);const n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),8&n&&(t+=" mtks"),t}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),i=this.getFontStyle(e);let o=`color: ${t[n]};`;1&i&&(o+="font-style: italic;"),2&i&&(o+="font-weight: bold;");let r="";return 4&i&&(r+=" underline"),8&i&&(r+=" line-through"),r&&(o+=`text-decoration:${r};`),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}class P9{static createEmpty(e,t){const n=P9.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=n,new P9(i,e,t)}constructor(e,t,n){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=n}equals(e){return e instanceof P9&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const i=t<<1,o=i+(n<<1);for(let r=i;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],n=O9.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return O9.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return O9.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return O9.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[1+(e<<1)];return O9.getInlineStyleFromMetadata(n,t)}getPresentation(e){const t=this._tokens[1+(e<<1)];return O9.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return P9.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new F9(this,e,t,n)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let i=0;i<n;i++)e[i<<1]=e[i+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){const o=n+Math.floor((i-n)/2),r=e[o<<1];if(r===t)return o+1;r<t?n=o+1:r>t&&(i=o)}return n}withInserted(e){if(0===e.length)return this;let t=0,n=0,i="";const o=new Array;let r=0;for(;;){const s=t<this._tokensCount?this._tokens[t<<1]:-1,a=n<e.length?e[n]:null;if(-1!==s&&(null===a||s<=a.offset)){i+=this._text.substring(r,s);const e=this._tokens[1+(t<<1)];o.push(i.length,e),t++,r=s}else{if(!a)break;if(a.offset>r){i+=this._text.substring(r,a.offset);const e=this._tokens[1+(t<<1)];o.push(i.length,e),r=a.offset}i+=a.text,o.push(i.length,a.tokenMetadata),n++}}return new P9(new Uint32Array(o),i,this._languageIdCodec)}}P9.defaultTokenMetadata=33587200;class F9{constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,r=e.getCount();o<r;o++){if(e.getStartOffset(o)>=n)break;this._tokensCount++}}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof F9&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class B9{constructor(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!B9._equals(e[i],t[i]))return!1;return!0}static extractWrapped(e,t,n){if(0===e.length)return e;const i=t+1,o=n+1,r=n-t,s=[];let a=0;for(const l of e)l.endColumn<=i||l.startColumn>=o||(s[a++]=new B9(Math.max(1,l.startColumn-i+1),Math.min(r+1,l.endColumn-i+1),l.className,l.type));return s}static filter(e,t,n,i){if(0===e.length)return[];const o=[];let r=0;for(let s=0,a=e.length;s<a;s++){const a=e[s],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===t?l.startColumn:n,u=l.endLineNumber===t?l.endColumn:i;o[r++]=new B9(c,u,a.inlineClassName,a.type)}return o}static _typeCompare(e,t){const n=[2,0,1,3];return n[e]-n[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const n=B9._typeCompare(e.type,t.type);return 0!==n?n:e.className!==t.className?e.className<t.className?-1:1:0}}class z9{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.className=n,this.metadata=i}}class V9{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let n=0,i=e.length;n<i;n++)t|=e[n];return t}consumeLowerThan(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;n.push(new z9(t,this.stopOffsets[e],this.classNames.join(" "),V9._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(n.push(new z9(t,e-1,this.classNames.join(" "),V9._metadata(this.metadata))),t=e),t}insert(e,t,n){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t),this.metadata.splice(i,0,n);break}this.count++}}class W9{static normalize(e,t){if(0===t.length)return[];const n=[],i=new V9;let o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];let a=s.startColumn,l=s.endColumn;const c=s.className,u=1===s.type?2:2===s.type?4:0;if(a>1){PZ(e.charCodeAt(a-2))&&a--}if(l>1){PZ(e.charCodeAt(l-2))&&l--}const h=a-1,d=l-2;o=i.consumeLowerThan(h,o,n),0===i.count&&(o=h),i.insert(d,c,u)}return i.consumeLowerThan(1073741824,o,n),n}}class H9{constructor(e,t,n,i){this.endIndex=e,this.type=t,this.metadata=n,this.containsRTL=i,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class $9{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class j9{constructor(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f,p,m,v,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l.sort(B9.compare),this.tabSize=c,this.startVisibleColumn=u,this.spaceWidth=h,this.stopRenderingLineAfter=f,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=m,this.fontLigatures=v,this.selectionsOnLine=b&&b.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(g-h)<Math.abs(d-h)?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=d,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&B9.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class U9{constructor(e,t){this.partIndex=e,this.charIndex=t}}class K9{static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,n,i){const o=(t<<16|n)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=i}getHorizontalOffset(e){return 0===this._horizontalOffset.length?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),n=K9.getPartIndex(t),i=K9.getCharIndex(t);return new U9(n,i)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,n){if(0===this.length)return 0;const i=(e<<16|n)>>>0;let o=0,r=this.length-1;for(;o+1<r;){const e=o+r>>>1,t=this._data[e];if(t===i)return e;t>i?r=e:o=e}if(o===r)return o;const s=this._data[o],a=this._data[r];if(s===i)return o;if(a===i)return r;const l=K9.getPartIndex(s),c=K9.getCharIndex(s);let u;u=l!==K9.getPartIndex(a)?t:K9.getCharIndex(a);return n-c<=u-n?o:r}}class q9{constructor(e,t,n){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}function G9(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendString("<span>");let n=0,i=0,o=0;for(const s of e.lineDecorations)1!==s.type&&2!==s.type||(t.appendString('<span class="'),t.appendString(s.className),t.appendString('"></span>'),1===s.type&&(o|=1,n++),2===s.type&&(o|=2,i++));t.appendString("</span>");const r=new K9(1,n+i);return r.setColumnInfo(1,n,0,0),new q9(r,!1,o)}return t.appendString("<span><span></span></span>"),new q9(new K9(0,0),!1,0)}return function(e,t){const n=e.fontIsMonospace,i=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,r=e.lineContent,s=e.len,a=e.isOverflowing,l=e.overflowingCharCount,c=e.parts,u=e.fauxIndentLength,h=e.tabSize,d=e.startVisibleColumn,g=e.containsRTL,f=e.spaceWidth,p=e.renderSpaceCharCode,m=e.renderWhitespace,v=e.renderControlCharacters,b=new K9(s+1,c.length);let _=!1,y=0,w=d,C=0,S=0,x=0;g?t.appendString('<span dir="ltr">'):t.appendString("<span>");for(let k=0,L=c.length;k<L;k++){const e=c[k],a=e.endIndex,l=e.type,d=e.containsRTL,g=0!==m&&e.isWhitespace(),L=g&&!n&&("mtkw"===l||!o),D=y===a&&e.isPseudoAfter();if(C=0,t.appendString("<span "),d&&t.appendString('style="unicode-bidi:isolate" '),t.appendString('class="'),t.appendString(L?"mtkz":l),t.appendASCIICharCode(34),g){let e=0;{let t=y,n=w;for(;t<a;t++){const i=0|(9===r.charCodeAt(t)?h-n%h:1);e+=i,t>=u&&(n+=i)}}for(L&&(t.appendString(' style="width:'),t.appendString(String(f*e)),t.appendString('px"')),t.appendASCIICharCode(62);y<a;y++){b.setColumnInfo(y+1,k-x,C,S),x=0;let e,n;if(9===r.charCodeAt(y)){e=h-w%h|0,n=e,!i||n>1?t.appendCharCode(8594):t.appendCharCode(65515);for(let e=2;e<=n;e++)t.appendCharCode(160)}else e=2,n=1,t.appendCharCode(p),t.appendCharCode(8204);C+=e,S+=n,y>=u&&(w+=n)}}else for(t.appendASCIICharCode(62);y<a;y++){b.setColumnInfo(y+1,k-x,C,S),x=0;const e=r.charCodeAt(y);let n=1,i=1;switch(e){case 9:n=h-w%h,i=n;for(let e=1;e<=n;e++)t.appendCharCode(160);break;case 32:t.appendCharCode(160);break;case 60:t.appendString("&lt;");break;case 62:t.appendString("&gt;");break;case 38:t.appendString("&amp;");break;case 0:v?t.appendCharCode(9216):t.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.appendCharCode(65533);break;default:XZ(e)&&i++,v&&e<32?t.appendCharCode(9216+e):v&&127===e?t.appendCharCode(9249):v&&Q9(e)?(t.appendString("[U+"),t.appendString(J9(e)),t.appendString("]"),n=8,i=n):t.appendCharCode(e)}C+=n,S+=i,y>=u&&(w+=i)}D?x++:x=0,y>=s&&!_&&e.isPseudoAfter()&&(_=!0,b.setColumnInfo(y+1,k,C,S)),t.appendString("</span>")}_||b.setColumnInfo(s+1,c.length-1,C,S);a&&(t.appendString('<span class="mtkoverflow">'),t.appendString(nK(0,"Show more ({0})",function(e){if(e<1024)return nK(0,"{0} chars",e);if(e<1048576)return`${(e/1024).toFixed(1)} KB`;return`${(e/1024/1024).toFixed(1)} MB`}(l))),t.appendString("</span>"));return t.appendString("</span>"),new q9(b,g,o)}(function(e){const t=e.lineContent;let n,i,o;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(n=!0,i=t.length-e.stopRenderingLineAfter,o=e.stopRenderingLineAfter):(n=!1,i=0,o=t.length);let r=function(e,t,n,i,o){const r=[];let s=0;i>0&&(r[s++]=new H9(i,"",0,!1));let a=i;for(let l=0,c=n.getCount();l<c;l++){const c=n.getEndOffset(l);if(c<=i)continue;const u=n.getClassName(l);if(c>=o){const n=!!t&&UZ(e.substring(a,o));r[s++]=new H9(o,u,0,n);break}const h=!!t&&UZ(e.substring(a,c));r[s++]=new H9(c,u,0,h),a=c}return r}(t,e.containsRTL,e.lineTokens,e.fauxIndentLength,o);e.renderControlCharacters&&!e.isBasicASCII&&(r=function(e,t){const n=[];let i=new H9(0,"",0,!1),o=0;for(const r of t){const t=r.endIndex;for(;o<t;o++){Q9(e.charCodeAt(o))&&(o>i.endIndex&&(i=new H9(o,r.type,r.metadata,r.containsRTL),n.push(i)),i=new H9(o+1,"mtkcontrol",r.metadata,!1),n.push(i))}o>i.endIndex&&(i=new H9(t,r.type,r.metadata,r.containsRTL),n.push(i))}return n}(t,r));(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace&&!e.continuesWithWrappedLine)&&(r=function(e,t,n,i){const o=e.continuesWithWrappedLine,r=e.fauxIndentLength,s=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,c=e.selectionsOnLine,u=1===e.renderWhitespace,h=3===e.renderWhitespace,d=e.renderSpaceWidth!==e.spaceWidth,g=[];let f=0,p=0,m=i[p].type,v=i[p].containsRTL,b=i[p].endIndex;const _=i.length;let y,w=!1,C=CZ(t);-1===C?(w=!0,C=n,y=n):y=xZ(t);let S=!1,x=0,k=c&&c[x],L=a%s;for(let E=r;E<n;E++){const e=t.charCodeAt(E);let o;if(k&&E>=k.endOffset&&(x++,k=c&&c[x]),E<C||E>y)o=!0;else if(9===e)o=!0;else if(32===e)if(u)if(S)o=!0;else{const e=E+1<n?t.charCodeAt(E+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&c&&(o=!!k&&k.startOffset<=E&&k.endOffset>E),o&&h&&(o=w||E>y),o&&v&&E>=C&&E<=y&&(o=!1),S){if(!o||!l&&L>=s){if(d){for(let e=(f>0?g[f-1].endIndex:r)+1;e<=E;e++)g[f++]=new H9(e,"mtkw",1,!1)}else g[f++]=new H9(E,"mtkw",1,!1);L%=s}}else(E===b||o&&E>r)&&(g[f++]=new H9(E,m,0,v),L%=s);for(9===e?L=s:XZ(e)?L+=2:L++,S=o;E===b&&(p++,p<_);)m=i[p].type,v=i[p].containsRTL,b=i[p].endIndex}let D=!1;if(S)if(o&&u){const e=n>0?t.charCodeAt(n-1):0,i=n>1?t.charCodeAt(n-2):0;32===e&&32!==i&&9!==i||(D=!0)}else D=!0;if(D)if(d){for(let e=(f>0?g[f-1].endIndex:r)+1;e<=n;e++)g[f++]=new H9(e,"mtkw",1,!1)}else g[f++]=new H9(n,"mtkw",1,!1);else g[f++]=new H9(n,m,0,v);return g}(e,t,o,r));let s=0;if(e.lineDecorations.length>0){for(let t=0,n=e.lineDecorations.length;t<n;t++){const n=e.lineDecorations[t];3===n.type||1===n.type?s|=1:2===n.type&&(s|=2)}r=function(e,t,n,i){i.sort(B9.compare);const o=W9.normalize(e,i),r=o.length;let s=0;const a=[];let l=0,c=0;for(let h=0,d=n.length;h<d;h++){const e=n[h],t=e.endIndex,i=e.type,u=e.metadata,d=e.containsRTL;for(;s<r&&o[s].startOffset<t;){const e=o[s];if(e.startOffset>c&&(c=e.startOffset,a[l++]=new H9(c,i,u,d)),!(e.endOffset+1<=t)){c=t,a[l++]=new H9(c,i+" "+e.className,u|e.metadata,d);break}c=e.endOffset+1,a[l++]=new H9(c,i+" "+e.className,u|e.metadata,d),s++}t>c&&(c=t,a[l++]=new H9(c,i,u,d))}const u=n[n.length-1].endIndex;if(s<r&&o[s].startOffset===u)for(;s<r&&o[s].startOffset===u;){const e=o[s];a[l++]=new H9(c,e.className,e.metadata,!1),s++}return a}(t,0,r,e.lineDecorations)}e.containsRTL||(r=function(e,t,n){let i=0;const o=[];let r=0;if(n)for(let s=0,a=t.length;s<a;s++){const n=t[s],a=n.endIndex;if(i+50<a){const t=n.type,s=n.metadata,l=n.containsRTL;let c=-1,u=i;for(let n=i;n<a;n++)32===e.charCodeAt(n)&&(c=n),-1!==c&&n-u>=50&&(o[r++]=new H9(c+1,t,s,l),u=c+1,c=-1);u!==a&&(o[r++]=new H9(a,t,s,l))}else o[r++]=n;i=a}else for(let s=0,a=t.length;s<a;s++){const e=t[s],n=e.endIndex,a=n-i;if(a>50){const t=e.type,s=e.metadata,l=e.containsRTL,c=Math.ceil(a/50);for(let e=1;e<c;e++){const n=i+50*e;o[r++]=new H9(n,t,s,l)}o[r++]=new H9(n,t,s,l)}else o[r++]=e;i=n}return o}(t,r,!e.isBasicASCII||e.fontLigatures));return new Z9(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,o,n,i,r,s,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class Y9{constructor(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}function X9(e){const t=new q4(1e4),n=G9(e,t);return new Y9(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}class Z9{constructor(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=i,this.isOverflowing=o,this.overflowingCharCount=r,this.parts=s,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=u,this.containsRTL=h,this.spaceWidth=d,this.renderSpaceCharCode=g,this.renderWhitespace=f,this.renderControlCharacters=p}}function Q9(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function J9(e){return e.toString(16).toUpperCase().padStart(4,"0")}class e7{constructor(e,t,n,i){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}class t7{constructor(e,t){this.tabSize=e,this.data=t}}class n7{constructor(e,t,n,i,o,r,s){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=s}}class i7{constructor(e,t,n,i,o,r,s,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=i,this.isBasicASCII=i7.isBasicASCII(n,r),this.containsRTL=i7.containsRTL(n,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||qZ(e)}static containsRTL(e,t,n){return!(t||!n)&&UZ(e)}}class o7{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class r7{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=i}toInlineDecoration(e){return new o7(new _Y(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class s7{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class a7{constructor(e,t,n){this.color=e,this.zIndex=t,this.data=n}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&pU(e.data,t.data)}static equalsArr(e,t){return pU(e,t,a7.equals)}}function l7(e){return!function(e){return Array.isArray(e)}(e)}function c7(e){return"string"==typeof e}function u7(e){return!c7(e)}function h7(e){return!e}function d7(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function g7(e){return e.replace(/[&<>'"_]/g,"-")}function f7(e,t){return new Error(`${e.languageId}: ${t}`)}function p7(e,t,n,i,o){let r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,s,a,l,c,u,h,d,g){return h7(a)?h7(l)?!h7(c)&&c<i.length?d7(e,i[c]):!h7(h)&&e&&"string"==typeof e[h]?e[h]:(null===r&&(r=o.split("."),r.unshift(o)),!h7(u)&&u<r.length?d7(e,r[u]):""):d7(e,n):"$"}))}function m7(e,t){let n=t;for(;n&&n.length>0;){const t=e.tokenizer[n];if(t)return t;const i=n.lastIndexOf(".");n=i<0?null:n.substr(0,i)}return null}var v7;class b7{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new _7(e,t);let n=_7.getStackElementId(e);n.length>0&&(n+="|"),n+=t;let i=this._entries[n];return i||(i=new _7(e,t),this._entries[n]=i,i)}}b7._INSTANCE=new b7(5);class _7{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return _7._equals(this,e)}push(e){return b7.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return b7.create(this.parent,e)}}class y7{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new y7(this.languageId,this.state)}}class w7{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==t)return new C7(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new C7(e,t);const n=_7.getStackElementId(e);let i=this._entries[n];return i||(i=new C7(e,null),this._entries[n]=i,i)}}w7._INSTANCE=new w7(5);class C7{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:w7.create(this.stack,this.embeddedLanguageData)}equals(e){return e instanceof C7&&(!!this.stack.equals(e.stack)&&(null===this.embeddedLanguageData&&null===e.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==e.embeddedLanguageData&&this.embeddedLanguageData.equals(e.embeddedLanguageData)))}}class S7{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new DY(e,t,this._languageId)))}nestedLanguageTokenize(e,t,n,i){const o=n.languageId,r=n.state,s=jY.get(o);if(!s)return this.enterLanguage(o),this.emit(i,""),r;const a=s.tokenize(e,t,r);if(0!==i)for(const l of a.tokens)this._tokens.push(new DY(l.offset+i,l.type,l.language));else this._tokens=this._tokens.concat(a.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new EY(this._tokens,e)}}class x7{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const n=1024|this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))}static _merge(e,t,n){const i=null!==e?e.length:0,o=t.length,r=null!==n?n.length:0;if(0===i&&0===o&&0===r)return new Uint32Array(0);if(0===i&&0===o)return n;if(0===o&&0===r)return e;const s=new Uint32Array(i+o+r);null!==e&&s.set(e);for(let a=0;a<o;a++)s[i+a]=t[a];return null!==n&&s.set(n,i+o),s}nestedLanguageTokenize(e,t,n,i){const o=n.languageId,r=n.state,s=jY.get(o);if(!s)return this.enterLanguage(o),this.emit(i,""),r;const a=s.tokenizeEncoded(e,t,r);if(0!==i)for(let l=0,c=a.tokens.length;l<c;l+=2)a.tokens[l]+=i;return this._prependTokens=x7._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new NY(x7._merge(this._prependTokens,this._tokens,null),e)}}let k7=v7=class extends Yq{constructor(e,t,n,i,o){super(),this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=n,this._lexer=i,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._register(jY.onDidChange((e=>{if(r)return;let t=!1;for(let n=0,i=e.changedLanguages.length;n<i;n++){const i=e.changedLanguages[n];if(this._embeddedLanguages[i]){t=!0;break}}t&&(r=!0,jY.handleChange([this._languageId]),r=!1)}))),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const n=jY.get(t);if(n){if(n instanceof v7){const t=n.getLoadStatus();!1===t.loaded&&e.push(t.promise)}}else jY.isResolved(t)||e.push(jY.getOrCreate(t))}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){const e=b7.create(null,this._lexer.start);return w7.create(e,null)}tokenize(e,t,n){if(e.length>=this._maxTokenizationLineLength)return R9(this._languageId,n);const i=new S7,o=this._tokenize(e,t,n,i);return i.finalize(o)}tokenizeEncoded(e,t,n){if(e.length>=this._maxTokenizationLineLength)return A9(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),n);const i=new x7(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,n,i);return i.finalize(o)}_tokenize(e,t,n,i){return n.embeddedLanguageData?this._nestedTokenize(e,t,n,0,i):this._myTokenize(e,t,n,0,i)}_findLeavingNestedLanguageOffset(e,t){let n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=m7(this._lexer,t.stack.state),!n))throw f7(this._lexer,"tokenizer state is not defined: "+t.stack.state);let i=-1,o=!1;for(const r of n){if(!u7(r.action)||"@pop"!==r.action.nextEmbedded)continue;o=!0;let t=r.regex;const n=r.regex.source;if("^(?:"===n.substr(0,4)&&")"===n.substr(n.length-1,1)){const e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(n.substr(4,n.length-5),e)}const s=e.search(t);-1===s||0!==s&&r.matchOnlyAtLineStart||(-1===i||s<i)&&(i=s)}if(!o)throw f7(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i}_nestedTokenize(e,t,n,i,o){const r=this._findLeavingNestedLanguageOffset(e,n);if(-1===r){const r=o.nestedLanguageTokenize(e,t,n.embeddedLanguageData,i);return w7.create(n.stack,new y7(n.embeddedLanguageData.languageId,r))}const s=e.substring(0,r);s.length>0&&o.nestedLanguageTokenize(s,!1,n.embeddedLanguageData,i);const a=e.substring(r);return this._myTokenize(a,t,n,i+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,n,i,o){o.enterLanguage(this._languageId);const r=e.length,s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=n.embeddedLanguageData,c=n.stack,u=0,h=null,d=!0;for(;d||u<a;){const n=u,p=c.depth,m=h?h.groups.length:0,v=c.state;let b=null,_=null,y=null,w=null,C=null;if(h){b=h.matches;const e=h.groups.shift();_=e.matched,y=e.action,w=h.rule,0===h.groups.length&&(h=null)}else{if(!d&&u>=a)break;d=!1;let e=this._lexer.tokenizer[v];if(!e&&(e=m7(this._lexer,v),!e))throw f7(this._lexer,"tokenizer state is not defined: "+v);const t=s.substr(u);for(const n of e)if((0===u||!n.matchOnlyAtLineStart)&&(b=t.match(n.regex),b)){_=b[0],y=n.action;break}}if(b||(b=[""],_=""),y||(u<a&&(b=[s.charAt(u)],_=b[0]),y=this._lexer.defaultToken),null===_)break;for(u+=_.length;l7(y)&&u7(y)&&y.test;)y=y.test(_,b,v,u===a);let S=null;if("string"==typeof y||Array.isArray(y))S=y;else if(y.group)S=y.group;else if(null!==y.token&&void 0!==y.token){if(S=y.tokenSubst?p7(this._lexer,y.token,_,b,v):y.token,y.nextEmbedded)if("@pop"===y.nextEmbedded){if(!l)throw f7(this._lexer,"cannot pop embedded language if not inside one");l=null}else{if(l)throw f7(this._lexer,"cannot enter embedded language from within an embedded language");C=p7(this._lexer,y.nextEmbedded,_,b,v)}if(y.goBack&&(u=Math.max(0,u-y.goBack)),y.switchTo&&"string"==typeof y.switchTo){let e=p7(this._lexer,y.switchTo,_,b,v);if("@"===e[0]&&(e=e.substr(1)),!m7(this._lexer,e))throw f7(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.switchTo(e)}else{if(y.transform&&"function"==typeof y.transform)throw f7(this._lexer,"action.transform not supported");if(y.next)if("@push"===y.next){if(c.depth>=this._lexer.maxStack)throw f7(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(v)}else if("@pop"===y.next){if(c.depth<=1)throw f7(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));c=c.pop()}else if("@popall"===y.next)c=c.popall();else{let e=p7(this._lexer,y.next,_,b,v);if("@"===e[0]&&(e=e.substr(1)),!m7(this._lexer,e))throw f7(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.push(e)}}y.log&&"string"==typeof y.log&&(g=this._lexer,f=this._lexer.languageId+": "+p7(this._lexer,y.log,_,b,v),console.log(`${g.languageId}: ${f}`))}if(null===S)throw f7(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const x=n=>{const r=this._languageService.getLanguageIdByLanguageName(n)||this._languageService.getLanguageIdByMimeType(n)||n,s=this._getNestedEmbeddedLanguageData(r);if(u<a){const n=e.substr(u);return this._nestedTokenize(n,t,w7.create(c,s),i+u,o)}return w7.create(c,s)};if(Array.isArray(S)){if(h&&h.groups.length>0)throw f7(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(b.length!==S.length+1)throw f7(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<b.length;t++)e+=b[t].length;if(e!==_.length)throw f7(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));h={rule:w,matches:b,groups:[]};for(let t=0;t<S.length;t++)h.groups[t]={action:S[t],matched:b[t+1]};u-=_.length}else{{if("@rematch"===S&&(u-=_.length,_="",b=null,S="",null!==C))return x(C);if(0===_.length){if(0===a||p!==c.depth||v!==c.state||(h?h.groups.length:0)!==m)continue;throw f7(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(c7(S)&&0===S.indexOf("@brackets")){const t=S.substr(9),n=E7(this._lexer,_);if(!n)throw f7(this._lexer,"@brackets token returned but no bracket defined as: "+_);e=g7(n.token+t)}else{e=g7(""===S?"":S+this._lexer.tokenPostfix)}n<r&&o.emit(n+i,e)}if(null!==C)return x(C)}}var g,f;return w7.create(c,l)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new y7(e,M9);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),jY.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=jY.get(e);return new y7(e,t?t.getInitialState():M9)}};var L7,D7;function E7(e,t){if(!t)return null;t=d7(e,t);const n=e.brackets;for(const i of n){if(i.open===t)return{token:i.token,bracketType:1};if(i.close===t)return{token:i.token,bracketType:-1}}return null}k7=v7=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([(L7=4,D7=a5,function(e,t){D7(e,t,L7)})],k7);var N7=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const T7=y4("standaloneColorizer",{createHTML:e=>e});class I7{static colorizeElement(e,t,n,i){const o=(i=i||{}).theme||"vs",r=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const s=t.getLanguageIdByMimeType(r)||r;e.setTheme(o);const a=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+o;return this.colorize(t,a||"",s,i).then((e=>{var t;const i=null!==(t=null==T7?void 0:T7.createHTML(e))&&void 0!==t?t:e;n.innerHTML=i}),(e=>console.error(e)))}static colorize(e,t,n,i){return N7(this,void 0,void 0,(function*(){const o=e.languageIdCodec;let r=4;i&&"number"==typeof i.tabSize&&(r=i.tabSize),JZ(t)&&(t=t.substr(1));const s=wZ(t);if(!e.isRegisteredLanguageId(n))return M7(s,r,o);const a=yield jY.getOrCreate(n);return a?function(e,t,n,i){return new Promise(((o,r)=>{const s=()=>{const a=function(e,t,n,i){let o=[],r=n.getInitialState();for(let s=0,a=e.length;s<a;s++){const a=e[s],l=n.tokenizeEncoded(a,!0,r);P9.convertToEndOffset(l.tokens,a.length);const c=new P9(l.tokens,a,i),u=i7.isBasicASCII(a,!0),h=i7.containsRTL(a,u,!0),d=X9(new j9(!1,!0,a,!1,u,h,0,c.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(d.html),o.push("<br/>"),r=l.endState}return o.join("")}(e,t,n,i);if(n instanceof k7){const e=n.getLoadStatus();if(!1===e.loaded)return void e.promise.then(s,r)}o(a)};s()}))}(s,r,a,o):M7(s,r,o)}))}static colorizeLine(e,t,n,i,o=4){const r=i7.isBasicASCII(e,t),s=i7.containsRTL(e,r,n);return X9(new j9(!1,!0,e,!1,r,s,0,i,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,n=4){const i=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,n)}}function M7(e,t,n){let i=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let r=0,s=e.length;r<s;r++){const s=e[r];o[0]=s.length;const a=new P9(o,s,n),l=i7.isBasicASCII(s,!0),c=i7.containsRTL(s,l,!0),u=X9(new j9(!1,!0,s,!1,l,c,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(u.html),i.push("<br/>")}return i.join("")}const R7=2e4;let A7,O7,P7,F7,B7;function z7(e){A7&&(O7.textContent!==e?(M1(P7),W7(O7,e)):(M1(O7),W7(P7,e)))}function V7(e){A7&&(F7.textContent!==e?(M1(B7),W7(F7,e)):(M1(F7),W7(B7,e)))}function W7(e,t){M1(e),t.length>R7&&(t=t.substr(0,R7)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}const H7=OQ("markerDecorationsService");let $7=class{constructor(e,t){}dispose(){}};$7.ID="editor.contrib.markerDecorations",$7=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(1,H7)],$7),P2($7.ID,$7,0);class j7 extends Yq{constructor(e,t){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let n=!1,i=!1;const o=()=>{if(n&&!i)try{n=!1,i=!0,t()}finally{requestAnimationFrame((()=>{i=!1,o()}))}};this._resizeObserver=new ResizeObserver((t=>{e=t&&t[0]&&t[0].contentRect?t[0].contentRect:null,n=!0,o()})),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let n=0,i=0;t?(n=t.width,i=t.height):this._referenceDomElement&&(n=this._referenceDomElement.clientWidth,i=this._referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this._width===n&&this._height===i||(this._width=n,this._height=i,e&&this._onDidChange.fire())}}class U7{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=U7._read(e,this.key);this.migrate(t,(t=>U7._read(e,t)),((t,n)=>U7._write(e,t,n)))}static _read(e,t){if(void 0===e)return;const n=t.indexOf(".");if(n>=0){const i=t.substring(0,n);return this._read(e[i],t.substring(n+1))}return e[t]}static _write(e,t,n){const i=t.indexOf(".");if(i>=0){const o=t.substring(0,i);return e[o]=e[o]||{},void this._write(e[o],t.substring(i+1),n)}e[t]=n}}function K7(e,t){U7.items.push(new U7(e,t))}function q7(e,t){K7(e,((n,i,o)=>{if(void 0!==n)for(const[r,s]of t)if(n===r)return void o(e,s)}))}U7.items=[],q7("wordWrap",[[!0,"on"],[!1,"off"]]),q7("lineNumbers",[[!0,"on"],[!1,"off"]]),q7("cursorBlinking",[["visible","solid"]]),q7("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),q7("renderLineHighlight",[[!0,"line"],[!1,"none"]]),q7("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),q7("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),q7("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),q7("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),q7("autoIndent",[[!1,"advanced"],[!0,"full"]]),q7("matchBrackets",[[!0,"always"],[!1,"never"]]),q7("renderFinalNewline",[[!0,"on"],[!1,"off"]]),q7("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),K7("autoClosingBrackets",((e,t,n)=>{!1===e&&(n("autoClosingBrackets","never"),void 0===t("autoClosingQuotes")&&n("autoClosingQuotes","never"),void 0===t("autoSurround")&&n("autoSurround","never"))})),K7("renderIndentGuides",((e,t,n)=>{void 0!==e&&(n("renderIndentGuides",void 0),void 0===t("guides.indentation")&&n("guides.indentation",!!e))})),K7("highlightActiveIndentGuide",((e,t,n)=>{void 0!==e&&(n("highlightActiveIndentGuide",void 0),void 0===t("guides.highlightActiveIndentation")&&n("guides.highlightActiveIndentation",!!e))}));const G7={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};K7("suggest.filteredTypes",((e,t,n)=>{if(e&&"object"==typeof e){for(const i of Object.entries(G7)){!1===e[i[0]]&&void 0===t(`suggest.${i[1]}`)&&n(`suggest.${i[1]}`,!1)}n("suggest.filteredTypes",void 0)}})),K7("quickSuggestions",((e,t,n)=>{if("boolean"==typeof e){const t=e?"on":"off";n("quickSuggestions",{comments:t,strings:t,other:t})}})),K7("experimental.stickyScroll.enabled",((e,t,n)=>{"boolean"==typeof e&&(n("experimental.stickyScroll.enabled",void 0),void 0===t("stickyScroll.enabled")&&n("stickyScroll.enabled",e))})),K7("experimental.stickyScroll.maxLineCount",((e,t,n)=>{"number"==typeof e&&(n("experimental.stickyScroll.maxLineCount",void 0),void 0===t("stickyScroll.maxLineCount")&&n("stickyScroll.maxLineCount",e))}));const Y7=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new sG,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}},X7=OQ("accessibilityService"),Z7=new MJ("accessibilityModeEnabled",!1);let Q7=class extends Yq{constructor(e,t,n,i){super(),this._accessibilityService=i,this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new sG),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new YK,this.isSimpleWidget=e,this._containerObserver=this._register(new j7(n,t.dimension)),this._rawOptions=i8(t),this._validatedOptions=n8.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(LQ.onDidChangeZoomLevel((()=>this._recomputeOptions()))),this._register(Y7.onDidChangeTabFocus((()=>this._recomputeOptions()))),this._register(this._containerObserver.onDidChange((()=>this._recomputeOptions()))),this._register(IQ.onDidChange((()=>this._recomputeOptions()))),this._register(hQ.onDidChange((()=>this._recomputeOptions()))),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions())))}_recomputeOptions(){const e=this._computeOptions(),t=n8.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=EQ.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),n=this._readFontInfo(t),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:n,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:Y7.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return n8.computeOptions(this._validatedOptions,i)}_readEnvConfiguration(){return{extraEditorClassName:J7(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:fQ||gQ,pixelRatio:hQ.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return IQ.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=i8(e);n8.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=n8.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=function(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};function J7(){let e="";return mQ||vQ||(e+="no-user-select "),mQ&&(e+="no-minimap-shadow ",e+="enable-user-select "),wK&&(e+="mac "),e}Q7=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(3,X7)],Q7);class e8{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class t8{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class n8{static validateOptions(e){const t=new e8;for(const n of Nq){const i="_never_"===n.name?void 0:e[n.name];t._write(n.id,n.validate(i))}return t}static computeOptions(e,t){const n=new t8;for(const i of Nq)n._write(i.id,i.compute(t,n,e._read(i.id)));return n}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&pU(e,t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!n8._deepEquals(e[n],t[n]))return!1;return!0}static checkEquals(e,t){const n=[];let i=!1;for(const o of Nq){const r=!n8._deepEquals(e._read(o.id),t._read(o.id));n[o.id]=r,r&&(i=!0)}return i?new GK(n):null}static applyUpdate(e,t){let n=!1;for(const i of Nq)if(t.hasOwnProperty(i.name)){const o=i.applyUpdate(e[i.name],t[i.name]);e[i.name]=o.newValue,n=n||o.didChange}return n}}function i8(e){const t=YU(e);return function(e){U7.items.forEach((t=>t.apply(e)))}(t),t}function o8(e,t,n){let i=null,o=null;if("function"==typeof n.value?(i="value",o=n.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof n.get&&(i="get",o=n.get),!o)throw new Error("not supported");const r=`$memoize$${t}`;n[i]=function(...e){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[r]}}var r8,s8;(s8=r8||(r8={})).Tap="-monaco-gesturetap",s8.Change="-monaco-gesturechange",s8.Start="-monaco-gesturestart",s8.End="-monaco-gesturesend",s8.Contextmenu="-monaco-gesturecontextmenu";class a8 extends Yq{constructor(){super(),this.dispatched=!1,this.targets=new WK,this.ignoreTargets=new WK,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(O1(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(O1(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(O1(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){if(!a8.isTouchDevice())return Yq.None;a8.INSTANCE||(a8.INSTANCE=new a8);return qq(a8.INSTANCE.targets.push(e))}static ignoreTarget(e){if(!a8.isTouchDevice())return Yq.None;a8.INSTANCE||(a8.INSTANCE=new a8);return qq(a8.INSTANCE.ignoreTargets.push(e))}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=e.targetTouches.length;n<i;n++){const i=e.targetTouches.item(n);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:t,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[t],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};const o=this.newGestureEvent(r8.Start,i.target);o.pageX=i.pageX,o.pageY=i.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){const t=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,o=e.changedTouches.length;i<o;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],s=Date.now()-r.initialTimeStamp;if(s<a8.HOLD_DELAY&&Math.abs(r.initialPageX-fU(r.rollingPageX))<30&&Math.abs(r.initialPageY-fU(r.rollingPageY))<30){const e=this.newGestureEvent(r8.Tap,r.initialTarget);e.pageX=fU(r.rollingPageX),e.pageY=fU(r.rollingPageY),this.dispatchEvent(e)}else if(s>=a8.HOLD_DELAY&&Math.abs(r.initialPageX-fU(r.rollingPageX))<30&&Math.abs(r.initialPageY-fU(r.rollingPageY))<30){const e=this.newGestureEvent(r8.Contextmenu,r.initialTarget);e.pageX=fU(r.rollingPageX),e.pageY=fU(r.rollingPageY),this.dispatchEvent(e)}else if(1===n){const e=fU(r.rollingPageX),n=fU(r.rollingPageY),i=fU(r.rollingTimestamps)-r.rollingTimestamps[0],o=e-r.rollingPageX[0],s=n-r.rollingPageY[0],a=[...this.targets].filter((e=>r.initialTarget instanceof Node&&e.contains(r.initialTarget)));this.inertia(a,t,Math.abs(o)/i,o>0?1:-1,e,Math.abs(s)/i,s>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(r8.End,r.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===r8.Tap){const t=(new Date).getTime();let n=0;n=t-this._lastSetTapCountTime>a8.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=n}else e.type!==r8.Change&&e.type!==r8.Contextmenu||(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;for(const t of this.targets)t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}}inertia(e,t,n,i,o,r,s,a){this.handle=B1((()=>{const l=Date.now(),c=l-t;let u=0,h=0,d=!0;n+=a8.SCROLL_FRICTION*c,r+=a8.SCROLL_FRICTION*c,n>0&&(d=!1,u=i*n*c),r>0&&(d=!1,h=s*r*c);const g=this.newGestureEvent(r8.Change);g.translationX=u,g.translationY=h,e.forEach((e=>e.dispatchEvent(g))),d||this.inertia(e,l,n,i,o+u,r,s,a+h)}))}onTouchMove(e){const t=Date.now();for(let n=0,i=e.changedTouches.length;n<i;n++){const i=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}const o=this.activeTouches[i.identifier],r=this.newGestureEvent(r8.Change,o.initialTarget);r.translationX=i.pageX-fU(o.rollingPageX),r.translationY=i.pageY-fU(o.rollingPageY),r.pageX=i.pageX,r.pageY=i.pageY,this.dispatchEvent(r),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(i.pageX),o.rollingPageY.push(i.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}a8.SCROLL_FRICTION=-.005,a8.HOLD_DELAY=700,a8.CLEAR_TAP_COUNT_TIME=400,function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([o8],a8,"isTouchDevice",null);class l8{constructor(){this._hooks=new Gq,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,n,i,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=i,this._onStopCallback=o;let r=e;try{e.setPointerCapture(t),this._hooks.add(qq((()=>{try{e.releasePointerCapture(t)}catch(n){}})))}catch(s){r=window}this._hooks.add(O1(r,r2.POINTER_MOVE,(e=>{e.buttons===n?(e.preventDefault(),this._pointerMoveCallback(e)):this.stopMonitoring(!0)}))),this._hooks.add(O1(r,r2.POINTER_UP,(e=>this.stopMonitoring(!0))))}}function c8(e){return`--vscode-${e.replace(/\./g,"-")}`}function u8(e){return`var(${c8(e)})`}const h8="base.contributions.colors";const d8=new class{constructor(){this._onDidChangeSchema=new sG,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,n,i=!1,o){const r={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=r;const s={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(s.deprecationMessage=o),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map((e=>this.colorsById[e]))}resolveDefaultColor(e,t){const n=this.colorsById[e];if(n&&n.defaults){return Qte(n.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{const n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function g8(e,t,n,i,o){return d8.registerColor(e,t,n,i,o)}YJ.add(h8,d8);const f8=g8("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},nK(0,"Overall foreground color. This color is only used if not overridden by a component."));g8("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},nK(0,"Overall foreground for disabled elements. This color is only used if not overridden by a component.")),g8("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},nK(0,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),g8("descriptionForeground",{light:"#717171",dark:Yte(f8,.7),hcDark:Yte(f8,.7),hcLight:Yte(f8,.7)},nK(0,"Foreground color for description text providing additional information, for example for a label."));const p8=g8("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},nK(0,"The default color for icons in the workbench.")),m8=g8("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},nK(0,"Overall border color for focused elements. This color is only used if not overridden by a component.")),v8=g8("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},nK(0,"An extra border around elements to separate them from others for greater contrast.")),b8=g8("contrastActiveBorder",{light:null,dark:null,hcDark:m8,hcLight:m8},nK(0,"An extra border around active elements to separate them from others for greater contrast."));g8("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},nK(0,"The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),g8("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:n9.black,hcLight:"#292929"},nK(0,"Color for text separators."));const _8=g8("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},nK(0,"Foreground color for links in text."));g8("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},nK(0,"Foreground color for links in text when clicked on and on mouse hover.")),g8("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},nK(0,"Foreground color for preformatted text segments.")),g8("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},nK(0,"Background color for block quotes in text.")),g8("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:n9.white,hcLight:"#292929"},nK(0,"Border color for block quotes in text.")),g8("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:n9.black,hcLight:"#F2F2F2"},nK(0,"Background color for code blocks in text."));const y8=g8("widget.shadow",{dark:Yte(n9.black,.36),light:Yte(n9.black,.16),hcDark:null,hcLight:null},nK(0,"Shadow color of widgets such as find/replace inside the editor.")),w8=g8("widget.border",{dark:null,light:null,hcDark:v8,hcLight:v8},nK(0,"Border color of widgets such as find/replace inside the editor.")),C8=g8("input.background",{dark:"#3C3C3C",light:n9.white,hcDark:n9.black,hcLight:n9.white},nK(0,"Input box background.")),S8=g8("input.foreground",{dark:f8,light:f8,hcDark:f8,hcLight:f8},nK(0,"Input box foreground.")),x8=g8("input.border",{dark:null,light:null,hcDark:v8,hcLight:v8},nK(0,"Input box border.")),k8=g8("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:v8,hcLight:v8},nK(0,"Border color of activated options in input fields."));g8("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},nK(0,"Background color of activated options in input fields."));const L8=g8("inputOption.activeBackground",{dark:Yte(m8,.4),light:Yte(m8,.2),hcDark:n9.transparent,hcLight:n9.transparent},nK(0,"Background hover color of options in input fields.")),D8=g8("inputOption.activeForeground",{dark:n9.white,light:n9.black,hcDark:f8,hcLight:f8},nK(0,"Foreground color of activated options in input fields."));g8("input.placeholderForeground",{light:Yte(f8,.5),dark:Yte(f8,.5),hcDark:Yte(f8,.7),hcLight:Yte(f8,.7)},nK(0,"Input box foreground color for placeholder text."));const E8=g8("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:n9.black,hcLight:n9.white},nK(0,"Input validation background color for information severity.")),N8=g8("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:f8},nK(0,"Input validation foreground color for information severity.")),T8=g8("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:v8,hcLight:v8},nK(0,"Input validation border color for information severity.")),I8=g8("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:n9.black,hcLight:n9.white},nK(0,"Input validation background color for warning severity.")),M8=g8("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:f8},nK(0,"Input validation foreground color for warning severity.")),R8=g8("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:v8,hcLight:v8},nK(0,"Input validation border color for warning severity.")),A8=g8("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:n9.black,hcLight:n9.white},nK(0,"Input validation background color for error severity.")),O8=g8("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:f8},nK(0,"Input validation foreground color for error severity.")),P8=g8("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:v8,hcLight:v8},nK(0,"Input validation border color for error severity.")),F8=g8("dropdown.background",{dark:"#3C3C3C",light:n9.white,hcDark:n9.black,hcLight:n9.white},nK(0,"Dropdown background.")),B8=g8("dropdown.listBackground",{dark:null,light:null,hcDark:n9.black,hcLight:n9.white},nK(0,"Dropdown list background.")),z8=g8("dropdown.foreground",{dark:"#F0F0F0",light:f8,hcDark:n9.white,hcLight:f8},nK(0,"Dropdown foreground.")),V8=g8("dropdown.border",{dark:F8,light:"#CECECE",hcDark:v8,hcLight:v8},nK(0,"Dropdown border.")),W8=g8("button.foreground",{dark:n9.white,light:n9.white,hcDark:n9.white,hcLight:n9.white},nK(0,"Button foreground color.")),H8=g8("button.separator",{dark:Yte(W8,.4),light:Yte(W8,.4),hcDark:Yte(W8,.4),hcLight:Yte(W8,.4)},nK(0,"Button separator color.")),$8=g8("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},nK(0,"Button background color.")),j8=g8("button.hoverBackground",{dark:Gte($8,.2),light:qte($8,.2),hcDark:$8,hcLight:$8},nK(0,"Button background color when hovering.")),U8=g8("button.border",{dark:v8,light:v8,hcDark:v8,hcLight:v8},nK(0,"Button border color.")),K8=g8("button.secondaryForeground",{dark:n9.white,light:n9.white,hcDark:n9.white,hcLight:f8},nK(0,"Secondary button foreground color.")),q8=g8("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:n9.white},nK(0,"Secondary button background color.")),G8=g8("button.secondaryHoverBackground",{dark:Gte(q8,.2),light:qte(q8,.2),hcDark:null,hcLight:null},nK(0,"Secondary button background color when hovering.")),Y8=g8("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:n9.black,hcLight:"#0F4A85"},nK(0,"Badge background color. Badges are small information labels, e.g. for search results count.")),X8=g8("badge.foreground",{dark:n9.white,light:"#333",hcDark:n9.white,hcLight:n9.white},nK(0,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),Z8=g8("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},nK(0,"Scrollbar shadow to indicate that the view is scrolled.")),Q8=g8("scrollbarSlider.background",{dark:n9.fromHex("#797979").transparent(.4),light:n9.fromHex("#646464").transparent(.4),hcDark:Yte(v8,.6),hcLight:Yte(v8,.4)},nK(0,"Scrollbar slider background color.")),J8=g8("scrollbarSlider.hoverBackground",{dark:n9.fromHex("#646464").transparent(.7),light:n9.fromHex("#646464").transparent(.7),hcDark:Yte(v8,.8),hcLight:Yte(v8,.8)},nK(0,"Scrollbar slider background color when hovering.")),eee=g8("scrollbarSlider.activeBackground",{dark:n9.fromHex("#BFBFBF").transparent(.4),light:n9.fromHex("#000000").transparent(.6),hcDark:v8,hcLight:v8},nK(0,"Scrollbar slider background color when clicked on.")),tee=g8("progressBar.background",{dark:n9.fromHex("#0E70C0"),light:n9.fromHex("#0E70C0"),hcDark:v8,hcLight:v8},nK(0,"Background color of the progress bar that can show for long running operations."));g8("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const nee=g8("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},nK(0,"Foreground color of error squigglies in the editor."));g8("editorError.border",{dark:null,light:null,hcDark:n9.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},nK(0,"If set, color of double underlines for errors in the editor.")),g8("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const iee=g8("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},nK(0,"Foreground color of warning squigglies in the editor.")),oee=g8("editorWarning.border",{dark:null,light:null,hcDark:n9.fromHex("#FFCC00").transparent(.8),hcLight:n9.fromHex("#FFCC00").transparent(.8)},nK(0,"If set, color of double underlines for warnings in the editor."));g8("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const ree=g8("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},nK(0,"Foreground color of info squigglies in the editor.")),see=g8("editorInfo.border",{dark:null,light:null,hcDark:n9.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},nK(0,"If set, color of double underlines for infos in the editor.")),aee=g8("editorHint.foreground",{dark:n9.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},nK(0,"Foreground color of hint squigglies in the editor."));g8("editorHint.border",{dark:null,light:null,hcDark:n9.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},nK(0,"If set, color of double underlines for hints in the editor.")),g8("sash.hoverBorder",{dark:m8,light:m8,hcDark:m8,hcLight:m8},nK(0,"Border color of active sashes."));const lee=g8("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:n9.black,hcLight:n9.white},nK(0,"Editor background color.")),cee=g8("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:n9.white,hcLight:f8},nK(0,"Editor default foreground color."));g8("editorStickyScroll.background",{light:lee,dark:lee,hcDark:lee,hcLight:lee},nK(0,"Sticky scroll background color for the editor")),g8("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:n9.fromHex("#0F4A85").transparent(.1)},nK(0,"Sticky scroll on hover background color for the editor"));const uee=g8("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:n9.white},nK(0,"Background color of editor widgets, such as find/replace.")),hee=g8("editorWidget.foreground",{dark:f8,light:f8,hcDark:f8,hcLight:f8},nK(0,"Foreground color of editor widgets, such as find/replace.")),dee=g8("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:v8,hcLight:v8},nK(0,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));g8("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},nK(0,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));const gee=g8("quickInput.background",{dark:uee,light:uee,hcDark:uee,hcLight:uee},nK(0,"Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),fee=g8("quickInput.foreground",{dark:hee,light:hee,hcDark:hee,hcLight:hee},nK(0,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),pee=g8("quickInputTitle.background",{dark:new n9(new J6(255,255,255,.105)),light:new n9(new J6(0,0,0,.06)),hcDark:"#000000",hcLight:n9.white},nK(0,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),mee=g8("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:n9.white,hcLight:"#0F4A85"},nK(0,"Quick picker color for grouping labels.")),vee=g8("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:n9.white,hcLight:"#0F4A85"},nK(0,"Quick picker color for grouping borders.")),bee=g8("keybindingLabel.background",{dark:new n9(new J6(128,128,128,.17)),light:new n9(new J6(221,221,221,.4)),hcDark:n9.transparent,hcLight:n9.transparent},nK(0,"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),_ee=g8("keybindingLabel.foreground",{dark:n9.fromHex("#CCCCCC"),light:n9.fromHex("#555555"),hcDark:n9.white,hcLight:f8},nK(0,"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),yee=g8("keybindingLabel.border",{dark:new n9(new J6(51,51,51,.6)),light:new n9(new J6(204,204,204,.4)),hcDark:new n9(new J6(111,195,223)),hcLight:v8},nK(0,"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),wee=g8("keybindingLabel.bottomBorder",{dark:new n9(new J6(68,68,68,.6)),light:new n9(new J6(187,187,187,.4)),hcDark:new n9(new J6(111,195,223)),hcLight:f8},nK(0,"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Cee=g8("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},nK(0,"Color of the editor selection.")),See=g8("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:n9.white},nK(0,"Color of the selected text for high contrast.")),xee=g8("editor.inactiveSelectionBackground",{light:Yte(Cee,.5),dark:Yte(Cee,.5),hcDark:Yte(Cee,.7),hcLight:Yte(Cee,.5)},nK(0,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),kee=g8("editor.selectionHighlightBackground",{light:Zte(Cee,lee,.3,.6),dark:Zte(Cee,lee,.3,.6),hcDark:null,hcLight:null},nK(0,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);g8("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:b8,hcLight:b8},nK(0,"Border color for regions with the same content as the selection.")),g8("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},nK(0,"Color of the current search match."));const Lee=g8("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},nK(0,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);g8("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},nK(0,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),g8("editor.findMatchBorder",{light:null,dark:null,hcDark:b8,hcLight:b8},nK(0,"Border color of the current search match."));const Dee=g8("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:b8,hcLight:b8},nK(0,"Border color of the other search matches."));g8("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Yte(b8,.4),hcLight:Yte(b8,.4)},nK(0,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),g8("searchEditor.findMatchBackground",{light:Yte(Lee,.66),dark:Yte(Lee,.66),hcDark:Lee,hcLight:Lee},nK(0,"Color of the Search Editor query matches.")),g8("searchEditor.findMatchBorder",{light:Yte(Dee,.66),dark:Yte(Dee,.66),hcDark:Dee,hcLight:Dee},nK(0,"Border color of the Search Editor query matches.")),g8("search.resultsInfoForeground",{light:f8,dark:Yte(f8,.65),hcDark:f8,hcLight:f8},nK(0,"Color of the text in the search viewlet's completion message.")),g8("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},nK(0,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const Eee=g8("editorHoverWidget.background",{light:uee,dark:uee,hcDark:uee,hcLight:uee},nK(0,"Background color of the editor hover."));g8("editorHoverWidget.foreground",{light:hee,dark:hee,hcDark:hee,hcLight:hee},nK(0,"Foreground color of the editor hover.")),g8("editorHoverWidget.border",{light:dee,dark:dee,hcDark:dee,hcLight:dee},nK(0,"Border color of the editor hover.")),g8("editorHoverWidget.statusBarBackground",{dark:Gte(Eee,.2),light:qte(Eee,.05),hcDark:uee,hcLight:uee},nK(0,"Background color of the editor hover status bar.")),g8("editorLink.activeForeground",{dark:"#4E94CE",light:n9.blue,hcDark:n9.cyan,hcLight:"#292929"},nK(0,"Color of active links."));const Nee=g8("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:n9.white,hcLight:n9.black},nK(0,"Foreground color of inline hints")),Tee=g8("editorInlayHint.background",{dark:Yte(Y8,.1),light:Yte(Y8,.1),hcDark:Yte(n9.white,.1),hcLight:Yte(Y8,.1)},nK(0,"Background color of inline hints"));g8("editorInlayHint.typeForeground",{dark:Nee,light:Nee,hcDark:Nee,hcLight:Nee},nK(0,"Foreground color of inline hints for types")),g8("editorInlayHint.typeBackground",{dark:Tee,light:Tee,hcDark:Tee,hcLight:Tee},nK(0,"Background color of inline hints for types")),g8("editorInlayHint.parameterForeground",{dark:Nee,light:Nee,hcDark:Nee,hcLight:Nee},nK(0,"Foreground color of inline hints for parameters")),g8("editorInlayHint.parameterBackground",{dark:Tee,light:Tee,hcDark:Tee,hcLight:Tee},nK(0,"Background color of inline hints for parameters")),g8("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},nK(0,"The color used for the lightbulb actions icon.")),g8("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},nK(0,"The color used for the lightbulb auto fix actions icon."));const Iee=new n9(new J6(155,185,85,.2)),Mee=new n9(new J6(255,0,0,.2)),Ree=g8("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},nK(0,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Aee=g8("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},nK(0,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);g8("diffEditor.insertedLineBackground",{dark:Iee,light:Iee,hcDark:null,hcLight:null},nK(0,"Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),g8("diffEditor.removedLineBackground",{dark:Mee,light:Mee,hcDark:null,hcLight:null},nK(0,"Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),g8("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color for the margin where lines got inserted.")),g8("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color for the margin where lines got removed."));const Oee=g8("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Diff overview ruler foreground for inserted content.")),Pee=g8("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Diff overview ruler foreground for removed content."));g8("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},nK(0,"Outline color for the text that got inserted.")),g8("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},nK(0,"Outline color for text that got removed.")),g8("diffEditor.border",{dark:null,light:null,hcDark:v8,hcLight:v8},nK(0,"Border color between the two text editors.")),g8("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},nK(0,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),g8("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},nK(0,"The background color of unchanged blocks in the diff editor.")),g8("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},nK(0,"The foreground color of unchanged blocks in the diff editor.")),g8("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},nK(0,"The background color of unchanged code in the diff editor."));const Fee=g8("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bee=g8("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),zee=g8("list.focusOutline",{dark:m8,light:m8,hcDark:b8,hcLight:b8},nK(0,"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vee=g8("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Wee=g8("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:n9.fromHex("#0F4A85").transparent(.1)},nK(0,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Hee=g8("list.activeSelectionForeground",{dark:n9.white,light:n9.white,hcDark:null,hcLight:null},nK(0,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$ee=g8("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),jee=g8("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:n9.fromHex("#0F4A85").transparent(.1)},nK(0,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Uee=g8("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Kee=g8("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),qee=g8("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Gee=g8("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yee=g8("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:n9.white.transparent(.1),hcLight:n9.fromHex("#0F4A85").transparent(.1)},nK(0,"List/Tree background when hovering over items using the mouse.")),Xee=g8("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"List/Tree foreground when hovering over items using the mouse.")),Zee=g8("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},nK(0,"List/Tree drag and drop background when moving items around using the mouse.")),Qee=g8("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:m8,hcLight:m8},nK(0,"List/Tree foreground color of the match highlights when searching inside the list/tree."));var Jee,ete,tte;g8("list.focusHighlightForeground",{dark:Qee,light:(Jee=Wee,ete=Qee,tte="#BBE7FF",{op:6,if:Jee,then:ete,else:tte}),hcDark:Qee,hcLight:Qee},nK(0,"List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),g8("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},nK(0,"List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),g8("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},nK(0,"Foreground color of list items containing errors.")),g8("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},nK(0,"Foreground color of list items containing warnings."));const nte=g8("listFilterWidget.background",{light:qte(uee,0),dark:Gte(uee,0),hcDark:uee,hcLight:uee},nK(0,"Background color of the type filter widget in lists and trees.")),ite=g8("listFilterWidget.outline",{dark:n9.transparent,light:n9.transparent,hcDark:"#f38518",hcLight:"#007ACC"},nK(0,"Outline color of the type filter widget in lists and trees.")),ote=g8("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:v8,hcLight:v8},nK(0,"Outline color of the type filter widget in lists and trees, when there are no matches.")),rte=g8("listFilterWidget.shadow",{dark:y8,light:y8,hcDark:y8,hcLight:y8},nK(0,"Shadow color of the type filter widget in lists and trees."));g8("list.filterMatchBackground",{dark:Lee,light:Lee,hcDark:null,hcLight:null},nK(0,"Background color of the filtered match.")),g8("list.filterMatchBorder",{dark:Dee,light:Dee,hcDark:v8,hcLight:b8},nK(0,"Border color of the filtered match."));const ste=g8("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},nK(0,"Tree stroke color for the indentation guides.")),ate=g8("tree.inactiveIndentGuidesStroke",{dark:Yte(ste,.4),light:Yte(ste,.4),hcDark:Yte(ste,.4),hcLight:Yte(ste,.4)},nK(0,"Tree stroke color for the indentation guides that are not active.")),lte=g8("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},nK(0,"Table border color between columns.")),cte=g8("tree.tableOddRowsBackground",{dark:Yte(f8,.04),light:Yte(f8,.04),hcDark:null,hcLight:null},nK(0,"Background color for odd table rows."));g8("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},nK(0,"List/Tree foreground color for items that are deemphasized. "));const ute=g8("checkbox.background",{dark:F8,light:F8,hcDark:F8,hcLight:F8},nK(0,"Background color of checkbox widget."));g8("checkbox.selectBackground",{dark:uee,light:uee,hcDark:uee,hcLight:uee},nK(0,"Background color of checkbox widget when the element it's in is selected."));const hte=g8("checkbox.foreground",{dark:z8,light:z8,hcDark:z8,hcLight:z8},nK(0,"Foreground color of checkbox widget.")),dte=g8("checkbox.border",{dark:V8,light:V8,hcDark:V8,hcLight:V8},nK(0,"Border color of checkbox widget."));g8("checkbox.selectBorder",{dark:p8,light:p8,hcDark:p8,hcLight:p8},nK(0,"Border color of checkbox widget when the element it's in is selected."));const gte=g8("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,nK(0,"Please use quickInputList.focusBackground instead")),fte=g8("quickInputList.focusForeground",{dark:Hee,light:Hee,hcDark:Hee,hcLight:Hee},nK(0,"Quick picker foreground color for the focused item.")),pte=g8("quickInputList.focusIconForeground",{dark:$ee,light:$ee,hcDark:$ee,hcLight:$ee},nK(0,"Quick picker icon foreground color for the focused item.")),mte=g8("quickInputList.focusBackground",{dark:Xte(gte,Wee),light:Xte(gte,Wee),hcDark:null,hcLight:null},nK(0,"Quick picker background color for the focused item.")),vte=g8("menu.border",{dark:null,light:null,hcDark:v8,hcLight:v8},nK(0,"Border color of menus.")),bte=g8("menu.foreground",{dark:z8,light:z8,hcDark:z8,hcLight:z8},nK(0,"Foreground color of menu items.")),_te=g8("menu.background",{dark:F8,light:F8,hcDark:F8,hcLight:F8},nK(0,"Background color of menu items.")),yte=g8("menu.selectionForeground",{dark:Hee,light:Hee,hcDark:Hee,hcLight:Hee},nK(0,"Foreground color of the selected menu item in menus.")),wte=g8("menu.selectionBackground",{dark:Wee,light:Wee,hcDark:Wee,hcLight:Wee},nK(0,"Background color of the selected menu item in menus.")),Cte=g8("menu.selectionBorder",{dark:null,light:null,hcDark:b8,hcLight:b8},nK(0,"Border color of the selected menu item in menus.")),Ste=g8("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:v8,hcLight:v8},nK(0,"Color of a separator menu item in menus.")),xte=g8("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},nK(0,"Toolbar background when hovering over actions using the mouse"));g8("toolbar.hoverOutline",{dark:null,light:null,hcDark:b8,hcLight:b8},nK(0,"Toolbar outline when hovering over actions using the mouse")),g8("toolbar.activeBackground",{dark:Gte(xte,.1),light:qte(xte,.1),hcDark:null,hcLight:null},nK(0,"Toolbar background when holding the mouse over actions")),g8("editor.snippetTabstopHighlightBackground",{dark:new n9(new J6(124,124,124,.3)),light:new n9(new J6(10,50,100,.2)),hcDark:new n9(new J6(124,124,124,.3)),hcLight:new n9(new J6(10,50,100,.2))},nK(0,"Highlight background color of a snippet tabstop.")),g8("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Highlight border color of a snippet tabstop.")),g8("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Highlight background color of the final tabstop of a snippet.")),g8("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new n9(new J6(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},nK(0,"Highlight border color of the final tabstop of a snippet."));const kte=g8("breadcrumb.foreground",{light:Yte(f8,.8),dark:Yte(f8,.8),hcDark:Yte(f8,.8),hcLight:Yte(f8,.8)},nK(0,"Color of focused breadcrumb items.")),Lte=g8("breadcrumb.background",{light:lee,dark:lee,hcDark:lee,hcLight:lee},nK(0,"Background color of breadcrumb items.")),Dte=g8("breadcrumb.focusForeground",{light:qte(f8,.2),dark:Gte(f8,.1),hcDark:Gte(f8,.1),hcLight:Gte(f8,.1)},nK(0,"Color of focused breadcrumb items.")),Ete=g8("breadcrumb.activeSelectionForeground",{light:qte(f8,.2),dark:Gte(f8,.1),hcDark:Gte(f8,.1),hcLight:Gte(f8,.1)},nK(0,"Color of selected breadcrumb items."));g8("breadcrumbPicker.background",{light:uee,dark:uee,hcDark:uee,hcLight:uee},nK(0,"Background color of breadcrumb item picker."));const Nte=n9.fromHex("#40C8AE").transparent(.5),Tte=n9.fromHex("#40A6FF").transparent(.5),Ite=n9.fromHex("#606060").transparent(.4),Mte=.4,Rte=g8("merge.currentHeaderBackground",{dark:Nte,light:Nte,hcDark:null,hcLight:null},nK(0,"Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);g8("merge.currentContentBackground",{dark:Yte(Rte,Mte),light:Yte(Rte,Mte),hcDark:Yte(Rte,Mte),hcLight:Yte(Rte,Mte)},nK(0,"Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Ate=g8("merge.incomingHeaderBackground",{dark:Tte,light:Tte,hcDark:null,hcLight:null},nK(0,"Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);g8("merge.incomingContentBackground",{dark:Yte(Ate,Mte),light:Yte(Ate,Mte),hcDark:Yte(Ate,Mte),hcLight:Yte(Ate,Mte)},nK(0,"Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Ote=g8("merge.commonHeaderBackground",{dark:Ite,light:Ite,hcDark:null,hcLight:null},nK(0,"Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);g8("merge.commonContentBackground",{dark:Yte(Ote,Mte),light:Yte(Ote,Mte),hcDark:Yte(Ote,Mte),hcLight:Yte(Ote,Mte)},nK(0,"Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Pte=g8("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},nK(0,"Border color on headers and the splitter in inline merge-conflicts."));g8("editorOverviewRuler.currentContentForeground",{dark:Yte(Rte,1),light:Yte(Rte,1),hcDark:Pte,hcLight:Pte},nK(0,"Current overview ruler foreground for inline merge-conflicts.")),g8("editorOverviewRuler.incomingContentForeground",{dark:Yte(Ate,1),light:Yte(Ate,1),hcDark:Pte,hcLight:Pte},nK(0,"Incoming overview ruler foreground for inline merge-conflicts.")),g8("editorOverviewRuler.commonContentForeground",{dark:Yte(Ote,1),light:Yte(Ote,1),hcDark:Pte,hcLight:Pte},nK(0,"Common ancestor overview ruler foreground for inline merge-conflicts.")),g8("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},nK(0,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),g8("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},nK(0,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const Fte=g8("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},nK(0,"Minimap marker color for find matches."),!0);g8("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},nK(0,"Minimap marker color for repeating editor selections."),!0);const Bte=g8("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},nK(0,"Minimap marker color for the editor selection."),!0),zte=g8("minimap.infoHighlight",{dark:ree,light:ree,hcDark:see,hcLight:see},nK(0,"Minimap marker color for infos.")),Vte=g8("minimap.warningHighlight",{dark:iee,light:iee,hcDark:oee,hcLight:oee},nK(0,"Minimap marker color for warnings.")),Wte=g8("minimap.errorHighlight",{dark:new n9(new J6(255,18,18,.7)),light:new n9(new J6(255,18,18,.7)),hcDark:new n9(new J6(255,50,50,1)),hcLight:"#B5200D"},nK(0,"Minimap marker color for errors.")),Hte=g8("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Minimap background color.")),$te=g8("minimap.foregroundOpacity",{dark:n9.fromHex("#000f"),light:n9.fromHex("#000f"),hcDark:n9.fromHex("#000f"),hcLight:n9.fromHex("#000f")},nK(0,'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));g8("minimapSlider.background",{light:Yte(Q8,.5),dark:Yte(Q8,.5),hcDark:Yte(Q8,.5),hcLight:Yte(Q8,.5)},nK(0,"Minimap slider background color.")),g8("minimapSlider.hoverBackground",{light:Yte(J8,.5),dark:Yte(J8,.5),hcDark:Yte(J8,.5),hcLight:Yte(J8,.5)},nK(0,"Minimap slider background color when hovering.")),g8("minimapSlider.activeBackground",{light:Yte(eee,.5),dark:Yte(eee,.5),hcDark:Yte(eee,.5),hcLight:Yte(eee,.5)},nK(0,"Minimap slider background color when clicked on."));const jte=g8("problemsErrorIcon.foreground",{dark:nee,light:nee,hcDark:nee,hcLight:nee},nK(0,"The color used for the problems error icon.")),Ute=g8("problemsWarningIcon.foreground",{dark:iee,light:iee,hcDark:iee,hcLight:iee},nK(0,"The color used for the problems warning icon.")),Kte=g8("problemsInfoIcon.foreground",{dark:ree,light:ree,hcDark:ree,hcLight:ree},nK(0,"The color used for the problems info icon."));function qte(e,t){return{op:0,value:e,factor:t}}function Gte(e,t){return{op:1,value:e,factor:t}}function Yte(e,t){return{op:2,value:e,factor:t}}function Xte(...e){return{op:4,values:e}}function Zte(e,t,n,i){return{op:5,value:e,background:t,factor:n,transparency:i}}function Qte(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?n9.fromHex(e):t.getColor(e):e instanceof n9?e:"object"==typeof e?function(e,t){var n,i,o,r;switch(e.op){case 0:return null===(n=Qte(e.value,t))||void 0===n?void 0:n.darken(e.factor);case 1:return null===(i=Qte(e.value,t))||void 0===i?void 0:i.lighten(e.factor);case 2:return null===(o=Qte(e.value,t))||void 0===o?void 0:o.transparent(e.factor);case 3:{const n=Qte(e.background,t);return n?null===(r=Qte(e.value,t))||void 0===r?void 0:r.makeOpaque(n):Qte(e.value,t)}case 4:for(const n of e.values){const e=Qte(n,t);if(e)return e}return;case 6:return Qte(t.defines(e.if)?e.then:e.else,t);case 5:{const n=Qte(e.value,t);if(!n)return;const i=Qte(e.background,t);return i?n.isDarkerThan(i)?n9.getLighterColor(n,i,e.factor).transparent(e.transparency):n9.getDarkerColor(n,i,e.factor).transparent(e.transparency):n.transparent(e.factor*e.transparency)}default:throw KJ()}}(e,t):void 0}g8("charts.foreground",{dark:f8,light:f8,hcDark:f8,hcLight:f8},nK(0,"The foreground color used in charts.")),g8("charts.lines",{dark:Yte(f8,.5),light:Yte(f8,.5),hcDark:Yte(f8,.5),hcLight:Yte(f8,.5)},nK(0,"The color used for horizontal lines in charts.")),g8("charts.red",{dark:nee,light:nee,hcDark:nee,hcLight:nee},nK(0,"The red color used in chart visualizations.")),g8("charts.blue",{dark:ree,light:ree,hcDark:ree,hcLight:ree},nK(0,"The blue color used in chart visualizations.")),g8("charts.yellow",{dark:iee,light:iee,hcDark:iee,hcLight:iee},nK(0,"The yellow color used in chart visualizations.")),g8("charts.orange",{dark:Fte,light:Fte,hcDark:Fte,hcLight:Fte},nK(0,"The orange color used in chart visualizations.")),g8("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},nK(0,"The green color used in chart visualizations.")),g8("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},nK(0,"The purple color used in chart visualizations."));const Jte="vscode://schemas/workbench-colors",ene=YJ.as(_5);ene.registerSchema(Jte,d8.getColorSchema());const tne=new n4((()=>ene.notifySchemaChanged(Jte)),200);d8.onDidChangeSchema((()=>{tne.isScheduled()||tne.schedule()}));class nne{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new ine(this.x-window.scrollX,this.y-window.scrollY)}}class ine{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new nne(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class one{constructor(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i,this._editorPagePositionBrand=void 0}}class rne{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function sne(e){const t=j1(e);return new one(t.left,t.top,t.width,t.height)}function ane(e,t,n){const i=t.width/e.offsetWidth,o=t.height/e.offsetHeight,r=(n.x-t.x)/i,s=(n.y-t.y)/o;return new rne(r,s)}class lne extends x0{constructor(e,t,n){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new nne(this.posx,this.posy),this.editorPos=sne(n),this.relativePos=ane(n,this.editorPos,this.pos)}}class cne{constructor(e){this._editorViewDomNode=e}_create(e){return new lne(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return O1(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return O1(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return O1(e,r2.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return O1(e,r2.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return O1(e,r2.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return O1(e,"mousemove",(e=>t(this._create(e))))}}class une{constructor(e){this._editorViewDomNode=e}_create(e){return new lne(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return O1(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return O1(e,r2.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return O1(e,r2.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return O1(e,"pointermove",(e=>t(this._create(e))))}}class hne extends Yq{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new l8),this._keydownListener=null}startMonitoring(e,t,n,i,o){this._keydownListener=P1(e.ownerDocument,"keydown",(e=>{e.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,n,(e=>{i(new lne(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),o(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class dne extends Yq{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,i=e.length;n<i;n++){const i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}class gne extends dne{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class fne{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){const n=[];let i=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(i);for(let r=0;r<i;r++)o[r]=n[i-r-1];return o}}class pne{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class mne extends pne{constructor(e,t,n){super(e,t),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class vne{constructor(e,t,n,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n,this.continuesOnNextLine=i}}class bne{static from(e){const t=new Array(e.length);for(let n=0,i=e.length;n<i;n++){const i=e[n];t[n]=new bne(i.left,i.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class _ne{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class yne{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class wne{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class Cne{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,n,i,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(n,i),r.getClientRects()}catch(fTe){return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(_ne.compare);const t=[];let n=0,i=e[0];for(let o=1,r=e.length;o<r;o++){const r=e[o];i.left+i.width+.9>=r.left?i.width=Math.max(i.width,r.left+r.width-i.left):(t[n++]=i,i=r)}return t[n++]=i,t}static _createHorizontalRangesFromClientRects(e,t,n){if(!e||0===e.length)return null;const i=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];i[o]=new _ne(Math.max(0,(r.left-t)/n),r.width/n)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,n,i,o,r){const s=e.children.length-1;if(0>s)return null;if((t=Math.min(s,Math.max(0,t)))===(i=Math.min(s,Math.max(0,i)))&&n===o&&0===n&&!e.children[t].firstChild){const n=e.children[t].getClientRects();return r.markDidDomLayout(),this._createHorizontalRangesFromClientRects(n,r.clientRectDeltaLeft,r.clientRectScale)}t!==i&&i>0&&0===o&&(i--,o=1073741824);let a=e.children[t].firstChild,l=e.children[i].firstChild;if(a&&l||(!a&&0===n&&t>0&&(a=e.children[t-1].firstChild,n=1073741824),!l&&0===o&&i>0&&(l=e.children[i-1].firstChild,o=1073741824)),!a||!l)return null;n=Math.min(a.textContent.length,Math.max(0,n)),o=Math.min(l.textContent.length,Math.max(0,o));const c=this._readClientRects(a,n,l,o,r.endNode);return r.markDidDomLayout(),this._createHorizontalRangesFromClientRects(c,r.clientRectDeltaLeft,r.clientRectScale)}}var Sne,xne;function kne(e){return e===Sne.HIGH_CONTRAST_DARK||e===Sne.HIGH_CONTRAST_LIGHT}function Lne(e){return e===Sne.DARK||e===Sne.HIGH_CONTRAST_DARK}(xne=Sne||(Sne={})).DARK="dark",xne.LIGHT="light",xne.HIGH_CONTRAST_DARK="hcDark",xne.HIGH_CONTRAST_LIGHT="hcLight";const Dne=!!SK||!(CK||gQ||mQ);let Ene=!0;class Nne{constructor(e,t){this.themeType=t;const n=e.options,i=n.get(50),o=n.get(38);this.renderWhitespace="off"===o?n.get(98):"none",this.renderControlCharacters=n.get(93),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.useMonospaceOptimizations=i.isMonospace&&!n.get(33),this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(66),this.stopRenderingLineAfter=n.get(116),this.fontLigatures=n.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Tne{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=CQ(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return!(!kne(this._options.themeType)&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,n,i){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=n.getViewLineRenderingData(e),r=this._options,s=B9.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(kne(r.themeType)||"selection"===this._options.renderWhitespace){const t=n.selections;for(const n of t){if(n.endLineNumber<e||n.startLineNumber>e)continue;const t=n.startLineNumber===e?n.startColumn:o.minColumn,i=n.endLineNumber===e?n.endColumn:o.maxColumn;t<i&&(kne(r.themeType)&&s.push(new B9(t,i,"inline-selected-text",0)),"selection"===this._options.renderWhitespace&&(a||(a=[]),a.push(new $9(t-1,i-1))))}}const l=new j9(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,s,o.tabSize,o.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==gq.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;i.appendString('<div style="top:'),i.appendString(String(t)),i.appendString("px;height:"),i.appendString(String(this._options.lineHeight)),i.appendString('px;" class="'),i.appendString(Tne.CLASS_NAME),i.appendString('">');const c=G9(l,i);i.appendString("</div>");let u=null;return Ene&&Dne&&o.isBasicASCII&&r.useMonospaceOptimizations&&0===c.containsForeignElements&&(u=new Ine(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),u||(u=Ane(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=u,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Ine}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Ine?this._renderedViewLine.monospaceAssumptionsAreValid():Ene}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Ine&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,n,i){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n));const o=this._renderedViewLine.input.stopRenderingLineAfter;if(-1!==o&&t>o+1&&n>o+1)return new wne(!0,[new _ne(this.getWidth(i),0)]);-1!==o&&t>o+1&&(t=o+1),-1!==o&&n>o+1&&(n=o+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,n,i);return r&&r.length>0?new wne(!1,r):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}}Tne.CLASS_NAME="view-line";class Ine{constructor(e,t,n){this._cachedWidth=-1,this.domNode=e,this.input=t;const i=Math.floor(t.lineContent.length/300);if(i>0){this._keyColumnPixelOffsetCache=new Float32Array(i);for(let e=0;e<i;e++)this._keyColumnPixelOffsetCache[e]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=n,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const e=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*e)}return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,null==e||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||-1!==this._cachedWidth}monospaceAssumptionsAreValid(){if(!this.domNode)return Ene;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Ene=!1)}return Ene}toSlowRenderedLine(){return Ane(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,n,i){const o=this._getColumnPixelOffset(e,t,i),r=this._getColumnPixelOffset(e,n,i);return[new _ne(o,r-o)]}_getColumnPixelOffset(e,t,n){if(t<=300){const e=this._characterMapping.getHorizontalOffset(t);return this._charWidth*e}const i=Math.floor((t-1)/300)-1,o=300*(i+1)+1;let r=-1;if(this._keyColumnPixelOffsetCache&&(r=this._keyColumnPixelOffsetCache[i],-1===r&&(r=this._actualReadPixelOffset(e,o,n),this._keyColumnPixelOffsetCache[i]=r)),-1===r){const e=this._characterMapping.getHorizontalOffset(t);return this._charWidth*e}const s=this._characterMapping.getHorizontalOffset(o),a=this._characterMapping.getHorizontalOffset(t);return r+this._charWidth*(a-s)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,n){if(!this.domNode)return-1;const i=this._characterMapping.getDomPosition(t),o=Cne.readHorizontalRanges(this._getReadingTarget(this.domNode),i.partIndex,i.charIndex,i.partIndex,i.charIndex,n);return o&&0!==o.length?o[0].left:-1}getColumnOfNodeOffset(e,t){return Fne(this._characterMapping,e,t)}}class Mne{constructor(e,t,n,i,o){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,null==e||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,n,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const o=this._readPixelOffset(this.domNode,e,t,i);if(-1===o)return null;const r=this._readPixelOffset(this.domNode,e,n,i);return-1===r?null:[new _ne(o,r-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,n,i)}_readVisibleRangesForRange(e,t,n,i,o){if(n===i){const i=this._readPixelOffset(e,t,n,o);return-1===i?null:[new _ne(i,0)]}return this._readRawVisibleRangesForRange(e,n,i,o)}_readPixelOffset(e,t,n,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth(i);const t=this._getReadingTarget(e);return t.firstChild?(i.markDidDomLayout(),t.firstChild.offsetWidth):0}if(null!==this._pixelOffsetCache){const o=this._pixelOffsetCache[n];if(-1!==o)return o;const r=this._actualReadPixelOffset(e,t,n,i);return this._pixelOffsetCache[n]=r,r}return this._actualReadPixelOffset(e,t,n,i)}_actualReadPixelOffset(e,t,n,i){if(0===this._characterMapping.length){const t=Cne.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i);return t&&0!==t.length?t[0].left:-1}if(n===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth(i);const o=this._characterMapping.getDomPosition(n),r=Cne.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,i);if(!r||0===r.length)return-1;const s=r[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getHorizontalOffset(n),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-s)<=1)return t}return s}_readRawVisibleRangesForRange(e,t,n,i){if(1===t&&n===this._characterMapping.length)return[new _ne(0,this.getWidth(i))];const o=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(n);return Cne.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,r.partIndex,r.charIndex,i)}getColumnOfNodeOffset(e,t){return Fne(this._characterMapping,e,t)}}class Rne extends Mne{_readVisibleRangesForRange(e,t,n,i,o){const r=super._readVisibleRangesForRange(e,t,n,i,o);if(!r||0===r.length||n===i||1===n&&i===this._characterMapping.length)return r;if(!this.input.containsRTL){const n=this._readPixelOffset(e,t,i,o);if(-1!==n){const e=r[r.length-1];e.left<n&&(e.width=n-e.left)}}return r}}const Ane=fQ?One:Pne;function One(e,t,n,i,o){return new Rne(e,t,n,i,o)}function Pne(e,t,n,i,o){return new Mne(e,t,n,i,o)}function Fne(e,t,n){const i=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return e.getColumn(new U9(o,n),i)}class Bne{static _nextVisibleColumn(e,t,n){return 9===e?Bne.nextRenderTabStop(t,n):XZ(e)||ZZ(e)?t+2:t+1}static visibleColumnFromColumn(e,t,n){const i=Math.min(t-1,e.length),o=e.substring(0,i),r=new WZ(o);let s=0;for(;!r.eol();){const e=zZ(o,i,r.offset);r.nextGraphemeLength(),s=this._nextVisibleColumn(e,s,n)}return s}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const i=e.length,o=new WZ(e);let r=0,s=1;for(;!o.eol();){const a=zZ(e,i,o.offset);o.nextGraphemeLength();const l=this._nextVisibleColumn(a,r,n),c=o.offset+1;if(l>=t){return l-t<t-r?c:s}r=l,s=c}return i+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class zne{static whitespaceVisibleColumn(e,t,n){const i=e.length;let o=0,r=-1,s=-1;for(let a=0;a<i;a++){if(a===t)return[r,s,o];o%n==0&&(r=a,s=o);switch(e.charCodeAt(a)){case 32:o+=1;break;case 9:o=Bne.nextRenderTabStop(o,n);break;default:return[-1,-1,-1]}}return t===i?[r,s,o]:[-1,-1,-1]}static atomicPosition(e,t,n,i){const o=e.length,[r,s,a]=zne.whitespaceVisibleColumn(e,t,n);if(-1===a)return-1;let l;switch(i){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%n==0)return t;l=a%n<=n/2}if(l){if(-1===r)return-1;let t=s;for(let i=r;i<o;++i){if(t===s+n)return r;switch(e.charCodeAt(i)){case 32:t+=1;break;case 9:t=Bne.nextRenderTabStop(t,n);break;default:return-1}}return t===s+n?r:-1}const c=Bne.nextRenderTabStop(a,n);let u=a;for(let h=t;h<o;h++){if(u===c)return h;switch(e.charCodeAt(h)){case 32:u+=1;break;case 9:u=Bne.nextRenderTabStop(u,n);break;default:return-1}}return u===c?o:-1}}class Vne{constructor(e=null){this.hitTarget=e,this.type=0}}class Wne{constructor(e,t,n){this.position=e,this.spanNode=t,this.injectedText=n,this.type=1}}var Hne;(Hne||(Hne={})).createFromDOMInfo=function(e,t,n){const i=e.getPositionFromDOMInfo(t,n);return i?new Wne(i,t,null):new Vne(t)};class $ne{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class jne{static _deduceRage(e,t=null){return!t&&e?new _Y(e.lineNumber,e.column,e.lineNumber,e.column):null!=t?t:null}static createUnknown(e,t,n){return{type:0,element:e,mouseColumn:t,position:n,range:this._deduceRage(n)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,n,i,o,r){return{type:e,element:t,mouseColumn:n,position:i,range:o,detail:r}}static createViewZone(e,t,n,i,o){return{type:e,element:t,mouseColumn:n,position:i,range:this._deduceRage(i),detail:o}}static createContentText(e,t,n,i,o){return{type:6,element:e,mouseColumn:t,position:n,range:this._deduceRage(n,i),detail:o}}static createContentEmpty(e,t,n,i){return{type:7,element:e,mouseColumn:t,position:n,range:this._deduceRage(n),detail:i}}static createContentWidget(e,t,n){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:n}}static createScrollbar(e,t,n){return{type:11,element:e,mouseColumn:t,position:n,range:this._deduceRage(n)}}static createOverlayWidget(e,t,n){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:n}}static createOutsideEditor(e,t,n,i){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:n,outsideDistance:i}}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Une{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowGuard(e){return e.length>=1&&3===e[0]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class Kne{constructor(e,t,n){this.viewModel=e.viewModel;const i=e.configuration.options;this.layoutInfo=i.get(143),this.viewDomNode=t.viewDomNode,this.lineHeight=i.get(66),this.stickyTabStops=i.get(115),this.typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Kne.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){const i=n.verticalOffset+n.height/2,o=e.viewModel.getLineCount();let r,s=null,a=null;return n.afterLineNumber!==o&&(a=new bY(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(s=new bY(n.afterLineNumber,e.viewModel.getLineMaxColumn(n.afterLineNumber))),r=null===a?s:null===s?a:t<i?s:a,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:s,positionAfter:a,position:r}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.viewModel.getLineCount(),t=this._context.viewModel.getLineMaxColumn(e);return{range:new _Y(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),n=this._context.viewModel.getLineMaxColumn(t);return{range:new _Y(t,1,t,n),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Kne._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,n){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class qne{constructor(e,t,n,i){this.editorPos=t,this.pos=n,this.relativePos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Zne._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Gne extends qne{constructor(e,t,n,i,o){super(e,t,n,i),this._ctx=e,o?(this.target=o,this.targetPath=fne.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Bne.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return jne.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return jne.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,n,i){return jne.createMargin(e,this.target,this._getMouseColumn(t),t,n,i)}fulfillViewZone(e,t,n){return jne.createViewZone(e,this.target,this._getMouseColumn(t),t,n)}fulfillContentText(e,t,n){return jne.createContentText(this.target,this._getMouseColumn(e),e,t,n)}fulfillContentEmpty(e,t){return jne.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return jne.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return jne.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return jne.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new Gne(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const Yne={isAfterLines:!0};function Xne(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class Zne{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,n=fne.collect(t,this._viewHelper.viewDomNode);return!(!Une.isChildOfContentWidgets(n)&&!Une.isChildOfOverflowingContentWidgets(n))||!!Une.isChildOfOverlayWidgets(n)}createMouseTarget(e,t,n,i,o){const r=new Kne(this._context,this._viewHelper,e),s=new Gne(r,t,n,i,o);try{const e=Zne._createMouseTarget(r,s,!1);if(6===e.type&&r.stickyTabStops&&null!==e.position){const t=Zne._snapToSoftTabBoundary(e.position,r.viewModel),n=_Y.fromPositions(t,t).plusRange(e.range);return s.fulfillContentText(t,n,e.detail)}return e}catch(a){return s.fulfillUnknown()}}static _createMouseTarget(e,t,n){if(null===t.target){if(n)return t.fulfillUnknown();const i=Zne._doHitTest(e,t);return 1===i.type?Zne.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}const i=t;let o=null;return Une.isChildOfOverflowGuard(t.targetPath)||Une.isChildOfOverflowingContentWidgets(t.targetPath)||(o=o||t.fulfillUnknown()),o=o||Zne._hitTestContentWidget(e,i),o=o||Zne._hitTestOverlayWidget(e,i),o=o||Zne._hitTestMinimap(e,i),o=o||Zne._hitTestScrollbarSlider(e,i),o=o||Zne._hitTestViewZone(e,i),o=o||Zne._hitTestMargin(e,i),o=o||Zne._hitTestViewCursor(e,i),o=o||Zne._hitTestTextArea(e,i),o=o||Zne._hitTestViewLines(e,i,n),o=o||Zne._hitTestScrollbar(e,i),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Une.isChildOfContentWidgets(t.targetPath)||Une.isChildOfOverflowingContentWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfillContentWidget(n):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Une.isChildOfOverlayWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfillOverlayWidget(n):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const n=e.lastRenderData.lastViewCursorsRenderData;for(const e of n)if(t.target===e.domNode)return t.fulfillContentText(e.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const n=e.lastRenderData.lastViewCursorsRenderData,i=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const r of n){if(i<r.contentLeft)continue;if(i>r.contentLeft+r.width)continue;const n=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(n<=o&&o<=n+r.height)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){const e=t.isInContentArea?8:5;return t.fulfillViewZone(e,n.position,n)}return null}static _hitTestTextArea(e,t){return Une.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition();let o=Math.abs(t.relativePos.x);const r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,i,n.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,i,n.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,i,n.range,r)))}return null}static _hitTestViewLines(e,t,n){if(!Une.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new bY(1,1),Yne);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const n=e.viewModel.getLineCount(),i=e.viewModel.getLineMaxColumn(n);return t.fulfillContentEmpty(new bY(n,i),Yne)}if(n){if(Une.isStrictChildOfViewLines(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.viewModel.getLineLength(n)){const i=e.getLineWidth(n),o=Xne(t.mouseContentHorizontalOffset-i);return t.fulfillContentEmpty(new bY(n,1),o)}const i=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>=i){const o=Xne(t.mouseContentHorizontalOffset-i),r=new bY(n,e.viewModel.getLineMaxColumn(n));return t.fulfillContentEmpty(r,o)}}return t.fulfillUnknown()}const i=Zne._doHitTest(e,t);return 1===i.type?Zne.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}static _hitTestMinimap(e,t){if(Une.isChildOfMinimap(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new bY(n,i))}return null}static _hitTestScrollbarSlider(e,t){if(Une.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new bY(n,i))}}return null}static _hitTestScrollbar(e,t){if(Une.isChildOfScrollableElement(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new bY(n,i))}return null}getMouseColumn(e){const t=this._context.configuration.options,n=t.get(143),i=this._context.viewLayout.getCurrentScrollLeft()+e.x-n.contentLeft;return Zne._getMouseColumn(i,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,n,i,o){const r=i.lineNumber,s=i.column,a=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>a){const e=Xne(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(i,e)}const l=e.visibleRangeForPosition(r,s);if(!l)return t.fulfillUnknown(i);const c=l.left;if(Math.abs(t.mouseContentHorizontalOffset-c)<1)return t.fulfillContentText(i,null,{mightBeForeignElement:!!o,injectedText:o});const u=[];if(u.push({offset:l.left,column:s}),s>1){const t=e.visibleRangeForPosition(r,s-1);t&&u.push({offset:t.left,column:s-1})}if(s<e.viewModel.getLineMaxColumn(r)){const t=e.visibleRangeForPosition(r,s+1);t&&u.push({offset:t.left,column:s+1})}u.sort(((e,t)=>e.offset-t.offset));const h=t.pos.toClientCoordinates(),d=n.getBoundingClientRect(),g=d.left<=h.clientX&&h.clientX<=d.right;let f=null;for(let p=1;p<u.length;p++){const e=u[p-1],n=u[p];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=n.offset){f=new _Y(r,e.column,r,n.column);const o=Math.abs(e.offset-t.mouseContentHorizontalOffset),s=Math.abs(n.offset-t.mouseContentHorizontalOffset);i=new bY(r,o<s?e.column:n.column);break}}return t.fulfillContentText(i,f,{mightBeForeignElement:!g||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n),o=i+e.lineHeight;if(!(n===e.viewModel.getLineCount()&&t.mouseVerticalOffset>o)){const n=Math.floor((i+o)/2);let r=t.pos.y+(n-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+t.editorPos.height&&(r=t.editorPos.y+t.editorPos.height-1);const s=new nne(t.pos.x,r),a=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());if(1===a.type)return a}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const n=J1(e.viewDomNode);let i;if(i=n?void 0===n.caretRangeFromPoint?function(e,t,n){const i=document.createRange();let o=e.elementFromPoint(t,n);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),n=`${window.getComputedStyle(o,null).getPropertyValue("font-style")} ${window.getComputedStyle(o,null).getPropertyValue("font-variant")} ${window.getComputedStyle(o,null).getPropertyValue("font-weight")} ${window.getComputedStyle(o,null).getPropertyValue("font-size")}/${window.getComputedStyle(o,null).getPropertyValue("line-height")} ${window.getComputedStyle(o,null).getPropertyValue("font-family")}`,r=o.innerText;let s,a=e.left,l=0;if(t>e.left+e.width)l=r.length;else{const e=Qne.getInstance();for(let i=0;i<r.length+1;i++){if(s=e.getCharWidth(r.charAt(i),n)/2,a+=s,t<a){l=i;break}a+=s}}i.setStart(o.firstChild,l),i.setEnd(o.firstChild,l)}return i}(n,t.clientX,t.clientY):n.caretRangeFromPoint(t.clientX,t.clientY):e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!i||!i.startContainer)return new Vne;const o=i.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,n=t?t.parentNode:null,r=n?n.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Tne.CLASS_NAME?Hne.createFromDOMInfo(e,t,i.startOffset):new Vne(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,n=t?t.parentNode:null;return(n&&n.nodeType===n.ELEMENT_NODE?n.className:null)===Tne.CLASS_NAME?Hne.createFromDOMInfo(e,o,o.textContent.length):new Vne(o)}return new Vne}static _doHitTestWithCaretPositionFromPoint(e,t){const n=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){const t=n.offsetNode.parentNode,i=t?t.parentNode:null,o=i?i.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Tne.CLASS_NAME?Hne.createFromDOMInfo(e,n.offsetNode.parentNode,n.offset):new Vne(n.offsetNode.parentNode)}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){const t=n.offsetNode.parentNode,i=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,r=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(i===Tne.CLASS_NAME){const t=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(t)return Hne.createFromDOMInfo(e,t,0)}else if(r===Tne.CLASS_NAME)return Hne.createFromDOMInfo(e,n.offsetNode,0)}return new Vne(n.offsetNode)}static _snapToSoftTabBoundary(e,t){const n=t.getLineContent(e.lineNumber),{tabSize:i}=t.model.getOptions(),o=zne.atomicPosition(n,e.column-1,i,2);return-1!==o?new bY(e.lineNumber,o+1):e}static _doHitTest(e,t){let n=new Vne;if("function"==typeof e.viewDomNode.ownerDocument.caretRangeFromPoint?n=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(n=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===n.type){const t=e.viewModel.getInjectedTextAt(n.position),i=e.viewModel.normalizePosition(n.position,2);!t&&i.equals(n.position)||(n=new Wne(i,n.spanNode,t))}return n}}class Qne{static getInstance(){return Qne._INSTANCE||(Qne._INSTANCE=new Qne),Qne._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const n=e+t;if(this._cache[n])return this._cache[n];const i=this._canvas.getContext("2d");i.font=t;const o=i.measureText(e).width;return this._cache[n]=o,o}}Qne._INSTANCE=null;let Jne=class extends Yq{onclick(e,t){this._register(O1(e,r2.CLICK,(e=>t(new x0(e)))))}onmousedown(e,t){this._register(O1(e,r2.MOUSE_DOWN,(e=>t(new x0(e)))))}onmouseover(e,t){this._register(O1(e,r2.MOUSE_OVER,(e=>t(new x0(e)))))}onmouseleave(e,t){this._register(O1(e,r2.MOUSE_LEAVE,(e=>t(new x0(e)))))}onkeydown(e,t){this._register(O1(e,r2.KEY_DOWN,(e=>t(new _0(e)))))}onkeyup(e,t){this._register(O1(e,r2.KEY_UP,(e=>t(new _0(e)))))}oninput(e,t){this._register(O1(e,r2.INPUT,t))}onblur(e,t){this._register(O1(e,r2.BLUR,t))}onfocus(e,t){this._register(O1(e,r2.FOCUS,t))}ignoreGesture(e){return a8.ignoreTarget(e)}};const eie=11;class tie extends Jne{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...VQ.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new l8),this._register(P1(this.bgDomNode,r2.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._register(P1(this.domNode,r2.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._pointerdownRepeatTimer=this._register(new t4),this._pointerdownScheduleRepeatTimer=this._register(new e4)}_arrowPointerDown(e){if(!(e.target&&e.target instanceof Element))return;this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((()=>{this._pointerdownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{}),(()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class nie extends Yq{constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new e4)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{var e;null===(e=this._domNode)||void 0===e||e.setClassName(this._visibleClassName)}),0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}class iie extends Jne{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new nie(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new l8),this._shouldRender=!0,this.domNode=CQ(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(O1(this.domNode.domNode,r2.POINTER_DOWN,(e=>this._domNodePointerDown(e))))}_createArrow(e){const t=this._register(new tie(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,i){this.slider=CQ(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof n&&this.slider.setWidth(n),"number"==typeof i&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(O1(this.slider.domNode,r2.POINTER_DOWN,(e=>{0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);n<=o&&o<=i?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,n;if(e.target===this.domNode.domNode&&"number"==typeof e.offsetX&&"number"==typeof e.offsetY)t=e.offsetX,n=e.offsetY;else{const i=j1(this.domNode.domNode);t=e.pageX-i.left,n=e.pageY-i.top}const i=this._pointerDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(i):this._scrollbarState.getDesiredScrollPositionFromOffset(i)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!(e.target&&e.target instanceof Element))return;const t=this._sliderPointerPosition(e),n=this._sliderOrthogonalPointerPosition(e),i=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{const o=this._sliderOrthogonalPointerPosition(e),r=Math.abs(o-n);if(yK&&r>140)return void this._setDesiredScrollPositionNow(i.getScrollPosition());const s=this._sliderPointerPosition(e)-t;this._setDesiredScrollPositionNow(i.getDesiredScrollPositionFromDelta(s))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class oie{constructor(e,t,n,i,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=i,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new oie(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,n,i,o){const r=Math.max(0,n-e),s=Math.max(0,r-2*t),a=i>0&&i>n;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(n*s/i))),c=(s-l)/(i-n),u=o*c;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=oie._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class rie extends iie{constructor(e,t,n){const i=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new oie(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,i.width,i.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-eie)/2,n=(t.horizontalScrollbarSize-eie)/2;this._createArrow({className:"scra",icon:xY.scrollbarButtonLeft,top:n,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k0(null,1,0))}),this._createArrow({className:"scra",icon:xY.scrollbarButtonRight,top:n,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k0(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class sie extends iie{constructor(e,t,n){const i=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new oie(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,i.height,i.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-eie)/2,n=(t.verticalScrollbarSize-eie)/2;this._createArrow({className:"scra",icon:xY.scrollbarButtonUp,top:e,left:n,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new k0(null,0,1))}),this._createArrow({className:"scra",icon:xY.scrollbarButtonDown,top:void 0,left:n,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new k0(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class aie{constructor(e,t,n,i,o,r,s){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t|=0,n|=0,i|=0,o|=0,r|=0,s|=0),this.rawScrollLeft=i,this.rawScrollTop=s,t<0&&(t=0),i+t>n&&(i=n-t),i<0&&(i=0),o<0&&(o=0),s+o>r&&(s=r-o),s<0&&(s=0),this.width=t,this.scrollWidth=n,this.scrollLeft=i,this.height=o,this.scrollHeight=r,this.scrollTop=s}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new aie(this._forceIntegerValues,void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new aie(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const n=this.width!==e.width,i=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:i,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:s,scrollTopChanged:a}}}class lie extends Yq{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new sG),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new aie(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var n;const i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),null===(n=this._smoothScrolling)||void 0===n||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let i;i=t?new hie(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=hie.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}class cie{constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}}function uie(e,t){const n=t-e;return function(t){return e+n*(1-function(e){return Math.pow(e,3)}(1-t))}}class hie{constructor(e,t,n,i){this.from=e,this.to=t,this.duration=i,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let i,o;return e<t?(i=e+.75*n,o=t-.75*n):(i=e-.75*n,o=t+.75*n),function(e,t,n){return function(i){return i<n?e(i/n):t((i-n)/(1-n))}}(uie(e,i),uie(o,t),.33)}return uie(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),n=this.scrollTop(t);return new cie(e,n,!1)}return new cie(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return hie.start(e,t,n)}static start(e,t,n){n+=10;const i=Date.now()-10;return new hie(e,t,i,n)}}class die{constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}}class gie{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,n=1,i=this._rear;for(;;){const o=i===this._front?e:Math.pow(2,-n);if(e-=o,t+=this._memory[i].score*o,i===this._front)break;i=(this._capacity+i-1)%this._capacity,n++}return t<=.5}acceptStandardWheelEvent(e){const t=window.devicePixelRatio/aQ.INSTANCE.getZoomFactor();yK||CK?this.accept(Date.now(),e.deltaX/t,e.deltaY/t):this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,n){const i=new die(e,t,n);i.score=this._computeScore(i),-1===this._front&&-1===this._rear?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}gie.INSTANCE=new gie;class fie extends Jne{get options(){return this._options}constructor(e,t,n){super(),this._onScroll=this._register(new sG),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new sG),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,wK&&(t.className+=" mac");return t}(t),this._scrollable=n,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const i={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new sie(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new rie(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=CQ(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=CQ(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=CQ(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onmouseleave(this._listenOnDomNode,(e=>this._onMouseLeave(e))),this._hideTimeout=this._register(new e4),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Uq(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,wK&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new k0(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Uq(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new k0(e))};this._mouseWheelToDispose.push(O1(this._listenOnDomNode,r2.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){var t;if(null===(t=e.browserEvent)||void 0===t?void 0:t.defaultPrevented)return;const n=gie.INSTANCE;n.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let t=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+t===0?o=t=0:Math.abs(t)>=Math.abs(o)?o=0:t=0),this._options.flipAxes&&([t,o]=[o,t]);const r=!wK&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=t,t=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,t*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(t){const e=50*t,n=s.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,n)}if(o){const e=50*o,t=s.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&n.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}}let o=i;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,i=n?" left":"",o=t?" top":"",r=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${i}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${i}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class pie extends fie{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const n=new lie({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:e=>B1(e)});super(e,t,n),this._register(n)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class mie extends fie{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class vie extends fie{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const n=new lie({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:e=>B1(e)});super(e,t,n),this._register(n),this._element=e,this._register(this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}))),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class bie extends dne{constructor(e,t,n){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=n,this.mouseTargetFactory=new Zne(this._context,n),this._mouseDownOperation=this._register(new _ie(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const i=new cne(this.viewHelper.viewDomNode);this._register(i.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(i.onMouseMove(this.viewHelper.viewDomNode,(e=>{this._onMouseMove(e),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=O1(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(e=>{this.viewHelper.viewDomNode.contains(e.target)||this._onMouseLeave(new lne(e,!1,this.viewHelper.viewDomNode))})))}))),this._register(i.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e))));let o=0;this._register(i.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>{o=t}))),this._register(O1(this.viewHelper.viewDomNode,r2.POINTER_UP,(e=>{this._mouseDownOperation.onPointerUp()}))),this._register(i.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e,o)))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=gie.INSTANCE;let t=0,n=LQ.getZoomLevel(),i=!1,o=0;function r(e){return wK?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}this._register(O1(this.viewHelper.viewDomNode,r2.MOUSE_WHEEL,(s=>{if(this.viewController.emitMouseWheel(s),!this._context.configuration.options.get(75))return;const a=new k0(s);if(e.acceptStandardWheelEvent(a),e.isPhysicalMouseWheel()){if(r(s)){const e=LQ.getZoomLevel(),t=a.deltaY>0?1:-1;LQ.setZoomLevel(e+t),a.preventDefault(),a.stopPropagation()}}else Date.now()-t>50&&(n=LQ.getZoomLevel(),i=r(s),o=0),t=Date.now(),o+=a.deltaY,i&&(LQ.setZoomLevel(n+o/5),a.preventDefault(),a.stopPropagation())}),{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(143)){const e=this._context.configuration.options.get(143).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const n=new ine(e,t).toPageCoordinates(),i=sne(this.viewHelper.viewDomNode);if(n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width)return null;const o=ane(this.viewHelper.viewDomNode,i,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i,n,o,null)}_createMouseTarget(e,t){let n=e.target;if(!this.viewHelper.viewDomNode.contains(n)){const t=J1(this.viewHelper.viewDomNode);t&&(n=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?n:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const n=this._createMouseTarget(e,!0),i=6===n.type||7===n.type,o=2===n.type||3===n.type||4===n.type,r=3===n.type,s=this._context.configuration.options.get(108),a=8===n.type||5===n.type,l=9===n.type;let c=e.leftButton||e.middleButton;wK&&e.leftButton&&e.ctrlKey&&(c=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(i||r&&s))u(),this._mouseDownOperation.start(n.type,e,t);else if(o)e.preventDefault();else if(a){const i=n.detail;c&&this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(u(),this._mouseDownOperation.start(n.type,e,t),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})}}class _ie extends Yq{constructor(e,t,n,i,o,r){super(),this._context=e,this._viewController=t,this._viewHelper=n,this._mouseTargetFactory=i,this._createMouseTarget=o,this._getMouseColumn=r,this._mouseMoveMonitor=this._register(new hne(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new yie(this._context,this._viewHelper,this._mouseTargetFactory,((e,t,n)=>this._dispatchMouse(e,t,n)))),this._mouseState=new Cie,this._currentSelection=new yY(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):13!==t.type||"above"!==t.outsidePosition&&"below"!==t.outsidePosition?(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)):this._topBottomDragScrolling.start(t,e))}start(e,t,n){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(90)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,t.buttons,(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!1);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,t.buttons,(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,n=this._context.viewModel,i=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const n=t.y-e.posy,r=Math.max(i.getCurrentScrollTop()-n,0),s=Kne.getZoneAtCoord(this._context,r);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return jne.createOutsideEditor(o,e,"above",n)}const a=i.getLineNumberAtVerticalOffset(r);return jne.createOutsideEditor(o,new bY(a,1),"above",n)}if(e.posy>t.y+t.height){const r=e.posy-t.y-t.height,s=i.getCurrentScrollTop()+e.relativePos.y,a=Kne.getZoneAtCoord(this._context,s);if(a){const e=this._helpPositionJumpOverViewZone(a);if(e)return jne.createOutsideEditor(o,e,"below",r)}const l=i.getLineNumberAtVerticalOffset(s);return jne.createOutsideEditor(o,new bY(l,n.getLineMaxColumn(l)),"below",r)}const r=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const n=t.x-e.posx;return jne.createOutsideEditor(o,new bY(r,1),"left",n)}if(e.posx>t.x+t.width){const i=e.posx-t.x-t.width;return jne.createOutsideEditor(o,new bY(r,n.getLineMaxColumn(r)),"right",i)}return null}_findMousePosition(e,t){const n=this._getPositionOutsideEditor(e);if(n)return n;const i=this._createMouseTarget(e,t);if(!i.position)return null;if(8===i.type||5===i.type){const e=this._helpPositionJumpOverViewZone(i.detail);if(e)return jne.createViewZone(i.type,i.element,i.mouseColumn,e,i.detail)}return i}_helpPositionJumpOverViewZone(e){const t=new bY(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null}_dispatchMouse(e,t,n){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:n,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===e.type&&null!==e.detail.injectedText})}}class yie extends Yq{constructor(e,t,n,i){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=n,this._dispatchMouse=i,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new wie(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class wie extends Yq{constructor(e,t,n,i,o,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=n,this._dispatchMouse=i,this._position=o,this._mouseEvent=r,this._lastTime=Date.now(),this._animationFrameDisposable=B1((()=>this._execute()))}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(66),t=this._context.configuration.options.get(143).height/e,n=this._position.outsideDistance/e;return n<=1.5?Math.max(30,t*(1+n)):n<=3?Math.max(60,t*(2+n)):Math.max(200,t*(7+n))}_execute(){const e=this._context.configuration.options.get(66),t=this._getScrollSpeed()*(this._tick()/1e3)*e,n="above"===this._position.outsidePosition?-t:t;this._context.viewModel.viewLayout.deltaScrollNow(0,n),this._viewHelper.renderNow();const i=this._context.viewLayout.getLinesViewportData(),o="above"===this._position.outsidePosition?i.startLineNumber:i.endLineNumber;let r;{const e=sne(this._viewHelper.viewDomNode),t=this._context.configuration.options.get(143).horizontalScrollbarHeight,n=new nne(this._mouseEvent.pos.x,e.y+e.height-t-.1),i=ane(this._viewHelper.viewDomNode,e,n);r=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),e,n,i,null)}r.position&&r.position.lineNumber===o||(r="above"===this._position.outsidePosition?jne.createOutsideEditor(this._position.mouseColumn,new bY(o,1),"above",this._position.outsideDistance):jne.createOutsideEditor(this._position.mouseColumn,new bY(o,this._context.viewModel.getLineMaxColumn(o)),"below",this._position.outsideDistance)),this._dispatchMouse(r,!0,2),this._animationFrameDisposable=B1((()=>this._execute()))}}class Cie{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const n=(new Date).getTime();n-this._lastSetMouseDownCountTime>Cie.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Cie.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class Sie{get event(){return this.emitter.event}constructor(e,t,n){const i=e=>this.emitter.fire(e);this.emitter=new sG({onWillAddFirstListener:()=>e.addEventListener(t,i,n),onDidRemoveLastListener:()=>e.removeEventListener(t,i,n)})}dispose(){this.emitter.dispose()}}var xie,kie;!function(e){const t={total:0,min:Number.MAX_VALUE,max:0},n=Object.assign({},t),i=Object.assign({},t),o=Object.assign({},t);let r=0;const s={keydown:0,input:0,render:0};function a(){1===s.keydown&&(performance.mark("keydown/end"),s.keydown=2)}function l(){performance.mark("input/start"),s.input=1,h()}function c(){1===s.input&&(performance.mark("input/end"),s.input=2)}function u(){1===s.render&&(performance.mark("render/end"),s.render=2)}function h(){setTimeout(d)}function d(){2===s.keydown&&2===s.input&&2===s.render&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),g("keydown",t),g("input",n),g("render",i),g("inputlatency",o),r++,performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),s.keydown=0,s.input=0,s.render=0)}function g(e,t){const n=performance.getEntriesByName(e)[0].duration;t.total+=n,t.min=Math.min(t.min,n),t.max=Math.max(t.max,n)}function f(e){return{average:e.total/r,max:e.max,min:e.min}}function p(e){e.total=0,e.min=Number.MAX_VALUE,e.max=0}e.onKeyDown=function(){d(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),s.keydown=1,queueMicrotask(a)},e.onBeforeInput=l,e.onInput=function(){0===s.input&&l(),queueMicrotask(c)},e.onKeyUp=function(){d()},e.onSelectionChange=function(){d()},e.onRenderStart=function(){2===s.keydown&&2===s.input&&0===s.render&&(performance.mark("render/start"),s.render=1,queueMicrotask(u),h())},e.getAndClearMeasurements=function(){if(0===r)return;const e={keydown:f(t),input:f(n),render:f(i),total:f(o),sampleCount:r};return p(t),p(n),p(i),p(o),r=0,e}}(xie||(xie={}));class Lie{constructor(e,t,n,i,o){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selection=i,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const n=e.getValue(),i=e.getSelectionStart(),o=e.getSelectionEnd();let r;if(t){n.substring(0,i)===t.value.substring(0,t.selectionStart)&&(r=t.newlineCountBeforeSelection)}return new Lie(n,i,o,null,r)}collapseSelection(){return this.selectionStart===this.value.length?this:new Lie(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,n,i,o,r,s,a,l;if(e<=this.selectionStart){const i=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(null!==(n=null===(t=this.selection)||void 0===t?void 0:t.getStartPosition())&&void 0!==n?n:null,i,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(null!==(o=null===(i=this.selection)||void 0===i?void 0:i.getEndPosition())&&void 0!==o?o:null,t,1)}const c=this.value.substring(this.selectionStart,e);if(-1===c.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(null!==(s=null===(r=this.selection)||void 0===r?void 0:r.getStartPosition())&&void 0!==s?s:null,c,1);const u=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(null!==(l=null===(a=this.selection)||void 0===a?void 0:a.getEndPosition())&&void 0!==l?l:null,u,-1)}_finishDeduceEditorPosition(e,t,n){let i=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)i++;return[e,n*t.length,i]}static deduceInput(e,t,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const i=Math.min(AZ(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(OZ(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(i,e.value.length-o);const r=t.value.substring(i,t.value.length-o),s=e.selectionStart-i,a=e.selectionEnd-i;if(t.selectionStart-i===t.selectionEnd-i){return{text:r,replacePrevCharCnt:e.selectionStart-i,replaceNextCharCnt:0,positionDelta:0}}return{text:r,replacePrevCharCnt:a-s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const n=Math.min(AZ(e.value,t.value),e.selectionEnd),i=Math.min(OZ(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(n,e.value.length-i),r=t.value.substring(n,t.value.length-i);e.selectionStart;const s=e.selectionEnd-n;t.selectionStart;const a=t.selectionEnd-n;return{text:r,replacePrevCharCnt:s,replaceNextCharCnt:o.length-s,positionDelta:a-r.length}}}Lie.EMPTY=new Lie("",0,0,null,void 0);class Die{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const n=e*t;return new _Y(n+1,1,n+t+1,1)}static fromEditorSelection(e,t,n,i){const o=500,r=Die._getPageOfLine(t.startLineNumber,n),s=Die._getRangeForPage(r,n),a=Die._getPageOfLine(t.endLineNumber,n),l=Die._getRangeForPage(a,n);let c=s.intersectRanges(new _Y(1,1,t.startLineNumber,t.startColumn));if(i&&e.getValueLengthInRange(c,1)>o){const t=e.modifyPosition(c.getEndPosition(),-500);c=_Y.fromPositions(t,c.getEndPosition())}const u=e.getValueInRange(c,1),h=e.getLineCount(),d=e.getLineMaxColumn(h);let g=l.intersectRanges(new _Y(t.endLineNumber,t.endColumn,h,d));if(i&&e.getValueLengthInRange(g,1)>o){const t=e.modifyPosition(g.getStartPosition(),o);g=_Y.fromPositions(g.getStartPosition(),t)}const f=e.getValueInRange(g,1);let p;if(r===a||r+1===a)p=e.getValueInRange(t,1);else{const n=s.intersectRanges(t),i=l.intersectRanges(t);p=e.getValueInRange(n,1)+String.fromCharCode(8230)+e.getValueInRange(i,1)}return i&&p.length>1e3&&(p=p.substring(0,o)+String.fromCharCode(8230)+p.substring(p.length-o,p.length)),new Lie(u+p+f,u.length,u.length+p.length,t,c.endLineNumber-c.startLineNumber)}}(kie||(kie={})).Tap="-monaco-textarea-synthetic-tap";class Eie{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}Eie.INSTANCE=new Eie;class Nie{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){const t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class Tie extends Yq{get textAreaState(){return this._textAreaState}constructor(e,t,n,i){super(),this._host=e,this._textArea=t,this._OS=n,this._browser=i,this._onFocus=this._register(new sG),this.onFocus=this._onFocus.event,this._onBlur=this._register(new sG),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new sG),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new sG),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new sG),this.onCut=this._onCut.event,this._onPaste=this._register(new sG),this.onPaste=this._onPaste.event,this._onType=this._register(new sG),this.onType=this._onType.event,this._onCompositionStart=this._register(new sG),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new sG),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new sG),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new sG),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new n4((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new n4((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=Lie.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown((e=>{const t=new _0(e);(114===t.keyCode||this._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),o=t,this._onKeyDown.fire(t)}))),this._register(this._textArea.onKeyUp((e=>{const t=new _0(e);this._onKeyUp.fire(t)}))),this._register(this._textArea.onCompositionStart((e=>{const t=new Nie;if(this._currentComposition)this._currentComposition=t;else{if(this._currentComposition=t,2===this._OS&&o&&o.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===o.code||"ArrowLeft"===o.code))return t.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:e.data});this._browser.isAndroid,this._onCompositionStart.fire({data:e.data})}}))),this._register(this._textArea.onCompositionUpdate((e=>{const t=this._currentComposition;if(!t)return;if(this._browser.isAndroid){const t=Lie.readFromTextArea(this._textArea,this._textAreaState),n=Lie.deduceAndroidCompositionInput(this._textAreaState,t);return this._textAreaState=t,this._onType.fire(n),void this._onCompositionUpdate.fire(e)}const n=t.handleCompositionUpdate(e.data);this._textAreaState=Lie.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(n),this._onCompositionUpdate.fire(e)}))),this._register(this._textArea.onCompositionEnd((e=>{const t=this._currentComposition;if(!t)return;if(this._currentComposition=null,this._browser.isAndroid){const e=Lie.readFromTextArea(this._textArea,this._textAreaState),t=Lie.deduceAndroidCompositionInput(this._textAreaState,e);return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const n=t.handleCompositionUpdate(e.data);this._textAreaState=Lie.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(n),this._onCompositionEnd.fire()}))),this._register(this._textArea.onInput((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const t=Lie.readFromTextArea(this._textArea,this._textAreaState),n=Lie.deduceInput(this._textAreaState,t,2===this._OS);(0!==n.replacePrevCharCnt||1!==n.text.length||!PZ(n.text.charCodeAt(0))&&127!==n.text.charCodeAt(0))&&(this._textAreaState=t,""===n.text&&0===n.replacePrevCharCnt&&0===n.replaceNextCharCnt&&0===n.positionDelta||this._onType.fire(n))}))),this._register(this._textArea.onCut((e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(this._textArea.onCopy((e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(this._textArea.onPaste((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),!e.clipboardData)return;let[t,n]=Iie.getTextData(e.clipboardData);t&&(n=n||Eie.INSTANCE.get(t),this._onPaste.fire({text:t,metadata:n}))}))),this._register(this._textArea.onFocus((()=>{const e=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(this._textArea.onBlur((()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(this._textArea.onSyntheticTap((()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return O1(this._textArea.ownerDocument,"selectionchange",(t=>{if(xie.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const n=Date.now(),i=n-e;if(e=n,i<5)return;const o=n-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selection)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const s=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===s&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(s),c=this._host.deduceModelPosition(l[0],l[1],l[2]),u=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(u[0],u[1],u[2]),d=new yY(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(d)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Eie.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,n),e.preventDefault(),e.clipboardData&&Iie.setTextData(e.clipboardData,t.text,t.html,n)}}const Iie={getTextData(e){const t=e.getData(b5.text);let n=null;const i=e.getData("vscode-editor-data");if("string"==typeof i)try{n=JSON.parse(i),1!==n.version&&(n=null)}catch(o){}if(0===t.length&&null===n&&e.files.length>0){return[Array.prototype.slice.call(e.files,0).map((e=>e.name)).join("\n"),null]}return[t,n]},setTextData(e,t,n,i){e.setData(b5.text,t),"string"==typeof n&&e.setData("text/html",n),e.setData("vscode-editor-data",JSON.stringify(i))}};class Mie extends Yq{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new Sie(this._actual,"keydown")).event,this.onKeyUp=this._register(new Sie(this._actual,"keyup")).event,this.onCompositionStart=this._register(new Sie(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new Sie(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new Sie(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new Sie(this._actual,"beforeinput")).event,this.onInput=this._register(new Sie(this._actual,"input")).event,this.onCut=this._register(new Sie(this._actual,"cut")).event,this.onCopy=this._register(new Sie(this._actual,"copy")).event,this.onPaste=this._register(new Sie(this._actual,"paste")).event,this.onFocus=this._register(new Sie(this._actual,"focus")).event,this.onBlur=this._register(new Sie(this._actual,"blur")).event,this._onSyntheticTap=this._register(new sG),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown((()=>xie.onKeyDown()))),this._register(this.onBeforeInput((()=>xie.onBeforeInput()))),this._register(this.onInput((()=>xie.onInput()))),this._register(this.onKeyUp((()=>xie.onKeyUp()))),this._register(O1(this._actual,kie.Tap,(()=>this._onSyntheticTap.fire())))}hasFocus(){const e=J1(this._actual);return e?e.activeElement===this._actual:!!R1(this._actual)&&this._actual.ownerDocument.activeElement===this._actual}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const n=this._actual;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,n){const i=this._actual;let o=null;const r=J1(i);o=r?r.activeElement:i.ownerDocument.activeElement;const s=o===i,a=i.selectionStart,l=i.selectionEnd;if(s&&a===t&&l===n)gQ&&window.parent!==window&&i.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(gQ&&window.parent!==window&&i.focus());try{const e=function(e){const t=[];for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),function(e,t){for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}(i,e)}catch(fTe){}}}}class Rie extends bie{constructor(e,t,n){super(e,t,n),this._register(a8.addTarget(this.viewHelper.linesContentDomNode)),this._register(O1(this.viewHelper.linesContentDomNode,r8.Tap,(e=>this.onTap(e)))),this._register(O1(this.viewHelper.linesContentDomNode,r8.Change,(e=>this.onChange(e)))),this._register(O1(this.viewHelper.linesContentDomNode,r8.Contextmenu,(e=>this._onContextMenu(new lne(e,!1,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(O1(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const i=new une(this.viewHelper.viewDomNode);this._register(i.onPointerMove(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)))),this._register(i.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(i.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>this._onMouseDown(e,t))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new lne(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===t.type&&null!==t.detail.injectedText})}onChange(e){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e,t)}}class Aie extends bie{constructor(e,t,n){super(e,t,n),this._register(a8.addTarget(this.viewHelper.linesContentDomNode)),this._register(O1(this.viewHelper.linesContentDomNode,r8.Tap,(e=>this.onTap(e)))),this._register(O1(this.viewHelper.linesContentDomNode,r8.Change,(e=>this.onChange(e)))),this._register(O1(this.viewHelper.linesContentDomNode,r8.Contextmenu,(e=>this._onContextMenu(new lne(e,!1,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new lne(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(kie.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Oie extends Yq{constructor(e,t,n){super(),LK&&m0?this.handler=this._register(new Rie(e,t,n)):window.TouchEvent?this.handler=this._register(new Aie(e,t,n)):this.handler=this._register(new bie(e,t,n))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class Pie extends dne{}const Fie=OQ("themeService");function Bie(e){return{id:e}}function zie(e){switch(e){case Sne.DARK:return"vs-dark";case Sne.HIGH_CONTRAST_DARK:return"hc-black";case Sne.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const Vie="base.contributions.theming";const Wie=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new sG}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),qq((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function Hie(e){return Wie.onColorThemeChange(e)}YJ.add(Vie,Wie);class $ie extends Yq{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const jie=g8("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color for the highlight of line at the cursor position.")),Uie=g8("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:v8},nK(0,"Background color for the border around the line at the cursor position."));g8("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},nK(0,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),g8("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:b8,hcLight:b8},nK(0,"Background color of the border around highlighted ranges."),!0),g8("editor.symbolHighlightBackground",{dark:Lee,light:Lee,hcDark:null,hcLight:null},nK(0,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),g8("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:b8,hcLight:b8},nK(0,"Background color of the border around highlighted symbols."),!0);const Kie=g8("editorCursor.foreground",{dark:"#AEAFAD",light:n9.black,hcDark:n9.white,hcLight:"#0F4A85"},nK(0,"Color of the editor cursor.")),qie=g8("editorCursor.background",null,nK(0,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Gie=g8("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},nK(0,"Color of whitespace characters in the editor.")),Yie=g8("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:n9.white,hcLight:"#292929"},nK(0,"Color of editor line numbers.")),Xie=g8("editorIndentGuide.background",{dark:Gie,light:Gie,hcDark:Gie,hcLight:Gie},nK(0,"Color of the editor indentation guides."),!1,nK(0,"'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),Zie=g8("editorIndentGuide.activeBackground",{dark:Gie,light:Gie,hcDark:Gie,hcLight:Gie},nK(0,"Color of the active editor indentation guides."),!1,nK(0,"'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),Qie=g8("editorIndentGuide.background1",{dark:Xie,light:Xie,hcDark:Xie,hcLight:Xie},nK(0,"Color of the editor indentation guides (1).")),Jie=g8("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the editor indentation guides (2).")),eoe=g8("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the editor indentation guides (3).")),toe=g8("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the editor indentation guides (4).")),noe=g8("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the editor indentation guides (5).")),ioe=g8("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the editor indentation guides (6).")),ooe=g8("editorIndentGuide.activeBackground1",{dark:Zie,light:Zie,hcDark:Zie,hcLight:Zie},nK(0,"Color of the active editor indentation guides (1).")),roe=g8("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the active editor indentation guides (2).")),soe=g8("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the active editor indentation guides (3).")),aoe=g8("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the active editor indentation guides (4).")),loe=g8("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the active editor indentation guides (5).")),coe=g8("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Color of the active editor indentation guides (6).")),uoe=g8("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:b8,hcLight:b8},nK(0,"Color of editor active line number"),!1,nK(0,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));g8("editorLineNumber.activeForeground",{dark:uoe,light:uoe,hcDark:uoe,hcLight:uoe},nK(0,"Color of editor active line number"));const hoe=g8("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Color of the final editor line when editor.renderFinalNewline is set to dimmed."));g8("editorRuler.foreground",{dark:"#5A5A5A",light:n9.lightgrey,hcDark:n9.white,hcLight:"#292929"},nK(0,"Color of the editor rulers.")),g8("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},nK(0,"Foreground color of editor CodeLens")),g8("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},nK(0,"Background color behind matching brackets")),g8("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:v8,hcLight:v8},nK(0,"Color for matching brackets boxes"));const doe=g8("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},nK(0,"Color of the overview ruler border.")),goe=g8("editorOverviewRuler.background",null,nK(0,"Background color of the editor overview ruler."));g8("editorGutter.background",{dark:lee,light:lee,hcDark:lee,hcLight:lee},nK(0,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),g8("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:n9.fromHex("#fff").transparent(.8),hcLight:v8},nK(0,"Border color of unnecessary (unused) source code in the editor."));const foe=g8("editorUnnecessaryCode.opacity",{dark:n9.fromHex("#000a"),light:n9.fromHex("#0007"),hcDark:null,hcLight:null},nK(0,"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."));g8("editorGhostText.border",{dark:null,light:null,hcDark:n9.fromHex("#fff").transparent(.8),hcLight:n9.fromHex("#292929").transparent(.8)},nK(0,"Border color of ghost text in the editor.")),g8("editorGhostText.foreground",{dark:n9.fromHex("#ffffff56"),light:n9.fromHex("#0007"),hcDark:null,hcLight:null},nK(0,"Foreground color of the ghost text in the editor.")),g8("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},nK(0,"Background color of the ghost text in the editor."));const poe=new n9(new J6(0,122,204,.6));g8("editorOverviewRuler.rangeHighlightForeground",{dark:poe,light:poe,hcDark:poe,hcLight:poe},nK(0,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const moe=g8("editorOverviewRuler.errorForeground",{dark:new n9(new J6(255,18,18,.7)),light:new n9(new J6(255,18,18,.7)),hcDark:new n9(new J6(255,50,50,1)),hcLight:"#B5200D"},nK(0,"Overview ruler marker color for errors.")),voe=g8("editorOverviewRuler.warningForeground",{dark:iee,light:iee,hcDark:oee,hcLight:oee},nK(0,"Overview ruler marker color for warnings.")),boe=g8("editorOverviewRuler.infoForeground",{dark:ree,light:ree,hcDark:see,hcLight:see},nK(0,"Overview ruler marker color for infos.")),_oe=g8("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},nK(0,"Foreground color of brackets (1). Requires enabling bracket pair colorization.")),yoe=g8("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},nK(0,"Foreground color of brackets (2). Requires enabling bracket pair colorization.")),woe=g8("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},nK(0,"Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Coe=g8("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Soe=g8("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Foreground color of brackets (5). Requires enabling bracket pair colorization.")),xoe=g8("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Foreground color of brackets (6). Requires enabling bracket pair colorization.")),koe=g8("editorBracketHighlight.unexpectedBracket.foreground",{dark:new n9(new J6(255,18,18,.8)),light:new n9(new J6(255,18,18,.8)),hcDark:new n9(new J6(255,50,50,1)),hcLight:""},nK(0,"Foreground color of unexpected brackets.")),Loe=g8("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Doe=g8("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Eoe=g8("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Noe=g8("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Toe=g8("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Ioe=g8("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Moe=g8("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Roe=g8("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Aoe=g8("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ooe=g8("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Poe=g8("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Foe=g8("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},nK(0,"Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));g8("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},nK(0,"Border color used to highlight unicode characters.")),g8("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},nK(0,"Background color used to highlight unicode characters.")),Hie(((e,t)=>{const n=e.getColor(lee),i=e.getColor(jie),o=i&&!i.isTransparent()?i:n;o&&t.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${o}; }`)}));class Boe extends Pie{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new bY(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(66);const t=e.get(67);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(94);const n=e.get(143);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let n=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,n=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(n=!0),n}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new bY(e,1));if(1!==t.column)return"";const n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===e?'<span class="relative-current-line-number">'+n+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=CK?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._context.viewModel.getLineCount(),r=[];for(let s=n;s<=i;s++){const e=s-n,i=this._getLineRenderLineNumber(s);if(!i){r[e]="";continue}let a="";if(s===o&&0===this._context.viewModel.getLineLength(s)){if("off"===this._renderFinalNewline){r[e]="";continue}"dimmed"===this._renderFinalNewline&&(a=" dimmed-line-number")}s===this._activeLineNumber&&(a=" active-line-number"),r[e]=`<div class="${Boe.CLASS_NAME}${t}${a}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${i}</div>`}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}Boe.CLASS_NAME="line-numbers",Hie(((e,t)=>{const n=e.getColor(Yie),i=e.getColor(hoe);i?t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):n&&t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${n.transparent(.4)}; }`)}));class zoe extends gne{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(143);this._canUseLayerHinting=!t.get(32),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._domNode=CQ(document.createElement("div")),this._domNode.setClassName(zoe.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=CQ(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(zoe.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(143);return this._canUseLayerHinting=!t.get(32),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)}}zoe.CLASS_NAME="glyph-margin",zoe.OUTER_CLASS_NAME="margin";const Voe="monaco-mouse-cursor-text";const Woe=new class{constructor(){this._onDidChange=new sG,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}},Hoe=OQ("keybindingService");class $oe{constructor(e,t,n,i,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=n,this.widthOfHiddenLineTextBefore=i,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new bY(this.modelLineNumber,this.distanceToModelLineStart+1),n=new bY(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(this._previousPresentation=e||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const joe=gQ;let Uoe=class extends gne{constructor(e,t,n,i){super(e),this._keybindingService=i,this._primaryCursorPosition=new bY(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=n,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,r=o.get(143);this._setAccessibilityOptions(o),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._contentHeight=r.height,this._fontInfo=o.get(50),this._lineHeight=o.get(66),this._emptySelectionClipboard=o.get(37),this._copyWithSyntaxHighlighting=o.get(25),this._visibleTextArea=null,this._selections=[new yY(1,1,1,1)],this._modelSelections=[new yY(1,1,1,1)],this._lastRenderPosition=null,this.textArea=CQ(document.createElement("textarea")),fne.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Voe}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:s}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=s*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",nK(0,"editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",o.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=CQ(document.createElement("div")),this.textAreaCover.setPosition("absolute");const a={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:e=>this._context.viewModel.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.viewModel.getValueInRange(e,t),getValueLengthInRange:(e,t)=>this._context.viewModel.getValueLengthInRange(e,t),modifyPosition:(e,t)=>this._context.viewModel.modifyPosition(e,t)},l={getDataToCopy:()=>{const e=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,yK),t=this._context.viewModel.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),i=Array.isArray(e)?e:null,o=Array.isArray(e)?e.join(t):e;let r,s=null;if(this._copyWithSyntaxHighlighting&&o.length<65536){const e=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(r=e.html,s=e.mode)}return{isFromEmptySelection:n,multicursorText:i,text:o,html:r,mode:s}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){const e=this._selections[0];if(wK&&e.isEmpty()){const t=e.getStartPosition();let n=this._getWordBeforePosition(t);if(0===n.length&&(n=this._getCharacterBeforePosition(t)),n.length>0)return new Lie(n,n.length,n.length,_Y.fromPositions(t),0)}const t=500;if(wK&&!e.isEmpty()&&a.getValueLengthInRange(e,0)<t){const t=a.getValueInRange(e,0);return new Lie(t,0,t.length,e,0)}if(mQ&&!e.isEmpty()){const e="vscode-placeholder";return new Lie(e,0,e.length,null,void 0)}return Lie.EMPTY}if(bQ){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[n,i]=this._getAndroidWordAtPosition(t);if(n.length>0)return new Lie(n,i,i,_Y.fromPositions(t),0)}return Lie.EMPTY}return Die.fromEditorSelection(a,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,n)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,n)},c=this._register(new Mie(this.textArea.domNode));this._textAreaInput=this._register(new Tie(l,c,IK,{isAndroid:bQ,isChrome:pQ,isFirefox:gQ,isSafari:mQ})),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,n=null,i=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,i=e.metadata.mode),this._viewController.paste(e.text,t,n,i)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this.textArea.domNode,n=this._modelSelections[0],{distanceToModelLineStart:i,widthOfHiddenTextBefore:o}=(()=>{const e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),i=e.lastIndexOf("\n"),o=e.substring(i+1),r=o.lastIndexOf("\t"),s=o.length-r-1,a=n.getStartPosition(),l=Math.min(a.column-1,s),c=a.column-1-l,u=o.substring(0,o.length-l),{tabSize:h}=this._context.viewModel.model.getOptions(),d=function(e,t,n,i){if(0===t.length)return 0;const o=e.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const r=e.createElement("span");SQ(r,n),r.style.whiteSpace="pre",r.style.tabSize=i*n.spaceWidth+"px",r.append(t),o.appendChild(r),e.body.appendChild(o);const s=r.offsetWidth;return e.body.removeChild(o),s}(this.textArea.domNode.ownerDocument,u,this._fontInfo,h);return{distanceToModelLineStart:c,widthOfHiddenTextBefore:d}})(),{distanceToModelLineEnd:r}=(()=>{const e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),i=e.indexOf("\n"),o=-1===i?e:e.substring(0,i),r=o.indexOf("\t"),s=-1===r?o.length:o.length-r-1,a=n.getEndPosition(),l=Math.min(this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,s);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-l}})();this._context.viewModel.revealRange("keyboard",!0,_Y.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new $oe(this._context,n.startLineNumber,i,o,r),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Voe} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Voe}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.viewModel.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.viewModel.setHasFocus(!1)}))),this._register(Woe.onDidChange((()=>{this._ensureReadOnlyAttribute()})))}writeScreenReaderContent(e){this._textAreaInput.writeScreenReaderContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),n=k3('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let i=!0,o=e.column,r=!0,s=e.column,a=0;for(;a<50&&(i||r);){if(i&&o<=1&&(i=!1),i){const e=t.charCodeAt(o-2);0!==n.get(e)?i=!1:o--}if(r&&s>t.length&&(r=!1),r){const e=t.charCodeAt(s-1);0!==n.get(e)?r=!1:s++}a++}return[t.substring(o-1,s-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),n=k3(this._context.configuration.options.get(129));let i=e.column,o=0;for(;i>1;){const r=t.charCodeAt(i-2);if(0!==n.get(r)||o>50)return t.substring(i-1,e.column-1);o++,i--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!PZ(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){var t,n,i;if(1===e.get(2)){const e=null===(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))||void 0===t?void 0:t.getAriaLabel(),o=null===(n=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))||void 0===n?void 0:n.getAriaLabel(),r=null===(i=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))||void 0===i?void 0:i.getAriaLabel(),s=nK(0,"The editor is not accessible at this time.");return e?nK(0,"{0} To enable screen reader optimized mode, use {1}",s,e):o?nK(0,"{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",s,o):r?nK(0,"{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",s,r):s}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===Iq.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const n=e.get(143).wrappingColumn;if(-1!==n&&1!==this._accessibilitySupport){const t=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(n*t.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=joe?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(143);this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(50),this._lineHeight=t.get(66),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:i}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=i*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(123))),(e.hasChanged(34)||e.hasChanged(90))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!Woe.enabled||e.get(34)&&e.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new bY(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null===(t=this._visibleTextArea)||void 0===t||t.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,n=this._visibleTextArea.startPosition,i=this._visibleTextArea.endPosition;if(n&&i&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,r=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let s=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,l=t.left-e.left+1;if(a<this._contentLeft){const e=this._contentLeft-a;a+=e,s+=e,l-=e}l>this._contentWidth&&(l=this._contentWidth);const c=this._context.viewModel.getViewLineData(n.lineNumber),u=c.tokens.findTokenIndexAtOffset(n.column-1),h=u===c.tokens.findTokenIndexAtOffset(i.column-1),d=this._visibleTextArea.definePresentation(h?c.tokens.getPresentation(u):null);this.textArea.domNode.scrollTop=r*this._lineHeight,this.textArea.domNode.scrollLeft=s,this._doRender({lastRenderPosition:null,top:o,left:a,width:l,height:this._lineHeight,useCover:!1,color:(jY.getColorMap()||[])[d.foreground],italic:d.italic,bold:d.bold,underline:d.underline,strikethrough:d.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(n<0||n>this._contentHeight)this._renderAtTopLeft();else if(wK){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:n,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=null!==(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)&&void 0!==e?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:n,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:joe?0:1,useCover:!1})}_newlinecount(e){let t=0,n=-1;for(;;){if(n=e.indexOf("\n",n+1),-1===n)break;t++}return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:joe?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,n=this.textAreaCover;SQ(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?n9.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),n.setTop(e.useCover?e.top:0),n.setLeft(e.useCover?e.left:0),n.setWidth(e.useCover?e.width:0),n.setHeight(e.useCover?e.height:0);const i=this._context.configuration.options;i.get(57)?n.setClassName("monaco-editor-background textAreaCover "+zoe.OUTER_CLASS_NAME):0!==i.get(67).renderType?n.setClassName("monaco-editor-background textAreaCover "+Boe.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")}};function Koe(e,t,n){let i=CZ(e);return-1===i&&(i=e.length),function(e,t,n){let i=0;for(let r=0;r<e.length;r++)"\t"===e.charAt(r)?i=Bne.nextIndentTabStop(i,t):i++;let o="";if(!n){const e=Math.floor(i/t);i%=t;for(let t=0;t<e;t++)o+="\t"}for(let r=0;r<i;r++)o+=" ";return o}(e.substring(0,i),t,n)+e.substring(i)}Uoe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(3,Hoe)],Uoe);const qoe=()=>!0,Goe=()=>!1,Yoe=e=>" "===e||"\t"===e;class Xoe{static shouldRecreate(e){return e.hasChanged(143)||e.hasChanged(129)||e.hasChanged(37)||e.hasChanged(76)||e.hasChanged(78)||e.hasChanged(79)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(127)||e.hasChanged(50)||e.hasChanged(90)}constructor(e,t,n,i){var o;this.languageConfigurationService=i,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const r=n.options,s=r.get(143),a=r.get(50);this.readOnly=r.get(90),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=r.get(115),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=r.get(127),this.wordSeparators=r.get(129),this.emptySelectionClipboard=r.get(37),this.copyWithSyntaxHighlighting=r.get(25),this.multiCursorMergeOverlapping=r.get(76),this.multiCursorPaste=r.get(78),this.multiCursorLimit=r.get(79),this.autoClosingBrackets=r.get(6),this.autoClosingComments=r.get(7),this.autoClosingQuotes=r.get(11),this.autoClosingDelete=r.get(9),this.autoClosingOvertype=r.get(10),this.autoSurround=r.get(14),this.autoIndent=r.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const u of l)this.surroundingPairs[u.open]=u.close;const c=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=null!==(o=null==c?void 0:c.blockCommentStartToken)&&void 0!==o?o:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const e of t)this._electricChars[e]=!0}return this._electricChars}onElectricCharacter(e,t,n){const i=E4(t,n-1),o=this.languageConfigurationService.getLanguageConfiguration(i.languageId).electricCharacter;return o?o.onElectricCharacter(e,i,n-i.firstCharOffset):null}normalizeIndentation(e){return Koe(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,n){switch(t){case"beforeWhitespace":return Yoe;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,n);case"always":return qoe;case"never":return Goe}}_getLanguageDefinedShouldAutoClose(e,t){const n=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return e=>-1!==n.indexOf(e)}visibleColumnFromColumn(e,t){return Bne.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,n){const i=Bne.columnFromVisibleColumn(e.getLineContent(t),n,this.tabSize),o=e.getLineMinColumn(t);if(i<o)return o;const r=e.getLineMaxColumn(t);return i>r?r:i}}class Zoe{static fromModelState(e){return new Qoe(e)}static fromViewState(e){return new Joe(e)}static fromModelSelection(e){const t=yY.liftSelection(e),n=new ere(_Y.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return Zoe.fromModelState(n)}static fromModelSelections(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class Qoe{constructor(e){this.modelState=e,this.viewState=null}}class Joe{constructor(e){this.modelState=null,this.viewState=e}}class ere{constructor(e,t,n,i,o){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=ere._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,i){return e?new ere(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new bY(t,n),i):new ere(new _Y(t,n,t,n),0,i,new bY(t,n),i)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?yY.fromPositions(e.getStartPosition(),t):yY.fromPositions(e.getEndPosition(),t)}}class tre{constructor(e,t,n){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}function nre(e){return"'"===e||'"'===e||"`"===e}class ire{static columnSelect(e,t,n,i,o,r){const s=Math.abs(o-n)+1,a=n>o,l=i>r,c=i<r,u=[];for(let h=0;h<s;h++){const o=n+(a?-h:h),s=e.columnFromVisibleColumn(t,o,i),d=e.columnFromVisibleColumn(t,o,r),g=e.visibleColumnFromColumn(t,new bY(o,s)),f=e.visibleColumnFromColumn(t,new bY(o,d));if(c){if(g>r)continue;if(f<i)continue}if(l){if(f>i)continue;if(g<r)continue}u.push(new ere(new _Y(o,s,o,s),0,0,new bY(o,d),0))}if(0===u.length)for(let h=0;h<s;h++){const e=n+(a?-h:h),i=t.getLineMaxColumn(e);u.push(new ere(new _Y(e,i,e,i),0,0,new bY(e,i),0))}return{viewStates:u,reversed:a,fromLineNumber:n,fromVisualColumn:i,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,n){let i=n.toViewVisualColumn;return i>0&&i--,ire.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,i)}static columnSelectRight(e,t,n){let i=0;const o=Math.min(n.fromViewLineNumber,n.toViewLineNumber),r=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let a=o;a<=r;a++){const n=t.getLineMaxColumn(a),o=e.visibleColumnFromColumn(t,new bY(a,n));i=Math.max(i,o)}let s=n.toViewVisualColumn;return s<i&&s++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,s)}static columnSelectUp(e,t,n,i){const o=i?e.pageSize:1,r=Math.max(1,n.toViewLineNumber-o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}static columnSelectDown(e,t,n,i){const o=i?e.pageSize:1,r=Math.min(t.getLineCount(),n.toViewLineNumber+o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}}class ore{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return yY.fromPositions(n.getEndPosition())}}class rre{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return yY.fromPositions(n.getStartPosition())}}class sre{constructor(e,t,n,i,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return yY.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class are{constructor(e,t,n,i=!1){this._range=e,this._text=t,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class lre{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class cre{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-$Z(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new bY(n,e.getLineMaxColumn(n))}return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const i=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),r=zne.atomicPosition(o,t.column-1,n,0);if(-1!==r&&r+1>=i)return new bY(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,n){const i=e.stickyTabStops?cre.leftPositionAtomicSoftTabs(t,n,e.tabSize):cre.leftPosition(t,n);return new lre(i.lineNumber,i.column,0)}static moveLeft(e,t,n,i,o){let r,s;if(n.hasSelection()&&!i)r=n.selection.startLineNumber,s=n.selection.startColumn;else{const i=n.position.delta(void 0,-(o-1)),a=t.normalizePosition(cre.clipPositionColumn(i,t),0),l=cre.left(e,t,a);r=l.lineNumber,s=l.column}return n.move(i,r,s,0)}static clipPositionColumn(e,t){return new bY(e.lineNumber,cre.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=HZ(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new bY(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,o){if(n<e.getLineIndentColumn(t)){const o=e.getLineContent(t),r=zne.atomicPosition(o,n-1,i,1);if(-1!==r)return new bY(t,r+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const i=e.stickyTabStops?cre.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):cre.rightPosition(t,n.lineNumber,n.column);return new lre(i.lineNumber,i.column,0)}static moveRight(e,t,n,i,o){let r,s;if(n.hasSelection()&&!i)r=n.selection.endLineNumber,s=n.selection.endColumn;else{const i=n.position.delta(void 0,o-1),a=t.normalizePosition(cre.clipPositionColumn(i,t),1),l=cre.right(e,t,a);r=l.lineNumber,s=l.column}return n.move(i,r,s,0)}static vertical(e,t,n,i,o,r,s,a){const l=Bne.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+o,c=t.getLineCount(),u=1===n&&1===i,h=n===c&&i===t.getLineMaxColumn(n),d=r<n?u:h;if((n=r)<1?(n=1,i=s?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):n>c?(n=c,i=s?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=e.columnFromVisibleColumn(t,n,l),o=d?0:l-Bne.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),void 0!==a){const e=new bY(n,i),r=t.normalizePosition(e,a);o+=i-r.column,n=r.lineNumber,i=r.column}return new lre(n,i,o)}static down(e,t,n,i,o,r,s){return this.vertical(e,t,n,i,o,n+r,s,4)}static moveDown(e,t,n,i,o){let r,s;n.hasSelection()&&!i?(r=n.selection.endLineNumber,s=n.selection.endColumn):(r=n.position.lineNumber,s=n.position.column);let a,l=0;do{a=cre.down(e,t,r+l,s,n.leftoverVisibleColumns,o,!0);if(t.normalizePosition(new bY(a.lineNumber,a.column),2).lineNumber>r)break}while(l++<10&&r+l<t.getLineCount());return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,n){const i=n.selection,o=cre.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),r=cre.down(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new ere(new _Y(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new bY(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,n,i,o,r,s){return this.vertical(e,t,n,i,o,n-r,s,3)}static moveUp(e,t,n,i,o){let r,s;n.hasSelection()&&!i?(r=n.selection.startLineNumber,s=n.selection.startColumn):(r=n.position.lineNumber,s=n.position.column);const a=cre.up(e,t,r,s,n.leftoverVisibleColumns,o,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,n){const i=n.selection,o=cre.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),r=cre.up(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new ere(new _Y(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new bY(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let o=n.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return n.move(i,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,n,i){const o=t.getLineCount();let r=n.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,n,i){const o=n.position.lineNumber,r=t.getLineMinColumn(o),s=t.getLineFirstNonWhitespaceColumn(o)||r;let a;return a=n.position.column===s?r:s,n.move(i,o,a,0)}static moveToEndOfLine(e,t,n,i,o){const r=n.position.lineNumber,s=t.getLineMaxColumn(r);return n.move(i,r,s,o?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){const o=t.getLineCount(),r=t.getLineMaxColumn(o);return n.move(i,o,r,0)}}class ure{static deleteRight(e,t,n,i){const o=[];let r=3!==e;for(let s=0,a=i.length;s<a;s++){const e=i[s];let a=e;if(a.isEmpty()){const i=e.getPosition(),o=cre.right(t,n,i);a=new _Y(o.lineNumber,o.column,i.lineNumber,i.column)}a.isEmpty()?o[s]=null:(a.startLineNumber!==a.endLineNumber&&(r=!0),o[s]=new ore(a,""))}return[r,o]}static isAutoClosingPairDelete(e,t,n,i,o,r,s){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let a=0,l=r.length;a<l;a++){const l=r[a],c=l.getPosition();if(!l.isEmpty())return!1;const u=o.getLineContent(c.lineNumber);if(c.column<2||c.column>=u.length+1)return!1;const h=u.charAt(c.column-2),d=i.get(h);if(!d)return!1;if(nre(h)){if("never"===n)return!1}else if("never"===t)return!1;const g=u.charAt(c.column-1);let f=!1;for(const e of d)e.open===h&&e.close===g&&(f=!0);if(!f)return!1;if("auto"===e){let e=!1;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){const i=[];for(let o=0,r=n.length;o<r;o++){const e=n[o].getPosition(),t=new _Y(e.lineNumber,e.column-1,e.lineNumber,e.column+1);i[o]=new ore(t,"")}return[!0,i]}static deleteLeft(e,t,n,i,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,o))return this._runAutoClosingPairDelete(t,n,i);const r=[];let s=2!==e;for(let a=0,l=i.length;a<l;a++){const e=ure.getDeleteRange(i[a],n,t);e.isEmpty()?r[a]=null:(e.startLineNumber!==e.endLineNumber&&(s=!0),r[a]=new ore(e,""))}return[s,r]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const i=e.getPosition();if(n.useTabStops&&i.column>1){const e=t.getLineContent(i.lineNumber),o=CZ(e),r=-1===o?e.length+1:o+1;if(i.column<=r){const e=n.visibleColumnFromColumn(t,i),o=Bne.prevIndentTabStop(e,n.indentSize),r=n.columnFromVisibleColumn(t,i.lineNumber,o);return new _Y(i.lineNumber,r,i.lineNumber,i.column)}}return _Y.fromPositions(ure.getPositionAfterDeleteLeft(i,t),i)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=iQ(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){const n=e.lineNumber-1;return new bY(n,t.getLineMaxColumn(n))}return e}static cut(e,t,n){const i=[];let o=null;n.sort(((e,t)=>bY.compare(e.getStartPosition(),t.getEndPosition())));for(let r=0,s=n.length;r<s;r++){const s=n[r];if(s.isEmpty())if(e.emptySelectionClipboard){const e=s.getPosition();let n,a,l,c;e.lineNumber<t.getLineCount()?(n=e.lineNumber,a=1,l=e.lineNumber+1,c=1):e.lineNumber>1&&(null==o?void 0:o.endLineNumber)!==e.lineNumber?(n=e.lineNumber-1,a=t.getLineMaxColumn(e.lineNumber-1),l=e.lineNumber,c=t.getLineMaxColumn(e.lineNumber)):(n=e.lineNumber,a=1,l=e.lineNumber,c=t.getLineMaxColumn(e.lineNumber));const u=new _Y(n,a,l,c);o=u,u.isEmpty()?i[r]=null:i[r]=new ore(u,"")}else i[r]=null;else i[r]=new ore(s,"")}return new tre(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class hre{static _createWord(e,t,n,i,o){return{start:i,end:o,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;for(let o=n.column-2;o>=0;o--){const n=e.charCodeAt(o),r=t.get(n);if(0===r){if(2===i)return this._createWord(e,i,r,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(2===r){if(1===i)return this._createWord(e,i,r,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(1===r&&0!==i)return this._createWord(e,i,r,o+1,this._findEndOfWord(e,t,i,o+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){const o=e.length;for(let r=i;r<o;r++){const i=e.charCodeAt(r),o=t.get(i);if(1===o)return r;if(1===n&&2===o)return r;if(2===n&&0===o)return r}return o}static _findNextWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0;const o=e.length;for(let r=n.column-1;r<o;r++){const n=e.charCodeAt(r),o=t.get(n);if(0===o){if(2===i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,r-1),r);i=1}else if(2===o){if(1===i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,r-1),r);i=2}else if(1===o&&0!==i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,r-1),r)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null}static _findStartOfWord(e,t,n,i){for(let o=i;o>=0;o--){const i=e.charCodeAt(o),r=t.get(i);if(1===r)return o+1;if(1===n&&2===r)return o+1;if(2===n&&0===r)return o+1}return 0}static moveWordLeft(e,t,n,i){let o=n.lineNumber,r=n.column;1===r&&o>1&&(o-=1,r=t.getLineMaxColumn(o));let s=hre._findPreviousWordOnLine(e,t,new bY(o,r));if(0===i)return new bY(o,s?s.start+1:1);if(1===i)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=hre._findPreviousWordOnLine(e,t,new bY(o,s.start+1))),new bY(o,s?s.start+1:1);if(3===i){for(;s&&2===s.wordType;)s=hre._findPreviousWordOnLine(e,t,new bY(o,s.start+1));return new bY(o,s?s.start+1:1)}return s&&r<=s.end+1&&(s=hre._findPreviousWordOnLine(e,t,new bY(o,s.start+1))),new bY(o,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(1===t.column)return n>1?new bY(n-1,e.getLineMaxColumn(n-1)):t;const o=e.getLineContent(n);for(let r=t.column-1;r>1;r--){const e=o.charCodeAt(r-2),t=o.charCodeAt(r-1);if(95===e&&95!==t)return new bY(n,r);if(45===e&&45!==t)return new bY(n,r);if((TZ(e)||NZ(e))&&IZ(t))return new bY(n,r);if(IZ(e)&&IZ(t)&&r+1<i){const e=o.charCodeAt(r);if(TZ(e)||NZ(e))return new bY(n,r)}}return new bY(n,1)}static moveWordRight(e,t,n,i){let o=n.lineNumber,r=n.column,s=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o+=1,r=1);let a=hre._findNextWordOnLine(e,t,new bY(o,r));if(2===i)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=hre._findNextWordOnLine(e,t,new bY(o,a.end+1))),r=a?a.end+1:t.getLineMaxColumn(o);else if(3===i){for(s&&(r=0);a&&(2===a.wordType||a.start+1<=r);)a=hre._findNextWordOnLine(e,t,new bY(o,a.end+1));r=a?a.start+1:t.getLineMaxColumn(o)}else a&&!s&&r>=a.start+1&&(a=hre._findNextWordOnLine(e,t,new bY(o,a.end+1))),r=a?a.start+1:t.getLineMaxColumn(o);return new bY(o,r)}static _moveWordPartRight(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(t.column===i)return n<e.getLineCount()?new bY(n+1,1):t;const o=e.getLineContent(n);for(let r=t.column+1;r<i;r++){const e=o.charCodeAt(r-2),t=o.charCodeAt(r-1);if(95!==e&&95===t)return new bY(n,r);if(45!==e&&45===t)return new bY(n,r);if((TZ(e)||NZ(e))&&IZ(t))return new bY(n,r);if(IZ(e)&&IZ(t)&&r+1<i){const e=o.charCodeAt(r);if(TZ(e)||NZ(e))return new bY(n,r)}}return new bY(n,i)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-2,o=xZ(n,i);return o+1<i?new _Y(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(ure.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new _Y(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const s=new bY(o.positionLineNumber,o.positionColumn);let a=s.lineNumber,l=s.column;if(1===a&&1===l)return null;if(r){const e=this._deleteWordLeftWhitespace(i,s);if(e)return e}let c=hre._findPreviousWordOnLine(n,i,s);return 0===t?c?l=c.start+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a)):(c&&l<=c.end+1&&(c=hre._findPreviousWordOnLine(n,i,new bY(a,c.start+1))),c?l=c.end+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a))),new _Y(a,l,s.lineNumber,s.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new bY(n.positionLineNumber,n.positionColumn),o=this._deleteInsideWordWhitespace(t,i);return o||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,o))return null;let r=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,r))return null;for(;o>0&&this._charAtIsWhitespace(n,o-1);)o--;for(;r+1<i&&this._charAtIsWhitespace(n,r+1);)r++;return new _Y(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),o=i.length;if(0===o)return n.lineNumber>1?new _Y(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new _Y(n.lineNumber,1,n.lineNumber+1,1):new _Y(n.lineNumber,1,n.lineNumber,1);const r=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new _Y(n.lineNumber,e,n.lineNumber,t)),a=e=>{let t=e.start+1,n=e.end+1,r=!1;for(;n-1<o&&this._charAtIsWhitespace(i,n-1);)r=!0,n++;if(!r)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return s(t,n)},l=hre._findPreviousWordOnLine(e,t,n);if(l&&r(l))return a(l);const c=hre._findNextWordOnLine(e,t,n);return c&&r(c)?a(c):l&&c?s(l.end+1,c.start+1):l?s(l.start+1,l.end+1):c?s(c.start+1,c.end+1):s(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=hre._moveWordPartLeft(e,n);return new _Y(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){const n=e.length;for(let i=t;i<n;i++){const t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(n,i);return i+1<o?new _Y(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const s=new bY(o.positionLineNumber,o.positionColumn);let a=s.lineNumber,l=s.column;const c=i.getLineCount(),u=i.getLineMaxColumn(a);if(a===c&&l===u)return null;if(r){const e=this._deleteWordRightWhitespace(i,s);if(e)return e}let h=hre._findNextWordOnLine(n,i,s);return 2===t?h?l=h.end+1:l<u||a===c?l=u:(a++,h=hre._findNextWordOnLine(n,i,new bY(a,1)),l=h?h.start+1:i.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=hre._findNextWordOnLine(n,i,new bY(a,h.end+1))),h?l=h.start+1:l<u||a===c?l=u:(a++,h=hre._findNextWordOnLine(n,i,new bY(a,1)),l=h?h.start+1:i.getLineMaxColumn(a))),new _Y(a,l,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=hre._moveWordPartRight(e,n);return new _Y(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new _Y(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n){const i=k3(t),o=hre._findPreviousWordOnLine(i,e,n);if(o&&1===o.wordType&&o.start<=n.column-1&&n.column-1<=o.end)return hre._createWordAtPosition(e,n.lineNumber,o);const r=hre._findNextWordOnLine(i,e,n);return r&&1===r.wordType&&r.start<=n.column-1&&n.column-1<=r.end?hre._createWordAtPosition(e,n.lineNumber,r):null}static word(e,t,n,i,o){const r=k3(e.wordSeparators),s=hre._findPreviousWordOnLine(r,t,o),a=hre._findNextWordOnLine(r,t,o);if(!i){let e,n;return s&&1===s.wordType&&s.start<=o.column-1&&o.column-1<=s.end?(e=s.start+1,n=s.end+1):a&&1===a.wordType&&a.start<=o.column-1&&o.column-1<=a.end?(e=a.start+1,n=a.end+1):(e=s?s.end+1:1,n=a?a.start+1:t.getLineMaxColumn(o.lineNumber)),new ere(new _Y(o.lineNumber,e,o.lineNumber,n),1,0,new bY(o.lineNumber,n),0)}let l,c;s&&1===s.wordType&&s.start<o.column-1&&o.column-1<s.end?(l=s.start+1,c=s.end+1):a&&1===a.wordType&&a.start<o.column-1&&o.column-1<a.end?(l=a.start+1,c=a.end+1):(l=o.column,c=o.column);const u=o.lineNumber;let h;if(n.selectionStart.containsPosition(o))h=n.selectionStart.endColumn;else if(o.isBeforeOrEqual(n.selectionStart.getStartPosition())){h=l;const e=new bY(u,h);n.selectionStart.containsPosition(e)&&(h=n.selectionStart.endColumn)}else{h=c;const e=new bY(u,h);n.selectionStart.containsPosition(e)&&(h=n.selectionStart.startColumn)}return n.move(!0,u,h,0)}}class dre{static addCursorDown(e,t,n){const i=[];let o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];i[o++]=new Zoe(s.modelState,s.viewState),i[o++]=n?Zoe.fromModelState(cre.translateDown(e.cursorConfig,e.model,s.modelState)):Zoe.fromViewState(cre.translateDown(e.cursorConfig,e,s.viewState))}return i}static addCursorUp(e,t,n){const i=[];let o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];i[o++]=new Zoe(s.modelState,s.viewState),i[o++]=n?Zoe.fromModelState(cre.translateUp(e.cursorConfig,e.model,s.modelState)):Zoe.fromViewState(cre.translateUp(e.cursorConfig,e,s.viewState))}return i}static moveToBeginningOfLine(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this._moveToLineStart(e,r,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,o=i===t.modelState.position.column,r=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);return o||i===s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return Zoe.fromViewState(cre.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return Zoe.fromModelState(cre.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=this._moveToLineEnd(e,s,n,i)}return o}static _moveToLineEnd(e,t,n,i){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=r-o.column==l-a.column;return s||c?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return Zoe.fromViewState(cre.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return Zoe.fromModelState(cre.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){const n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i],r=o.modelState.selection.startLineNumber,s=e.model.getLineCount();let a,l=o.modelState.selection.endLineNumber;l===s?a=e.model.getLineMaxColumn(s):(l++,a=1),n[i]=Zoe.fromModelState(new ere(new _Y(r,1,r,1),0,0,new bY(l,a),0))}return n}static moveToBeginningOfBuffer(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=Zoe.fromModelState(cre.moveToBeginningOfBuffer(e.cursorConfig,e.model,r.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=Zoe.fromModelState(cre.moveToEndOfBuffer(e.cursorConfig,e.model,r.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return Zoe.fromModelState(new ere(new _Y(1,1,1,1),0,0,new bY(n,i),0))}static line(e,t,n,i,o){const r=e.model.validatePosition(i),s=o?e.coordinatesConverter.validateViewPosition(new bY(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!n){const t=e.model.getLineCount();let n=r.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),Zoe.fromModelState(new ere(new _Y(r.lineNumber,1,n,i),2,0,new bY(n,i),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<a)return Zoe.fromViewState(t.viewState.move(!0,s.lineNumber,1,0));if(r.lineNumber>a){const n=e.getLineCount();let i=s.lineNumber+1,o=1;return i>n&&(i=n,o=e.getLineMaxColumn(i)),Zoe.fromViewState(t.viewState.move(!0,i,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return Zoe.fromModelState(t.modelState.move(!0,e.lineNumber,e.column,0))}}static word(e,t,n,i){const o=e.model.validatePosition(i);return Zoe.fromModelState(hre.word(e.cursorConfig,e.model,t.modelState,n,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Zoe(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return Zoe.fromViewState(new ere(new _Y(n,i,n,i),0,0,new bY(n,i),0))}static moveTo(e,t,n,i,o){if(n){if(1===t.modelState.selectionStartKind)return this.word(e,t,n,i);if(2===t.modelState.selectionStartKind)return this.line(e,t,n,i,o)}const r=e.model.validatePosition(i),s=o?e.coordinatesConverter.validateViewPosition(new bY(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return Zoe.fromViewState(t.viewState.move(n,s.lineNumber,s.column,0))}static simpleMove(e,t,n,i,o,r){switch(n){case 0:return 4===r?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return 4===r?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return 2===r?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return 2===r?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return 2===r?t.map((t=>Zoe.fromViewState(cre.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>Zoe.fromModelState(cre.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===r?t.map((t=>Zoe.fromViewState(cre.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>Zoe.fromModelState(cre.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,o){const r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 13:{const n=this._lastLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 12:{const n=Math.round((s.startLineNumber+s.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 14:{const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this.findPositionInViewportIfOutside(e,s,r,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){const o=t.viewState.position.lineNumber;if(n.startLineNumber<=o&&o<=n.endLineNumber-1)return new Zoe(t.modelState,t.viewState);{let r;r=o>n.endLineNumber-1?n.endLineNumber-1:o<n.startLineNumber?n.startLineNumber:o;const s=cre.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return Zoe.fromViewState(t.viewState.move(i,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){return t.map((t=>Zoe.fromViewState(cre.moveLeft(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineLeft(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);i[o]=Zoe.fromViewState(cre.moveLeft(e.cursorConfig,e,r.viewState,n,a))}return i}static _moveRight(e,t,n,i){return t.map((t=>Zoe.fromViewState(cre.moveRight(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineRight(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);i[o]=Zoe.fromViewState(cre.moveRight(e.cursorConfig,e,r.viewState,n,a))}return i}static _moveDownByViewLines(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=Zoe.fromViewState(cre.moveDown(e.cursorConfig,e,s.viewState,n,i))}return o}static _moveDownByModelLines(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=Zoe.fromModelState(cre.moveDown(e.cursorConfig,e.model,s.modelState,n,i))}return o}static _moveUpByViewLines(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=Zoe.fromViewState(cre.moveUp(e.cursorConfig,e,s.viewState,n,i))}return o}static _moveUpByModelLines(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=Zoe.fromModelState(cre.moveUp(e.cursorConfig,e.model,s.modelState,n,i))}return o}static _moveToViewPosition(e,t,n,i,o){return Zoe.fromViewState(t.viewState.move(n,i,o,0))}static _moveToModelPosition(e,t,n,i,o){return Zoe.fromModelState(t.modelState.move(n,i,o,0))}static _moveToViewMinColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMinColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,a)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,a)}return i}static _moveToViewCenterColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);i[o]=this._moveToViewPosition(e,r,n,s,a)}return i}static _moveToViewMaxColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMaxColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,a)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,a)}return i}}var gre,fre;function pre(e,t,n,i){const o=j5(t,n.startLineNumber,n.startColumn),r=i.getLanguageConfiguration(o.languageId);if(!r)return null;const s=o.getLineContent(),a=s.substr(0,n.startColumn-1-o.firstCharOffset);let l;if(n.isEmpty())l=s.substr(n.startColumn-1-o.firstCharOffset);else{l=j5(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset)}let c="";if(n.startLineNumber>1&&0===o.firstCharOffset){const e=j5(t,n.startLineNumber-1);e.languageId===o.languageId&&(c=e.getLineContent())}const u=r.onEnter(e,c,a,l);if(!u)return null;const h=u.indentAction;let d=u.appendText;const g=u.removeText||0;d?h===x4.Indent&&(d="\t"+d):d=h===x4.Indent||h===x4.IndentOutdent?"\t":"";let f=$5(t,n.startLineNumber,n.startColumn);return g&&(f=f.substring(0,f.length-g)),{indentAction:h,appendText:d,removeText:g,indentation:f}}(fre=gre||(gre={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!FU(e))return!1;const t=e;return!(!PU(t.to)||!HU(t.select)&&!WU(t.select)||!HU(t.by)&&!PU(t.by)||!HU(t.value)&&!zU(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},fre.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},fre.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},fre.parse=function(e){if(!e.to)return null;let t;switch(e.to){case fre.RawDirection.Left:t=0;break;case fre.RawDirection.Right:t=1;break;case fre.RawDirection.Up:t=2;break;case fre.RawDirection.Down:t=3;break;case fre.RawDirection.PrevBlankLine:t=4;break;case fre.RawDirection.NextBlankLine:t=5;break;case fre.RawDirection.WrappedLineStart:t=6;break;case fre.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case fre.RawDirection.WrappedLineColumnCenter:t=8;break;case fre.RawDirection.WrappedLineEnd:t=9;break;case fre.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case fre.RawDirection.ViewPortTop:t=11;break;case fre.RawDirection.ViewPortBottom:t=13;break;case fre.RawDirection.ViewPortCenter:t=12;break;case fre.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(e.by){case fre.RawUnit.Line:n=1;break;case fre.RawUnit.WrappedLine:n=2;break;case fre.RawUnit.Character:n=3;break;case fre.RawUnit.HalfLine:n=4}return{direction:t,unit:n,select:!!e.select,value:e.value||1}};var mre;const vre=Object.create(null);function bre(e,t){if(t<=0)return"";vre[e]||(vre[e]=["",e]);const n=vre[e];for(let i=n.length;i<=t;i++)n[i]=n[i-1]+e;return n[t]}let _re=mre=class{static unshiftIndent(e,t,n,i,o){const r=Bne.visibleColumnFromColumn(e,t,n);if(o){const e=bre(" ",i);return bre(e,Bne.prevIndentTabStop(r,i)/i)}return bre("\t",Bne.prevRenderTabStop(r,n)/n)}static shiftIndent(e,t,n,i,o){const r=Bne.visibleColumnFromColumn(e,t,n);if(o){const e=bre(" ",i);return bre(e,Bne.nextIndentTabStop(r,i)/i)}return bre("\t",Bne.nextRenderTabStop(r,n)/n)}constructor(e,t,n){this._languageConfigurationService=n,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)}getEditOperations(e,t){const n=this._selection.startLineNumber;let i=this._selection.endLineNumber;1===this._selection.endColumn&&n!==i&&(i-=1);const{tabSize:o,indentSize:r,insertSpaces:s}=this._opts,a=n===i;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,c=0;for(let u=n;u<=i;u++,l=c){c=0;const i=e.getLineContent(u);let h,d=CZ(i);if((!this._opts.isUnshift||0!==i.length&&0!==d)&&(a||this._opts.isUnshift||0!==i.length)){if(-1===d&&(d=i.length),u>1){if(Bne.visibleColumnFromColumn(i,d+1,o)%r!=0&&e.tokenization.isCheapToTokenize(u-1)){const t=pre(this._opts.autoIndent,e,new _Y(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)),this._languageConfigurationService);if(t){if(c=l,t.appendText)for(let e=0,n=t.appendText.length;e<n&&c<r&&32===t.appendText.charCodeAt(e);e++)c++;t.removeText&&(c=Math.max(0,c-t.removeText));for(let e=0;e<c&&(0!==d&&32===i.charCodeAt(d-1));e++)d--}}}this._opts.isUnshift&&0===d||(h=this._opts.isUnshift?mre.unshiftIndent(i,d+1,o,r,s):mre.shiftIndent(i,d+1,o,r,s),this._addEditOperation(t,new _Y(u,1,u,d+1),h),u!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=d+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(n)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=s?bre(" ",r):"\t";for(let s=n;s<=i;s++){const i=e.getLineContent(s);let l=CZ(i);if((!this._opts.isUnshift||0!==i.length&&0!==l)&&((a||this._opts.isUnshift||0!==i.length)&&(-1===l&&(l=i.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,r);for(let e=0;e<l;e++){if(9===i.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new _Y(s,1,s,l+1),"")}else this._addEditOperation(t,new _Y(s,1,s,1),o),s!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const e=t.getInverseEditOperations()[0];return new yY(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const e=this._selection.startColumn;return n.startColumn<=e?n:0===n.getDirection()?new yY(n.startLineNumber,e,n.endLineNumber,n.endColumn):new yY(n.endLineNumber,n.endColumn,n.startLineNumber,e)}return n}};_re=mre=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(2,z5)],_re);class yre{constructor(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}getEditOperations(e,t){t.addTrackedEditOperation(new _Y(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new _Y(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const n=t.getInverseEditOperations(),i=n[0].range,o=n[1].range;return new yY(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class wre{constructor(e,t,n){this._position=e,this._text=t,this._charAfter=n}getEditOperations(e,t){t.addTrackedEditOperation(new _Y(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return new yY(n.endLineNumber,n.startColumn,n.endLineNumber,n.endColumn-this._charAfter.length)}}function Cre(e,t,n,i=!0,o){if(e<4)return null;const r=o.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!r)return null;if(n<=1)return{indentation:"",action:null};for(let l=n-1;l>0&&""===t.getLineContent(l);l--)if(1===l)return{indentation:"",action:null};const s=function(e,t,n){const i=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let o,r=-1;for(o=t-1;o>=1;o--){if(e.tokenization.getLanguageIdAtPosition(o,0)!==i)return r;const t=e.getLineContent(o);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;r=o}}return-1}(t,n,r);if(s<0)return null;if(s<1)return{indentation:"",action:null};const a=t.getLineContent(s);if(r.shouldIncrease(a)||r.shouldIndentNextLine(a))return{indentation:SZ(a),action:x4.Indent,line:s};if(r.shouldDecrease(a))return{indentation:SZ(a),action:null,line:s};{if(1===s)return{indentation:SZ(t.getLineContent(s)),action:null,line:s};const e=s-1,n=r.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:SZ(t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:SZ(t.getLineContent(s)),action:null,line:s};for(let i=s;i>0;i--){const e=t.getLineContent(i);if(r.shouldIncrease(e))return{indentation:SZ(e),action:x4.Indent,line:i};if(r.shouldIndentNextLine(e)){let e=0;for(let n=i-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(i))){e=n;break}return{indentation:SZ(t.getLineContent(e+1)),action:null,line:e+1}}if(r.shouldDecrease(e))return{indentation:SZ(e),action:null,line:i}}return{indentation:SZ(t.getLineContent(1)),action:null,line:1}}}class Sre{static indent(e,t,n){if(null===t||null===n)return[];const i=[];for(let o=0,r=n.length;o<r;o++)i[o]=new _re(n[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static outdent(e,t,n){const i=[];for(let o=0,r=n.length;o<r;o++)i[o]=new _re(n[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static shiftIndent(e,t,n){return n=n||1,_re.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,_re.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){const o=[];for(let r=0,s=n.length;r<s;r++)o[r]=new ore(n[r],i[r]);return new tre(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,o){const r=[];for(let s=0,a=n.length;s<a;s++){const e=n[s],t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&i.indexOf("\n")!==i.length-1&&(o=!1),o){const n=new _Y(t.lineNumber,1,t.lineNumber,1);r[s]=new are(n,i,e,!0)}else r[s]=new ore(e,i)}return new tre(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,o){if(i)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));const e=wZ(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,o,r){const s=this._distributePasteToCursors(e,n,i,o,r);return s?(n=n.sort(_Y.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,o)}static _goodIndentForLine(e,t,n){let i=null,o="";const r=Cre(e.autoIndent,t,n,!1,e.languageConfigurationService);if(r)i=r.action,o=r.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){if(xZ(t.getLineContent(i))>=0)break}if(i<1)return null;const r=t.getLineMaxColumn(i),s=pre(e.autoIndent,t,new _Y(i,r,i,r),e.languageConfigurationService);s&&(o=s.indentation+s.appendText)}return i&&(i===x4.Indent&&(o=Sre.shiftIndent(e,o)),i===x4.Outdent&&(o=Sre.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,n,i){let o="";const r=n.getStartPosition();if(e.insertSpaces){const n=e.visibleColumnFromColumn(t,r),i=e.indentSize,s=i-n%i;for(let e=0;e<s;e++)o+=" "}else o="\t";return new ore(n,o,i)}static tab(e,t,n){const i=[];for(let o=0,r=n.length;o<r;o++){const r=n[o];if(r.isEmpty()){const n=t.getLineContent(r.startLineNumber);if(/^\s*$/.test(n)&&t.tokenization.isCheapToTokenize(r.startLineNumber)){let s=this._goodIndentForLine(e,t,r.startLineNumber);s=s||"\t";const a=e.normalizeIndentation(s);if(!n.startsWith(a)){i[o]=new ore(new _Y(r.startLineNumber,1,r.startLineNumber,n.length+1),a,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,t,r,!0)}else{if(r.startLineNumber===r.endLineNumber){const n=t.getLineMaxColumn(r.startLineNumber);if(1!==r.startColumn||r.endColumn!==n){i[o]=this._replaceJumpToNextIndent(e,t,r,!1);continue}}i[o]=new _re(r,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return i}static compositionType(e,t,n,i,o,r,s,a){const l=i.map((e=>this._compositionType(n,e,o,r,s,a)));return new tre(4,l,{shouldPushStackElementBefore:Dre(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,o,r){if(!t.isEmpty())return null;const s=t.getPosition(),a=Math.max(1,s.column-i),l=Math.min(e.getLineMaxColumn(s.lineNumber),s.column+o),c=new _Y(s.lineNumber,a,s.lineNumber,l);return e.getValueInRange(c)===n&&0===r?null:new sre(c,n,0,r)}static _typeCommand(e,t,n){return n?new rre(e,t,!0):new ore(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return Sre._typeCommand(i,"\n",n);if(!t.tokenization.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){const o=SZ(t.getLineContent(i.startLineNumber)).substring(0,i.startColumn-1);return Sre._typeCommand(i,"\n"+e.normalizeIndentation(o),n)}const o=pre(e.autoIndent,t,i,e.languageConfigurationService);if(o){if(o.indentAction===x4.None)return Sre._typeCommand(i,"\n"+e.normalizeIndentation(o.indentation+o.appendText),n);if(o.indentAction===x4.Indent)return Sre._typeCommand(i,"\n"+e.normalizeIndentation(o.indentation+o.appendText),n);if(o.indentAction===x4.IndentOutdent){const t=e.normalizeIndentation(o.indentation),r=e.normalizeIndentation(o.indentation+o.appendText),s="\n"+r+"\n"+t;return n?new rre(i,s,!0):new sre(i,s,-1,r.length-t.length,!0)}if(o.indentAction===x4.Outdent){const t=Sre.unshiftIndent(e,o.indentation);return Sre._typeCommand(i,"\n"+e.normalizeIndentation(t+o.appendText),n)}}const r=SZ(t.getLineContent(i.startLineNumber)).substring(0,i.startColumn-1);if(e.autoIndent>=4){const o=function(e,t,n,i,o){if(e<4)return null;t.tokenization.forceTokenization(n.startLineNumber);const r=t.tokenization.getLineTokens(n.startLineNumber),s=E4(r,n.startColumn-1),a=s.getLineContent();let l,c,u=!1;s.firstCharOffset>0&&r.getLanguageId(0)!==s.languageId?(u=!0,l=a.substr(0,n.startColumn-1-s.firstCharOffset)):l=r.getLineContent().substring(0,n.startColumn-1),c=n.isEmpty()?a.substr(n.startColumn-1-s.firstCharOffset):j5(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset);const h=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!h)return null;const d=l,g=SZ(l),f={tokenization:{getLineTokens:e=>t.tokenization.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n)},getLineContent:e=>e===n.startLineNumber?d:t.getLineContent(e)},p=SZ(r.getLineContent()),m=Cre(e,f,n.startLineNumber+1,void 0,o);if(!m){const e=u?p:g;return{beforeEnter:e,afterEnter:e}}let v=u?p:m.indentation;return m.action===x4.Indent&&(v=i.shiftIndent(v)),h.shouldDecrease(c)&&(v=i.unshiftIndent(v)),{beforeEnter:u?p:g,afterEnter:v}}(e.autoIndent,t,i,{unshiftIndent:t=>Sre.unshiftIndent(e,t),shiftIndent:t=>Sre.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)},e.languageConfigurationService);if(o){let r=e.visibleColumnFromColumn(t,i.getEndPosition());const s=i.endColumn,a=CZ(t.getLineContent(i.endLineNumber));if(i=a>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,a+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new rre(i,"\n"+e.normalizeIndentation(o.afterEnter),!0);{let t=0;return s<=a+1&&(e.insertSpaces||(r=Math.ceil(r/e.indentSize)),t=Math.min(r+1-e.normalizeIndentation(o.afterEnter).length-1,0)),new sre(i,"\n"+e.normalizeIndentation(o.afterEnter),0,t,!0)}}}return Sre._typeCommand(i,"\n"+e.normalizeIndentation(r),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let i=0,o=n.length;i<o;i++)if(!t.tokenization.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const o=$5(t,n.startLineNumber,n.startColumn),r=function(e,t,n,i,o,r){if(e<4)return null;const s=j5(t,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;const a=r.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!a)return null;const l=s.getLineContent(),c=l.substr(0,n.startColumn-1-s.firstCharOffset);let u;u=n.isEmpty()?l.substr(n.startColumn-1-s.firstCharOffset):j5(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset);if(!a.shouldDecrease(c+u)&&a.shouldDecrease(c+i+u)){const i=Cre(e,t,n.startLineNumber,!1,r);if(!i)return null;let s=i.indentation;return i.action!==x4.Indent&&(s=o.unshiftIndent(s)),s}return null}(e.autoIndent,t,n,i,{shiftIndent:t=>Sre.shiftIndent(e,t),unshiftIndent:t=>Sre.unshiftIndent(e,t)},e.languageConfigurationService);if(null===r)return null;if(r!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===o?Sre._typeCommand(new _Y(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+i,!1):Sre._typeCommand(new _Y(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+t.getLineContent(n.startLineNumber).substring(o-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,s=n.length;r<s;r++){const s=n[r];if(!s.isEmpty())return!1;const a=s.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const c=nre(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(a.lineNumber===n.startLineNumber&&a.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,o){const r=[];for(let s=0,a=i.length;s<a;s++){const e=i[s].getPosition(),t=new _Y(e.lineNumber,e.column,e.lineNumber,e.column+1);r[s]=new ore(t,o)}return new tre(4,r,{shouldPushStackElementBefore:Dre(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],r=i.some((e=>t.startsWith(e.open))),s=o.some((e=>t.startsWith(e.close)));return!r&&s}static _findAutoClosingPairOpen(e,t,n,i){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!o)return null;let r=null;for(const s of o)if(null===r||s.open.length>r.open.length){let e=!0;for(const o of n){if(t.getValueInRange(new _Y(o.lineNumber,o.column-s.open.length+1,o.lineNumber,o.column))+i!==s.open){e=!1;break}}e&&(r=s)}return r}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let o=null;for(const r of i)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!o||r.open.length>o.open.length)&&(o=r);return o}static _getAutoClosingPairClose(e,t,n,i,o){for(const d of n)if(!d.isEmpty())return null;const r=n.map((e=>{const t=e.getPosition();return o?{lineNumber:t.lineNumber,beforeColumn:t.column-i.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),s=this._findAutoClosingPairOpen(e,t,r.map((e=>new bY(e.lineNumber,e.beforeColumn))),i);if(!s)return null;let a,l;if(nre(i))a=e.autoClosingQuotes,l=e.shouldAutoCloseBefore.quote;else{!!e.blockCommentStartToken&&s.open.includes(e.blockCommentStartToken)?(a=e.autoClosingComments,l=e.shouldAutoCloseBefore.comment):(a=e.autoClosingBrackets,l=e.shouldAutoCloseBefore.bracket)}if("never"===a)return null;const c=this._findContainedAutoClosingPair(e,s),u=c?c.close:"";let h=!0;for(const d of r){const{lineNumber:n,beforeColumn:o,afterColumn:r}=d,c=t.getLineContent(n),g=c.substring(0,o-1),f=c.substring(r-1);if(f.startsWith(u)||(h=!1),f.length>0){const t=f.charAt(0);if(!Sre._isBeforeClosingBrace(e,f)&&!l(t))return null}if(1===s.open.length&&("'"===i||'"'===i)&&"always"!==a){const t=k3(e.wordSeparators);if(g.length>0){const e=g.charCodeAt(g.length-1);if(0===t.get(e))return null}}if(!t.tokenization.isCheapToTokenize(n))return null;t.tokenization.forceTokenization(n);const p=E4(t.tokenization.getLineTokens(n),o-1);if(!s.shouldAutoClose(p,o-p.firstCharOffset))return null;const m=s.findNeutralCharacter();if(m){const e=t.tokenization.getTokenTypeIfInsertingCharacter(n,o,m);if(!s.isOK(e))return null}}return h?s.close.substring(0,s.close.length-u.length):s.close}static _runAutoClosingOpenCharType(e,t,n,i,o,r,s){const a=[];for(let l=0,c=i.length;l<c;l++){const e=i[l];a[l]=new xre(e,o,!r,s)}return new tre(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return nre(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!Sre._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const o=nre(i);for(const r of n){if(r.isEmpty())return!1;let e=!0;for(let n=r.startLineNumber;n<=r.endLineNumber;n++){const i=t.getLineContent(n),o=n===r.startLineNumber?r.startColumn-1:0,s=n===r.endLineNumber?r.endColumn-1:i.length,a=i.substring(o,s);if(/[^ \t]/.test(a)){e=!1;break}}if(e)return!1;if(o&&r.startLineNumber===r.endLineNumber&&r.startColumn+1===r.endColumn){if(nre(t.getValueInRange(r)))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,o){const r=[];for(let s=0,a=i.length;s<a;s++){const e=i[s],n=t.surroundingPairs[o];r[s]=new yre(e,o,n)}return new tre(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.tokenization.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,i,o){if(!t.electricChars.hasOwnProperty(o)||!i.isEmpty())return null;const r=i.getPosition();n.tokenization.forceTokenization(r.lineNumber);const s=n.tokenization.getLineTokens(r.lineNumber);let a;try{a=t.onElectricCharacter(o,s,r.column)}catch(fTe){return Rq(fTe),null}if(!a)return null;if(a.matchOpenBracket){const i=(s.getLineContent()+o).lastIndexOf(a.matchOpenBracket)+1,l=n.bracketPairs.findMatchingBracketUp(a.matchOpenBracket,{lineNumber:r.lineNumber,column:i},500);if(l){if(l.startLineNumber===r.lineNumber)return null;const i=SZ(n.getLineContent(l.startLineNumber)),s=t.normalizeIndentation(i),a=n.getLineContent(r.lineNumber),c=n.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,u=s+a.substring(c-1,r.column-1)+o,h=new _Y(r.lineNumber,1,r.lineNumber,r.column),d=new ore(h,u);return new tre(Lre(u,e),[d],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,o,r){if(!i)return null;let s=null;for(const u of i)if(null===s)s=u.insertedText;else if(s!==u.insertedText)return null;if(!s||1!==s.length)return null;const a=s;let l=!1;for(const u of i)if(0!==u.deletedText.length){l=!0;break}if(l){if(!Sre._shouldSurroundChar(t,a)||!t.surroundingPairs.hasOwnProperty(a))return null;const e=nre(a);for(const t of i){if(0!==t.deletedSelectionStart||t.deletedSelectionEnd!==t.deletedText.length)return null;if(/^[ \t]+$/.test(t.deletedText))return null;if(e&&nre(t.deletedText))return null}const n=[];for(const t of o){if(!t.isEmpty())return null;n.push(t.getPosition())}if(n.length!==i.length)return null;const r=[];for(let o=0,s=n.length;o<s;o++)r.push(new wre(n[o],i[o].deletedText,t.surroundingPairs[a]));return new tre(4,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,n,o,r,a)){const e=o.map((e=>new ore(new _Y(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new tre(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const c=this._getAutoClosingPairClose(t,n,o,a,!0);return null!==c?this._runAutoClosingOpenCharType(e,t,n,o,a,!0,c):null}static typeWithInterceptors(e,t,n,i,o,r,s){if(!e&&"\n"===s){const e=[];for(let t=0,r=o.length;t<r;t++)e[t]=Sre._enter(n,i,!1,o[t]);return new tre(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,o)){const e=[];let t=!1;for(let r=0,a=o.length;r<a;r++)if(e[r]=this._runAutoIndentType(n,i,o[r],s),!e[r]){t=!0;break}if(!t)return new tre(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,i,o,r,s))return this._runAutoClosingOvertype(t,n,i,o,s);if(!e){const e=this._getAutoClosingPairClose(n,i,o,s,!1);if(e)return this._runAutoClosingOpenCharType(t,n,i,o,s,!1,e)}if(!e&&this._isSurroundSelectionType(n,i,o,s))return this._runSurroundSelectionType(t,n,i,o,s);if(!e&&this._isTypeInterceptorElectricChar(n,i,o)){const e=this._typeInterceptorElectricChar(t,n,i,o[0],s);if(e)return e}const a=[];for(let c=0,u=o.length;c<u;c++)a[c]=new ore(o[c],s);const l=Lre(s,t);return new tre(l,a,{shouldPushStackElementBefore:Dre(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,o){const r=[];for(let a=0,l=i.length;a<l;a++)r[a]=new ore(i[a],o);const s=Lre(o,e);return new tre(s,r,{shouldPushStackElementBefore:Dre(e,s),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];const i=[];for(let o=0,r=n.length;o<r;o++){let r=n[o].positionLineNumber;if(1===r)i[o]=new rre(new _Y(1,1,1,1),"\n");else{r--;const n=t.getLineMaxColumn(r);i[o]=this._enter(e,t,!1,new _Y(r,n,r,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];const i=[];for(let o=0,r=n.length;o<r;o++){const r=n[o].positionLineNumber,s=t.getLineMaxColumn(r);i[o]=this._enter(e,t,!1,new _Y(r,s,r,s))}return i}static lineBreakInsert(e,t,n){const i=[];for(let o=0,r=n.length;o<r;o++)i[o]=this._enter(e,t,!0,n[o]);return i}}class xre extends sre{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new _Y(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new _Y(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}class kre{constructor(e,t,n,i,o,r){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=n,this.insertedText=i,this.insertedSelectionStart=o,this.insertedSelectionEnd=r}}function Lre(e,t){return" "===e?5===t||6===t?6:5:4}function Dre(e,t){return!(!Nre(e)||Nre(t))||5!==e&&Ere(e)!==Ere(t)}function Ere(e){return 6===e||5===e?"space":e}function Nre(e){return 4===e||5===e||6===e}var Tre,Ire;(Ire=Tre||(Tre={})).editorSimpleInput=new MJ("editorSimpleInput",!1,!0),Ire.editorTextFocus=new MJ("editorTextFocus",!1,nK(0,"Whether the editor text has focus (cursor is blinking)")),Ire.focus=new MJ("editorFocus",!1,nK(0,"Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),Ire.textInputFocus=new MJ("textInputFocus",!1,nK(0,"Whether an editor or a rich text input has focus (cursor is blinking)")),Ire.readOnly=new MJ("editorReadonly",!1,nK(0,"Whether the editor is read-only")),Ire.inDiffEditor=new MJ("inDiffEditor",!1,nK(0,"Whether the context is a diff editor")),Ire.isEmbeddedDiffEditor=new MJ("isEmbeddedDiffEditor",!1,nK(0,"Whether the context is an embedded diff editor")),Ire.comparingMovedCode=new MJ("comparingMovedCode",!1,nK(0,"Whether a moved code block is selected for comparison")),Ire.accessibleDiffViewerVisible=new MJ("accessibleDiffViewerVisible",!1,nK(0,"Whether the accessible diff viewer is visible")),Ire.diffEditorRenderSideBySideInlineBreakpointReached=new MJ("diffEditorRenderSideBySideInlineBreakpointReached",!1,nK(0,"Whether the diff editor render side by side inline breakpoint is reached")),Ire.columnSelection=new MJ("editorColumnSelection",!1,nK(0,"Whether `editor.columnSelection` is enabled")),Ire.writable=Ire.readOnly.toNegated(),Ire.hasNonEmptySelection=new MJ("editorHasSelection",!1,nK(0,"Whether the editor has text selected")),Ire.hasOnlyEmptySelection=Ire.hasNonEmptySelection.toNegated(),Ire.hasMultipleSelections=new MJ("editorHasMultipleSelections",!1,nK(0,"Whether the editor has multiple selections")),Ire.hasSingleSelection=Ire.hasMultipleSelections.toNegated(),Ire.tabMovesFocus=new MJ("editorTabMovesFocus",!1,nK(0,"Whether `Tab` will move focus out of the editor")),Ire.tabDoesNotMoveFocus=Ire.tabMovesFocus.toNegated(),Ire.isInWalkThroughSnippet=new MJ("isInEmbeddedEditor",!1,!0),Ire.canUndo=new MJ("canUndo",!1,!0),Ire.canRedo=new MJ("canRedo",!1,!0),Ire.hoverVisible=new MJ("editorHoverVisible",!1,nK(0,"Whether the editor hover is visible")),Ire.hoverFocused=new MJ("editorHoverFocused",!1,nK(0,"Whether the editor hover is focused")),Ire.stickyScrollFocused=new MJ("stickyScrollFocused",!1,nK(0,"Whether the sticky scroll is focused")),Ire.stickyScrollVisible=new MJ("stickyScrollVisible",!1,nK(0,"Whether the sticky scroll is visible")),Ire.standaloneColorPickerVisible=new MJ("standaloneColorPickerVisible",!1,nK(0,"Whether the standalone color picker is visible")),Ire.standaloneColorPickerFocused=new MJ("standaloneColorPickerFocused",!1,nK(0,"Whether the standalone color picker is focused")),Ire.inCompositeEditor=new MJ("inCompositeEditor",void 0,nK(0,"Whether the editor is part of a larger editor (e.g. notebooks)")),Ire.notInCompositeEditor=Ire.inCompositeEditor.toNegated(),Ire.languageId=new MJ("editorLangId","",nK(0,"The language identifier of the editor")),Ire.hasCompletionItemProvider=new MJ("editorHasCompletionItemProvider",!1,nK(0,"Whether the editor has a completion item provider")),Ire.hasCodeActionsProvider=new MJ("editorHasCodeActionsProvider",!1,nK(0,"Whether the editor has a code actions provider")),Ire.hasCodeLensProvider=new MJ("editorHasCodeLensProvider",!1,nK(0,"Whether the editor has a code lens provider")),Ire.hasDefinitionProvider=new MJ("editorHasDefinitionProvider",!1,nK(0,"Whether the editor has a definition provider")),Ire.hasDeclarationProvider=new MJ("editorHasDeclarationProvider",!1,nK(0,"Whether the editor has a declaration provider")),Ire.hasImplementationProvider=new MJ("editorHasImplementationProvider",!1,nK(0,"Whether the editor has an implementation provider")),Ire.hasTypeDefinitionProvider=new MJ("editorHasTypeDefinitionProvider",!1,nK(0,"Whether the editor has a type definition provider")),Ire.hasHoverProvider=new MJ("editorHasHoverProvider",!1,nK(0,"Whether the editor has a hover provider")),Ire.hasDocumentHighlightProvider=new MJ("editorHasDocumentHighlightProvider",!1,nK(0,"Whether the editor has a document highlight provider")),Ire.hasDocumentSymbolProvider=new MJ("editorHasDocumentSymbolProvider",!1,nK(0,"Whether the editor has a document symbol provider")),Ire.hasReferenceProvider=new MJ("editorHasReferenceProvider",!1,nK(0,"Whether the editor has a reference provider")),Ire.hasRenameProvider=new MJ("editorHasRenameProvider",!1,nK(0,"Whether the editor has a rename provider")),Ire.hasSignatureHelpProvider=new MJ("editorHasSignatureHelpProvider",!1,nK(0,"Whether the editor has a signature help provider")),Ire.hasInlayHintsProvider=new MJ("editorHasInlayHintsProvider",!1,nK(0,"Whether the editor has an inline hints provider")),Ire.hasDocumentFormattingProvider=new MJ("editorHasDocumentFormattingProvider",!1,nK(0,"Whether the editor has a document formatting provider")),Ire.hasDocumentSelectionFormattingProvider=new MJ("editorHasDocumentSelectionFormattingProvider",!1,nK(0,"Whether the editor has a document selection formatting provider")),Ire.hasMultipleDocumentFormattingProvider=new MJ("editorHasMultipleDocumentFormattingProvider",!1,nK(0,"Whether the editor has multiple document formatting providers")),Ire.hasMultipleDocumentSelectionFormattingProvider=new MJ("editorHasMultipleDocumentSelectionFormattingProvider",!1,nK(0,"Whether the editor has multiple document selection formatting providers"));class Mre extends A2{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n||{})}}var Rre,Are,Ore,Pre,Fre;(Are=Rre||(Rre={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!FU(e))return!1;const t=e;return!(!PU(t.to)||!HU(t.by)&&!PU(t.by)||!HU(t.value)&&!zU(t.value)||!HU(t.revealCursor)&&!WU(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Are.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},Are.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},Are.parse=function(e){let t,n;switch(e.to){case Are.RawDirection.Up:t=1;break;case Are.RawDirection.Right:t=2;break;case Are.RawDirection.Down:t=3;break;case Are.RawDirection.Left:t=4;break;default:return null}switch(e.by){case Are.RawUnit.Line:n=1;break;case Are.RawUnit.WrappedLine:n=2;break;case Are.RawUnit.Page:n=3;break;case Are.RawUnit.HalfPage:n=4;break;case Are.RawUnit.Editor:n=5;break;case Are.RawUnit.Column:n=6;break;default:n=2}return{direction:t,unit:n,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(Pre=Ore||(Ore={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!FU(e))return!1;const t=e;return!(!zU(t.lineNumber)&&!PU(t.lineNumber)||!HU(t.at)&&!PU(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Pre.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class Bre{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const n=e.get(PQ).getFocusedCodeEditor();return!(!n||!n.hasTextFocus())&&this._runEditorCommand(e,n,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const n=e2();return!!(n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0)&&(this.runDOMCommand(n),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const n=e.get(PQ).getActiveCodeEditor();return!!n&&(n.focus(),this._runEditorCommand(e,n,t))}))}_runEditorCommand(e,t,n){const i=this.runEditorCommand(e,t,n);return i||!0}}!function(e){class t extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;e.model.pushStackElement();e.setCursorStates(t.source,3,[dre.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&2!==t.revealType&&e.revealPrimaryCursor(t.source,!0,!0)}}e.MoveTo=O2(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=O2(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class n extends Mre{runCoreEditorCommand(e,t){e.model.pushStackElement();const n=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);null!==n&&(e.setCursorStates(t.source,3,n.viewStates.map((e=>Zoe.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),n.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source))}}e.ColumnSelect=O2(new class extends n{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,n,i){if(void 0===i.position||void 0===i.viewPosition||void 0===i.mouseColumn)return null;const o=e.model.validatePosition(i.position),r=e.coordinatesConverter.validateViewPosition(new bY(i.viewPosition.lineNumber,i.viewPosition.column),o),s=i.doColumnSelect?n.fromViewLineNumber:r.lineNumber,a=i.doColumnSelect?n.fromViewVisualColumn:i.mouseColumn-1;return ire.columnSelect(e.cursorConfig,e,s,a,r.lineNumber,i.mouseColumn-1)}}),e.CursorColumnSelectLeft=O2(new class extends n{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return ire.columnSelectLeft(e.cursorConfig,e,n)}}),e.CursorColumnSelectRight=O2(new class extends n{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return ire.columnSelectRight(e.cursorConfig,e,n)}});class i extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return ire.columnSelectUp(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectUp=O2(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=O2(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return ire.columnSelectDown(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectDown=O2(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=O2(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3596,linux:{primary:0}}}));class r extends Mre{constructor(){super({id:"cursorMove",precondition:void 0,description:gre.description})}runCoreEditorCommand(e,t){const n=gre.parse(t);n&&this._runCursorMove(e,t.source,n)}_runCursorMove(e,t,n){e.model.pushStackElement(),e.setCursorStates(t,3,r._move(e,e.getCursorStates(),n)),e.revealPrimaryCursor(t,!0)}static _move(e,t,n){const i=n.select,o=n.value;switch(n.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return dre.simpleMove(e,t,n.direction,i,o,n.unit);case 11:case 13:case 12:case 14:return dre.viewportMove(e,t,n.direction,i,o);default:return null}}}e.CursorMoveImpl=r,e.CursorMove=O2(new r);class s extends Mre{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let n=this._staticArgs;-1===this._staticArgs.value&&(n={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,dre.simpleMove(e,e.getCursorStates(),n.direction,n.select,n.value,n.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=O2(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=O2(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1039}})),e.CursorRight=O2(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=O2(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1041}})),e.CursorUp=O2(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=O2(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=O2(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:11}})),e.CursorPageUpSelect=O2(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1035}})),e.CursorDown=O2(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=O2(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=O2(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:12}})),e.CursorPageDownSelect=O2(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1036}})),e.CreateCursor=O2(new class extends Mre{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;let n;n=t.wholeLine?dre.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):dre.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const i=e.getCursorStates();if(i.length>1){const o=n.modelState?n.modelState.position:null,r=n.viewState?n.viewState.position:null;for(let n=0,s=i.length;n<s;n++){const s=i[n];if((!o||s.modelState.selection.containsPosition(o))&&(!r||s.viewState.selection.containsPosition(r)))return i.splice(n,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,i)}}i.push(n),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}}),e.LastCursorMoveToSelect=O2(new class extends Mre{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0);o[n]=dre.moveTo(e,i[n],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class a extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,dre.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=O2(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=O2(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],o=i.modelState.position.lineNumber;t[n]=Zoe.fromModelState(i.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=O2(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=O2(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,dre.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=O2(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:Tre.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:nK(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=O2(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:Tre.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:nK(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i],r=o.modelState.position.lineNumber,s=e.model.getLineMaxColumn(r);n[i]=Zoe.fromModelState(o.modelState.move(this._inSelectionMode,r,s,0))}return n}}e.CursorLineEnd=O2(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=O2(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,dre.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=O2(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=O2(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3086,mac:{primary:3088}}}));class d extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,dre.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=O2(new d({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=O2(new d({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends Mre{constructor(){super({id:"editorScroll",precondition:void 0,description:Rre.description})}determineScrollMethod(e){return[6].includes(e.unit)&&[4,2].includes(e.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(e.unit)&&[1,3].includes(e.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(e,t){const n=Rre.parse(t);if(!n)return;const i=this.determineScrollMethod(n);i&&i(e,t.source,n)}_runVerticalEditorScroll(e,t,n){const i=this._computeDesiredScrollTop(e,n);if(n.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(i);e.setCursorStates(t,3,[dre.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,n.select)])}e.viewLayout.setScrollPosition({scrollTop:i},0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const n=e.viewLayout.getFutureViewport(),i=e.getCompletelyVisibleViewRangeAtScrollTop(n.top),o=e.coordinatesConverter.convertViewRangeToModelRange(i);let r;r=1===t.direction?Math.max(1,o.startLineNumber-t.value):Math.min(e.model.getLineCount(),o.startLineNumber+t.value);const s=e.coordinatesConverter.convertModelPositionToViewPosition(new bY(r,1));return e.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}if(5===t.unit){let n=0;return 3===t.direction&&(n=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(n)}let n;n=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const i=(1===t.direction?-1:1)*n;return e.viewLayout.getCurrentScrollTop()+i*e.cursorConfig.lineHeight}_runHorizontalEditorScroll(e,t,n){const i=this._computeDesiredScrollLeft(e,n);e.viewLayout.setScrollPosition({scrollLeft:i},0)}_computeDesiredScrollLeft(e,t){const n=(4===t.direction?-1:1)*t.value;return e.viewLayout.getCurrentScrollLeft()+n*e.cursorConfig.typicalHalfwidthCharacterWidth}}e.EditorScrollImpl=g,e.EditorScroll=O2(new g),e.ScrollLineUp=O2(new class extends Mre{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Up,by:Rre.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollPageUp=O2(new class extends Mre{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Up,by:Rre.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollEditorTop=O2(new class extends Mre{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Up,by:Rre.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollLineDown=O2(new class extends Mre{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Down,by:Rre.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollPageDown=O2(new class extends Mre{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Down,by:Rre.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollEditorBottom=O2(new class extends Mre{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Down,by:Rre.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollLeft=O2(new class extends Mre{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Left,by:Rre.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:n.source})}}),e.ScrollRight=O2(new class extends Mre{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus}})}runCoreEditorCommand(t,n){e.EditorScroll.runCoreEditorCommand(t,{to:Rre.RawDirection.Right,by:Rre.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:n.source})}});class f extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[dre.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),2!==t.revealType&&e.revealPrimaryCursor(t.source,!0,!0))}}e.WordSelect=O2(new f({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=O2(new f({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=O2(new class extends Mre{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0),r=i[n];o[n]=dre.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class p extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[dre.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),2!==t.revealType&&e.revealPrimaryCursor(t.source,!1,!0))}}e.LineSelect=O2(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=O2(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends Mre{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0);o[n]=dre.line(e,i[n],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=O2(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=O2(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=O2(new class extends Mre{constructor(){super({id:"cancelSelection",precondition:Tre.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[dre.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=O2(new class extends Mre{constructor(){super({id:"removeSecondaryCursors",precondition:Tre.hasMultipleSelections,kbOpts:{weight:1,kbExpr:Tre.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),V7(nK(0,"Removed secondary cursors"))}}),e.RevealLine=O2(new class extends Mre{constructor(){super({id:"revealLine",precondition:void 0,description:Ore.description})}runCoreEditorCommand(e,t){const n=t,i=n.lineNumber||0;let o="number"==typeof i?i+1:parseInt(i)+1;o<1&&(o=1);const r=e.model.getLineCount();o>r&&(o=r);const s=new _Y(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(n.at)switch(n.at){case Ore.RawAtArgument.Top:a=3;break;case Ore.RawAtArgument.Center:a=1;break;case Ore.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends Bre{constructor(){super($2)}runDOMCommand(e){gQ&&(e.focus(),e.select()),e.ownerDocument.execCommand("selectAll")}runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[dre.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=O2(new class extends Mre{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){t.selection&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[Zoe.fromModelSelection(t.selection)]))}})}(Fre||(Fre={}));const zre=dJ.and(Tre.textInputFocus,Tre.columnSelection);function Vre(e,t){ZJ.registerKeybindingRule({id:e,primary:t,when:zre,weight:1})}function Wre(e){return e.register(),e}var Hre,$re,jre;Vre(Fre.CursorColumnSelectLeft.id,1039),Vre(Fre.CursorColumnSelectRight.id,1041),Vre(Fre.CursorColumnSelectUp.id,1040),Vre(Fre.CursorColumnSelectPageUp.id,1035),Vre(Fre.CursorColumnSelectDown.id,1042),Vre(Fre.CursorColumnSelectPageDown.id,1036),function(e){class t extends A2{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditingCommand(t,i,n||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=O2(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:Tre.writable,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,Sre.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=O2(new class extends t{constructor(){super({id:"outdent",precondition:Tre.writable,kbOpts:{weight:0,kbExpr:dJ.and(Tre.editorTextFocus,Tre.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,Sre.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=O2(new class extends t{constructor(){super({id:"tab",precondition:Tre.writable,kbOpts:{weight:0,kbExpr:dJ.and(Tre.editorTextFocus,Tre.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,Sre.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=O2(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,n){const[i,o]=ure.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());i&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=O2(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:Tre.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,n){const[i,o]=ure.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));i&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends Bre{constructor(){super(W2)}runDOMCommand(e){e.ownerDocument.execCommand("undo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(90))return t.getModel().undo()}},e.Redo=new class extends Bre{constructor(){super(H2)}runDOMCommand(e){e.ownerDocument.execCommand("redo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(90))return t.getModel().redo()}}}(Hre||(Hre={}));class Ure extends I2{constructor(e,t,n){super({id:e,precondition:void 0,description:n}),this._handlerId=t}runCommand(e,t){const n=e.get(PQ).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)}}function Kre(e,t){Wre(new Ure("default:"+e,e)),Wre(new Ure(e,e,t))}Kre("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Kre("replacePreviousChar"),Kre("compositionType"),Kre("compositionStart"),Kre("compositionEnd"),Kre("paste"),Kre("cut");class qre{constructor(e,t,n,i){this.configuration=e,this.viewModel=t,this.userInputEvents=n,this.commandDelegate=i}paste(e,t,n,i){this.commandDelegate.paste(e,t,n,i)}type(e){this.commandDelegate.type(e)}compositionType(e,t,n,i){this.commandDelegate.compositionType(e,t,n,i)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Fre.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new bY(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,n=CK&&t.get(106),i=t.get(22);e.middleButton&&!n?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):2===e.mouseDownCount?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||i?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){Fre.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){Fre.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,n){e=this._validateViewColumn(e),Fre.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:n})}_createCursor(e,t){e=this._validateViewColumn(e),Fre.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){Fre.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){Fre.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){Fre.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){Fre.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){Fre.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){Fre.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){Fre.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){Fre.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){Fre.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Gre{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;null===(t=this.onKeyDown)||void 0===t||t.call(this,e)}emitKeyUp(e){var t;null===(t=this.onKeyUp)||void 0===t||t.call(this,e)}emitContextMenu(e){var t;null===(t=this.onContextMenu)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;null===(t=this.onMouseMove)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;null===(t=this.onMouseLeave)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;null===(t=this.onMouseDown)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;null===(t=this.onMouseUp)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;null===(t=this.onMouseDrag)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;null===(t=this.onMouseDrop)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;null===(e=this.onMouseDropCanceled)||void 0===e||e.call(this)}emitMouseWheel(e){var t;null===(t=this.onMouseWheel)||void 0===t||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Gre.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const n=Object.assign({},e);return n.position&&(n.position=t.convertViewPositionToModelPosition(n.position)),n.range&&(n.range=t.convertViewRangeToModelRange(n.range)),5!==n.type&&8!==n.type||(n.detail=this.convertViewToModelViewZoneData(n.detail,t)),n}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new bY(e.afterLineNumber,1)).lineNumber}}}class Yre{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new $q("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){const n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>i)return null;let o=0,r=0;for(let s=n;s<=i;s++){const n=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===r?(o=n,r=1):r++)}if(e<n){let i=0;i=t<n?t-e+1:n-e,this._rendLineNumberStart-=i}return this._lines.splice(o,r)}onLinesChanged(e,t){const n=e+t-1;if(0===this.getCount())return!1;const i=this.getStartLineNumber(),o=this.getEndLineNumber();let r=!1;for(let s=e;s<=n;s++)s>=i&&s<=o&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(0===this.getCount())return null;const n=t-e+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>o)return null;if(n+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const r=[];for(let u=0;u<n;u++)r[u]=this._createLine();const s=e-this._rendLineNumberStart,a=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-n),c=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=a.concat(r).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let o=0,r=e.length;o<r;o++){const r=e[o];if(r.toLineNumber<t||r.fromLineNumber>n)continue;const s=Math.max(t,r.fromLineNumber),a=Math.min(n,r.toLineNumber);for(let e=s;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),i=!0}}return i}}class Xre{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Yre((()=>this._host.createVisibleLine()))}_createDomNode(){const e=CQ(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(143)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),n=new Zre(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class Zre{constructor(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}render(e,t,n,i){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||n<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=n-t+1,o.lines=[];for(let e=t;e<=n;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(n-o.rendLineNumberStart,o.linesLength-1),i,t),o.rendLineNumberStart>t){const e=t,r=Math.min(n,o.rendLineNumberStart-1);e<=r&&(this._insertLinesBefore(o,e,r,i,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<n){const e=o.rendLineNumberStart+o.linesLength,r=n;e<=r&&(this._insertLinesAfter(o,e,r,i,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>n){const e=Math.max(0,n-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,i),o}_renderUntouchedLines(e,t,n,i,o){const r=e.rendLineNumberStart,s=e.lines;for(let a=t;a<=n;a++){const e=r+a;s[a].layoutLine(e,i[e-o])}}_insertLinesBefore(e,t,n,i,o){const r=[];let s=0;for(let a=t;a<=n;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let n=0;n<t;n++){const t=e.lines[n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,n,i,o){const r=[];let s=0;for(let a=t;a<=n;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const n=e.linesLength-t;for(let i=0;i<t;i++){const t=e.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(n,t)}_finishRenderingNewLines(e,t,n,i){Zre._ttPolicy&&(n=Zre._ttPolicy.createHTML(n));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=n:o.insertAdjacentHTML("afterend",n);let r=this.domNode.lastChild;for(let s=e.linesLength-1;s>=0;s--){const t=e.lines[s];i[s]&&(t.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,n){const i=document.createElement("div");Zre._ttPolicy&&(t=Zre._ttPolicy.createHTML(t)),i.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(n[o]){const e=i.firstChild,n=t.getDomNode();n.parentNode.replaceChild(e,n),t.setDomNode(e)}}}_finishRendering(e,t,n){const i=Zre._sb,o=e.linesLength,r=e.lines,s=e.rendLineNumberStart,a=[];{i.reset();let l=!1;for(let e=0;e<o;e++){const t=r[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+s,n[e],this.viewportData,i)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,i.build(),a)}{i.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=r[e];if(l[e]=!1,a[e])continue;o.renderLine(e+s,n[e],this.viewportData,i)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,i.build(),l)}}}Zre._ttPolicy=y4("editorViewLayer",{createHTML:e=>e}),Zre._sb=new q4(1e5);class Qre extends gne{constructor(e){super(e),this._visibleLines=new Xre(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration.options.get(50);SQ(this.domNode,t),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Jre(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=t;o<=n;o++){this._visibleLines.getVisibleLine(o).onConfigurationChanged(e)}const i=this._context.configuration.options.get(50);return SQ(this.domNode,i),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let n=0,i=t.length;n<i;n++){const i=t[n];i.prepareRender(e),i.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Jre{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=CQ(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(66)}renderLine(e,t,n,i){let o="";for(let r=0,s=this._dynamicOverlays.length;r<s;r++){o+=this._dynamicOverlays[r].render(n.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,i.appendString('<div style="position:absolute;top:'),i.appendString(String(t)),i.appendString("px;width:100%;height:"),i.appendString(String(this._lineHeight)),i.appendString('px;">'),i.appendString(o),i.appendString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class ese extends Qre{constructor(e){super(e);const t=this._context.configuration.options.get(143);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class tse extends Qre{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(143);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),SQ(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;SQ(this.domNode,t.get(50));const n=t.get(143);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class nse extends gne{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=CQ(document.createElement("div")),fne.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=CQ(document.createElement("div")),fne.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new ise(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,n,i,o){this._widgets[e.getId()].setPosition(t,n,i,o),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const n=e.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].render(e)}}class ise{constructor(e,t,n){this._primaryAnchor=new ose(null,null),this._secondaryAnchor=new ose(null,null),this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=CQ(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const i=this._context.configuration.options,o=i.get(143);this._fixedOverflowWidgets=i.get(42),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=i.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(66),e.hasChanged(143)){const e=t.get(143);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,n){function i(e,t,n){if(!e)return new ose(null,null);const i=t.model.validatePosition(e);if(t.coordinatesConverter.modelPositionIsVisible(i)){const o=t.coordinatesConverter.convertModelPositionToViewPosition(i,null!=n?n:void 0);return new ose(e,o)}return new ose(e,null)}this._affinity=e,this._primaryAnchor=i(t,this._context.viewModel,this._affinity),this._secondaryAnchor=i(n,this._context.viewModel,this._affinity)}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(null==t?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,n,i){this._setPosition(i,e,t),this._preference=n,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,n,i){const o=e.top,r=o,s=e.top+e.height,a=o-n,l=r>=n,c=s,u=i.viewportHeight-s>=n;let h=e.left;return h+t>i.scrollLeft+i.viewportWidth&&(h=i.scrollLeft+i.viewportWidth-t),h<i.scrollLeft&&(h=i.scrollLeft),{fitsAbove:l,aboveTop:a,fitsBelow:u,belowTop:c,left:h}}_layoutHorizontalSegmentInPage(e,t,n,i){var o;const r=Math.max(15,t.left-i),s=Math.min(t.left+t.width+i,e.width-15),a=this._viewDomNode.domNode.ownerDocument.defaultView;let l=t.left+n-(null!==(o=null==a?void 0:a.scrollX)&&void 0!==o?o:0);if(l+i>s){const e=l-(s-i);l-=e,n-=e}if(l<r){const e=l-r;l-=e,n-=e}return[n,l]}_layoutBoxInPage(e,t,n,i){var o,r;const s=e.top-n,a=e.top+e.height,l=j1(this._viewDomNode.domNode),c=this._viewDomNode.domNode.ownerDocument,u=c.defaultView,h=l.top+s-(null!==(o=null==u?void 0:u.scrollY)&&void 0!==o?o:0),d=l.top+a-(null!==(r=null==u?void 0:u.scrollY)&&void 0!==r?r:0),g=W1(c.body),[f,p]=this._layoutHorizontalSegmentInPage(g,l,e.left-i.scrollLeft+this._contentLeft,t),m=h>=22,v=d+n<=g.height-22;return this._fixedOverflowWidgets?{fitsAbove:m,aboveTop:Math.max(h,22),fitsBelow:v,belowTop:d,left:p}:{fitsAbove:m,aboveTop:s,fitsBelow:v,belowTop:a,left:f}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new rse(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var t,n;return{primary:i(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:i((null===(t=this._secondaryAnchor.viewPosition)||void 0===t?void 0:t.lineNumber)===(null===(n=this._primaryAnchor.viewPosition)||void 0===n?void 0:n.lineNumber)?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function i(t,n,i){if(!t)return null;const o=e.visibleRangeForPosition(t);if(!o)return null;const r=1===t.column&&3===n?0:o.left,s=e.getVerticalOffsetForLineNumber(t.lineNumber)-e.scrollTop;return new sse(s,r,i)}}_reduceAnchorCoordinates(e,t,n){if(!t)return e;const i=this._context.configuration.options.get(50);let o=t.left;return o=o<e.left?Math.max(o,e.left-n+i.typicalFullwidthCharacterWidth):Math.min(o,e.left+n-i.typicalFullwidthCharacterWidth),new sse(e.top,o,e.height)}_prepareRenderWidget(e){if(!this._preference||0===this._preference.length)return null;const{primary:t,secondary:n}=this._getAnchorsCoordinates(e);if(!t)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=ase(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeOffsetWidth=e.width,this._cachedDomNodeOffsetHeight=e.height;else{const e=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(e.width),this._cachedDomNodeOffsetHeight=Math.round(e.height)}}const i=this._reduceAnchorCoordinates(t,n,this._cachedDomNodeOffsetWidth);let o;o=this.allowEditorOverflow?this._layoutBoxInPage(i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):this._layoutBoxInViewport(i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let r=1;r<=2;r++)for(const e of this._preference)if(1===e){if(!o)return null;if(2===r||o.fitsAbove)return{coordinate:new rse(o.aboveTop,o.left),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new rse(i.top,i.left)),position:0}:{coordinate:new rse(i.top,i.left),position:0};if(!o)return null;if(2===r||o.fitsBelow)return{coordinate:new rse(o.belowTop,o.left),position:2}}return null}onBeforeRender(e){this._primaryAnchor.viewPosition&&this._preference&&(this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&ase(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&ase(this._actual.afterRender,this._actual,this._renderData.position)}}class ose{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class rse{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class sse{constructor(e,t,n){this.top=e,this.left=t,this.height=n,this._anchorCoordinateBrand=void 0}}function ase(e,t,...n){try{return e.call(t,...n)}catch(i){return null}}class lse extends Pie{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(143);this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new yY(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map((e=>e.positionLineNumber));t.sort(((e,t)=>e-t)),pU(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const n=this._selections.every((e=>e.isEmpty()));return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(143);return this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let r=0;const s=[];for(let a=n;a<=i;a++){const e=a-n;for(;r<o&&this._cursorLineNumbers[r]<a;)r++;r<o&&this._cursorLineNumbers[r]===a?s[e]=t:s[e]=""}this._renderData=s}render(e,t){if(!this._renderData)return"";const n=t-e;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class cse extends lse{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class use extends lse{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}Hie(((e,t)=>{const n=e.getColor(jie);if(n&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||e.defines(Uie)){const n=e.getColor(Uie);n&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),kne(e.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class hse extends Pie{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(n[i++]=e)}n=n.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const n=e.options.className,i=t.options.className;return n<i?-1:n>i?1:_Y.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=[];for(let a=o;a<=r;a++){s[a-o]=""}this._renderWholeLineDecorations(e,n,s),this._renderNormalDecorations(e,n,s),this._renderResult=s}_renderWholeLineDecorations(e,t,n){const i=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let s=0,a=t.length;s<a;s++){const e=t[s];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',l=Math.max(e.range.startLineNumber,o),c=Math.min(e.range.endLineNumber,r);for(let t=l;t<=c;t++){n[t-o]+=a}}}_renderNormalDecorations(e,t,n){var i;const o=String(this._lineHeight),r=e.visibleRange.startLineNumber;let s=null,a=!1,l=null,c=!1;for(let u=0,h=t.length;u<h;u++){const h=t[u];if(h.options.isWholeLine)continue;const d=h.options.className,g=Boolean(h.options.showIfCollapsed);let f=h.range;g&&1===f.endColumn&&f.endLineNumber!==f.startLineNumber&&(f=new _Y(f.startLineNumber,f.startColumn,f.endLineNumber-1,this._context.viewModel.getLineMaxColumn(f.endLineNumber-1))),s===d&&a===g&&_Y.areIntersectingOrTouching(l,f)?l=_Y.plusRange(l,f):(null!==s&&this._renderNormalDecoration(e,l,s,c,a,o,r,n),s=d,a=g,l=f,c=null!==(i=h.options.shouldFillLineOnLineBreak)&&void 0!==i&&i)}null!==s&&this._renderNormalDecoration(e,l,s,c,a,o,r,n)}_renderNormalDecoration(e,t,n,i,o,r,s,a){const l=e.linesVisibleRangesForRange(t,"findMatch"===n);if(l)for(let c=0,u=l.length;c<u;c++){const e=l[c];if(e.outsideRenderedLine)continue;const t=e.lineNumber-s;if(o&&1===e.ranges.length){const t=e.ranges[0];if(t.width<this._typicalHalfwidthCharacterWidth){const n=Math.round(t.left+t.width/2),i=Math.max(0,Math.round(n-this._typicalHalfwidthCharacterWidth/2));e.ranges[0]=new bne(i,this._typicalHalfwidthCharacterWidth)}}for(let o=0,s=e.ranges.length;o<s;o++){const l=i&&e.continuesOnNextLine&&1===s,c=e.ranges[o],u='<div class="cdr '+n+'" style="left:'+String(c.left)+(l?"px;width:100%;height:":"px;width:"+String(c.width)+"px;height:")+r+'px;"></div>';a[t]+=u}}}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class dse extends gne{constructor(e,t,n,i){super(e);const o=this._context.configuration.options,r=o.get(102),s=o.get(74),a=o.get(40),l=o.get(105),c={listenOnDomNode:n.domNode,className:"editor-scrollable "+zie(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new mie(t.domNode,c,this._context.viewLayout.getScrollable())),fne.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=CQ(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(e,t,n)=>{const i={};{const t=e.scrollTop;t&&(i.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(n){const t=e.scrollLeft;t&&(i.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(i,1)};this._register(O1(n.domNode,"scroll",(e=>u(n.domNode,0,!0)))),this._register(O1(t.domNode,"scroll",(e=>u(t.domNode,0,!1)))),this._register(O1(i.domNode,"scroll",(e=>u(i.domNode,0,!1)))),this._register(O1(this.scrollbarDomNode.domNode,"scroll",(e=>u(this.scrollbarDomNode.domNode,0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(143);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(72).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(102)||e.hasChanged(74)||e.hasChanged(40)){const e=this._context.configuration.options,t=e.get(102),n=e.get(74),i=e.get(40),o=e.get(105),r={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:o};this.scrollbar.updateOptions(r)}return e.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+zie(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class gse extends Yq{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}(jre=$re||($re={}))[jre.Disabled=0]="Disabled",jre[jre.EnabledForActive=1]="EnabledForActive",jre[jre.Enabled=2]="Enabled";class fse{constructor(e,t,n,i,o,r){if(this.visibleColumn=e,this.column=t,this.className=n,this.horizontalLine=i,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=r,-1!==e==(-1!==t))throw new Error}}class pse{constructor(e,t){this.top=e,this.endColumn=t}}class mse extends gse{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return function(e,t){let n=0,i=0;const o=e.length;for(;i<o;){const o=e.charCodeAt(i);if(32===o)n++;else{if(9!==o)break;n=n-n%t+t}i++}return i===o?-1:n}(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,n){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new $q("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(o&&o.offSide);let s=-2,a=-1,l=-2,c=-1;const u=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){s=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let h=-2,d=-1,g=-2,f=-1;const p=e=>{if(-2===h){h=-1,d=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){h=t,d=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,f=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){g=t,f=e;break}}}};let m=0,v=!0,b=0,_=!0,y=0,w=0;for(let C=0;v||_;C++){const o=e-C,s=e+C;C>1&&(o<1||o<t)&&(v=!1),C>1&&(s>i||s>n)&&(_=!1),C>5e4&&(v=!1,_=!1);let g=-1;if(v&&o>=1){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,c=e,g=Math.ceil(e/this.textModel.getOptions().indentSize)):(u(o),g=this._getIndentLevelForWhitespaceLine(r,a,c))}let S=-1;if(_&&s<=i){const e=this._computeIndentLevel(s-1);e>=0?(h=s-1,d=e,S=Math.ceil(e/this.textModel.getOptions().indentSize)):(p(s),S=this._getIndentLevelForWhitespaceLine(r,d,f))}if(0!==C){if(1===C){if(s<=i&&S>=0&&w+1===S){v=!1,m=s,b=s,y=S;continue}if(o>=1&&g>=0&&g-1===w){_=!1,m=o,b=o,y=g;continue}if(m=e,b=e,y=w,0===y)return{startLineNumber:m,endLineNumber:b,indent:y}}v&&(g>=y?m=o:v=!1),_&&(S>=y?b=s:_=!1)}else w=g}return{startLineNumber:m,endLineNumber:b,indent:y}}getLinesBracketGuides(e,t,n,i){var o;const r=[];for(let u=e;u<=t;u++)r.push([]);const s=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new _Y(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let a;if(n&&s.length>0){a=null===(o=Y3((e<=n.lineNumber&&n.lineNumber<=t?s:this.textModel.bracketPairs.getBracketPairsInRange(_Y.fromPositions(n)).toArray()).filter((e=>_Y.strictContainsPosition(e.range,n))),(e=>true)))||void 0===o?void 0:o.range}const l=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,c=new vse;for(const u of s){if(!u.closingBracketRange)continue;const n=a&&u.range.equalsRange(a);if(!n&&!i.includeInactive)continue;const o=c.getInlineClassName(u.nestingLevel,u.nestingLevelOfEqualBracketType,l)+(i.highlightActive&&n?" "+c.activeClassName:""),s=u.openingBracketRange.getStartPosition(),h=u.closingBracketRange.getStartPosition(),d=i.horizontalGuides===$re.Enabled||i.horizontalGuides===$re.EnabledForActive&&n;if(u.range.startLineNumber===u.range.endLineNumber){d&&r[u.range.startLineNumber-e].push(new fse(-1,u.openingBracketRange.getEndPosition().column,o,new pse(!1,h.column),-1,-1));continue}const g=this.getVisibleColumnFromPosition(h),f=this.getVisibleColumnFromPosition(u.openingBracketRange.getStartPosition()),p=Math.min(f,g,u.minVisibleColumnIndentation+1);let m=!1;CZ(this.textModel.getLineContent(u.closingBracketRange.startLineNumber))<u.closingBracketRange.startColumn-1&&(m=!0);const v=Math.max(s.lineNumber,e),b=Math.min(h.lineNumber,t),_=m?1:0;for(let t=v;t<b+_;t++)r[t-e].push(new fse(p,-1,o,null,t===s.lineNumber?s.column:-1,t===h.lineNumber?h.column:-1));d&&(s.lineNumber>=e&&f>p&&r[s.lineNumber-e].push(new fse(p,-1,o,new pse(!1,s.column),-1,-1)),h.lineNumber<=t&&g>p&&r[h.lineNumber-e].push(new fse(p,-1,o,new pse(!m,h.column),-1,-1)))}for(const u of r)u.sort(((e,t)=>e.visibleColumn-t.visibleColumn));return r}getVisibleColumnFromPosition(e){return Bne.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(o&&o.offSide),s=new Array(t-e+1);let a=-2,l=-1,c=-2,u=-1;for(let h=e;h<=t;h++){const t=h-e,o=this._computeIndentLevel(h-1);if(o>=0)a=h-1,l=o,s[t]=Math.ceil(o/i.indentSize);else{if(-2===a){a=-1,l=-1;for(let e=h-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e,l=t;break}}}if(-1!==c&&(-2===c||c<h-1)){c=-1,u=-1;for(let e=h;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){c=e,u=t;break}}}s[t]=this._getIndentLevelForWhitespaceLine(r,l,u)}}return s}_getIndentLevelForWhitespaceLine(e,t,n){const i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}class vse{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}class bse extends Pie{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(144),i=t.get(50);this._lineHeight=t.get(66),this._spaceWidth=i.spaceWidth,this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(144),i=t.get(50);return this._lineHeight=t.get(66),this._spaceWidth=i.spaceWidth,this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var t;const n=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(n))&&(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,n,i,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,c=this._primaryPosition,u=this.getGuidesByLine(r,Math.min(s+1,this._context.viewModel.getLineCount()),c),h=[];for(let d=r;d<=s;d++){const s=d-r,c=u[s];let g="";const f=null!==(n=null===(t=e.visibleRangeForPosition(new bY(d,1)))||void 0===t?void 0:t.left)&&void 0!==n?n:0;for(const t of c){const n=-1===t.column?f+(t.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new bY(d,t.column)).left;if(n>a||this._maxIndentLeft>0&&n>this._maxIndentLeft)break;const r=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",s=t.horizontalLine?(null!==(o=null===(i=e.visibleRangeForPosition(new bY(d,t.horizontalLine.endColumn)))||void 0===i?void 0:i.left)&&void 0!==o?o:n+this._spaceWidth)-n:this._spaceWidth;g+=`<div class="core-guide ${t.className} ${r}" style="left:${n}px;height:${l}px;width:${s}px"></div>`}h[s]=g}this._renderResult=h}getGuidesByLine(e,t,n){const i=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?$re.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?$re.EnabledForActive:$re.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let r=0,s=0,a=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&n){const i=this._context.viewModel.getActiveIndentGuide(n.lineNumber,e,t);r=i.startLineNumber,s=i.endLineNumber,a=i.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),c=[];for(let u=e;u<=t;u++){const t=new Array;c.push(t);const n=i?i[u-e]:[],h=new AU(n),d=o?o[u-e]:0;for(let e=1;e<=d;e++){const i=(e-1)*l+1,o=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===n.length)&&r<=u&&u<=s&&e===a;t.push(...h.takeWhile((e=>e.visibleColumn<i))||[]);const c=h.peek();c&&c.visibleColumn===i&&!c.horizontalLine||t.push(new fse(i,-1,"core-guide-indent lvl-"+(e-1)%30+(o?" indent-active":""),null,-1,-1))}t.push(...h.takeWhile((e=>!0))||[])}return c}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function _se(e){if(!e||!e.isTransparent())return e}Hie(((e,t)=>{const n=[{bracketColor:_oe,guideColor:Loe,guideColorActive:Moe},{bracketColor:yoe,guideColor:Doe,guideColorActive:Roe},{bracketColor:woe,guideColor:Eoe,guideColorActive:Aoe},{bracketColor:Coe,guideColor:Noe,guideColorActive:Ooe},{bracketColor:Soe,guideColor:Toe,guideColorActive:Poe},{bracketColor:xoe,guideColor:Ioe,guideColorActive:Foe}],i=new vse,o=[{indentColor:Qie,indentColorActive:ooe},{indentColor:Jie,indentColorActive:roe},{indentColor:eoe,indentColorActive:soe},{indentColor:toe,indentColorActive:aoe},{indentColor:noe,indentColorActive:loe},{indentColor:ioe,indentColorActive:coe}],r=n.map((t=>{var n,i;const o=e.getColor(t.bracketColor),r=e.getColor(t.guideColor),s=e.getColor(t.guideColorActive),a=_se(null!==(n=_se(r))&&void 0!==n?n:null==o?void 0:o.transparent(.3)),l=_se(null!==(i=_se(s))&&void 0!==i?i:o);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter($U),s=o.map((t=>{const n=e.getColor(t.indentColor),i=e.getColor(t.indentColorActive),o=_se(n),r=_se(i);if(o&&r)return{indentColor:o,indentColorActive:r}})).filter($U);if(r.length>0){for(let e=0;e<30;e++){const n=r[e%r.length];t.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${n.guideColor}; --guide-color-active: ${n.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(s.length>0){for(let e=0;e<30;e++){const n=s[e%s.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${e} { --indent-color: ${n.indentColor}; --indent-color-active: ${n.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}}));class yse{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class wse{constructor(){this._currentVisibleRange=new _Y(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Cse{constructor(e,t,n,i,o,r,s){this.minimalReveal=e,this.lineNumber=t,this.startColumn=n,this.endColumn=i,this.startScrollTop=o,this.stopScrollTop=r,this.scrollType=s,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Sse{constructor(e,t,n,i,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=n,this.stopScrollTop=i,this.scrollType=o,this.type="selections";let r=t[0].startLineNumber,s=t[0].endLineNumber;for(let a=1,l=t.length;a<l;a++){const e=t[a];r=Math.min(r,e.startLineNumber),s=Math.max(s,e.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=s}}class xse extends gne{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Xre(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,i=this._context.configuration.options,o=i.get(50),r=i.get(144);this._lineHeight=i.get(66),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=i.get(99),this._cursorSurroundingLines=i.get(29),this._cursorSurroundingLinesStyle=i.get(30),this._canUseLayerHinting=!i.get(32),this._viewLineOptions=new Nne(n,this._context.theme.type),fne.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Voe}`),SQ(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new n4((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new n4((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new wse,this._horizontalRevealRequest=null,this._stickyScrollEnabled=i.get(114).enabled,this._maxNumberStickyLines=i.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Tne(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(144)&&(this._maxLineWidth=0);const t=this._context.configuration.options,n=t.get(50),i=t.get(144);return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=i.isViewportWrapping,this._revealHorizontalRightPadding=t.get(99),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(114).enabled,this._maxNumberStickyLines=t.get(114).maxLineCount,SQ(this.domNode,n),this._onOptionsMaybeChanged(),e.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new Nne(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let t=e;t<=n;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=!1;for(let o=t;o<=n;o++)i=this._visibleLines.getVisibleLine(o).onSelectionChanged()||i;return i}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(-1===t)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Cse(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Sse(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const i=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(n,i),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const n=this._getViewLineDomNode(e);if(null===n)return null;const i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(i))return new bY(i,1);const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(i<o||i>r)return null;let s=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(e,t);const a=this._context.viewModel.getLineMinColumn(i);return s<a&&(s=a),new bY(i,s)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===Tne.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let i=t;i<=n;i++){if(e===this._visibleLines.getVisibleLine(i).getDomNode())return i}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();if(e<t||e>n)return-1;const i=new yse(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getWidth(i);return this._updateLineWidthsSlowIfDomDidLayout(i),o}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const n=e.endLineNumber,i=_Y.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!i)return null;const o=[];let r=0;const s=new yse(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new bY(i.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let u=i.startLineNumber;u<=i.endLineNumber;u++){if(u<l||u>c)continue;const e=u===i.startLineNumber?i.startColumn:1,h=u!==i.endLineNumber,d=h?this._context.viewModel.getLineMaxColumn(u):i.endColumn,g=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,e,d,s);if(g){if(t&&u<n){const e=a;a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new bY(u+1,1)).lineNumber,e!==a&&(g.ranges[g.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new vne(g.outsideRenderedLine,u,bne.from(g.ranges),h)}}return this._updateLineWidthsSlowIfDomDidLayout(s),0===r?null:o}_visibleRangesForLineRange(e,t,n){if(this.shouldRender())return null;if(e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const i=new yse(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,n,i);return this._updateLineWidthsSlowIfDomDidLayout(i),o}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new yne(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=1,o=!0;for(let r=t;r<=n;r++){const t=this._visibleLines.getVisibleLine(r);!e||t.getWidthIsFast()?i=Math.max(i,t.getWidth(null)):o=!1}return o&&1===t&&n===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(i),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let o=n;o<=i;o++){const n=this._visibleLines.getVisibleLine(o);if(n.needsMonospaceFontCheck()){const i=n.getWidth(null);i>t&&(t=i,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=n;o<=i;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),CK&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++){if(this._visibleLines.getVisibleLine(n).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,n,i,o,r){const s=e.top,a=e.height,l=s+a;let c,u,h;if(o&&o.length>0){let e=o[0].startLineNumber,t=o[0].endLineNumber;for(let n=1,i=o.length;n<i;n++){const i=o[n];e=Math.min(e,i.startLineNumber),t=Math.max(t,i.endLineNumber)}c=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;c=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}let d,g=0,f=0;if(("mouse"===t||n)&&"default"===this._cursorSurroundingLinesStyle)n||(g=this._lineHeight);else{const e=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);g=this._stickyScrollEnabled?Math.max(e,this._maxNumberStickyLines)*this._lineHeight:e*this._lineHeight,f=Math.max(0,e-1)*this._lineHeight}if(n||0!==r&&4!==r||(f+=this._lineHeight),u-=g,h+=f,h-u>a){if(!c)return-1;d=u}else if(5===r||6===r)if(6===r&&s<=u&&h<=l)d=s;else{const e=u-Math.max(5*this._lineHeight,.2*a),t=h-a;d=Math.max(t,e)}else if(1===r||2===r)if(2===r&&s<=u&&h<=l)d=s;else{const e=(u+h)/2;d=Math.max(0,e-a/2)}else d=this._computeMinimumScrolling(s,l,u,h,3===r,4===r);return d}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),n=this._context.configuration.options.get(143),i=t.left,o=i+t.width-n.verticalScrollbarWidth;let r=1073741824,s=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)r=Math.min(r,Math.round(e.left)),s=Math.max(s,Math.round(e.left+e.width))}else for(const a of e.selections){if(a.startLineNumber!==a.endLineNumber)return null;const e=this._visibleRangesForLineRange(a.startLineNumber,a.startColumn,a.endColumn);if(!e)return null;for(const t of e.ranges)r=Math.min(r,Math.round(t.left)),s=Math.max(s,Math.round(t.left+t.width))}if(e.minimalReveal||(r=Math.max(0,r-xse.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding),"selections"===e.type&&s-r>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,o,r,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,n,i,o,r){o=!!o,r=!!r;const s=(t|=0)-(e|=0);return(i|=0)-(n|=0)<s?o?n:r?Math.max(0,i-s):n<e?n:i>t?Math.max(0,i-s):e:n}}xse.HORIZONTAL_EXTRA_PX=30;class kse{constructor(e,t,n,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n),this.zIndex=null!=i?i:0}}class Lse{constructor(e,t){this.className=e,this.zIndex=t}}class Dse{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class Ese extends Pie{_render(e,t,n){const i=[];for(let s=e;s<=t;s++){i[s-e]=new Dse}if(0===n.length)return i;n.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,r=0;for(let s=0,a=n.length;s<a;s++){const a=n[s],l=a.className,c=a.zIndex;let u=Math.max(a.startLineNumber,e)-e;const h=Math.min(a.endLineNumber,t)-e;o===l?(u=Math.max(r+1,u),r=Math.max(r,h)):(o=l,r=h);for(let e=u;e<=r;e++)i[e].add(new Lse(l,c))}return i}}class Nse extends gne{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,n=t.get(143);this.domNode=CQ(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._glyphMarginDecorationLaneCount=n.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(143);return this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._glyphMarginDecorationLaneCount=n.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=CQ(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const n=this._widgets[e.getId()];return(n.preference.lane!==t.lane||n.preference.zIndex!==t.zIndex||!_Y.equalsRange(n.preference.range,t.range))&&(n.preference=t,this.setShouldRender(),!0)}removeWidget(e){var t;const n=e.getId();if(this._widgets[n]){const e=this._widgets[n].domNode.domNode;delete this._widgets[n],null===(t=e.parentNode)||void 0===t||t.removeChild(e),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var n,i,o;const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=e.getDecorationsInViewport();for(const l of a){const e=l.options.glyphMarginClassName;if(!e)continue;const a=Math.max(l.range.startLineNumber,r),c=Math.min(l.range.endLineNumber,s),u=Math.min(null!==(i=null===(n=l.options.glyphMargin)||void 0===n?void 0:n.position)&&void 0!==i?i:1,this._glyphMarginDecorationLaneCount),h=null!==(o=l.options.zIndex)&&void 0!==o?o:0;for(let n=a;n<=c;n++)t.push(new Tse(n,u,h,e))}}_collectWidgetBasedGlyphRenderRequest(e,t){const n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const e=o.preference.range;if(e.endLineNumber<n||e.startLineNumber>i)continue;const r=Math.max(e.startLineNumber,n),s=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);t.push(new Ise(r,s,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.lane===t.lane?e.zIndex===t.zIndex?t.type===e.type?0===e.type&&0===t.type?e.className<t.className?-1:1:0:t.type-e.type:t.zIndex-e.zIndex:e.lane-t.lane:e.lineNumber-t.lineNumber)),t}prepareRender(e){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(const i of Object.values(this._widgets))i.renderInfo=null;const t=new AU(this._collectSortedGlyphRenderRequests(e)),n=[];for(;t.length>0;){const e=t.peek();if(!e)break;const i=t.takeWhile((t=>t.lineNumber===e.lineNumber&&t.lane===e.lane));if(!i||0===i.length)break;const o=i[0];if(0===o.type){const e=[];for(const t of i){if(t.zIndex!==o.zIndex||t.type!==o.type)break;0!==e.length&&e[e.length-1]===t.className||e.push(t.className)}n.push(o.accept(e.join(" ")))}else o.widget.renderInfo={lineNumber:o.lineNumber,lane:o.lane}}this._decorationGlyphsToRender=n}render(e){if(!this._glyphMargin){for(const e of Object.values(this._widgets))e.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const e=this._managedDomNodes.pop();null==e||e.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const n of Object.values(this._widgets))if(n.renderInfo){const i=e.viewportData.relativeVerticalOffset[n.renderInfo.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+(n.renderInfo.lane-1)*this._lineHeight;n.domNode.setDisplay("block"),n.domNode.setTop(i),n.domNode.setLeft(o),n.domNode.setWidth(t),n.domNode.setHeight(this._lineHeight)}else n.domNode.setDisplay("none");for(let n=0;n<this._decorationGlyphsToRender.length;n++){const i=this._decorationGlyphsToRender[n],o=e.viewportData.relativeVerticalOffset[i.lineNumber-e.viewportData.startLineNumber],r=this._glyphMarginLeft+(i.lane-1)*this._lineHeight;let s;n<this._managedDomNodes.length?s=this._managedDomNodes[n]:(s=CQ(document.createElement("div")),this._managedDomNodes.push(s),this.domNode.appendChild(s)),s.setClassName("cgmr codicon "+i.combinedClassName),s.setPosition("absolute"),s.setTop(o),s.setLeft(r),s.setWidth(t),s.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const e=this._managedDomNodes.pop();null==e||e.domNode.remove()}}}class Tse{constructor(e,t,n,i){this.lineNumber=e,this.lane=t,this.zIndex=n,this.className=i,this.type=0}accept(e){return new Mse(this.lineNumber,this.lane,e)}}class Ise{constructor(e,t,n,i){this.lineNumber=e,this.lane=t,this.zIndex=n,this.widget=i,this.type=1}}class Mse{constructor(e,t,n){this.lineNumber=e,this.lane=t,this.combinedClassName=n}}class Rse extends Ese{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(143);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),n=[];let i=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.linesDecorationsClassName,s=e.options.zIndex;r&&(n[i++]=new kse(e.range.startLineNumber,e.range.endLineNumber,r,s));const a=e.options.firstLineDecorationClassName;a&&(n[i++]=new kse(e.range.startLineNumber,e.range.startLineNumber,a,s))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[];for(let s=t;s<=n;s++){const e=s-t,n=i[e].getDecorations();let a="";for(const t of n)a+='<div class="cldr '+t.className+o;r[e]=a}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ase extends Ese{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),n=[];let i=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.marginClassName,s=e.options.zIndex;r&&(n[i++]=new kse(e.range.startLineNumber,e.range.endLineNumber,r,s))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=[];for(let r=t;r<=n;r++){const e=r-t,n=i[e].getDecorations();let s="";for(const t of n)s+='<div class="cmdr '+t.className+'" style=""></div>';o[e]=s}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ose{constructor(e,t,n,i){this._rgba8Brand=void 0,this.r=Ose._clamp(e),this.g=Ose._clamp(t),this.b=Ose._clamp(n),this.a=Ose._clamp(i)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}Ose.Empty=new Ose(0,0,0,0);class Pse extends Yq{static getInstance(){return this._INSTANCE||(this._INSTANCE=new Pse),this._INSTANCE}constructor(){super(),this._onDidChange=new sG,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(jY.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}_updateColorMap(){const e=jY.getColorMap();if(!e)return this._colors=[Ose.Empty],void(this._backgroundIsLight=!0);this._colors=[Ose.Empty];for(let n=1;n<e.length;n++){const t=e[n].rgba;this._colors[n]=new Ose(t.r,t.g,t.b,Math.round(255*t.a))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Pse._INSTANCE=null;const Fse=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class Bse{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Bse.soften(e,.8),this.charDataLight=Bse.soften(e,50/60)}static soften(e,t){const n=new Uint8ClampedArray(e.length);for(let i=0,o=e.length;i<o;i++)n[i]=h3(e[i]*t);return n}renderChar(e,t,n,i,o,r,s,a,l,c,u){const h=1*this.scale,d=2*this.scale,g=u?1:d;if(t+h>e.width||n+g>e.height)return void console.warn("bad render request outside image data");const f=c?this.charDataLight:this.charDataNormal,p=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(i,l),m=4*e.width,v=s.r,b=s.g,_=s.b,y=o.r-v,w=o.g-b,C=o.b-_,S=Math.max(r,a),x=e.data;let k=p*h*d,L=n*m+4*t;for(let D=0;D<g;D++){let e=L;for(let t=0;t<h;t++){const t=f[k++]/255*(r/255);x[e++]=v+y*t,x[e++]=b+w*t,x[e++]=_+C*t,x[e++]=S}L+=m}}blockRenderChar(e,t,n,i,o,r,s,a){const l=1*this.scale,c=2*this.scale,u=a?1:c;if(t+l>e.width||n+u>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,d=o/255*.5,g=r.r,f=r.g,p=r.b,m=g+(i.r-g)*d,v=f+(i.g-f)*d,b=p+(i.b-p)*d,_=Math.max(o,s),y=e.data;let w=n*h+4*t;for(let C=0;C<u;C++){let e=w;for(let t=0;t<l;t++)y[e++]=m,y[e++]=v,y[e++]=b,y[e++]=_;w+=h}}}const zse={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Vse=e=>{const t=new Uint8ClampedArray(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=zse[e[n]]<<4|15&zse[e[n+1]];return t},Wse={1:jq((()=>Vse("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:jq((()=>Vse("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class Hse{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let n;return n=Wse[e]?new Bse(Wse[e](),e):Hse.createFromSampleData(Hse.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=n,n}static createSampleData(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",n.fillStyle="#ffffff",n.font=`bold 16px ${e}`,n.textBaseline="middle";let i=0;for(const o of Fse)n.fillText(String.fromCharCode(o),i,8),i+=10;return n.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");const n=Hse._downsample(e,t);return new Bse(n,t)}static _downsampleChar(e,t,n,i,o){const r=1*o,s=2*o;let a=i,l=0;for(let c=0;c<s;c++){const i=c/s*16,o=(c+1)/s*16;for(let s=0;s<r;s++){const c=s/r*10,u=(s+1)/r*10;let h=0,d=0;for(let n=i;n<o;n++){const i=t+3840*Math.floor(n),o=1-(n-Math.floor(n));for(let t=c;t<u;t++){const n=1-(t-Math.floor(t)),r=i+4*Math.floor(t),s=n*o;d+=s,h+=e[r]*e[r+3]/255*s}}const g=h/d;l=Math.max(l,g),n[a++]=h3(g)}}return l}static _downsample(e,t){const n=2*t*1*t,i=96*n,o=new Uint8ClampedArray(i);let r=0,s=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,s,o,r,t)),r+=n,s+=40;if(a>0){const e=255/a;for(let t=0;t<i;t++)o[t]*=e}return o}}class $se{constructor(e,t,n){const i=e.options,o=i.get(141),r=i.get(143),s=r.minimap,a=i.get(50),l=i.get(72);this.renderMinimap=s.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=i.get(104),this.paddingTop=i.get(83).top,this.paddingBottom=i.get(83).bottom,this.showSlider=l.showSlider,this.autohide=l.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=i.get(66),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=r.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=jq((()=>Hse.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=n.getColor(2),this.backgroundColor=$se._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=$se._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const n=e.getColor(Hte);return n?new Ose(n.rgba.r,n.rgba.g,n.rgba.b,Math.round(255*n.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor($te);return t?Ose._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class jse{constructor(e,t,n,i,o,r,s,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=n,this._computedSliderRatio=i,this.sliderTop=o,this.sliderHeight=r,this.topPaddingLineCount=s,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumber,e.endLineNumber);return t>n?null:[t,n]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,n,i,o,r,s,a,l,c,u){const h=e.pixelRatio,d=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/d),f=e.lineHeight;if(e.minimapHeightIsEditorHeight){let t=a*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(t+=Math.max(0,o-e.lineHeight-e.paddingBottom));const n=Math.max(1,Math.floor(o*o/t)),i=Math.max(0,e.minimapHeight-n),r=i/(c-o),u=l*r,h=i>0,d=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),g=Math.floor(e.paddingTop/e.lineHeight);return new jse(l,c,h,r,u,n,g,1,Math.min(s,d))}let p;if(r&&n!==s){const e=n-t+1;p=Math.floor(e*d/h)}else{const e=o/f;p=Math.floor(e*d/h)}const m=Math.floor(e.paddingTop/f);let v,b=Math.floor(e.paddingBottom/f);if(e.scrollBeyondLastLine){const e=o/f;b=Math.max(b,e-1)}if(b>0){v=(m+s+b-o/f-1)*d/h}else v=Math.max(0,(m+s)*d/h-p);v=Math.min(e.minimapHeight-p,v);const _=v/(c-o),y=l*_;if(g>=m+s+b){return new jse(l,c,v>0,_,y,p,m,1,s)}{let n,o;n=t>1?t+m:Math.max(1,l/f);let r=Math.max(1,Math.floor(n-y*h/d));r<m?(o=m-r+1,r=1):(o=0,r=Math.max(1,r-m)),u&&u.scrollHeight===c&&(u.scrollTop>l&&(r=Math.min(r,u.startLineNumber),o=Math.max(o,u.topPaddingLineCount)),u.scrollTop<l&&(r=Math.max(r,u.startLineNumber),o=Math.min(o,u.topPaddingLineCount)));const a=Math.min(s,r-o+g-1),v=(l-i)/f;let b;return b=l>=e.paddingTop?(t-r+o+v)*d/h:l/e.paddingTop*(o+v)*d/h,new jse(l,c,!0,_,b,p,o,r,a)}}}class Use{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Use.INVALID=new Use(-1);class Kse{constructor(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Yre((()=>Use.INVALID)),this._renderedLines._set(e.startLineNumber,n)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let n=0,i=t.length;n<i;n++)if(-1===t[n].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class qse{constructor(e,t,n,i){this._backgroundFillData=qse._createBackgroundFillData(t,n,i),this._buffers=[e.createImageData(t,n),e.createImageData(t,n)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,n){const i=n.r,o=n.g,r=n.b,s=n.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let c=0;c<t;c++)for(let t=0;t<e;t++)a[l]=i,a[l+1]=o,a[l+2]=r,a[l+3]=s,l+=4;return a}}class Gse{static compute(e,t,n){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const{minimapLineCount:i}=mq.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),o=t/i,r=o/2;if(!n||0===n.minimapLines.length){const e=[];if(e[0]=1,i>1){for(let t=0,n=i-1;t<n;t++)e[t]=Math.round(t*o+r);e[i-1]=t}return[new Gse(o,e),[]]}const s=n.minimapLines,a=s.length,l=[];let c=0,u=0,h=1;let d=[],g=null;for(let f=0;f<i;f++){const e=Math.max(h,Math.round(f*o)),n=Math.max(e,Math.round((f+1)*o));for(;c<a&&s[c]<e;){if(d.length<10){const e=c+1+u;g&&"deleted"===g.type&&g._oldIndex===c-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:c,deleteFromLineNumber:e,deleteToLineNumber:e},d.push(g)),u--}c++}let p;if(c<a&&s[c]<=n)p=s[c],c++;else if(p=0===f?1:f+1===i?t:Math.round(f*o+r),d.length<10){const e=c+1+u;g&&"inserted"===g.type&&g._i===f-1?g.insertToLineNumber++:(g={type:"inserted",_i:f,insertFromLineNumber:e,insertToLineNumber:e},d.push(g)),u++}l[f]=p,h=p}if(d.length<10)for(;c<a;){const e=c+1+u;g&&"deleted"===g.type&&g._oldIndex===c-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:c,deleteFromLineNumber:e,deleteToLineNumber:e},d.push(g)),u--,c++}else d=[{type:"flush"}];return[new Gse(o,l),d]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e)-1;for(;n>0&&this.minimapLines[n-1]>=e;)n--;let i=this.modelLineToMinimapLine(t)-1;for(;i+1<this.minimapLines.length&&this.minimapLines[i+1]<=t;)i++;if(n===i){const i=this.minimapLines[n];if(i<e||i>t)return null}return[n+1,i+1]}decorationLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e),i=this.modelLineToMinimapLine(t);return e!==t&&i===n&&(i===this.minimapLines.length?n>1&&n--:i++),[n,i]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let n=this.minimapLines.length,i=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),n=Math.min(n,o),i=Math.max(i,o)):this.minimapLines[o]-=t;return[n,i]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let n=this.minimapLines.length-1;n>=0&&!(this.minimapLines[n]<e.fromLineNumber);n--)this.minimapLines[n]+=t}}class Yse extends gne{constructor(e){super(e),this.tokensColorTracker=Pse.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new $se(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Gse.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Xse(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new $se(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return!!t&&this._actual.onLinesChanged(t[0],t[1]-t[0]+1)}return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,n]=this._samplingState.onLinesDeleted(e);return t<=n&&this._actual.onLinesChanged(t+1,n-t+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const n of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),n=this._samplingState.modelLineToMinimapLine(n));const i={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:n,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(i)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,n]=Gse.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const i of n)switch(i.type){case"deleted":this._actual.onLinesDeleted(i.deleteFromLineNumber,i.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(i.insertFromLineNumber,i.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,n){if(this._samplingState){const i=[];for(let o=0,r=t-e+1;o<r;o++)n[o]?i[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):i[o]=null;return i}return this._context.viewModel.getMinimapLinesRenderingData(e,t,n).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,n]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new yY(t,e.startColumn,n,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let n;if(this._samplingState){const i=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];n=new _Y(i,1,o,this._context.viewModel.getLineMaxColumn(o))}else n=new _Y(e,1,t,this._context.viewModel.getLineMaxColumn(t));const i=this._context.viewModel.getMinimapDecorationsInRange(n);if(this._samplingState){const e=[];for(const t of i){if(!t.options.minimap)continue;const n=t.range,i=this._samplingState.modelLineToMinimapLine(n.startLineNumber),o=this._samplingState.modelLineToMinimapLine(n.endLineNumber);e.push(new s7(new _Y(i,n.startColumn,o,n.endColumn),t.options))}return e}return i}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new _Y(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class Xse extends Yq{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Bte),this._domNode=CQ(document.createElement("div")),fne.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=CQ(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=CQ(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=CQ(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=CQ(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=CQ(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=P1(this._domNode.domNode,r2.POINTER_DOWN,(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===e.button&&this._lastRenderData){const t=j1(this._slider.domNode),n=t.top+t.height/2;this._startSliderDragging(e,n,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,n=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.offsetY;let i=Math.floor(n/t)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;i=Math.min(i,this._model.getLineCount()),this._model.revealLineNumber(i)})),this._sliderPointerMoveMonitor=new l8,this._sliderPointerDownListener=P1(this._slider.domNode,r2.POINTER_DOWN,(e=>{e.preventDefault(),e.stopPropagation(),0===e.button&&this._lastRenderData&&this._startSliderDragging(e,e.pageY,this._lastRenderData.renderedLayout)})),this._gestureDisposable=a8.addTarget(this._domNode.domNode),this._sliderTouchStartListener=O1(this._domNode.domNode,r8.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=O1(this._domNode.domNode,r8.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=P1(this._domNode.domNode,r8.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,n){if(!(e.target&&e.target instanceof Element))return;const i=e.pageX;this._slider.toggleClassName("active",!0);const o=(e,o)=>{const r=j1(this._domNode.domNode),s=Math.min(Math.abs(o-i),Math.abs(o-r.left),Math.abs(o-r.left-r.width));if(yK&&s>140)return void this._model.setScrollTop(n.scrollTop);const a=e-t;this._model.setScrollTop(n.getDesiredScrollTopFromDelta(a))};e.pageY!==t&&o(e.pageY,i),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>o(e.pageY,e.pageX)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(n)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return"always"===this._model.options.showSlider?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new qse(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){var n;return null===(n=this._lastRenderData)||void 0===n||n.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var n;return null===(n=this._lastRenderData)||void 0===n||n.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Bte),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=jse.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(_Y.compareRangesUsingStarts);const n=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);n.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:i,canvasInnerHeight:o}=this._model.options,r=this._model.options.minimapLineHeight,s=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,i,o);const c=new Zse(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,c,e,r),this._renderDecorationsLineHighlights(l,n,c,e,r);const u=new Zse(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,u,e,r,a,s,i),this._renderDecorationsHighlights(l,n,u,e,r,a,s,i)}}_renderSelectionLineHighlights(e,t,n,i,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let r=0,s=0;for(const a of t){const t=i.intersectWithViewport(a);if(!t)continue;const[l,c]=t;for(let e=l;e<=c;e++)n.set(e,!0);const u=i.getYForLineNumber(l,o),h=i.getYForLineNumber(c,o);s>=u||(s>r&&e.fillRect(8,r,e.canvas.width,s-r),r=u),s=h}s>r&&e.fillRect(8,r,e.canvas.width,s-r)}_renderDecorationsLineHighlights(e,t,n,i,o){const r=new Map;for(let s=t.length-1;s>=0;s--){const a=t[s],l=a.options.minimap;if(!l||l.position!==E3.Inline)continue;const c=i.intersectWithViewport(a.range);if(!c)continue;const[u,h]=c,d=l.getColor(this._theme.value);if(!d||d.isTransparent())continue;let g=r.get(d.toString());g||(g=d.transparent(.5).toString(),r.set(d.toString(),g)),e.fillStyle=g;for(let t=u;t<=h;t++){if(n.has(t))continue;n.set(t,!0);const r=i.getYForLineNumber(u,o);e.fillRect(8,r,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,n,i,o,r,s,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=i.intersectWithViewport(l);if(!t)continue;const[c,u]=t;for(let h=c;h<=u;h++)this.renderDecorationOnLine(e,n,l,this._selectionColor,i,h,o,o,r,s,a)}}_renderDecorationsHighlights(e,t,n,i,o,r,s,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const c=i.intersectWithViewport(l.range);if(!c)continue;const[u,h]=c,d=t.getColor(this._theme.value);if(d&&!d.isTransparent())for(let g=u;g<=h;g++)switch(t.position){case E3.Inline:this.renderDecorationOnLine(e,n,l.range,d,i,g,o,o,r,s,a);continue;case E3.Gutter:{const t=i.getYForLineNumber(g,o),n=2;this.renderDecoration(e,d,n,t,2,o);continue}}}}renderDecorationOnLine(e,t,n,i,o,r,s,a,l,c,u){const h=o.getYForLineNumber(r,a);if(h+s<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:d,endLineNumber:g}=n,f=d===r?n.startColumn:1,p=g===r?n.endColumn:this._model.getLineMaxColumn(r),m=this.getXOffsetForPosition(t,r,f,l,c,u),v=this.getXOffsetForPosition(t,r,p,l,c,u);this.renderDecoration(e,i,m,h,v-m,s)}getXOffsetForPosition(e,t,n,i,o,r){if(1===n)return 8;if((n-1)*o>=r)return r;let s=e.get(t);if(!s){const n=this._model.getLineContent(t);s=[8];let a=8;for(let e=1;e<n.length+1;e++){const t=n.charCodeAt(e-1),l=a+(9===t?i*o:XZ(t)?2*o:o);if(l>=r){s[e]=r;break}s[e]=l,a=l}e.set(t,s)}return n-1<s.length?s[n-1]:r}renderDecoration(e,t,n,i,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(n,i,o,r)}renderLines(e){const t=e.startLineNumber,n=e.endLineNumber,i=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new Kse(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;const[r,s,a]=Xse._renderUntouchedLines(o,e.topPaddingLineCount,t,n,i,this._lastRenderData),l=this._model.getMinimapLinesRenderingData(t,n,a),c=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,d=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,f=g.backgroundIsLight(),p=this._model.options.renderMinimap,m=this._model.options.charRenderer(),v=this._model.options.fontScale,b=this._model.options.minimapCharWidth,_=(1===p?2:3)*v,y=i>_?Math.floor((i-_)/2):0,w=h.a/255,C=new Ose(Math.round((h.r-u.r)*w+u.r),Math.round((h.g-u.g)*w+u.g),Math.round((h.b-u.b)*w+u.b),255);let S=e.topPaddingLineCount*i;const x=[];for(let D=0,E=n-t+1;D<E;D++)a[D]&&Xse._renderLine(o,C,h.a,f,p,b,g,d,m,S,y,c,l[D],v,i),x[D]=new Use(S),S+=i;const k=-1===r?0:r,L=(-1===s?o.height:s)-k;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,k,o.width,L),new Kse(e,o,x)}static _renderUntouchedLines(e,t,n,i,o,r){const s=[];if(!r){for(let e=0,t=i-n+1;e<t;e++)s[e]=!0;return[-1,-1,s]}const a=r._get(),l=a.imageData.data,c=a.rendLineNumberStart,u=a.lines,h=u.length,d=e.width,g=e.data,f=(i-n+1)*o*d*4;let p=-1,m=-1,v=-1,b=-1,_=-1,y=-1,w=t*o;for(let C=n;C<=i;C++){const e=C-n,t=C-c,i=t>=0&&t<h?u[t].dy:-1;if(-1===i){s[e]=!0,w+=o;continue}const r=i*d*4,a=(i+o)*d*4,S=w*d*4,x=(w+o)*d*4;b===r&&y===S?(b=a,y=x):(-1!==v&&(g.set(l.subarray(v,b),_),-1===p&&0===v&&v===_&&(p=b),-1===m&&b===f&&v===_&&(m=v)),v=r,b=a,_=S,y=x),s[e]=!1,w+=o}-1!==v&&(g.set(l.subarray(v,b),_),-1===p&&0===v&&v===_&&(p=b),-1===m&&b===f&&v===_&&(m=v));return[-1===p?-1:p/(4*d),-1===m?-1:m/(4*d),s]}static _renderLine(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f){const p=d.content,m=d.tokens,v=e.width-r,b=1===f;let _=8,y=0,w=0;for(let C=0,S=m.getCount();C<S;C++){const d=m.getEndOffset(C),f=m.getForeground(C),S=s.getColor(f);for(;y<d;y++){if(_>v)return;const s=p.charCodeAt(y);if(9===s){const e=h-(y+w)%h;w+=e-1,_+=e*r}else if(32===s)_+=r;else{const h=XZ(s)?2:1;for(let d=0;d<h;d++)if(2===o?l.blockRenderChar(e,_,c+u,S,a,t,n,b):l.renderChar(e,_,c+u,s,S,a,t,n,g,i,b),_+=r,_>v)return}}}}}class Zse{constructor(e,t,n){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=n,this._values=[];for(let i=0,o=this._endLineNumber-this._startLineNumber+1;i<o;i++)this._values[i]=n}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class Qse extends gne{constructor(e){super(e);const t=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=CQ(document.createElement("div")),fne.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=CQ(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const n=this._widgets[e.getId()];return n.preference===t?(this._updateMaxMinWidth(),!1):(n.preference=t,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var e,t;let n=0;const i=Object.keys(this._widgets);for(let o=0,r=i.length;o<r;o++){const r=i[o],s=null===(t=(e=this._widgets[r].widget).getMinContentWidthInPx)||void 0===t?void 0:t.call(e);void 0!==s&&(n=Math.max(n,s))}this._context.viewLayout.setOverlayWidgetsMinWidth(n)}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.setTop("")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._renderWidget(this._widgets[e])}}}class Jse{constructor(e,t){const n=e.options;this.lineHeight=n.get(66),this.pixelRatio=n.get(141),this.overviewRulerLanes=n.get(82),this.renderBorder=n.get(81);const i=t.getColor(doe);this.borderColor=i?i.toString():null,this.hideCursor=n.get(59);const o=t.getColor(Kie);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const r=n.get(72),s=r.enabled,a=r.side,l=t.getColor(goe),c=jY.getDefaultBackground();this.backgroundColor=l||(s&&"right"===a?c:null);const u=n.get(143).overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,d]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=d}_initLanes(e,t,n){const i=t-e;if(n>=3){const t=Math.floor(i/3),n=Math.floor(i/3),o=i-t-n,r=e+t;return[[0,e,r,e,e+t+o,e,r,e],[0,t,o,t+o,n,t+o+n,o+n,t+o+n]]}if(2===n){const t=Math.floor(i/2),n=i-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,n,t+n,t+n,t+n]]}return[[0,e,e,e,e,e,e,e],[0,i,i,i,i,i,i,i]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&n9.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class eae extends gne{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=CQ(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=jY.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new Jse(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(bY.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return!!e.affectsOverviewRuler&&this._markRenderingIsMaybeNeeded()}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return!!e.scrollHeightChanged&&this._markRenderingIsNeeded()}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(e?n9.Format.CSS.formatHexA(e):""),void this._domNode.setDisplay("none");const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(a7.compareByRenderingProps),1!==this._actualShouldRender||a7.equalsArr(this._renderedDecorations,t)||(this._actualShouldRender=2),1!==this._actualShouldRender||pU(this._renderedCursorPositions,this._cursorPositions,((e,t)=>e.lineNumber===t.lineNumber))||(this._actualShouldRender=2),1===this._actualShouldRender)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const n=this._settings.canvasWidth,i=this._settings.canvasHeight,o=this._settings.lineHeight,r=this._context.viewLayout,s=i/this._context.viewLayout.getScrollHeight(),a=6*this._settings.pixelRatio|0,l=a/2|0,c=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(c.fillStyle=n9.Format.CSS.formatHexA(e),c.fillRect(0,0,n,i)):(c.clearRect(0,0,n,i),c.fillStyle=n9.Format.CSS.formatHexA(e),c.fillRect(0,0,n,i)):c.clearRect(0,0,n,i);const u=this._settings.x,h=this._settings.w;for(const d of t){const e=d.color,t=d.data;c.fillStyle=e;let n=0,g=0,f=0;for(let d=0,p=t.length/3;d<p;d++){const e=t[3*d],p=t[3*d+1],m=t[3*d+2];let v=r.getVerticalOffsetForLineNumber(p)*s|0,b=(r.getVerticalOffsetForLineNumber(m)+o)*s|0;if(b-v<a){let e=(v+b)/2|0;e<l?e=l:e+l>i&&(e=i-l),v=e-l,b=e+l}v>f+1||e!==n?(0!==d&&c.fillRect(u[n],g,h[n],f-g),n=e,g=v,f=b):b>f&&(f=b)}c.fillRect(u[n],g,h[n],f-g)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,t=e/2|0,n=this._settings.x[7],o=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let a=-100,l=-100;for(let u=0,h=this._cursorPositions.length;u<h;u++){const h=this._cursorPositions[u];let d=r.getVerticalOffsetForLineNumber(h.lineNumber)*s|0;d<t?d=t:d+t>i&&(d=i-t);const g=d-t,f=g+e;g>l+1?(0!==u&&c.fillRect(n,a,o,l-a),a=g,l=f):f>l&&(l=f)}c.fillRect(n,a,o,l-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,i),c.stroke(),c.moveTo(0,0),c.lineTo(n,0),c.stroke())}}class tae{constructor(e,t,n){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|n}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class nae{constructor(e,t,n,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=n,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class iae{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(nae.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=n/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2),r=[];for(let s=0,a=this._zones.length;s<a;s++){const a=this._zones[s];if(!e){const e=a.getColorZones();if(e){r.push(e);continue}}const l=this._getVerticalOffsetForLine(a.startLineNumber),c=0===a.heightInLines?this._getVerticalOffsetForLine(a.endLineNumber)+t:l+a.heightInLines*t,u=Math.floor(i*l),h=Math.floor(i*c);let d=Math.floor((u+h)/2),g=h-d;g<o&&(g=o),d-g<0&&(d=g),d+g>n&&(d=n-g);const f=a.color;let p=this._color2Id[f];p||(p=++this._lastAssignedId,this._color2Id[f]=p,this._id2Color[p]=f);const m=new tae(d-g,d+g,p);a.setColorZone(m),r.push(m)}return this._colorZonesInvalid=!1,r.sort(tae.compare),r}}class oae extends dne{constructor(e,t){super(),this._context=e;const n=this._context.configuration.options;this._domNode=CQ(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new iae((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(n.get(66)),this._zoneManager.setPixelRatio(n.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(66)&&(this._zoneManager.setLineHeight(t.get(66)),this._render()),e.hasChanged(141)&&(this._zoneManager.setPixelRatio(t.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(o,n,i,e),!0}_renderOneLane(e,t,n,i){let o=0,r=0,s=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==o?(e.fillRect(0,r,i,s-r),o=t,e.fillStyle=n[o],r=l,s=c):s>=l?s=Math.max(s,c):(e.fillRect(0,r,i,s-r),r=l,s=c)}e.fillRect(0,r,i,s-r)}}class rae extends gne{constructor(e){super(e),this.domNode=CQ(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:n}=this._context.viewModel.model.getOptions(),i=n;let o=t-e;for(;o>0;){const e=CQ(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(i),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let n=e-t;for(;n>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),n--}}render(e){this._ensureRulersCount();for(let t=0,n=this._rulers.length;t<n;t++){const n=this._renderedRulers[t],i=this._rulers[t];n.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}class sae extends gne{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(102);this._useShadows=t.useShadows,this._domNode=CQ(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(143);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(102);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class aae{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class lae{constructor(e,t){this.lineNumber=e,this.ranges=t}}function cae(e){return new aae(e)}function uae(e){return new lae(e.lineNumber,e.ranges.map(cae))}class hae extends Pie{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,n=e.length;t<n;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,n){const i=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(n&&n.length>0&&t.length>0){const i=t[0].lineNumber;if(i===e.startLineNumber)for(let e=0;!o&&e<n.length;e++)n[e].lineNumber===i&&(o=n[e].ranges[0]);const s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(let e=n.length-1;!r&&e>=0;e--)n[e].lineNumber===s&&(r=n[e].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let s=0,a=t.length;s<a;s++){const e=t[s].ranges[0],n=e.left,l=e.left+e.width,c={top:0,bottom:0},u={top:0,bottom:0};if(s>0){const e=t[s-1].ranges[0].left,o=t[s-1].ranges[0].left+t[s-1].ranges[0].width;dae(n-e)<i?c.top=2:n>e&&(c.top=1),dae(l-o)<i?u.top=2:e<l&&l<o&&(u.top=1)}else o&&(c.top=o.startStyle.top,u.top=o.endStyle.top);if(s+1<a){const e=t[s+1].ranges[0].left,o=t[s+1].ranges[0].left+t[s+1].ranges[0].width;dae(n-e)<i?c.bottom=2:e<n&&n<o&&(c.bottom=1),dae(l-o)<i?u.bottom=2:l<o&&(u.bottom=1)}else r&&(c.bottom=r.startStyle.bottom,u.bottom=r.endStyle.bottom);e.startStyle=c,e.endStyle=u}}_getVisibleRangesWithStyle(e,t,n){const i=(t.linesVisibleRangesForRange(e,!0)||[]).map(uae);return!this._visibleRangesHaveGaps(i)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,i,n),i}_createSelectionPiece(e,t,n,i,o){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,n,i){if(0===i.length)return;const o=!!i[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=i[0].lineNumber,l=i[i.length-1].lineNumber;for(let c=0,u=i.length;c<u;c++){const u=i[c],h=u.lineNumber,d=h-t,g=n&&(h===l||h===a)?s:r,f=n&&h===a?1:0;let p="",m="";for(let e=0,t=u.ranges.length;e<t;e++){const t=u.ranges[e];if(o){const e=t.startStyle,n=t.endStyle;if(1===e.top||1===e.bottom){p+=this._createSelectionPiece(f,g,hae.SELECTION_CLASS_NAME,t.left-hae.ROUNDED_PIECE_WIDTH,hae.ROUNDED_PIECE_WIDTH);let n=hae.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(n+=" "+hae.SELECTION_TOP_RIGHT),1===e.bottom&&(n+=" "+hae.SELECTION_BOTTOM_RIGHT),p+=this._createSelectionPiece(f,g,n,t.left-hae.ROUNDED_PIECE_WIDTH,hae.ROUNDED_PIECE_WIDTH)}if(1===n.top||1===n.bottom){p+=this._createSelectionPiece(f,g,hae.SELECTION_CLASS_NAME,t.left+t.width,hae.ROUNDED_PIECE_WIDTH);let e=hae.EDITOR_BACKGROUND_CLASS_NAME;1===n.top&&(e+=" "+hae.SELECTION_TOP_LEFT),1===n.bottom&&(e+=" "+hae.SELECTION_BOTTOM_LEFT),p+=this._createSelectionPiece(f,g,e,t.left+t.width,hae.ROUNDED_PIECE_WIDTH)}}let n=hae.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,i=t.endStyle;0===e.top&&(n+=" "+hae.SELECTION_TOP_LEFT),0===e.bottom&&(n+=" "+hae.SELECTION_BOTTOM_LEFT),0===i.top&&(n+=" "+hae.SELECTION_TOP_RIGHT),0===i.bottom&&(n+=" "+hae.SELECTION_BOTTOM_RIGHT)}m+=this._createSelectionPiece(f,g,n,t.left,t.width)}e[d][0]+=p,e[d][1]+=m}}prepareRender(e){const t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;for(let r=n;r<=i;r++){t[r-n]=["",""]}const o=[];for(let r=0,s=this._selections.length;r<s;r++){const i=this._selections[r];if(i.isEmpty()){o[r]=null;continue}const s=this._getVisibleRangesWithStyle(i,e,this._previousFrameVisibleRangesWithStyle[r]);o[r]=s,this._actualRenderOneSelection(t,n,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function dae(e){return e<0?-e:e}hae.SELECTION_CLASS_NAME="selected-text",hae.SELECTION_TOP_LEFT="top-left-radius",hae.SELECTION_BOTTOM_LEFT="bottom-left-radius",hae.SELECTION_TOP_RIGHT="top-right-radius",hae.SELECTION_BOTTOM_RIGHT="bottom-right-radius",hae.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",hae.ROUNDED_PIECE_WIDTH=10,Hie(((e,t)=>{const n=e.getColor(See);n&&!n.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)}));class gae{constructor(e,t,n,i,o,r,s){this.top=e,this.left=t,this.paddingLeft=n,this.width=i,this.height=o,this.textContent=r,this.textContentClassName=s}}class fae{constructor(e){this._context=e;const t=this._context.configuration.options,n=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=CQ(document.createElement("div")),this._domNode.setClassName(`cursor ${Voe}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),SQ(this._domNode,n),this._domNode.setDisplay("none"),this._position=new bY(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),SQ(this._domNode,n),!0}onCursorPositionChanged(e,t){return this._domNode.domNode.style.transitionProperty=t?"none":"",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,n=this._context.viewModel.getLineContent(e),[i,o]=function(e,t){t>0&&FZ(e.charCodeAt(t))&&t--;const n=t+HZ(e,t);return[n-$Z(e,n),n]}(n,t-1);return[new bY(e,i+1),n.substring(i,o)]}_prepareRender(e){let t="",n="";const[i,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===hq.Line||this._cursorStyle===hq.LineThin){const r=e.visibleRangeForPosition(i);if(!r||r.outsideRenderedLine)return null;let s;this._cursorStyle===hq.Line?(s=y2(this._lineCursorWidth>0?this._lineCursorWidth:2),s>2&&(t=o,n=this._getTokenClassName(i))):s=y2(1);let a=r.left,l=0;s>=2&&a>=1&&(l=1,a-=l);const c=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new gae(c,a,l,s,this._lineHeight,t,n)}const r=e.linesVisibleRangesForRange(new _Y(i.lineNumber,i.column,i.lineNumber,i.column+o.length),!1);if(!r||0===r.length)return null;const s=r[0];if(s.outsideRenderedLine||0===s.ranges.length)return null;const a=s.ranges[0],l="\t"===o||a.width<1?this._typicalHalfwidthCharacterWidth:a.width;this._cursorStyle===hq.Block&&(t=o,n=this._getTokenClassName(i));let c=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return this._cursorStyle!==hq.Underline&&this._cursorStyle!==hq.UnderlineThin||(c+=this._lineHeight-2,u=2),new gae(c,a.left,0,l,u,t,n)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),n=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(n)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Voe} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class pae extends gne{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new fae(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=CQ(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new e4,this._cursorFlatBlinkInterval=new t4,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,n){const i=this._secondaryCursors.length!==t.length||"explicit"===this._cursorSmoothCaretAnimation&&3!==n;if(this._primaryCursor.onCursorPositionChanged(e,i),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new fae(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o],i)}onCursorStateChanged(e){const t=[];for(let i=0,o=e.selections.length;i<o;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,n=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||n||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),pae.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),pae.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case hq.Line:e+=" cursor-line-style";break;case hq.Block:e+=" cursor-block-style";break;case hq.Underline:e+=" cursor-underline-style";break;case hq.LineThin:e+=" cursor-line-thin-style";break;case hq.BlockOutline:e+=" cursor-block-outline-style";break;case hq.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return"on"!==this._cursorSmoothCaretAnimation&&"explicit"!==this._cursorSmoothCaretAnimation||(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let n=0;const i=this._primaryCursor.render(e);i&&(t[n++]=i);for(let o=0,r=this._secondaryCursors.length;o<r;o++){const i=this._secondaryCursors[o].render(e);i&&(t[n++]=i)}this._renderData=t}getLastRenderData(){return this._renderData}}pae.BLINK_INTERVAL=500,Hie(((e,t)=>{const n=e.getColor(Kie);if(n){let i=e.getColor(qie);i||(i=n.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${i}; }`),kne(e.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}}));const mae=()=>{throw new Error("Invalid change accessor")};class vae extends gne{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(143);this._lineHeight=t.get(66),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=CQ(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=CQ(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let n=!1;return this._context.viewModel.changeWhitespace((e=>{const i=Object.keys(this._zones);for(let o=0,r=i.length;o<r;o++){const r=i[o],s=this._zones[r],a=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=a.isInHiddenArea;const l=t.get(r);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(r,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),n=!0)}})),n}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(143);return this._lineHeight=t.get(66),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,e.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,n;return null!==(n=null!==(t=e.ordinal)&&void 0!==t?t:e.afterColumn)&&void 0!==n?n:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,n;if(void 0!==e.afterColumn)t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const n=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new bY(n,this._context.viewModel.model.getLineMaxColumn(n))}n=t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),o=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!o,afterViewLineNumber:i.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace((n=>{const i={addZone:e=>(t=!0,this._addZone(n,e)),removeZone:e=>{e&&(t=this._removeZone(n,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(n,e)||t)}};!function(e,t){try{return e(t)}catch(fTe){Rq(fTe)}}(e,i),i.addZone=mae,i.removeZone=mae,i.layoutZone=mae})),t}_addZone(e,t){const n=this._computeWhitespaceProps(t),i={whitespaceId:e.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(t),n.heightInPx,n.minWidthInPx),delegate:t,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:CQ(t.domNode),marginDomNode:t.marginDomNode?CQ(t.marginDomNode):null};return this._safeCallOnComputedHeight(i.delegate,n.heightInPx),i.domNode.setPosition("absolute"),i.domNode.domNode.style.width="100%",i.domNode.setDisplay("none"),i.domNode.setAttribute("monaco-view-zone",i.whitespaceId),this.domNode.appendChild(i.domNode),i.marginDomNode&&(i.marginDomNode.setPosition("absolute"),i.marginDomNode.domNode.style.width="100%",i.marginDomNode.setDisplay("none"),i.marginDomNode.setAttribute("monaco-view-zone",i.whitespaceId),this.marginDomNode.appendChild(i.marginDomNode)),this._zones[i.whitespaceId]=i,this.setShouldRender(),i.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t];return delete this._zones[t],e.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t],i=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=i.isInHiddenArea,e.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(fTe){Rq(fTe)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(fTe){Rq(fTe)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,n={};let i=!1;for(const r of t)this._zones[r.id].isInHiddenArea||(n[r.id]=r,i=!0);const o=Object.keys(this._zones);for(let r=0,s=o.length;r<s;r++){const t=o[r],i=this._zones[t];let s=0,a=0,l="none";n.hasOwnProperty(t)?(s=n[t].verticalOffset-e.bigNumbersDelta,a=n[t].height,l="block",i.isVisible||(i.domNode.setAttribute("monaco-visible-view-zone","true"),i.isVisible=!0),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(n[t].verticalOffset))):(i.isVisible&&(i.domNode.removeAttribute("monaco-visible-view-zone"),i.isVisible=!1),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),i.domNode.setTop(s),i.domNode.setHeight(a),i.domNode.setDisplay(l),i.marginDomNode&&(i.marginDomNode.setTop(s),i.marginDomNode.setHeight(a),i.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class bae{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class _ae{constructor(e,t,n){this.configuration=e,this.theme=new bae(t),this.viewModel=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class yae{constructor(e,t,n,i){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=i,this.visibleRange=new _Y(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class wae extends gne{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=CQ(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const t=this._context.configuration.options.get(143),n=t.contentWidth-t.verticalScrollbarWidth;this.contentWidth!==n&&(this.contentWidth=n,e=!0);const i=t.contentLeft;return this.contentLeft!==i&&(this.contentLeft=i,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var t;let n=0;const i=e.getDecorationsInViewport();for(const o of i){if(!o.options.blockClassName)continue;let i,r,s=this.blocks[n];s||(s=this.blocks[n]=CQ(document.createElement("div")),this.domNode.appendChild(s)),o.options.blockIsAfterEnd?(i=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!1),r=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0)):(i=e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!0),r=o.range.isEmpty()&&!o.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0));const[a,l,c,u]=null!==(t=o.options.blockPadding)&&void 0!==t?t:[0,0,0,0];s.setClassName("blockDecorations-block "+o.options.blockClassName),s.setLeft(this.contentLeft-u),s.setWidth(this.contentWidth+u+l),s.setTop(i-e.scrollTop-a),s.setHeight(r-i+a+c),n++}for(let o=n;o<this.blocks.length;o++)this.blocks[o].domNode.remove();this.blocks.length=n}}class Cae extends Pie{constructor(e){super(),this._context=e,this._options=new Sae(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new Sae(this._context.configuration);return this._options.equals(t)?e.hasChanged(143):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,"selection"===this._options.renderWhitespace}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if("none"===this._options.renderWhitespace)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber-t+1,i=new Array(n);for(let r=0;r<n;r++)i[r]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,i);this._renderResult=[];for(let r=e.viewportData.startLineNumber;r<=e.viewportData.endLineNumber;r++){const t=r-e.viewportData.startLineNumber,n=o.data[t];let i=null;if("selection"===this._options.renderWhitespace){const e=this._selection;for(const t of e){if(t.endLineNumber<r||t.startLineNumber>r)continue;const e=t.startLineNumber===r?t.startColumn:n.minColumn,o=t.endLineNumber===r?t.endColumn:n.maxColumn;e<o&&(i||(i=[]),i.push(new $9(e-1,o-1)))}}this._renderResult[t]=this._applyRenderWhitespace(e,r,i,n)}}_applyRenderWhitespace(e,t,n,i){if("selection"===this._options.renderWhitespace&&!n)return"";if("trailing"===this._options.renderWhitespace&&i.continuesWithWrappedLine)return"";const o=this._context.theme.getColor(Gie),r=this._options.renderWithSVG,s=i.content,a=-1===this._options.stopRenderingLineAfter?s.length:Math.min(this._options.stopRenderingLineAfter,s.length),l=i.continuesWithWrappedLine,c=i.minColumn-1,u="boundary"===this._options.renderWhitespace,h="trailing"===this._options.renderWhitespace,d=this._options.lineHeight,g=this._options.middotWidth,f=this._options.wsmiddotWidth,p=this._options.spaceWidth,m=Math.abs(f-p)<Math.abs(g-p)?11825:183,v=this._options.canUseHalfwidthRightwardsArrow;let b,_="",y=!1,w=CZ(s);-1===w?(y=!0,w=a,b=a):b=xZ(s);let C=0,S=n&&n[C],x=0;for(let k=c;k<a;k++){const i=s.charCodeAt(k);if(S&&k>=S.endOffset&&(C++,S=n&&n[C]),9!==i&&32!==i)continue;if(h&&!y&&k<=b)continue;if(u&&k>=w&&k<=b&&32===i){const e=k-1>=0?s.charCodeAt(k-1):0,t=k+1<a?s.charCodeAt(k+1):0;if(32!==e&&32!==t)continue}if(u&&l&&k===a-1){const e=k-1>=0?s.charCodeAt(k-1):0;if(32===i&&32!==e&&9!==e)continue}if(n&&(!S||S.startOffset>k||S.endOffset<=k))continue;const o=e.visibleRangeForPosition(new bY(t,k+1));o&&(r?(x=Math.max(x,o.left),_+=9===i?this._renderArrow(d,p,o.left):`<circle cx="${(o.left+p/2).toFixed(2)}" cy="${(d/2).toFixed(2)}" r="${(p/7).toFixed(2)}" />`):_+=9===i?`<div class="mwh" style="left:${o.left}px;height:${d}px;">${v?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:`<div class="mwh" style="left:${o.left}px;height:${d}px;">${String.fromCharCode(m)}</div>`)}return r?(x=Math.round(x+p),`<svg style="position:absolute;width:${x}px;height:${d}px" viewBox="0 0 ${x} ${d}" xmlns="http://www.w3.org/2000/svg" fill="${o}">`+_+"</svg>"):_}_renderArrow(e,t,n){const i=e/2,o=n,r={x:0,y:t/7/2},s={x:.8*t,y:r.y},a={x:s.x-.2*s.x,y:s.y+.2*s.x},l={x:a.x+.1*s.x,y:a.y+.1*s.x},c={x:l.x+.35*s.x,y:l.y-.35*s.x};return`<path d="M ${[r,s,a,l,c,{x:c.x,y:-c.y},{x:l.x,y:-l.y},{x:a.x,y:-a.y},{x:s.x,y:-s.y},{x:r.x,y:-r.y}].map((e=>`${(o+e.x).toFixed(2)} ${(i+e.y).toFixed(2)}`)).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class Sae{constructor(e){const t=e.options,n=t.get(50),i=t.get(38);"off"===i?(this.renderWhitespace="none",this.renderWithSVG=!1):"svg"===i?(this.renderWhitespace=t.get(98),this.renderWithSVG=!0):(this.renderWhitespace=t.get(98),this.renderWithSVG=!1),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(66),this.stopRenderingLineAfter=t.get(116)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}let xae=class extends dne{constructor(e,t,n,i,o,r,s){super(),this._instantiationService=s,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new yY(1,1,1,1)],this._renderAnimationFrame=null;const a=new qre(t,i,o,e);this._context=new _ae(t,n,i),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(Uoe,this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=CQ(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=CQ(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=CQ(document.createElement("div")),fne.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new dse(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new xse(this._context,this._linesContent),this._viewZones=new vae(this._context),this._viewParts.push(this._viewZones);const l=new eae(this._context);this._viewParts.push(l);const c=new sae(this._context);this._viewParts.push(c);const u=new ese(this._context);this._viewParts.push(u),u.addDynamicOverlay(new cse(this._context)),u.addDynamicOverlay(new hae(this._context)),u.addDynamicOverlay(new bse(this._context)),u.addDynamicOverlay(new hse(this._context)),u.addDynamicOverlay(new Cae(this._context));const h=new tse(this._context);this._viewParts.push(h),h.addDynamicOverlay(new use(this._context)),h.addDynamicOverlay(new Ase(this._context)),h.addDynamicOverlay(new Rse(this._context)),h.addDynamicOverlay(new Boe(this._context)),this._glyphMarginWidgets=new Nse(this._context),this._viewParts.push(this._glyphMarginWidgets);const d=new zoe(this._context);d.getDomNode().appendChild(this._viewZones.marginDomNode),d.getDomNode().appendChild(h.getDomNode()),d.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(d),this._contentWidgets=new nse(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new pae(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Qse(this._context),this._viewParts.push(this._overlayWidgets);const g=new rae(this._context);this._viewParts.push(g);const f=new wae(this._context);this._viewParts.push(f);const p=new Yse(this._context);if(this._viewParts.push(p),l){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(l.getDomNode(),e.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(g.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(p.getDomNode()),this._overflowGuardContainer.appendChild(f.domNode),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Oie(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),xie.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const e=this._context.viewModel.model;let t=[];t=t.concat(e.getAllMarginDecorations().map((e=>{var t,n;const i=null!==(n=null===(t=e.options.glyphMargin)||void 0===t?void 0:t.position)&&void 0!==n?n:D3.Left;return{range:e.range,lane:i}}))),t=t.concat(this._glyphMarginWidgets.getWidgets().map((t=>({range:e.validateRange(t.preference.range),lane:t.preference.lane})))),t.sort(((e,t)=>_Y.compareRangesUsingStarts(e.range,t.range)));let n=null,i=null;for(const o of t)if(o.lane===D3.Left&&(!n||_Y.compareRangesUsingEnds(n,o.range)<0)&&(n=o.range),o.lane===D3.Right&&(!i||_Y.compareRangesUsingEnds(i,o.range)<0)&&(i=o.range),n&&i){if(n.endLineNumber<i.startLineNumber){n=null;continue}if(i.endLineNumber<n.startLineNumber){i=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new $ne(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new bY(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const e=this._context.configuration.options.get(143);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+zie(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=F1(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{return e()}catch(fTe){Rq(fTe)}}((()=>this._actualRender()))}_getViewPartsToRender(){const e=[];let t=0;for(const n of this._viewParts)n.shouldRender()&&(e[t++]=n);return e}_actualRender(){if(!R1(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const n=new yae(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(n),this._viewLines.shouldRender()&&(this._viewLines.renderText(n),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const i=new mne(this._context.viewLayout,n,this._viewLines);for(const o of e)o.prepareRender(i);for(const o of e)o.render(i),o.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const n=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new bY(i.lineNumber,i.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const n=this._pointerHandler.getTargetAtClientPoint(e,t);return n?Gre.convertViewToModelMouseTarget(n,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new oae(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,n,i,o,r,s,a,l;this._contentWidgets.setWidgetPosition(e.widget,null!==(n=null===(t=e.position)||void 0===t?void 0:t.position)&&void 0!==n?n:null,null!==(o=null===(i=e.position)||void 0===i?void 0:i.secondaryPosition)&&void 0!==o?o:null,null!==(s=null===(r=e.position)||void 0===r?void 0:r.preference)&&void 0!==s?s:null,null!==(l=null===(a=e.position)||void 0===a?void 0:a.positionAffinity)&&void 0!==l?l:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};xae=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(6,AQ)],xae);class kae{constructor(e,t,n,i,o,r){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}function Lae(e){let t=0,n=0,i=0,o=0;for(let r=0,s=e.length;r<s;r++){const a=e.charCodeAt(r);13===a?(0===t&&(n=r),t++,r+1<s&&10===e.charCodeAt(r+1)?(o|=2,r++):o|=3,i=r+1):10===a&&(o|=1,0===t&&(n=r),t++,i=r+1)}return 0===t&&(n=e.length),[t,n,e.length-i,o]}class Dae{constructor(e,t,n,i){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=n,this.isInvalid=i}}class Eae{constructor(e,t,n,i,o,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=n,this.nestingLevel=i,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=r}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class Nae extends Eae{constructor(e,t,n,i,o,r,s){super(e,t,n,i,o,r),this.minVisibleColumnIndentation=s}}class Tae{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}Tae.zero=new Tae(0,0);const Iae=0;function Mae(e){return 0===e}const Rae=Math.pow(2,26);function Aae(e,t){return e*Rae+t}function Oae(e){const t=e,n=Math.floor(t/Rae);return new Tae(n,t-n*Rae)}function Pae(e,t){let n=e+t;return t>=Rae&&(n-=e%Rae),n}function Fae(e,t){return e.reduce(((e,n)=>Pae(e,t(n))),Iae)}function Bae(e,t){return e===t}function zae(e,t){const n=e,i=t;if(i-n<=0)return Iae;const o=Math.floor(n/Rae),r=Math.floor(i/Rae),s=i-r*Rae;if(o===r){return Aae(0,s-(n-o*Rae))}return Aae(r-o,s)}function Vae(e,t){return e<t}function Wae(e,t){return e<=t}function Hae(e,t){return e>=t}function $ae(e){return Aae(e.lineNumber-1,e.column-1)}function jae(e,t){const n=e,i=Math.floor(n/Rae),o=n-i*Rae,r=t,s=Math.floor(r/Rae);return new _Y(i+1,o+1,s+1,r-s*Rae+1)}class Uae{static fromModelContentChanges(e){return e.map((e=>{const t=_Y.lift(e.range);return new Uae($ae(t.getStartPosition()),$ae(t.getEndPosition()),function(e){const t=wZ(e);return Aae(t.length-1,t[t.length-1].length)}(e.text))})).reverse()}constructor(e,t,n){this.startOffset=e,this.endOffset=t,this.newLength=n}toString(){return`[${Oae(this.startOffset)}...${Oae(this.endOffset)}) -> ${Oae(this.newLength)}`}}class Kae{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>qae.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return null===n?null:zae(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Aae(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Aae(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Oae(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Aae(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):Aae(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!Wae(n,e))break;{this.nextEditIdx++;const e=Oae(n),i=Oae(this.translateOldToCur(t.endOffsetBeforeObj)),o=e.lineCount-i.lineCount;this.deltaOldToNewLineCount+=o;const r=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,s=e.columnCount-i.columnCount;this.deltaOldToNewColumnCount=r+s,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class qae{static from(e){return new qae(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,n){this.endOffsetBeforeObj=Oae(t),this.endOffsetAfterObj=Oae(Pae(e,n)),this.offsetObj=Oae(e)}}const Gae=[];class Yae{static create(e,t){if(e<=128&&0===t.length){let n=Yae.cache[e];return n||(n=new Yae(e,t),Yae.cache[e]=n),n}return new Yae(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const n=t.getKey(e);let i=n>>5;if(0===i){const e=1<<n|this.items;return e===this.items?this:Yae.create(e,this.additionalItems)}i--;const o=this.additionalItems.slice(0);for(;o.length<i;)o.push(0);return o[i]|=1<<(31&n),Yae.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===Gae&&e.additionalItems===Gae)return t===this.items?this:t===e.items?e:Yae.create(t,Gae);const n=[];for(let i=0;i<Math.max(this.additionalItems.length,e.additionalItems.length);i++){const t=this.additionalItems[i]||0,o=e.additionalItems[i]||0;n.push(t|o)}return Yae.create(t,n)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}Yae.cache=new Array(129),Yae.empty=Yae.create(0,Gae);const Xae={getKey:e=>e};class Zae{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class Qae{get length(){return this._length}constructor(e){this._length=e}}class Jae extends Qae{static create(e,t,n){let i=e.length;return t&&(i=Pae(i,t.length)),n&&(i=Pae(i,n.length)),new Jae(i,e,t,n,t?t.missingOpeningBracketIds:Yae.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,n,i,o){super(e),this.openingBracket=t,this.child=n,this.closingBracket=i,this.missingOpeningBracketIds=o}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new Jae(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Pae(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class ele extends Qae{static create23(e,t,n,i=!1){let o=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=Pae(o,t.length),r=r.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");o=Pae(o,n.length),r=r.merge(n.missingOpeningBracketIds)}return i?new nle(o,e.listHeight+1,e,t,n,r):new tle(o,e.listHeight+1,e,t,n,r)}static getEmpty(){return new ole(Iae,0,[],Yae.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,n){super(e),this.listHeight=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;let t=this;for(;4===t.kind;){const e=t.childrenLength;if(0===e)throw new $q;t=t.getChild(e-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let i=1;i<e;i++){const e=this.getChild(i);t=Pae(t,e.length),n=n.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,i=e;for(let o=0;o<this.childrenLength;o++){const e=this.getChild(o);e&&(n=Math.min(n,e.computeMinIndentation(i,t)),i=Pae(i,e.length))}return this.cachedMinIndentation=n,n}}class tle extends ele{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,n,i,o,r){super(e,t,r),this._item1=n,this._item2=i,this._item3=o}deepClone(){return new tle(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class nle extends tle{toMutable(){return new tle(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class ile extends ele{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,n,i){super(e,t,i),this._children=n}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new ile(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class ole extends ile{toMutable(){return new ile(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const rle=[];class sle extends Qae{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return rle}deepClone(){return this}}class ale extends sle{get kind(){return 0}get missingOpeningBracketIds(){return Yae.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const n=Oae(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,o=(r=Pae(e,this.length),Math.floor(r/Rae)+1);var r;let s=Number.MAX_SAFE_INTEGER;for(let a=i;a<=o;a++){const e=t.getLineFirstNonWhitespaceColumn(a),n=t.getLineContent(a);if(0===e)continue;const i=Bne.visibleColumnFromColumn(n,e,t.getOptions().tabSize);s=Math.min(s,i)}return s}}class lle extends sle{static create(e,t,n){return new lle(e,t,n)}get kind(){return 1}get missingOpeningBracketIds(){return Yae.getEmpty()}constructor(e,t,n){super(e),this.bracketInfo=t,this.bracketIds=n}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class cle extends sle{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let ule=class{constructor(e,t,n,i,o){this.length=e,this.kind=t,this.bracketId=n,this.bracketIds=i,this.astNode=o}};class hle{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new dle(this.textModel,this.bracketTokens),this._offset=Iae,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Aae(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Pae(this._offset,e);const t=Oae(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Pae(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class dle{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let n=0;for(;;){const i=this.lineTokens,o=i.getCount();let r=null;if(this.lineTokenOffset<o){const s=i.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&s===i.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=0===O9.getTokenType(s),l=O9.containsBalancedBrackets(s),c=i.getEndOffset(this.lineTokenOffset);if(l&&a&&this.lineCharOffset<c){const e=i.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,c),n=this.bracketTokens.getSingleLanguageBracketTokens(e),o=n.regExpGlobal;if(o){o.lastIndex=0;const e=o.exec(t);e&&(r=n.getToken(e[0]),r&&(this.lineCharOffset+=e.index))}}if(n+=c-this.lineCharOffset,r){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=r;break}return this.lineCharOffset+=r.length,r}this.lineTokenOffset++,this.lineCharOffset=c}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3)break}if(n>1500)break}const i=(o=e,r=t,s=this.lineIdx,a=this.lineCharOffset,o!==s?Aae(s-o,a):Aae(0,a-r));var o,r,s,a;return new ule(i,0,-1,Yae.getEmpty(),new ale(i))}}class gle{constructor(e,t){this.text=e,this._offset=Iae,this.idx=0;const n=t.getRegExpStr(),i=n?new RegExp(n+"|\n","gi"):null,o=[];let r,s=0,a=0,l=0,c=0;const u=[];for(let g=0;g<60;g++)u.push(new ule(Aae(0,g),0,-1,Yae.getEmpty(),new ale(Aae(0,g))));const h=[];for(let g=0;g<60;g++)h.push(new ule(Aae(1,g),0,-1,Yae.getEmpty(),new ale(Aae(1,g))));if(i)for(i.lastIndex=0;null!==(r=i.exec(e));){const e=r.index,n=r[0];if("\n"===n)s++,a=e+1;else{if(l!==e){let t;if(c===s){const n=e-l;if(n<u.length)t=u[n];else{const e=Aae(0,n);t=new ule(e,0,-1,Yae.getEmpty(),new ale(e))}}else{const n=s-c,i=e-a;if(1===n&&i<h.length)t=h[i];else{const e=Aae(n,i);t=new ule(e,0,-1,Yae.getEmpty(),new ale(e))}}o.push(t)}o.push(t.getToken(n)),l=e+n.length,c=s}}const d=e.length;if(l!==d){const e=c===s?Aae(0,d-l):Aae(s-c,d-a);o.push(new ule(e,0,-1,Yae.getEmpty(),new ale(e)))}this.length=Aae(s,d-a),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new Wq}}class fle{static createFromLanguage(e,t){function n(e){return t.getKey(`${e.languageId}:::${e.bracketText}`)}const i=new Map;for(const o of e.bracketsNew.openingBrackets){const e=Aae(0,o.bracketText.length),t=n(o),r=Yae.getEmpty().add(t,Xae);i.set(o.bracketText,new ule(e,1,t,r,lle.create(e,o,r)))}for(const o of e.bracketsNew.closingBrackets){const e=Aae(0,o.bracketText.length);let t=Yae.getEmpty();const r=o.getOpeningBrackets();for(const i of r)t=t.add(n(i),Xae);i.set(o.bracketText,new ule(e,2,n(r[0]),t,lle.create(e,o,t)))}return new fle(i)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){let t=bZ(e);/^[\w ]+/.test(e)&&(t=`\\b${t}`);/[\w ]+$/.test(e)&&(t=`${t}\\b`);return t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,n]of this.map)if(2===n.kind&&n.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class ple{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=fle.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function mle(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let n=e.length;for(;n>3;){const i=n>>1;for(let o=0;o<i;o++){const i=o<<1;e[o]=ele.create23(e[i],e[i+1],i+3===n?e[i+2]:null,t)}n=i}return ele.create23(e[0],e[1],n>=3?e[2]:null,t)}function vle(e,t){return Math.abs(e.listHeight-t.listHeight)}function ble(e,t){return e.listHeight===t.listHeight?ele.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let n=e=e.toMutable();const i=[];let o;for(;;){if(t.listHeight===n.listHeight){o=t;break}if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeLastElementMutable()}for(let r=i.length-1;r>=0;r--){const e=i[r];o?e.childrenLength>=3?o=ele.create23(e.unappendChild(),o,null,!1):(e.appendChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?ele.create23(e,o,null,!1):e}(e,t):function(e,t){let n=e=e.toMutable();const i=[];for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}let o=t;for(let r=i.length-1;r>=0;r--){const e=i[r];o?e.childrenLength>=3?o=ele.create23(o,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?ele.create23(o,e,null,!1):e}(t,e)}class _le{constructor(e){this.lastOffset=Iae,this.nextNodes=[e],this.offsets=[Iae],this.idxs=[]}readLongestNodeAt(e,t){if(Vae(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const n=wle(this.nextNodes);if(!n)return;const i=wle(this.offsets);if(Vae(e,i))return;if(Vae(i,e))if(Pae(i,n.length)<=e)this.nextNodeAfterCurrent();else{const e=yle(n);-1!==e?(this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{const e=yle(n);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=wle(this.offsets),t=wle(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const n=wle(this.nextNodes),i=yle(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push(Pae(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}function yle(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function wle(e){return e.length>0?e[e.length-1]:void 0}function Cle(e,t,n,i){return new Sle(e,t,n,i).parseDocument()}class Sle{constructor(e,t,n,i){if(this.tokenizer=e,this.createImmutableLists=i,this._itemsConstructed=0,this._itemsFromCache=0,n&&i)throw new Error("Not supported");this.oldNodeReader=n?new _le(n):void 0,this.positionMapper=new Kae(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Yae.getEmpty(),0);return e||(e=ele.getEmpty()),e}parseList(e,t){const n=[];for(;;){let i=this.tryReadChildFromCache(e);if(!i){const n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;i=this.parseChild(e,t+1)}4===i.kind&&0===i.childrenLength||n.push(i)}const i=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function n(){if(t>=e.length)return null;const n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?mle(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}let i=n(),o=n();if(!o)return i;for(let r=n();r;r=n())vle(i,o)<=vle(o,r)?(i=ble(i,o),o=r):o=ble(o,r);return ble(i,o)}(n):mle(n,this.createImmutableLists);return i}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!Mae(t)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(n=>{if(null!==t&&!Vae(n.length,t))return!1;return n.canBeReused(e)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(e,t){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new cle(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300)return new ale(n.length);const i=e.merge(n.bracketIds),o=this.parseList(i,t+1),r=this.tokenizer.peek();return r&&2===r.kind&&(r.bracketId===n.bracketId||r.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),Jae.create(n.astNode,o,r.astNode)):Jae.create(n.astNode,o,null)}default:throw new Error("unexpected")}}}function xle(e,t){if(0===e.length)return t;if(0===t.length)return e;const n=new AU(Lle(e)),i=Lle(t);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=n.dequeue();function r(e){if(void 0===e){const e=n.takeWhile((e=>!0))||[];return o&&e.unshift(o),e}const t=[];for(;o&&!Mae(e);){const[i,r]=o.splitAt(e);t.push(i),e=zae(i.lengthAfter,e),o=null!=r?r:n.dequeue()}return Mae(e)||t.push(new kle(!1,e,e)),t}const s=[];function a(e,t,n){if(s.length>0&&Bae(s[s.length-1].endOffset,e)){const e=s[s.length-1];s[s.length-1]=new Uae(e.startOffset,t,Pae(e.newLength,n))}else s.push({startOffset:e,endOffset:t,newLength:n})}let l=Iae;for(const c of i){const e=r(c.lengthBefore);if(c.modified){const t=Pae(l,Fae(e,(e=>e.lengthBefore)));a(l,t,c.lengthAfter),l=t}else for(const t of e){const e=l;l=Pae(l,t.lengthBefore),t.modified&&a(e,l,t.lengthAfter)}}return s}class kle{constructor(e,t,n){this.modified=e,this.lengthBefore=t,this.lengthAfter=n}splitAt(e){const t=zae(e,this.lengthAfter);return Bae(t,Iae)?[this,void 0]:this.modified?[new kle(this.modified,this.lengthBefore,e),new kle(this.modified,Iae,t)]:[new kle(this.modified,e,e),new kle(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Oae(this.lengthBefore)} -> ${Oae(this.lengthAfter)}`}}function Lle(e){const t=[];let n=Iae;for(const i of e){const e=zae(n,i.startOffset);Mae(e)||t.push(new kle(!1,e,e));const o=zae(i.startOffset,i.endOffset);t.push(new kle(!0,o,i.newLength)),n=i.endOffset}return t}class Dle extends Yq{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new sG,this.denseKeyProvider=new Zae,this.brackets=new ple(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new gle(this.textModel.getValue(),e);this.initialAstWithoutTokens=Cle(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map((e=>new Uae(Aae(e.fromLineNumber-1,0),Aae(e.toLineNumber,0),Aae(e.toLineNumber-e.fromLineNumber+1,0))));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Uae.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const n=xle(this.queuedTextEdits,e);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=xle(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,n){const i=t;return Cle(new hle(this.textModel,this.brackets),e,i,n)}getBracketsInRange(e,t){this.flushQueue();const n=Aae(e.startLineNumber-1,e.startColumn-1),i=Aae(e.endLineNumber-1,e.endColumn-1);return new OU((e=>{const o=this.initialAstWithoutTokens||this.astWithTokens;Tle(o,Iae,o.length,n,i,e,0,0,new Map,t)}))}getBracketPairsInRange(e,t){this.flushQueue();const n=$ae(e.getStartPosition()),i=$ae(e.getEndPosition());return new OU((e=>{const o=this.initialAstWithoutTokens||this.astWithTokens,r=new Ile(e,t,this.textModel);Mle(o,Iae,o.length,n,i,r,0,new Map)}))}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Nle(t,Iae,t.length,$ae(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Ele(t,Iae,t.length,$ae(e))}}function Ele(e,t,n,i){if(4===e.kind||2===e.kind){const o=[];for(const i of e.children)n=Pae(t,i.length),o.push({nodeOffsetStart:t,nodeOffsetEnd:n}),t=n;for(let t=o.length-1;t>=0;t--){const{nodeOffsetStart:n,nodeOffsetEnd:r}=o[t];if(Vae(n,i)){const o=Ele(e.children[t],n,r,i);if(o)return o}}return null}if(3===e.kind)return null;if(1===e.kind){const i=jae(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function Nle(e,t,n,i){if(4===e.kind||2===e.kind){for(const o of e.children){if(Vae(i,n=Pae(t,o.length))){const e=Nle(o,t,n,i);if(e)return e}t=n}return null}if(3===e.kind)return null;if(1===e.kind){const i=jae(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function Tle(e,t,n,i,o,r,s,a,l,c,u=!1){if(s>200)return!0;e:for(;;)switch(e.kind){case 4:{const a=e.childrenLength;for(let u=0;u<a;u++){const a=e.getChild(u);if(a){if(n=Pae(t,a.length),Wae(t,o)&&Hae(n,i)){if(Hae(n,o)){e=a;continue e}if(!Tle(a,t,n,i,o,r,s,0,l,c))return!1}t=n}}return!0}case 2:{const u=!c||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo);let h=0;if(l){let t=l.get(e.openingBracket.text);void 0===t&&(t=0),h=t,u&&(t++,l.set(e.openingBracket.text,t))}const d=e.childrenLength;for(let g=0;g<d;g++){const d=e.getChild(g);if(d){if(n=Pae(t,d.length),Wae(t,o)&&Hae(n,i)){if(Hae(n,o)&&1!==d.kind){e=d,u?(s++,a=h+1):a=h;continue e}if(u||1!==d.kind||!e.closingBracket){if(!Tle(d,t,n,i,o,r,u?s+1:s,u?h+1:h,l,c,!e.closingBracket))return!1}}t=n}}return null==l||l.set(e.openingBracket.text,h),!0}case 3:{const e=jae(t,n);return r(new Dae(e,s-1,0,!0))}case 1:{const e=jae(t,n);return r(new Dae(e,s-1,a-1,u))}case 0:return!0}}class Ile{constructor(e,t,n){this.push=e,this.includeMinIndentation=t,this.textModel=n}}function Mle(e,t,n,i,o,r,s,a){var l;if(s>200)return!0;let c=!0;if(2===e.kind){let u=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),u=t,t++,a.set(e.openingBracket.text,t)}const h=Pae(t,e.openingBracket.length);let d=-1;if(r.includeMinIndentation&&(d=e.computeMinIndentation(t,r.textModel)),c=r.push(new Nae(jae(t,n),jae(t,h),e.closingBracket?jae(Pae(h,(null===(l=e.child)||void 0===l?void 0:l.length)||Iae),n):void 0,s,u,e,d)),t=h,c&&e.child){const l=e.child;if(n=Pae(t,l.length),Wae(t,o)&&Hae(n,i)&&(c=Mle(l,t,n,i,o,r,s+1,a),!c))return!1}null==a||a.set(e.openingBracket.text,u)}else{let n=t;for(const t of e.children){const e=n;if(n=Pae(n,t.length),Wae(e,o)&&Wae(i,n)&&(c=Mle(t,e,n,i,o,r,s,a),!c))return!1}}return c}class Rle extends Yq{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Xq),this.onDidChangeEmitter=new sG,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new Gq;this.bracketPairsTree.value=(e=n.add(new Dle(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=n,{object:e,dispose:()=>null==t?void 0:t.dispose()}),n.add(this.bracketPairsTree.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var e,t}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||OU.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||OU.empty}getBracketsInRange(e,t=!1){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(n=this.bracketPairsTree.value)||void 0===n?void 0:n.object.getBracketsInRange(e,t))||OU.empty}findMatchingBracketUp(e,t,n){const i=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(i.lineNumber,i.column);if(this.canBuildAST){const n=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!n)return null;const i=this.getBracketPairsInRange(_Y.fromPositions(t,t)).findLast((e=>n.closes(e.openingBracketInfo)));return i?i.openingBracketRange:null}{const t=e.toLowerCase(),r=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!r)return null;const s=r.textIsBracket[t];return s?Ple(this._findMatchingBracketUp(s,i,Ale(n))):null}}matchBracket(e,t){if(this.canBuildAST){const t=this.getBracketPairsInRange(_Y.fromPositions(e,e)).filter((t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e)))).findLastMaxBy(TU((t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange),_Y.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{const n=Ale(t);return this._matchBracket(this.textModel.validatePosition(e),n)}}_establishBracketSearchOffsets(e,t,n,i){const o=t.getCount(),r=t.getLanguageId(i);let s=Math.max(0,e.column-1-n.maxBracketLength);for(let l=i-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=s)break;if(T4(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){s=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let l=i+1;l<o;l++){const e=t.getStartOffset(l);if(e>=a)break;if(T4(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){a=e;break}}return{searchStartOffset:s,searchEndOffset:a}}_matchBracket(e,t){const n=e.lineNumber,i=this.textModel.tokenization.getLineTokens(n),o=this.textModel.getLineContent(n),r=i.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const s=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(r)).brackets;if(s&&!T4(i.getStandardTokenType(r))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,s,r),c=null;for(;;){const i=n5.findNextBracketInRange(s.forwardRegex,n,o,a,l);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=o.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),n=this._matchFoundBracket(i,s.textIsBracket[e],s.textIsOpenBracket[e],t);if(n){if(n instanceof Ole)return null;c=n}}a=i.endColumn-1}if(c)return c}if(r>0&&i.getStartOffset(r)===e.column-1){const s=r-1,a=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(s)).brackets;if(a&&!T4(i.getStandardTokenType(s))){const{searchStartOffset:r,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,a,s),c=n5.findPrevBracketInRange(a.reversedRegex,n,o,r,l);if(c&&c.startColumn<=e.column&&e.column<=c.endColumn){const e=o.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),n=this._matchFoundBracket(c,a.textIsBracket[e],a.textIsOpenBracket[e],t);if(n)return n instanceof Ole?null:n}}}return null}_matchFoundBracket(e,t,n,i){if(!t)return null;const o=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return o?o instanceof Ole?o:[e,o]:null}_findMatchingBracketUp(e,t,n){const i=e.languageId,o=e.reversedRegex;let r=-1,s=0;const a=(t,i,a,l)=>{for(;;){if(n&&++s%100==0&&!n())return Ole.INSTANCE;const c=n5.findPrevBracketInRange(o,t,i,a,l);if(!c)break;const u=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(u)?r++:e.isClose(u)&&r--,0===r)return c;l=c.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this.textModel.tokenization.getLineTokens(l),n=e.getCount(),o=this.textModel.getLineContent(l);let r=n-1,s=o.length,c=o.length;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,c=t.column-1);let u=!0;for(;r>=0;r--){const t=e.getLanguageId(r)===i&&!T4(e.getStandardTokenType(r));if(t)u?s=e.getStartOffset(r):(s=e.getStartOffset(r),c=e.getEndOffset(r));else if(u&&s!==c){const e=a(l,o,s,c);if(e)return e}u=t}if(u&&s!==c){const e=a(l,o,s,c);if(e)return e}}return null}_findMatchingBracketDown(e,t,n){const i=e.languageId,o=e.forwardRegex;let r=1,s=0;const a=(t,i,a,l)=>{for(;;){if(n&&++s%100==0&&!n())return Ole.INSTANCE;const c=n5.findNextBracketInRange(o,t,i,a,l);if(!c)break;const u=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(u)?r++:e.isClose(u)&&r--,0===r)return c;a=c.endColumn-1}return null},l=this.textModel.getLineCount();for(let c=t.lineNumber;c<=l;c++){const e=this.textModel.tokenization.getLineTokens(c),n=e.getCount(),o=this.textModel.getLineContent(c);let r=0,s=0,l=0;c===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,l=t.column-1);let u=!0;for(;r<n;r++){const t=e.getLanguageId(r)===i&&!T4(e.getStandardTokenType(r));if(t)u||(s=e.getStartOffset(r)),l=e.getEndOffset(r);else if(u&&s!==l){const e=a(c,o,s,l);if(e)return e}u=t}if(u&&s!==l){const e=a(c,o,s,l);if(e)return e}}return null}findPrevBracket(e){var t;const n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(n))||null;let i=null,o=null,r=null;for(let s=n.lineNumber;s>=1;s--){const e=this.textModel.tokenization.getLineTokens(s),t=e.getCount(),a=this.textModel.getLineContent(s);let l=t-1,c=a.length,u=a.length;if(s===n.lineNumber){l=e.findTokenIndexAtOffset(n.column-1),c=n.column-1,u=n.column-1;const t=e.getLanguageId(l);i!==t&&(i=t,o=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let h=!0;for(;l>=0;l--){const t=e.getLanguageId(l);if(i!==t){if(o&&r&&h&&c!==u){const e=n5.findPrevBracketInRange(o.reversedRegex,s,a,c,u);if(e)return this._toFoundBracket(r,e);h=!1}i=t,o=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const n=!!o&&!T4(e.getStandardTokenType(l));if(n)h?c=e.getStartOffset(l):(c=e.getStartOffset(l),u=e.getEndOffset(l));else if(r&&o&&h&&c!==u){const e=n5.findPrevBracketInRange(o.reversedRegex,s,a,c,u);if(e)return this._toFoundBracket(r,e)}h=n}if(r&&o&&h&&c!==u){const e=n5.findPrevBracketInRange(o.reversedRegex,s,a,c,u);if(e)return this._toFoundBracket(r,e)}}return null}findNextBracket(e){var t;const n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(n))||null;const i=this.textModel.getLineCount();let o=null,r=null,s=null;for(let a=n.lineNumber;a<=i;a++){const e=this.textModel.tokenization.getLineTokens(a),t=e.getCount(),i=this.textModel.getLineContent(a);let l=0,c=0,u=0;if(a===n.lineNumber){l=e.findTokenIndexAtOffset(n.column-1),c=n.column-1,u=n.column-1;const t=e.getLanguageId(l);o!==t&&(o=t,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let h=!0;for(;l<t;l++){const t=e.getLanguageId(l);if(o!==t){if(s&&r&&h&&c!==u){const e=n5.findNextBracketInRange(r.forwardRegex,a,i,c,u);if(e)return this._toFoundBracket(s,e);h=!1}o=t,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const n=!!r&&!T4(e.getStandardTokenType(l));if(n)h||(c=e.getStartOffset(l)),u=e.getEndOffset(l);else if(s&&r&&h&&c!==u){const e=n5.findNextBracketInRange(r.forwardRegex,a,i,c,u);if(e)return this._toFoundBracket(s,e)}h=n}if(s&&r&&h&&c!==u){const e=n5.findNextBracketInRange(r.forwardRegex,a,i,c,u);if(e)return this._toFoundBracket(s,e)}}return null}findEnclosingBrackets(e,t){const n=this.textModel.validatePosition(e);if(this.canBuildAST){const e=_Y.fromPositions(n),t=this.getBracketPairsInRange(_Y.fromPositions(n,n)).findLast((t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e)));return t?[t.openingBracketRange,t.closingBracketRange]:null}const i=Ale(t),o=this.textModel.getLineCount(),r=new Map;let s=[];const a=(e,t)=>{if(!r.has(e)){const n=[];for(let e=0,i=t?t.brackets.length:0;e<i;e++)n[e]=0;r.set(e,n)}s=r.get(e)};let l=0;const c=(e,t,n,o,r)=>{for(;;){if(i&&++l%100==0&&!i())return Ole.INSTANCE;const a=n5.findNextBracketInRange(e.forwardRegex,t,n,o,r);if(!a)break;const c=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),u=e.textIsBracket[c];if(u&&(u.isOpen(c)?s[u.index]++:u.isClose(c)&&s[u.index]--,-1===s[u.index]))return this._matchFoundBracket(a,u,!1,i);o=a.endColumn-1}return null};let u=null,h=null;for(let d=n.lineNumber;d<=o;d++){const e=this.textModel.tokenization.getLineTokens(d),t=e.getCount(),i=this.textModel.getLineContent(d);let o=0,r=0,s=0;if(d===n.lineNumber){o=e.findTokenIndexAtOffset(n.column-1),r=n.column-1,s=n.column-1;const t=e.getLanguageId(o);u!==t&&(u=t,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,a(u,h))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(u!==t){if(h&&l&&r!==s){const e=c(h,d,i,r,s);if(e)return Ple(e);l=!1}u=t,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,a(u,h)}const n=!!h&&!T4(e.getStandardTokenType(o));if(n)l||(r=e.getStartOffset(o)),s=e.getEndOffset(o);else if(h&&l&&r!==s){const e=c(h,d,i,r,s);if(e)return Ple(e)}l=n}if(h&&l&&r!==s){const e=c(h,d,i,r,s);if(e)return Ple(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.textModel.getValueInRange(t);n=n.toLowerCase();const i=e.getBracketInfo(n);return i?{range:t,bracketInfo:i}:null}}function Ale(e){if(void 0===e)return()=>!0;{const t=Date.now();return()=>Date.now()-t<=e}}class Ole{constructor(){this._searchCanceledBrand=void 0}}function Ple(e){return e instanceof Ole?null:e}Ole.INSTANCE=new Ole;class Fle extends Yq{constructor(e){super(),this.textModel=e,this.colorProvider=new Ble,this.onDidChangeEmitter=new sG,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,n,i){if(i)return[];if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(e,!0).map((e=>({id:`bracket${e.range.toString()}-${e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}))).toArray()}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new _Y(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Ble{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}function zle(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}Hie(((e,t)=>{const n=[_oe,yoe,woe,Coe,Soe,xoe],i=new Ble;t.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${e.getColor(koe)}; }`);const o=n.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let r=0;r<30;r++){const e=o[r%o.length];t.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(r)} { color: ${e}; }`)}}));class Vle{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,n,i){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=i}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${zle(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${zle(this.oldText)}")`:`(replace@${this.oldPosition} "${zle(this.oldText)}" with "${zle(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const i=t.length;W4(e,i,n),n+=4;for(let o=0;o<i;o++)z4(e,t.charCodeAt(o),n),n+=2;return n}static _readString(e,t){const n=V4(e,t);return K4(e,t+=4,n)}writeSize(){return 8+Vle._writeStringSize(this.oldText)+Vle._writeStringSize(this.newText)}write(e,t){return W4(e,this.oldPosition,t),t+=4,W4(e,this.newPosition,t),t+=4,t=Vle._writeString(e,this.oldText,t),t=Vle._writeString(e,this.newText,t)}static read(e,t,n){const i=V4(e,t),o=V4(e,t+=4);t+=4;const r=Vle._readString(e,t);t+=Vle._writeStringSize(r);const s=Vle._readString(e,t);return t+=Vle._writeStringSize(s),n.push(new Vle(i,r,o,s)),t}}class Wle{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===n){this._acceptCurr(i),i=this._getCurr(++t);continue}if(null===i){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){const[e,t]=Wle._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(e),i=t;continue}if(n.newPosition<i.oldPosition){const[e,t]=Wle._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(e),n=t;continue}let o,r;if(i.oldEnd===n.newEnd)o=n,r=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){const[e,s]=Wle._splitPrev(n,i.oldLength);o=e,r=i,n=s,i=this._getCurr(++t)}else{const[t,s]=Wle._splitCurr(i,n.newLength);o=n,r=t,n=this._getPrev(++e),i=s}this._result[this._resultLen++]=new Vle(o.oldPosition,o.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const o=Wle._merge(this._result);return Wle._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Wle._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Wle._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Vle(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Vle(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),i=e.newText.substr(t);return[new Vle(e.oldPosition,e.oldText,e.newPosition,n),new Vle(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new Vle(e.oldPosition,n,e.newPosition,e.newText),new Vle(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let n=0,i=e[0];for(let o=1;o<e.length;o++){const r=e[o];i.oldEnd===r.oldPosition?i=new Vle(i.oldPosition,i.oldText+r.oldText,i.newPosition,i.newText+r.newText):(t[n++]=i,i=r)}return t[n++]=i,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let n=0;for(let i=0;i<e.length;i++){const o=e[i];o.oldText!==o.newText&&(t[n++]=o)}return t}}function Hle(e){return 47===e||92===e}function $le(e){return e.replace(/[\\/]/g,qG.sep)}function jle(e,t=qG.sep){if(!e)return"";const n=e.length,i=e.charCodeAt(0);if(Hle(i)){if(Hle(e.charCodeAt(1))&&!Hle(e.charCodeAt(2))){let i=3;const o=i;for(;i<n&&!Hle(e.charCodeAt(i));i++);if(o!==i&&!Hle(e.charCodeAt(i+1)))for(i+=1;i<n;i++)if(Hle(e.charCodeAt(i)))return e.slice(0,i+1).replace(/[\\/]/g,t)}return t}if(((o=i)>=65&&o<=90||o>=97&&o<=122)&&58===e.charCodeAt(1))return Hle(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);var o;let r=e.indexOf("://");if(-1!==r)for(r+=3;r<n;r++)if(Hle(e.charCodeAt(r)))return e.slice(0,r+1);return""}function Ule(e,t,n,i=eY){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!RZ(e,t))return!1;if(t.length===e.length)return!0;let n=t.length;return t.charAt(t.length-1)===i&&n--,e.charAt(n)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}function Kle(e){return gY(e,!0)}const qle=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:kZ(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,n=!1){if(e.scheme===t.scheme){if(e.scheme===S1.file)return Ule(Kle(e),Kle(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(Jle(e.authority,t.authority))return Ule(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}joinPath(e,...t){return aY.joinPath(e,...t)}basenameOrAuthority(e){return Yle(e)||e.authority}basename(e){return qG.basename(e.path)}extname(e){return qG.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===S1.file?t=aY.file(ZG(Kle(e))).path:(t=qG.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===S1.file?aY.file(GG(Kle(e))).path:qG.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Jle(e.authority,t.authority))return;if(e.scheme===S1.file){const n=XG(Kle(e),Kle(t));return yK?$le(n):n}let n=e.path||"/";const i=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(n.length,i.length);e<t&&(n.charCodeAt(e)===i.charCodeAt(e)||n.charAt(e).toLowerCase()===i.charAt(e).toLowerCase());e++);n=i.substr(0,e)+n.substr(e)}return qG.relative(n,i)}resolvePath(e,t){if(e.scheme===S1.file){const n=aY.file(YG(Kle(e),t));return e.with({authority:n.authority,path:n.path})}var n;return-1===(n=t).indexOf("/")&&(n=$le(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),t=n,e.with({path:qG.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&MZ(e,t)}hasTrailingPathSeparator(e,t=eY){if(e.scheme===S1.file){const n=Kle(e);return n.length>jle(n).length&&n[n.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=eY){return ece(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=eY){let n=!1;if(e.scheme===S1.file){const i=Kle(e);n=void 0!==i&&i.length===jle(i).length&&i[i.length-1]===t}else{t="/";const i=e.path;n=1===i.length&&47===i.charCodeAt(i.length-1)}return n||ece(e,t)?e:e.with({path:e.path+"/"})}}((()=>!1)),Gle=qle.isEqual.bind(qle);qle.isEqualOrParent.bind(qle),qle.getComparisonKey.bind(qle),qle.basenameOrAuthority.bind(qle);const Yle=qle.basename.bind(qle);qle.extname.bind(qle);const Xle=qle.dirname.bind(qle);qle.joinPath.bind(qle);const Zle=qle.normalizePath.bind(qle);qle.relativePath.bind(qle);const Qle=qle.resolvePath.bind(qle);qle.isAbsolutePath.bind(qle);const Jle=qle.isEqualAuthority.bind(qle),ece=qle.hasTrailingPathSeparator.bind(qle);var tce,nce;function ice(e){return e.toString()}qle.removeTrailingPathSeparator.bind(qle),qle.addTrailingPathSeparator.bind(qle),(nce=tce||(tce={})).META_DATA_LABEL="label",nce.META_DATA_DESCRIPTION="description",nce.META_DATA_SIZE="size",nce.META_DATA_MIME="mime",nce.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[n,i]=e.split(":");n&&i&&t.set(n,i)}));const n=e.path.substring(0,e.path.indexOf(";"));return n&&t.set(nce.META_DATA_MIME,n),t};class oce{static create(e,t){const n=e.getAlternativeVersionId(),i=ace(e);return new oce(n,n,i,i,t,t,[])}constructor(e,t,n,i,o,r,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=o,this.afterCursorState=r,this.changes=s}append(e,t,n,i,o){var r,s;t.length>0&&(this.changes=(r=this.changes,s=t,null===r||0===r.length?s:new Wle(r,s).compress())),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(W4(e,t?t.length:0,n),n+=4,t)for(const i of t)W4(e,i.selectionStartLineNumber,n),n+=4,W4(e,i.selectionStartColumn,n),n+=4,W4(e,i.positionLineNumber,n),n+=4,W4(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=V4(e,t);t+=4;for(let o=0;o<i;o++){const i=V4(e,t),o=V4(e,t+=4),r=V4(e,t+=4),s=V4(e,t+=4);t+=4,n.push(new yY(i,o,r,s))}return t}serialize(){let e=10+oce._writeSelectionsSize(this.beforeCursorState)+oce._writeSelectionsSize(this.afterCursorState)+4;for(const i of this.changes)e+=i.writeSize();const t=new Uint8Array(e);let n=0;W4(t,this.beforeVersionId,n),n+=4,W4(t,this.afterVersionId,n),n+=4,$4(t,this.beforeEOL,n),n+=1,$4(t,this.afterEOL,n),n+=1,n=oce._writeSelections(t,this.beforeCursorState,n),n=oce._writeSelections(t,this.afterCursorState,n),W4(t,this.changes.length,n),n+=4;for(const i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=V4(t,n);n+=4;const o=V4(t,n);n+=4;const r=H4(t,n);n+=1;const s=H4(t,n);n+=1;const a=[];n=oce._readSelections(t,n,a);const l=[];n=oce._readSelections(t,n,l);const c=V4(t,n);n+=4;const u=[];for(let h=0;h<c;h++)n=Vle.read(t,n,u);return new oce(i,o,r,s,a,l,u)}}class rce{get type(){return 0}get resource(){return aY.isUri(this.model)?this.model:this.model.uri}constructor(e,t,n,i){this.label=e,this.code=t,this.model=n,this._data=oce.create(n,i)}toString(){return(this._data instanceof oce?this._data:oce.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(aY.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof oce}append(e,t,n,i,o){this._data instanceof oce&&this._data.append(e,t,n,i,o)}close(){this._data instanceof oce&&(this._data=this._data.serialize())}open(){this._data instanceof oce||(this._data=oce.deserialize(this._data))}undo(){if(aY.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof oce&&(this._data=this._data.serialize());const e=oce.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(aY.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof oce&&(this._data=this._data.serialize());const e=oce.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof oce&&(this._data=this._data.serialize()),this._data.byteLength+168}}class sce{get resources(){return this._editStackElementsArr.map((e=>e.resource))}constructor(e,t,n){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=ice(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=ice(e);return this._editStackElementsMap.has(t)}setModel(e){const t=ice(aY.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=ice(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,n,i,o){const r=ice(e.uri);this._editStackElementsMap.get(r).append(e,t,n,i,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=ice(e);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).heapSize()}return 0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${Yle(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function ace(e){return"\n"===e.getEOL()?0:1}function lce(e){return!!e&&(e instanceof rce||e instanceof sce)}class cce{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);lce(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);lce(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const n=this._undoRedoService.getLastElement(this._model.uri);if(lce(n)&&n.canAppend(this._model))return n;const i=new rce(nK(0,"Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i,t),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],ace(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,i){const o=this._getOrCreateEditStackElement(e,i),r=this._model.applyEdits(t,!0),s=cce._computeCursorState(n,r),a=r.map(((e,t)=>({index:t,textChange:e.textChange})));return a.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),o.append(this._model,a.map((e=>e.textChange)),ace(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(fTe){return Rq(fTe),null}}}class uce{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function hce(e,t,n,i,o){let r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<t&&r<i;r++){if(e.charCodeAt(r)!==n.charCodeAt(r))break}let s=0,a=0;for(let d=r;d<t;d++){32===e.charCodeAt(d)?s++:a++}let l=0,c=0;for(let d=r;d<i;d++){32===n.charCodeAt(d)?l++:c++}if(s>0&&a>0)return;if(l>0&&c>0)return;const u=Math.abs(a-c),h=Math.abs(s-l);if(0===u)return o.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));h%u!=0||(o.spacesDiff=h/u)}function dce(e,t,n){const i=Math.min(e.getLineCount(),1e4);let o=0,r=0,s="",a=0;const l=[2,4,6,8,3,5,7],c=[0,0,0,0,0,0,0,0,0],u=new uce;for(let g=1;g<=i;g++){const i=e.getLineLength(g),l=e.getLineContent(g),h=i<=65536;let d=!1,f=0,p=0,m=0;for(let t=0,n=i;t<n;t++){const n=h?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===n)m++;else{if(32!==n){d=!0,f=t;break}p++}}if(!d)continue;if(m>0?o++:p>1&&r++,hce(s,a,l,f,u),u.looksLikeAlignment&&(!n||t!==u.spacesDiff))continue;const v=u.spacesDiff;v<=8&&c[v]++,s=l,a=f}let h=n;o!==r&&(h=o<r);let d=t;if(h){let e=h?0:.1*i;l.forEach((t=>{const n=c[t];n>e&&(e=n,d=t)})),4===d&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(d=2)}return{insertSpaces:h,tabSize:d}}function gce(e){return(1&e.metadata)>>>0}function fce(e,t){e.metadata=254&e.metadata|t}function pce(e){return(2&e.metadata)>>>1==1}function mce(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function vce(e){return(4&e.metadata)>>>2==1}function bce(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function _ce(e){return(64&e.metadata)>>>6==1}function yce(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}function wce(e,t){e.metadata=231&e.metadata|t<<3}function Cce(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class Sce{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,fce(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,bce(this,!1),yce(this,!1),wce(this,1),Cce(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,mce(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;const t=this.options.className;bce(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),yce(this,null!==this.options.glyphMarginClassName),wce(this,this.options.stickiness),Cce(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const xce=new Sce(null,0,0);xce.parent=xce,xce.left=xce,xce.right=xce,fce(xce,0);class kce{constructor(){this.root=xce,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,o,r){return this.root===xce?[]:function(e,t,n,i,o,r,s){let a=e.root,l=0,c=0,u=0,h=0;const d=[];let g=0;for(;a!==xce;)if(pce(a))mce(a.left,!1),mce(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;else{if(!pce(a.left)){if(c=l+a.maxEnd,c<t){mce(a,!0);continue}if(a.left!==xce){a=a.left;continue}}if(u=l+a.start,u>n)mce(a,!0);else{if(h=l+a.end,h>=t){a.setCachedOffsets(u,h,r);let e=!0;i&&a.ownerId&&a.ownerId!==i&&(e=!1),o&&vce(a)&&(e=!1),s&&!_ce(a)&&(e=!1),e&&(d[g++]=a)}mce(a,!0),a.right===xce||pce(a.right)||(l+=a.delta,a=a.right)}}return mce(e.root,!1),d}(this,e,t,n,i,o,r)}search(e,t,n,i){return this.root===xce?[]:function(e,t,n,i,o){let r=e.root,s=0,a=0,l=0;const c=[];let u=0;for(;r!==xce;){if(pce(r)){mce(r.left,!1),mce(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),r=r.parent;continue}if(r.left!==xce&&!pce(r.left)){r=r.left;continue}a=s+r.start,l=s+r.end,r.setCachedOffsets(a,l,i);let e=!0;t&&r.ownerId&&r.ownerId!==t&&(e=!1),n&&vce(r)&&(e=!1),o&&!_ce(r)&&(e=!1),e&&(c[u++]=r),mce(r,!0),r.right===xce||pce(r.right)||(s+=r.delta,r=r.right)}return mce(e.root,!1),c}(this,e,t,n,i)}collectNodesFromOwner(e){return function(e,t){let n=e.root;const i=[];let o=0;for(;n!==xce;)pce(n)?(mce(n.left,!1),mce(n.right,!1),n=n.parent):n.left===xce||pce(n.left)?(n.ownerId===t&&(i[o++]=n),mce(n,!0),n.right===xce||pce(n.right)||(n=n.right)):n=n.left;return mce(e.root,!1),i}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root;const n=[];let i=0;for(;t!==xce;)pce(t)?(mce(t.left,!1),mce(t.right,!1),t=t.parent):t.left===xce||pce(t.left)?t.right===xce||pce(t.right)?(n[i++]=t,mce(t,!0)):t=t.right:t=t.left;return mce(e.root,!1),n}(this)}insert(e){Ece(this,e),this._normalizeDeltaIfNecessary()}delete(e){Nce(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const o=n.start+i,r=n.end+i;n.setCachedOffsets(o,r,t)}acceptReplace(e,t,n,i){const o=function(e,t,n){let i=e.root,o=0,r=0,s=0,a=0;const l=[];let c=0;for(;i!==xce;)if(pce(i))mce(i.left,!1),mce(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;else{if(!pce(i.left)){if(r=o+i.maxEnd,r<t){mce(i,!0);continue}if(i.left!==xce){i=i.left;continue}}s=o+i.start,s>n?mce(i,!0):(a=o+i.end,a>=t&&(i.setCachedOffsets(s,a,0),l[c++]=i),mce(i,!0),i.right===xce||pce(i.right)||(o+=i.delta,i=i.right))}return mce(e.root,!1),l}(this,e,e+t);for(let r=0,s=o.length;r<s;r++){Nce(this,o[r])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){let o=e.root,r=0,s=0,a=0;const l=i-(n-t);for(;o!==xce;)if(pce(o))mce(o.left,!1),mce(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),Ace(o),o=o.parent;else{if(!pce(o.left)){if(s=r+o.maxEnd,s<t){mce(o,!0);continue}if(o.left!==xce){o=o.left;continue}}a=r+o.start,a>n?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),mce(o,!0)):(mce(o,!0),o.right===xce||pce(o.right)||(r+=o.delta,o=o.right))}mce(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let r=0,s=o.length;r<s;r++){const s=o[r];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,Dce(s,e,e+t,n,i),s.maxEnd=s.end,Ece(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,n=0;for(;t!==xce;)t.left===xce||pce(t.left)?t.right===xce||pce(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,Ace(t),mce(t,!0),mce(t.left,!1),mce(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;mce(e.root,!1)}(this))}}function Lce(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function Dce(e,t,n,i,o){const r=function(e){return(24&e.metadata)>>>3}(e),s=0===r||2===r,a=1===r||2===r,l=n-t,c=i,u=Math.min(l,c),h=e.start;let d=!1;const g=e.end;let f=!1;t<=h&&g<=n&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,d=!0,e.end=t,f=!0);{const e=o?1:l>0?2:0;!d&&Lce(h,s,t,e)&&(d=!0),!f&&Lce(g,a,t,e)&&(f=!0)}if(u>0&&!o){const e=l>c?2:0;!d&&Lce(h,s,t+u,e)&&(d=!0),!f&&Lce(g,a,t+u,e)&&(f=!0)}{const i=o?1:0;!d&&Lce(h,s,n,i)&&(e.start=t+c,d=!0),!f&&Lce(g,a,n,i)&&(e.end=t+c,f=!0)}const p=c-l;d||(e.start=Math.max(0,h+p)),f||(e.end=Math.max(0,g+p)),e.start>e.end&&(e.end=e.start)}function Ece(e,t){if(e.root===xce)return t.parent=xce,t.left=xce,t.right=xce,fce(t,0),e.root=t,e.root;!function(e,t){let n=0,i=e.root;const o=t.start,r=t.end;for(;;){if(Pce(o,r,i.start+n,i.end+n)<0){if(i.left===xce){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===xce){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=xce,t.right=xce,fce(t,1)}(e,t),Oce(t.parent);let n=t;for(;n!==e.root&&1===gce(n.parent);)if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===gce(t)?(fce(n.parent,0),fce(t,0),fce(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,Ice(e,n)),fce(n.parent,0),fce(n.parent.parent,1),Mce(e,n.parent.parent))}else{const t=n.parent.parent.left;1===gce(t)?(fce(n.parent,0),fce(t,0),fce(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,Mce(e,n)),fce(n.parent,0),fce(n.parent.parent,1),Ice(e,n.parent.parent))}return fce(e.root,0),t}function Nce(e,t){let n,i;if(t.left===xce?(n=t.right,i=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===xce?(n=t.left,i=t):(i=function(e){for(;e.left!==xce;)e=e.left;return e}(t.right),n=i.right,n.start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,fce(n,0),t.detach(),Tce(),Ace(n),void(e.root.parent=xce);const o=1===gce(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,fce(i,gce(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==xce&&(i.left.parent=i),i.right!==xce&&(i.right.parent=i)),t.detach(),o)return Oce(n.parent),i!==t&&(Oce(i),Oce(i.parent)),void Tce();let r;for(Oce(n),Oce(n.parent),i!==t&&(Oce(i),Oce(i.parent));n!==e.root&&0===gce(n);)n===n.parent.left?(r=n.parent.right,1===gce(r)&&(fce(r,0),fce(n.parent,1),Ice(e,n.parent),r=n.parent.right),0===gce(r.left)&&0===gce(r.right)?(fce(r,1),n=n.parent):(0===gce(r.right)&&(fce(r.left,0),fce(r,1),Mce(e,r),r=n.parent.right),fce(r,gce(n.parent)),fce(n.parent,0),fce(r.right,0),Ice(e,n.parent),n=e.root)):(r=n.parent.left,1===gce(r)&&(fce(r,0),fce(n.parent,1),Mce(e,n.parent),r=n.parent.left),0===gce(r.left)&&0===gce(r.right)?(fce(r,1),n=n.parent):(0===gce(r.left)&&(fce(r.right,0),fce(r,1),Ice(e,r),r=n.parent.left),fce(r,gce(n.parent)),fce(n.parent,0),fce(r.left,0),Mce(e,n.parent),n=e.root));fce(n,0),Tce()}function Tce(){xce.parent=xce,xce.delta=0,xce.start=0,xce.end=0}function Ice(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==xce&&(n.left.parent=t),n.parent=t.parent,t.parent===xce?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,Ace(t),Ace(n)}function Mce(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==xce&&(n.right.parent=t),n.parent=t.parent,t.parent===xce?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,Ace(t),Ace(n)}function Rce(e){let t=e.end;if(e.left!==xce){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==xce){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function Ace(e){e.maxEnd=Rce(e)}function Oce(e){for(;e!==xce;){const t=Rce(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function Pce(e,t,n,i){return e===n?t-i:e-n}class Fce{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Bce)return zce(this.right);let e=this;for(;e.parent!==Bce&&e.parent.left!==e;)e=e.parent;return e.parent===Bce?Bce:e.parent}prev(){if(this.left!==Bce)return Vce(this.left);let e=this;for(;e.parent!==Bce&&e.parent.right!==e;)e=e.parent;return e.parent===Bce?Bce:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Bce=new Fce(null,0);function zce(e){for(;e.left!==Bce;)e=e.left;return e}function Vce(e){for(;e.right!==Bce;)e=e.right;return e}function Wce(e){return e===Bce?0:e.size_left+e.piece.length+Wce(e.right)}function Hce(e){return e===Bce?0:e.lf_left+e.piece.lineFeedCnt+Hce(e.right)}function $ce(){Bce.parent=Bce}function jce(e,t){const n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==Bce&&(n.left.parent=t),n.parent=t.parent,t.parent===Bce?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function Uce(e,t){const n=t.left;t.left=n.right,n.right!==Bce&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===Bce?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function Kce(e,t){let n,i;if(t.left===Bce?(i=t,n=i.right):t.right===Bce?(i=t,n=i.left):(i=zce(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),$ce(),void(e.root.parent=Bce);const o=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,Yce(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,Yce(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==Bce&&(i.left.parent=i),i.right!==Bce&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,Yce(e,i)),t.detach(),n.parent.left===n){const t=Wce(n),i=Hce(n);if(t!==n.parent.size_left||i!==n.parent.lf_left){const o=t-n.parent.size_left,r=i-n.parent.lf_left;n.parent.size_left=t,n.parent.lf_left=i,Gce(e,n.parent,o,r)}}if(Yce(e,n.parent),o)return void $ce();let r;for(;n!==e.root&&0===n.color;)n===n.parent.left?(r=n.parent.right,1===r.color&&(r.color=0,n.parent.color=1,jce(e,n.parent),r=n.parent.right),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.right.color&&(r.left.color=0,r.color=1,Uce(e,r),r=n.parent.right),r.color=n.parent.color,n.parent.color=0,r.right.color=0,jce(e,n.parent),n=e.root)):(r=n.parent.left,1===r.color&&(r.color=0,n.parent.color=1,Uce(e,n.parent),r=n.parent.left),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.left.color&&(r.right.color=0,r.color=1,jce(e,r),r=n.parent.left),r.color=n.parent.color,n.parent.color=0,r.left.color=0,Uce(e,n.parent),n=e.root));n.color=0,$ce()}function qce(e,t){for(Yce(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&jce(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Uce(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&Uce(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,jce(e,t.parent.parent))}e.root.color=0}function Gce(e,t,n,i){for(;t!==e.root&&t!==Bce;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function Yce(e,t){let n=0,i=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(n=Wce((t=t.parent).left)-t.size_left,i=Hce(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}Bce.parent=Bce,Bce.left=Bce,Bce.right=Bce,Bce.color=0;const Xce=65535;function Zce(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class Qce{constructor(e,t,n,i,o){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=o}}function Jce(e,t=!0){const n=[0];let i=1;for(let o=0,r=e.length;o<r;o++){const t=e.charCodeAt(o);13===t?o+1<r&&10===e.charCodeAt(o+1)?(n[i++]=o+2,o++):n[i++]=o+1:10===t&&(n[i++]=o+1)}return t?Zce(n):n}class eue{constructor(e,t,n,i,o){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=o}}class tue{constructor(e,t){this.buffer=e,this.lineStarts=t}}class nue{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Bce&&e.iterate(e.root,(e=>(e!==Bce&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class iue{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const n=this._cache;for(let i=0;i<n.length;i++){const o=n[i];(null===o.node.parent||o.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){const e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}class oue{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new tue("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Bce,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Jce(e[o].buffer));const t=new eue(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,t)}this._searchCache=new iue(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=Xce,n=t-Math.floor(21845),i=2*n;let o="",r=0;const s=[];if(this.iterate(this.root,(t=>{const a=this.getNodeContent(t),l=a.length;if(r<=n||r+l<i)return o+=a,r+=l,!0;const c=o.replace(/\r\n|\r|\n/g,e);return s.push(new tue(c,Jce(c))),o=a,r=l,!0})),r>0){const t=o.replace(/\r\n|\r|\n/g,e);s.push(new tue(t,Jce(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new nue(this,e)}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==Bce;)if(i.left!==Bce&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e){n+=i.size_left;return n+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1)}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0;const i=e;for(;t!==Bce;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+o.index,0===o.index){const e=this.getOffsetAt(n+1,1);return new bY(n+1,i-e+1)}return new bY(n+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===Bce){const t=this.getOffsetAt(n+1,1);return new bY(n+1,i-e-t+1)}t=t.right}return new bY(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(o+e.remainder,o+t.remainder)}let n=e.node;const i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);let r=i.substring(o+e.remainder,o+n.piece.length);for(n=n.next();n!==Bce;){const e=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){r+=e.substring(i,i+t.remainder);break}r+=e.substr(i,n.piece.length),n=n.next()}return r}getLinesContent(){const e=[];let t=0,n="",i=!1;return this.iterate(this.root,(o=>{if(o===Bce)return!0;const r=o.piece;let s=r.length;if(0===s)return!0;const a=this._buffers[r.bufferIndex].buffer,l=this._buffers[r.bufferIndex].lineStarts,c=r.start.line,u=r.end.line;let h=l[c]+r.start.column;if(i&&(10===a.charCodeAt(h)&&(h++,s--),e[t++]=n,n="",i=!1,0===s))return!0;if(c===u)return this._EOLNormalized||13!==a.charCodeAt(h+s-1)?n+=a.substr(h,s):(i=!0,n+=a.substr(h,s-1)),!0;n+=this._EOLNormalized?a.substring(h,Math.max(h,l[c+1]-this._EOLLength)):a.substring(h,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let i=c+1;i<u;i++)n=this._EOLNormalized?a.substring(l[i],l[i+1]-this._EOLLength):a.substring(l[i],l[i+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return this._EOLNormalized||13!==a.charCodeAt(l[u]+r.end.column-1)?n=a.substr(l[u],r.end.column):(i=!0,0===r.end.column?t--:n=a.substr(l[u],r.end.column-1)),!0})),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}{const t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){const n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,i,o,r,s,a,l,c,u){const h=this._buffers[e.piece.bufferIndex],d=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,o),f=this.offsetInBuffer(e.piece.bufferIndex,r);let p;const m={line:0,column:0};let v,b;t._wordSeparators?(v=h.buffer.substring(g,f),b=e=>e+g,t.reset(0)):(v=h.buffer,b=e=>e,t.reset(g));do{if(p=t.next(v),p){if(b(p.index)>=f)return c;this.positionInBuffer(e,b(p.index)-d,m);const t=this.getLineFeedCnt(e.piece.bufferIndex,o,m),r=m.line===o.line?m.column-o.column+i:m.column+1,s=r+p[0].length;if(u[c++]=F3(new _Y(n+t,r,n+t,s),p,a),b(p.index)+p[0].length>=f)return c;if(c>=l)return c}}while(p);return c}findMatchesLineByLine(e,t,n,i){const o=[];let r=0;const s=new W3(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];const l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder);const u=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,c,u,t,n,i,r,o),o;let h=e.startLineNumber,d=a.node;for(;d!==l.node;){const l=this.getLineFeedCnt(d.piece.bufferIndex,c,d.piece.end);if(l>=1){const a=this._buffers[d.piece.bufferIndex].lineStarts,u=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),g=a[c.line+l],f=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(d,s,h,f,c,this.positionInBuffer(d,g-u),t,n,i,r,o),r>=i)return o;h+=l}const u=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(u,e.endColumn-1);return r=this._findMatchesInLine(t,s,a,e.endLineNumber,u,r,o,n,i),o}if(r=this._findMatchesInLine(t,s,this.getLineContent(h).substr(u),h,u,r,o,n,i),r>=i)return o;h++,a=this.nodeAt2(h,1),d=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){const a=h===e.startLineNumber?e.startColumn-1:0,l=this.getLineContent(h).substring(a,e.endColumn-1);return r=this._findMatchesInLine(t,s,l,e.endLineNumber,a,r,o,n,i),o}const g=h===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,s,h,g,c,u,t,n,i,r,o),o}_findMatchesInLine(e,t,n,i,o,r,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,u=n.length;let h=-a;for(;-1!==(h=n.indexOf(t,h+a));)if((!c||V3(c,n,u,h,a))&&(s[r++]=new I3(new _Y(i,h+1+o,i,h+1+a+o),null),r>=l))return r;return r}let u;t.reset(0);do{if(u=t.next(n),u&&(s[r++]=F3(new _Y(i,u.index+1+o,i,u.index+1+u[0].length+o),u,a),r>=l))return r}while(u);return r}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Bce){const{node:n,remainder:i,nodeStartOffset:o}=this.nodeAt(e),r=n.piece,s=r.bufferIndex,a=this.positionInBuffer(n,i);if(0===n.piece.bufferIndex&&r.end.line===this._lastChangeBufferPos.line&&r.end.column===this._lastChangeBufferPos.column&&o+r.length===e&&t.length<Xce)return this.appendToNode(n,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(o+n.piece.length>e){const e=[];let o=new eue(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),this.offsetInBuffer(s,r.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(n,i)){const e={line:o.start.line+1,column:0};o=new eue(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(n,i-1)){const o=this.positionInBuffer(n,i-1);this.deleteNodeTail(n,o),t="\r"+t,0===n.piece.length&&e.push(n)}else this.deleteNodeTail(n,a)}else this.deleteNodeTail(n,a);const l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(n,o);let c=n;for(let t=0;t<l.length;t++)c=this.rbInsertRight(c,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{const e=this.createNewPieces(t);let n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)n=this.rbInsertRight(n,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Bce)return;const n=this.nodeAt(e),i=this.nodeAt(e+t),o=n.node,r=i.node;if(o===r){const r=this.positionInBuffer(o,n.remainder),s=this.positionInBuffer(o,i.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){const e=o.next();return Kce(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return n.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,r),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,r,s),void this.computeBufferMetadata())}const s=[],a=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&s.push(o);const l=this.positionInBuffer(r,i.remainder);this.deleteNodeHead(r,l),0===r.piece.length&&s.push(r);for(let u=o.next();u!==Bce&&u!==r;u=u.next())s.push(u);const c=0===o.piece.length?o.prev():o;this.deleteNodes(s),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const i=t.piece,o={line:i.start.line+1,column:0},r=new eue(i.bufferIndex,o,i.end,this.getLineFeedCnt(i.bufferIndex,o,i.end),i.length-1);t.piece=r,e+="\n",Gce(this,t,-1,-1),0===t.piece.length&&n.push(t)}const i=this.createNewPieces(e);let o=this.rbInsertLeft(t,i[i.length-1]);for(let r=i.length-2;r>=0;r--)o=this.rbInsertLeft(o,i[r]);this.validateCRLFWithPrevNode(o),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]);let o=i;for(let r=1;r<n.length;r++)o=this.rbInsertRight(o,n[r]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){const i=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,s=r[i.start.line]+i.start.column+t;let a=i.start.line,l=i.end.line,c=0,u=0,h=0;for(;a<=l&&(c=a+(l-a)/2|0,h=r[c],c!==l);)if(u=r[c+1],s<h)l=c-1;else{if(!(s>=u))break;a=c+1}return n?(n.line=c,n.column=s-h,null):{line:c,column:s-h}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;const i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;const o=i[n.line+1],r=i[n.line]+n.column;if(o>r+1)return n.line-t.line;const s=r-1;return 13===this._buffers[e].buffer.charCodeAt(s)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Kce(this,e[t])}createNewPieces(e){if(e.length>Xce){const t=[];for(;e.length>Xce;){const n=e.charCodeAt(65534);let i;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,Xce),e=e.substring(Xce));const o=Jce(i);t.push(new eue(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new tue(i,o))}const n=Jce(e);return t.push(new eue(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length)),this._buffers.push(new tue(e,n)),t}let t=this._buffers[0].buffer.length;const n=Jce(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<n.length;e++)n[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<n.length;e++)n[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,r=this._buffers[0].lineStarts.length-1,s={line:r,column:o-this._buffers[0].lineStarts[r]},a=new eue(0,i,s,this.getLineFeedCnt(0,i,s),o-t);return this._lastChangeBufferPos=s,[a]}getLineRawContent(e,t=0){let n=this.root,i="";const o=this._searchCache.get2(e);if(o){n=o.node;const r=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),s=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt!==e){const i=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return s.substring(a+r,a+i-t)}i=s.substring(a+r,a+n.piece.length)}else{let o=0;const r=e;for(;n!==Bce;)if(n.left!==Bce&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){const i=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return o+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:o,nodeStartLineNumber:r-(e-1-n.lf_left)}),a.substring(l+i,l+s-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){const t=this.getAccumulatedValue(n,e-n.lf_left-2),o=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=o.substring(r+t,r+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,o+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==Bce;){const e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(n,0),r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=e.substring(r,r+o-t),i}{const t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=e.substr(t,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==Bce;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){const n=e.piece,i=this.positionInBuffer(e,t),o=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){const t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;const n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,o=n.start.line+t+1;return o>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[o]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),r=t,s=this.offsetInBuffer(n.bufferIndex,r),a=this.getLineFeedCnt(n.bufferIndex,n.start,r),l=a-i,c=s-o,u=n.length+c;e.piece=new eue(n.bufferIndex,n.start,r,a,u),Gce(this,e,c,l)}deleteNodeHead(e,t){const n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),r=t,s=this.getLineFeedCnt(n.bufferIndex,r,n.end),a=s-i,l=o-this.offsetInBuffer(n.bufferIndex,r),c=n.length+l;e.piece=new eue(n.bufferIndex,r,n.end,s,c),Gce(this,e,l,a)}shrinkNode(e,t,n){const i=e.piece,o=i.start,r=i.end,s=i.length,a=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),u=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new eue(i.bufferIndex,i.start,l,c,u),Gce(this,e,u-s,c-a);const h=new eue(i.bufferIndex,n,r,this.getLineFeedCnt(i.bufferIndex,n,r),this.offsetInBuffer(i.bufferIndex,r)-this.offsetInBuffer(i.bufferIndex,n)),d=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(d)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Jce(t,!1);for(let h=0;h<o.length;h++)o[h]+=i;if(n){const e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const r=this._buffers[0].lineStarts.length-1,s={line:r,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,s),u=c-l;e.piece=new eue(e.piece.bufferIndex,e.piece.start,s,c,a),this._lastChangeBufferPos=s,Gce(this,e,t.length,u)}nodeAt(e){let t=this.root;const n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==Bce;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;const n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==Bce;)if(n.left!==Bce&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(n,e-n.lf_left-2),r=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(o+t-1,r),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(n,e-n.lf_left-2);if(o+t-1<=n.piece.length)return{node:n,remainder:o+t-1,nodeStartOffset:i};t-=n.piece.length-o;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==Bce;){if(n.piece.lineFeedCnt>0){const e=this.getAccumulatedValue(n,0),i=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:i}}if(n.piece.length>=t-1){return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)}}t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===Bce||0===e.piece.lineFeedCnt)return!1;const t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=n[i]+t.start.column;if(i===n.length-1)return!1;return!(n[i+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o)}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==Bce&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const n=[],i=this._buffers[e.piece.bufferIndex].lineStarts;let o;o=0===e.piece.end.column?{line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new eue(e.piece.bufferIndex,e.piece.start,o,s,r),Gce(this,e,-1,-1),0===e.piece.length&&n.push(e);const a={line:t.piece.start.line+1,column:0},l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new eue(t.piece.bufferIndex,a,t.piece.end,c,l),Gce(this,t,-1,-1),0===t.piece.length&&n.push(t);const u=this.createNewPieces("\r\n");this.rbInsertRight(e,u[0]);for(let h=0;h<n.length;h++)Kce(this,n[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)Kce(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},i=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new eue(e.bufferIndex,t,e.end,o,i),Gce(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Bce)return t(Bce);const n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===Bce)return"";const t=this._buffers[e.piece.bufferIndex],n=e.piece,i=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return t.buffer.substring(i,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){const n=new Fce(t,1);n.left=Bce,n.right=Bce,n.parent=Bce,n.size_left=0,n.lf_left=0;if(this.root===Bce)this.root=n,n.color=0;else if(e.right===Bce)e.right=n,n.parent=e;else{const t=zce(e.right);t.left=n,n.parent=t}return qce(this,n),n}rbInsertLeft(e,t){const n=new Fce(t,1);if(n.left=Bce,n.right=Bce,n.parent=Bce,n.size_left=0,n.lf_left=0,this.root===Bce)this.root=n,n.color=0;else if(e.left===Bce)e.left=n,n.parent=e;else{const t=Vce(e.left);t.right=n,n.parent=t}return qce(this,n),n}}class rue extends Yq{constructor(e,t,n,i,o,r,s){super(),this._onDidChangeContent=this._register(new sG),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=i,this._mightContainUnusualLineTerminators=o,this._pieceTree=new oue(e,n,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const n=e+t,i=this.getPositionAt(e),o=this.getPositionAt(n);return new _Y(i.lineNumber,i.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const n=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn);let o=0;const r=this._getEndOfLine(t),s=this.getEOL();if(r.length!==s.length){o=(r.length-s.length)*(e.endLineNumber-e.startLineNumber)}return i-n+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const i=e.startLineNumber,o=e.endLineNumber;for(let t=i;t<=o;t++){const r=this.getLineContent(t),s=t===i?e.startColumn-1:0,a=t===o?e.endColumn-1:r.length;for(let e=s;e<a;e++)PZ(r.charCodeAt(e))?(n+=1,e+=1):n+=1}return n+=this._getEndOfLine(t).length*(o-i),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=CZ(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=xZ(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,s=!0,a=[];for(let f=0;f<e.length;f++){const t=e[f];s&&t._isTracked&&(s=!1);const n=t.range;if(t.text){let e=!0;r||(e=!qZ(t.text),r=e),!i&&e&&(i=UZ(t.text)),!o&&e&&(o=YZ(t.text))}let l="",c=0,u=0,h=0;if(t.text){let e;[c,u,h,e]=Lae(t.text);const n=this.getEOL();l=0===e||e===("\r\n"===n?2:1)?t.text:t.text.replace(/\r\n|\r|\n/g,n)}a[f]={sortIndex:f,identifier:t.identifier||null,range:n,rangeOffset:this.getOffsetAt(n.startLineNumber,n.startColumn),rangeLength:this.getValueLengthInRange(n),text:l,eolCount:c,firstLineLength:u,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(rue._sortOpsAscending);let l=!1;for(let f=0,p=a.length-1;f<p;f++){const e=a[f].range.getEndPosition(),t=a[f+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));const c=n||t?rue._getInverseEditRanges(a):[],u=[];if(t)for(let f=0;f<a.length;f++){const e=a[f],t=c[f];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let i="";n===t.startLineNumber&&(i=this.getLineContent(e.range.startLineNumber),-1!==CZ(i))||u.push({lineNumber:n,oldContent:i})}}let h=null;if(n){let e=0;h=[];for(let t=0;t<a.length;t++){const n=a[t],i=c[t],o=this.getValueInRange(n.range),r=n.rangeOffset+e;e+=n.text.length-o.length,h[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:i,text:o,textChange:new Vle(n.rangeOffset,o,r,n.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r;const d=this._doApplyEdits(a);let g=null;if(t&&u.length>0){u.sort(((e,t)=>t.lineNumber-e.lineNumber)),g=[];for(let e=0,t=u.length;e<t;e++){const t=u[e].lineNumber;if(e>0&&u[e-1].lineNumber===t)continue;const n=u[e].oldContent,i=this.getLineContent(t);0!==i.length&&i!==n&&-1===CZ(i)&&g.push(t)}}return this._onDidChangeContent.fire(),new A3(h,d,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,i=e[e.length-1].range,o=new _Y(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn);let r=n.startLineNumber,s=n.startColumn;const a=[];for(let d=0,g=e.length;d<g;d++){const n=e[d],i=n.range;t=t||n.forceMoveMarkers,a.push(this.getValueInRange(new _Y(r,s,i.startLineNumber,i.startColumn))),n.text.length>0&&a.push(n.text),r=i.endLineNumber,s=i.endColumn}const l=a.join(""),[c,u,h]=Lae(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:c,firstLineLength:u,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(rue._sortOpsDescending);const t=[];for(let n=0;n<e.length;n++){const i=e[n],o=i.range.startLineNumber,r=i.range.startColumn,s=i.range.endLineNumber,a=i.range.endColumn;if(o===s&&r===a&&0===i.text.length)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);const l=new _Y(o,r,s,a);t.push({range:l,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}static _getInverseEditRanges(e){const t=[];let n=0,i=0,o=null;for(let r=0,s=e.length;r<s;r++){const s=e[r];let a,l,c;if(o?o.range.endLineNumber===s.range.startLineNumber?(a=n,l=i+(s.range.startColumn-o.range.endColumn)):(a=n+(s.range.startLineNumber-o.range.endLineNumber),l=s.range.startColumn):(a=s.range.startLineNumber,l=s.range.startColumn),s.text.length>0){const e=s.eolCount+1;c=1===e?new _Y(a,l,a,l+s.firstLineLength):new _Y(a,l,a+e-1,s.lastLineLength+1)}else c=new _Y(a,l,a,l);n=c.endLineNumber,i=c.endColumn,t.push(c),o=s}return t}static _sortOpsAscending(e,t){const n=_Y.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){const n=_Y.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n}}class sue{constructor(e,t,n,i,o,r,s,a,l){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,r=n.length;o<r;o++){const e=n[o].buffer.replace(/\r\n|\r|\n/g,t),i=Jce(e);n[o]=new tue(e,i)}const i=new rue(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}class aue{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&JZ(e)&&(this.BOM=QZ,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let n=1,i=0,o=0,r=0,s=!0;for(let l=0,c=t.length;l<c;l++){const a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(r++,e[n++]=l+2,l++):(i++,e[n++]=l+1):10===a?(o++,e[n++]=l+1):s&&9!==a&&(a<32||a>126)&&(s=!1)}const a=new Qce(Zce(e),i,o,r,s);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new tue(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=UZ(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=YZ(e)))}finish(e=!0){return this._finish(),new sue(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Jce(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class lue{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,n){if(e>=this._store.length)return;if(0===t)return void this.insert(e,n);if(0===n)return void this.delete(e,t);const i=this._store.slice(0,e),o=this._store.slice(e+t),r=function(e,t){const n=[];for(let i=0;i<e;i++)n[i]=t;return n}(n,this._default);this._store=i.concat(r,o)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const n=[];for(let i=0;i<t;i++)n[i]=this._default;this._store=CU(this._store,e,n)}}class cue{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class uue{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e)return void n.appendLineTokens(t)}this._tokens.push(new cue(e,[t]))}finalize(){return this._tokens}}class hue{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new gue(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class due extends hue{constructor(e,t,n,i){super(e,t),this._textModel=n,this._languageIdCodec=i}updateTokensUntilLine(e,t){const n=this._textModel.getLanguageId();for(;;){const i=this.getFirstInvalidLine();if(!i||i.lineNumber>t)break;const o=this._textModel.getLineContent(i.lineNumber),r=mue(this._languageIdCodec,n,this.tokenizationSupport,o,!0,i.startState);e.add(i.lineNumber,r.tokens),this.store.setEndState(i.lineNumber,r.endState)}}getTokenTypeIfInsertingCharacter(e,t){const n=this.getStartState(e.lineNumber);if(!n)return 0;const i=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),r=o.substring(0,e.column-1)+t+o.substring(e.column-1),s=mue(this._languageIdCodec,i,this.tokenizationSupport,r,!0,n),a=new P9(s.tokens,r,this._languageIdCodec);if(0===a.getCount())return 0;const l=a.findTokenIndexAtOffset(e.column-1);return a.getStandardTokenType(l)}tokenizeLineWithEdit(e,t,n){const i=e.lineNumber,o=e.column,r=this.getStartState(i);if(!r)return null;const s=this._textModel.getLineContent(i),a=s.substring(0,o-1)+n+s.substring(o-1+t),l=this._textModel.getLanguageIdAtPosition(i,0),c=mue(this._languageIdCodec,l,this.tokenizationSupport,a,!0,r);return new P9(c.tokens,a,this._languageIdCodec)}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,n){if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,n),{heuristicTokens:!1};let i=this.guessStartState(t);const o=this._textModel.getLanguageId();for(let r=t;r<=n;r++){const t=this._textModel.getLineContent(r),n=mue(this._languageIdCodec,o,this.tokenizationSupport,t,!0,i);e.add(r,n.tokens),i=n.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const n=[];let i=null;for(let s=e-1;t>1&&s>=1;s--){const e=this._textModel.getLineFirstNonWhitespaceColumn(s);if(0!==e&&(e<t&&(n.push(this._textModel.getLineContent(s)),t=e,i=this.getStartState(s),i)))break}i||(i=this.tokenizationSupport.getInitialState()),n.reverse();const o=this._textModel.getLanguageId();let r=i;for(const s of n){r=mue(this._languageIdCodec,o,this.tokenizationSupport,s,!1,r).endState}return r}}class gue{constructor(e){this.lineCount=e,this._tokenizationStateStore=new fue,this._invalidEndStatesLineNumbers=new pue,this._invalidEndStatesLineNumbers.addRange(new q3(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new $q("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const n=this._tokenizationStateStore.setEndState(e,t);return n&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new q3(e+1,e+2)),n}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new q3(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[e]=Lae(t.text);this.acceptChange(new t6(t.range.startLineNumber,t.range.endLineNumber+1),e+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new q3(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(e,t){return 1===e?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(null===t)return null;const n=this.getStartState(t,e);if(!n)throw new $q("Start state must be defined");return{lineNumber:t,startState:n}}}class fue{constructor(){this._lineEndStates=new lue(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const n=this._lineEndStates.get(e);return(!n||!n.equals(t))&&(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let n=e.length;t>0&&n>0&&(n--,t--),this._lineEndStates.replace(e.startLineNumber,n,t)}}class pue{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex((t=>t.contains(e)));if(-1!==t){const n=this._ranges[t];n.start===e?n.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new q3(e+1,n.endExclusive):n.endExclusive===e+1?this._ranges[t]=new q3(n.start,e):this._ranges.splice(t,1,new q3(n.start,e),new q3(e+1,n.endExclusive))}}addRange(e){q3.addRange(e,this._ranges)}addRangeAndResize(e,t){let n=0;for(;!(n>=this._ranges.length||e.start<=this._ranges[n].endExclusive);)n++;let i=n;for(;!(i>=this._ranges.length||e.endExclusive<this._ranges[i].start);)i++;const o=t-e.length;for(let r=i;r<this._ranges.length;r++)this._ranges[r]=this._ranges[r].delta(o);if(n===i){const i=new q3(e.start,e.start+t);i.isEmpty||this._ranges.splice(n,0,i)}else{const t=Math.min(e.start,this._ranges[n].start),r=Math.max(e.endExclusive,this._ranges[i-1].endExclusive),s=new q3(t,r+o);s.isEmpty?this._ranges.splice(n,i-n):this._ranges.splice(n,i-n,s)}}toString(){return this._ranges.map((e=>e.toString())).join(" + ")}}function mue(e,t,n,i,o,r){let s=null;if(n)try{s=n.tokenizeEncoded(i,o,r.clone())}catch(fTe){Rq(fTe)}return s||(s=A9(e.encodeLanguageId(t),r)),P9.convertToEndOffset(s.tokens,i.length),s}class vue{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,i4((e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)})))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),n=()=>{!this._isDisposed&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?TK(n):this._beginBackgroundTokenization())};n()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new uue,n=eG.create(!1);do{if(n.elapsed()>1)break;if(this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){var t;const n=null===(t=this._tokenizerWithStateStore)||void 0===t?void 0:t.getFirstInvalidLine();return n?(this._tokenizerWithStateStore.updateTokensUntilLine(e,n.lineNumber),n.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new t6(e,t))}}const bue=new Uint32Array(0).buffer;class _ue{static deleteBeginning(e,t){return null===e||e===bue?e:_ue.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===bue)return e;const n=yue(e),i=n[n.length-2];return _ue.delete(e,t,i)}static delete(e,t,n){if(null===e||e===bue||t===n)return e;const i=yue(e),o=i.length>>>1;if(0===t&&i[i.length-2]===n)return bue;const r=P9.findIndexInTokensArray(i,t),s=r>0?i[r-1<<1]:0;if(n<i[r<<1]){const s=n-t;for(let e=r;e<o;e++)i[e<<1]-=s;return e}let a,l;s!==t?(i[r<<1]=t,a=r+1<<1,l=t):(a=r<<1,l=s);const c=n-t;for(let h=r+1;h<o;h++){const e=i[h<<1]-c;e>l&&(i[a++]=e,i[a++]=i[1+(h<<1)],l=e)}if(a===i.length)return e;const u=new Uint32Array(a);return u.set(i.subarray(0,a),0),u.buffer}static append(e,t){if(t===bue)return e;if(e===bue)return t;if(null===e)return e;if(null===t)return null;const n=yue(e),i=yue(t),o=i.length>>>1,r=new Uint32Array(n.length+i.length);r.set(n,0);let s=n.length;const a=n[n.length-2];for(let l=0;l<o;l++)r[s++]=i[l<<1]+a,r[s++]=i[1+(l<<1)];return r.buffer}static insert(e,t,n){if(null===e||e===bue)return e;const i=yue(e),o=i.length>>>1;let r=P9.findIndexInTokensArray(i,t);if(r>0){i[r-1<<1]===t&&r--}for(let s=r;s<o;s++)i[s<<1]+=n;return e}}function yue(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class wue{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,n){let i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==bue)return new P9(yue(i),n,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=n.length,o[1]=Cue(this._languageIdCodec.encodeLanguageId(e)),new P9(o,n,this._languageIdCodec)}static _massageTokens(e,t,n){const i=n?yue(n):null;if(0===t){let t=!1;if(i&&i.length>1&&(t=O9.getLanguageId(i[1])!==e),!t)return bue}if(!i||0===i.length){const n=new Uint32Array(2);return n[0]=t,n[1]=Cue(e),n.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const n=[];for(let i=0;i<t;i++)n[i]=null;this._lineTokens=CU(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,i,o){const r=wue._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,i);this._ensureLine(t);const s=this._lineTokens[t];return this._lineTokens[t]=r,!!o&&!wue._equals(s,r)}static _equals(e,t){if(!e||!t)return!e&&!t;const n=yue(e),i=yue(t);if(n.length!==i.length)return!1;for(let o=0,r=n.length;o<r;o++)if(n[o]!==i[o])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new bY(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=_ue.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=_ue.deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let i=null;n<this._len&&(i=_ue.deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=_ue.append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(0===t&&0===n)return;const i=e.lineNumber-1;i>=this._len||(0!==t?(this._lineTokens[i]=_ue.deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=_ue.insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)):this._lineTokens[i]=_ue.insert(this._lineTokens[i],e.column-1,n))}setMultilineTokens(e,t){if(0===e.length)return{changes:[]};const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];let r=0,s=0,a=!1;for(let e=o.startLineNumber;e<=o.endLineNumber;e++)if(a)this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),o.getLineTokens(e),!1),s=e;else{this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),o.getLineTokens(e),!0)&&(a=!0,r=e,s=e)}a&&n.push({fromLineNumber:r,toLineNumber:s})}return{changes:n}}}function Cue(e){return(32768|e|2<<24|1024)>>>0}class Sue{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const i=t[0].getRange(),o=t[t.length-1].getRange();if(!i||!o)return e;n=e.plusRange(i).plusRange(o)}let i=null;for(let o=0,r=this._pieces.length;o<r;o++){const e=this._pieces[o];if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:o};break}if(e.removeTokens(n),e.isEmpty()){this._pieces.splice(o,1),o--,r--;continue}if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:o};continue}const[t,s]=e.split(n);t.isEmpty()?i=i||{index:o}:s.isEmpty()||(this._pieces.splice(o,1,t,s),o++,r++,i=i||{index:o})}return i=i||{index:this._pieces.length},t.length>0&&(this._pieces=CU(this._pieces,i.index,t)),n}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const n=this._pieces;if(0===n.length)return t;const i=n[Sue._findFirstPieceWithLine(n,e)].getLineTokens(e);if(!i)return t;const o=t.getCount(),r=i.getCount();let s=0;const a=[];let l=0,c=0;const u=(e,t)=>{e!==c&&(c=e,a[l++]=e,a[l++]=t)};for(let h=0;h<r;h++){const e=i.getStartCharacter(h),n=i.getEndCharacter(h),r=i.getMetadata(h),a=((1&r?2048:0)|(2&r?4096:0)|(4&r?8192:0)|(8&r?16384:0)|(16&r?16744448:0)|(32&r?4278190080:0))>>>0,l=~a>>>0;for(;s<o&&t.getEndOffset(s)<=e;)u(t.getEndOffset(s),t.getMetadata(s)),s++;for(s<o&&t.getStartOffset(s)<e&&u(e,t.getMetadata(s));s<o&&t.getEndOffset(s)<n;)u(t.getEndOffset(s),t.getMetadata(s)&l|r&a),s++;if(s<o)u(n,t.getMetadata(s)&l|r&a),t.getEndOffset(s)===n&&s++;else{const e=Math.min(Math.max(0,s-1),o-1);u(n,t.getMetadata(e)&l|r&a)}}for(;s<o;)u(t.getEndOffset(s),t.getMetadata(s)),s++;return new P9(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,i=e.length-1;for(;n<i;){let o=n+Math.floor((i-n)/2);if(e[o].endLineNumber<t)n=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>n&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}i=o-1}}return n}acceptEdit(e,t,n,i,o){for(const r of this._pieces)r.acceptEdit(e,t,n,i,o)}}class xue extends gse{constructor(e,t,n,i,o,r){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=n,this._bracketPairsTextModelPart=i,this._languageId=o,this._attachedViews=r,this._semanticTokens=new Sue(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new sG),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new sG),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new sG),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new kue(this._languageService.languageIdCodec,this._textModel,(()=>this._languageId),this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))),this._register(this.grammarTokens.onDidChangeTokens((e=>{this._emitModelTokensChangedEvent(e)}))),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((e=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})))}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[e,n,i]=Lae(t.text);this._semanticTokens.acceptEdit(t.range,e,n,i,t.text.length>0?t.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(e)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this.grammarTokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new $q("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this.grammarTokens.forceTokenization(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this.grammarTokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this.grammarTokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,n){return this.grammarTokens.getTokenTypeIfInsertingCharacter(e,t,n)}tokenizeLineWithEdit(e,t,n){return this.grammarTokens.tokenizeLineWithEdit(e,t,n)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const n=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),n=this._textModel.getLineContent(t.lineNumber),i=this.getLineTokens(t.lineNumber),o=i.findTokenIndexAtOffset(t.column-1),[r,s]=xue._findLanguageBoundaries(i,o),a=KK(t.column,this.getLanguageConfiguration(i.getLanguageId(o)).getWordDefinition(),n.substring(r,s),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(o>0&&r===t.column-1){const[r,s]=xue._findLanguageBoundaries(i,o-1),a=KK(t.column,this.getLanguageConfiguration(i.getLanguageId(o-1)).getWordDefinition(),n.substring(r,s),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let i=0;for(let r=t;r>=0&&e.getLanguageId(r)===n;r--)i=e.getStartOffset(r);let o=e.getLineContent().length;for(let r=t,s=e.getCount();r<s&&e.getLanguageId(r)===n;r++)o=e.getEndOffset(r);return[i,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const n=this._textModel.validatePosition(new bY(e,t)),i=this.getLineTokens(n.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(n.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const n={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(n),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}}class kue extends Yq{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,n,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=n,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new Xq),this._tokens=new wue(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new Xq),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new sG),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new sG),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new Qq),this._register(jY.onDidChange((e=>{const t=this.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&this.resetTokenization()}))),this.resetTokenization(),this._register(i.onDidChangeVisibleRanges((({view:e,state:t})=>{if(t){let n=this._attachedViewStates.get(e);n||(n=new Lue((()=>this.refreshRanges(n.lineRanges))),this._attachedViewStates.set(e,n)),n.handleStateChange(t)}else this._attachedViewStates.deleteAndDispose(e)})))}resetTokenization(e=!0){var t;this._tokens.flush(),null===(t=this._debugBackgroundTokens)||void 0===t||t.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new gue(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[n,i]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const e=jY.get(this.getLanguageId());if(!e)return[null,null];let t;try{t=e.getInitialState()}catch(fTe){return Rq(fTe),[null,null]}return[e,t]})();if(this._tokenizer=n&&i?new due(this._textModel.getLineCount(),n,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const e={setTokens:e=>{this.setTokens(e)},backgroundTokenizationFinished:()=>{if(2===this._backgroundTokenizationState)return;this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(e,t)=>{var n;if(!this._tokenizer)return;const i=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==i&&e>=i&&(null===(n=this._tokenizer)||void 0===n||n.store.setEndState(e,t))}};n&&n.createBackgroundTokenizer&&!n.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,e)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new vue(this._tokenizer,e),this._defaultBackgroundTokenizer.handleChanges()),(null==n?void 0:n.backgroundTokenizerShouldOnlyVerifyTokens)&&n.createBackgroundTokenizer?(this._debugBackgroundTokens=new wue(this._languageIdCodec),this._debugBackgroundStates=new gue(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,{setTokens:e=>{var t;null===(t=this._debugBackgroundTokens)||void 0===t||t.setMultilineTokens(e,this._textModel)},backgroundTokenizationFinished(){},setEndState:(e,t)=>{var n;null===(n=this._debugBackgroundStates)||void 0===n||n.setEndState(e,t)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;null===(e=this._defaultBackgroundTokenizer)||void 0===e||e.handleChanges()}handleDidChangeContent(e){var t,n,i;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const n of e.changes){const[e,i]=Lae(n.text);this._tokens.acceptEdit(n.range,e,i),null===(t=this._debugBackgroundTokens)||void 0===t||t.acceptEdit(n.range,e,i)}null===(n=this._debugBackgroundStates)||void 0===n||n.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),null===(i=this._defaultBackgroundTokenizer)||void 0===i||i.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=t6.joinMany([...this._attachedViewStates].map((([e,t])=>t.lineRanges)));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var n,i;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const o=new uue,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(o,e,t),s=this.setTokens(o.finalize());if(r)for(const a of s.changes)null===(n=this._backgroundTokenizer.value)||void 0===n||n.requestTokens(a.fromLineNumber,a.toLineNumber+1);null===(i=this._defaultBackgroundTokenizer)||void 0===i||i.checkFinished()}forceTokenization(e){var t,n;const i=new uue;null===(t=this._tokenizer)||void 0===t||t.updateTokensUntilLine(i,e),this.setTokens(i.finalize()),null===(n=this._defaultBackgroundTokenizer)||void 0===n||n.checkFinished()}isCheapToTokenize(e){return!this._tokenizer||this._tokenizer.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){var t;const n=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,n);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const o=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,n);!i.equals(o)&&(null===(t=this._debugBackgroundTokenizer.value)||void 0===t?void 0:t.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,n){if(!this._tokenizer)return 0;const i=this._textModel.validatePosition(new bY(e,t));return this.forceTokenization(i.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(i,n)}tokenizeLineWithEdit(e,t,n){if(!this._tokenizer)return null;const i=this._textModel.validatePosition(e);return this.forceTokenization(i.lineNumber),this._tokenizer.tokenizeLineWithEdit(i,t,n)}get hasTokens(){return this._tokens.hasTokens}}class Lue extends Yq{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new n4((()=>this.update()),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){pU(this._computedLineRanges,this._lineRanges,((e,t)=>e.equals(t)))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class Due{constructor(){this.changeType=1}}class Eue{static applyInjectedText(e,t){if(!t||0===t.length)return e;let n="",i=0;for(const o of t)n+=e.substring(i,o.column-1),i=o.column-1,n+=o.options.content;return n+=e.substring(i),n}static fromDecorations(e){const t=[];for(const n of e)n.options.before&&n.options.before.content.length>0&&t.push(new Eue(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new Eue(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}constructor(e,t,n,i,o){this.ownerId=e,this.lineNumber=t,this.column=n,this.options=i,this.order=o}}class Nue{constructor(e,t,n){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=n}}class Tue{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Iue{constructor(e,t,n,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}class Mue{constructor(){this.changeType=5}}class Rue{constructor(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.versionId,o=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new Rue(n,i,o,r)}}class Aue{constructor(e){this.changes=e}}class Oue{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Rue.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=Oue._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Oue(t,n)}static _mergeChangeEvents(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.eol,o=t.versionId,r=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing,a=e.isFlush||t.isFlush;return{changes:n,eol:i,isEolChange:e.isEolChange&&t.isEolChange,versionId:o,isUndoing:r,isRedoing:s,isFlush:a}}}const Pue=OQ("undoRedoService");class Fue{constructor(e,t){this.resource=e,this.elements=t}}class Bue{constructor(){this.id=Bue._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}Bue._ID=0,Bue.None=new Bue;class zue{constructor(){this.id=zue._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}zue._ID=0,zue.None=new zue;var Vue,Wue=function(e,t){return function(n,i){t(n,i,e)}};function Hue(e,t){let n;var i;return"string"==typeof e?n=function(e){const t=new aue;return t.acceptChunk(e),t.finish()}(e):n=(i=e)&&"function"==typeof i.read?function(e){const t=new aue;let n;for(;"string"==typeof(n=e.read());)t.acceptChunk(n);return t.finish()}(e):e,n.create(t)}let $ue=0;class jue{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,n=0;for(;;){const i=this._source.read();if(null===i)return this._eos=!0,0===t?null:e.join("");if(i.length>0&&(e[t++]=i,n+=i.length),n>=65536)return e.join("")}}}const Uue=()=>{throw new Error("Invalid change accessor")};let Kue=Vue=class extends Yq{static resolveOptions(e,t){if(t.detectIndentation){const n=dce(e,t.tabSize,t.insertSpaces);return new T3({tabSize:n.tabSize,indentSize:"tabSize",insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new T3(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}onDidChangeContentOrInjectedText(e){return Kq(this._eventEmitter.fastEvent((t=>e(t))),this._onDidChangeInjectedText.event((t=>e(t))))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,n,i=null,o,r,s){super(),this._undoRedoService=o,this._languageService=r,this._languageConfigurationService=s,this._onWillDispose=this._register(new sG),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new rhe((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new sG),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new sG),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new sG),this._eventEmitter=this._register(new she),this._languageSelectionListener=this._register(new Xq),this._deltaDecorationCallCnt=0,this._attachedViews=new ahe,$ue++,this.id="$model"+$ue,this.isForSimpleWidget=n.isForSimpleWidget,this._associatedResource=null==i?aY.parse("inmemory://model/"+$ue):i,this._attachedEditorCount=0;const{textBuffer:a,disposable:l}=Hue(e,n.defaultEOL);this._buffer=a,this._bufferDisposable=l,this._options=Vue.resolveOptions(this._buffer,n);const c="string"==typeof t?t:t.languageId;"string"!=typeof t&&(this._languageSelectionListener.value=t.onDidChange((()=>this._setLanguage(t.languageId)))),this._bracketPairs=this._register(new Rle(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new mse(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Fle(this)),this._tokenizationTextModelPart=new xue(this._languageService,this._languageConfigurationService,this,this._bracketPairs,c,this._attachedViews);const u=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new _Y(1,1,u,this._buffer.getLineLength(u)+1),0);n.largeFileOptimizations?(this._isTooLargeForTokenization=h>Vue.LARGE_FILE_SIZE_THRESHOLD||u>Vue.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=h>Vue.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=h>Vue._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=eQ($ue),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Yue,this._commandManager=new cce(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))),this._languageService.requestRichLanguageFeatures(c)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new rue([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=Yq.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Oue(e,t)))}setValue(e){if(this._assertNotDisposed(),null==e)throw zq();const{textBuffer:t,disposable:n}=Hue(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,i,o,r,s,a){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),isEolChange:a,versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Yue,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Rue([new Due],this._versionId,!1,!1),this._createContentChanged2(new _Y(1,1,o,r),0,i,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Rue([new Mue],this._versionId,!1,!1),this._createContentChanged2(new _Y(1,1,o,r),0,i,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let n=0,i=t.length;n<i;n++){const i=t[n],o=i.range,r=i.cachedAbsoluteStart-i.start,s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);i.cachedAbsoluteStart=s,i.cachedAbsoluteEnd=a,i.cachedVersionId=e,i.start=s-r,i.end=a-r,Ace(i)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const n=this._buffer.getLineCount();for(let i=1;i<=n;i++){const n=this._buffer.getLineLength(i);n>=1e4?t+=n:e+=n}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.indentSize?e.indentSize:this._options.originalIndentSize,i=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,s=new T3({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:r});if(this._options.equals(s))return;const a=this._options.createChangeEvent(s);this._options=s,this._bracketPairs.handleDidChangeOptions(a),this._decorationProvider.handleDidChangeOptions(a),this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();const n=dce(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),Koe(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(GZ.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new $q("Operation would exceed heap memory limits");const n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i}createSnapshot(e=!1){return new jue(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $q("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $q("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new $q("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $q("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $q("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $q("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),n=e.startLineNumber,i=e.startColumn;let o=Math.floor("number"!=typeof n||isNaN(n)?1:n),r=Math.floor("number"!=typeof i||isNaN(i)?1:i);if(o<1)o=1,r=1;else if(o>t)o=t,r=this.getLineMaxColumn(o);else if(r<=1)r=1;else{const e=this.getLineMaxColumn(o);r>=e&&(r=e)}const s=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof s||isNaN(s)?1:s),c=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,c=1;else if(l>t)l=t,c=this.getLineMaxColumn(l);else if(c<=1)c=1;else{const e=this.getLineMaxColumn(l);c>=e&&(c=e)}return n===o&&i===r&&s===l&&a===c&&e instanceof _Y&&!(e instanceof yY)?e:new _Y(o,r,l,c)}_isValidPosition(e,t,n){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===n){if(PZ(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,n){const i=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(i<1)return new bY(1,1);if(i>r)return new bY(r,this.getLineMaxColumn(r));if(o<=1)return new bY(i,1);const s=this.getLineMaxColumn(i);if(o>=s)return new bY(i,s);if(1===n){if(PZ(this._buffer.getLineCharCode(i,o-2)))return new bY(i,o-1)}return new bY(i,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof bY&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(n,i,0))return!1;if(!this._isValidPosition(o,r,0))return!1;if(1===t){const e=i>1?this._buffer.getLineCharCode(n,i-2):0,t=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,s=PZ(e),a=PZ(t);return!s&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof _Y&&!(e instanceof yY)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),i=t.lineNumber,o=t.column,r=n.lineNumber,s=n.column;{const e=o>1?this._buffer.getLineCharCode(i,o-2):0,t=s>1&&s<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,s-2):0,n=PZ(e),a=PZ(t);return n||a?i===r&&o===s?new _Y(i,o-1,r,s-1):n&&a?new _Y(i,o-1,r,s+1):n?new _Y(i,o-1,r,s):new _Y(i,o,r,s+1):new _Y(i,o,r,s)}}modifyPosition(e,t){this._assertNotDisposed();const n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new _Y(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)}findMatches(e,t,n,i,o,r,s=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>_Y.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let c;if(l.push(a.reduce(((e,t)=>_Y.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!n&&e.indexOf("\n")<0){const t=new P3(e,n,i,o).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,r,s)}else c=t=>z3.findMatches(this,new P3(e,n,i,o),t,r,s);return l.map(c).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,n,i,o,r){this._assertNotDisposed();const s=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){const t=new P3(e,n,i,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new _Y(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,r,1);return z3.findNextMatch(this,new P3(e,n,i,o),s,r),c.length>0?c[0]:(l=new _Y(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),c=this.findMatchesLineByLine(l,t,r,1),c.length>0?c[0]:null)}return z3.findNextMatch(this,new P3(e,n,i,o),s,r)}findPreviousMatch(e,t,n,i,o,r){this._assertNotDisposed();const s=this.validatePosition(t);return z3.findPreviousMatch(this,new P3(e,n,i,o),s,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof M3?e:new M3(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this._validateEditOperation(e[n]);return t}pushEditOperations(e,t,n,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),n,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const n=t.map((e=>({range:this.validateRange(e.range),text:e.text})));let i=!0;if(e)for(let t=0,o=e.length;t<o;t++){const o=e[t];let r=!1;for(let e=0,t=n.length;e<t;e++){const t=n[e].range,i=t.startLineNumber>o.endLineNumber,s=o.startLineNumber>t.endLineNumber;if(!i&&!s){r=!0;break}}if(!r){i=!1;break}}if(i)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){const i=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(i);let r=!0;for(let e=0,t=n.length;e<t;e++){const t=n[e].range,s=n[e].text;if(!(i<t.startLineNumber||i>t.endLineNumber)&&!(i===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||i===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){r=!1;break}}if(r){const e=new _Y(i,1,i,o);t.push(new M3(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,n,i)}_applyUndo(e,t,n,i){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),n=this.getPositionAt(e.newEnd);return{range:new _Y(t.lineNumber,t.column,n.lineNumber,n.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,n,i)}_applyRedo(e,t,n,i){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),n=this.getPositionAt(e.oldEnd);return{range:new _Y(t.lineNumber,t.column,n.lineNumber,n.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,n,i)}_applyUndoRedoEdits(e,t,n,i,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=i,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount(),i=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),r=i.changes;if(this._trimAutoWhitespaceLines=i.trimAutoWhitespaceLineNumbers,0!==r.length){for(let n=0,i=r.length;n<i;n++){const e=r[n];this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}const e=[];this._increaseVersionId();let t=n;for(let n=0,i=r.length;n<i;n++){const i=r[n],[s]=Lae(i.text);this._onDidChangeDecorations.fire();const a=i.range.startLineNumber,l=i.range.endLineNumber,c=l-a,u=s,h=Math.min(c,u),d=u-c,g=o-t-d+a,f=g,p=g+u,m=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new bY(f,1)),this.getOffsetAt(new bY(p,this.getLineMaxColumn(p))),0),v=Eue.fromDecorations(m),b=new AU(v);for(let t=h;t>=0;t--){const n=a+t,i=g+t;b.takeFromEndWhile((e=>e.lineNumber>i));const o=b.takeFromEndWhile((e=>e.lineNumber===i));e.push(new Nue(n,this.getLineContent(i),o))}if(h<c){const t=a+h;e.push(new Tue(t+1,l))}if(h<u){const n=new AU(v),i=a+h,r=u-h,s=o-t-r+i+1,l=[],c=[];for(let e=0;e<r;e++){const t=s+e;c[e]=this.getLineContent(t),n.takeWhile((e=>e.lineNumber<t)),l[e]=n.takeWhile((e=>e.lineNumber===t))}e.push(new Iue(i+1,a+u,c,l))}t+=d}this._emitContentChangedEvent(new Rue(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===i.reverseEdits?void 0:i.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=Array.from(e).map((e=>new Nue(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeInjectedText.fire(new Aue(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const n={addDecoration:(t,n)=>this._deltaDecorationsImpl(e,[],[{range:t,options:n}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,ohe(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,n)=>0===t.length&&0===n.length?[]:this._deltaDecorationsImpl(e,t,n)};let i=null;try{i=t(n)}catch(fTe){Rq(fTe)}return n.addDecoration=Uue,n.changeDecoration=Uue,n.changeDecorationOptions=Uue,n.removeDecoration=Uue,n.deltaDecorations=Uue,i}deltaDecorations(e,t,n=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Rq(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:ihe[n]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,s,o),i.setOptions(ihe[n]),this._decorationsTree.insert(i),i.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,n=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,i=!1,o=!1){const r=this.getLineCount(),s=Math.min(r,Math.max(1,e)),a=Math.min(r,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new _Y(s,1,a,l),u=this._getDecorationsInRange(c,n,i,o);return kU(u,this._decorationProvider.getDecorationsInRange(c,n,i)),u}getDecorationsInRange(e,t=0,n=!1,i=!1,o=!1){const r=this.validateRange(e),s=this._getDecorationsInRange(r,t,n,o);return kU(s,this._decorationProvider.getDecorationsInRange(r,t,n,i)),s}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),n=t+this._buffer.getLineLength(e),i=this._decorationsTree.getInjectedTextInInterval(this,t,n,0);return Eue.fromDecorations(i).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let n=this._decorationsTree.getAll(this,e,t,!1,!1);return n=n.concat(this._decorationProvider.getAllDecorations(e,t)),n}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,n,i){const o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,o,r,t,n,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n)return;if(n.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(n.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const i=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),r=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,r,i),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options),n.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.endLineNumber),n.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.startLineNumber)}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n)return;const i=!(!n.options.overviewRuler||!n.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(n.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}i!==o?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}_deltaDecorationsImpl(e,t,n,i=!1){const o=this.getVersionId(),r=t.length;let s=0;const a=n.length;let l=0;this._onDidChangeDecorations.beginDeferredEmit();try{const c=new Array(a);for(;s<r||l<a;){let u=null;if(s<r){do{u=this._decorations[t[s++]]}while(!u&&s<r);if(u){if(u.options.after){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(u.options.before){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(u),i||this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(l<a){if(!u){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;u=new Sce(t,0,0),this._decorations[t]=u}const t=n[l],r=this._validateRangeRelaxedNoAllocations(t.range),s=ohe(t.options),a=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),h=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);u.ownerId=e,u.reset(o,a,h,r),u.setOptions(s),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber),i||this._onDidChangeDecorations.checkAffectedAndFire(s),this._decorationsTree.insert(u),c[l]=u.id,l++}else u&&delete this._decorations[u.id]}return c}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){"string"==typeof e?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange((()=>this._setLanguage(e.languageId,t))),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const n of e){if(" "!==n&&"\t"!==n)break;t++}return t}(this.getLineContent(e))+1}};function que(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function Gue(e){return!!e.options.after||!!e.options.before}Kue._MODEL_SYNC_LIMIT=52428800,Kue.LARGE_FILE_SIZE_THRESHOLD=20971520,Kue.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Kue.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456,Kue.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:BK.tabSize,indentSize:BK.indentSize,insertSpaces:BK.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:BK.trimAutoWhitespace,largeFileOptimizations:BK.largeFileOptimizations,bracketPairColorizationOptions:BK.bracketPairColorizationOptions},Kue=Vue=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Wue(4,Pue),Wue(5,g5),Wue(6,z5)],Kue);class Yue{constructor(){this._decorationsTree0=new kce,this._decorationsTree1=new kce,this._injectedTextDecorationsTree=new kce}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const n of t)null===n.range&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,i,o,r){const s=e.getVersionId(),a=this._intervalSearch(t,n,i,o,s,r);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,n,i,o,r){const s=this._decorationsTree0.intervalSearch(e,t,n,i,o,r),a=this._decorationsTree1.intervalSearch(e,t,n,i,o,r),l=this._injectedTextDecorationsTree.intervalSearch(e,t,n,i,o,r);return s.concat(a).concat(l)}getInjectedTextInInterval(e,t,n,i){const o=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,n,i,!1,o,!1);return this._ensureNodesHaveRanges(e,r).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const n=e.getVersionId(),i=this._injectedTextDecorationsTree.search(t,!1,n,!1);return this._ensureNodesHaveRanges(e,i).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,n,i,o){const r=e.getVersionId(),s=this._search(t,n,i,r,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,n,i,o){if(n)return this._decorationsTree1.search(e,t,i,o);{const n=this._decorationsTree0.search(e,t,i,o),r=this._decorationsTree1.search(e,t,i,o),s=this._injectedTextDecorationsTree.search(e,t,i,o);return n.concat(r).concat(s)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),i=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(i)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){Gue(e)?this._injectedTextDecorationsTree.insert(e):que(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Gue(e)?this._injectedTextDecorationsTree.delete(e):que(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Gue(e)?this._injectedTextDecorationsTree.resolveNode(e,t):que(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i),this._injectedTextDecorationsTree.acceptReplace(e,t,n,i)}}function Xue(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Zue{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Que extends Zue{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:L3.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;const n=e?t.getColor(e.id):null;return n?n.toString():""}}class Jue{constructor(e){var t;this.position=null!==(t=null==e?void 0:e.position)&&void 0!==t?t:D3.Left}}class ehe extends Zue{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?n9.fromHex(e):t.getColor(e.id)}}class the{static from(e){return e instanceof the?e:new the(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class nhe{static register(e){return new nhe(e)}static createDynamic(e){return new nhe(e)}constructor(e){var t,n,i,o,r,s;this.description=e.description,this.blockClassName=e.blockClassName?Xue(e.blockClassName):null,this.blockDoesNotCollapse=null!==(t=e.blockDoesNotCollapse)&&void 0!==t?t:null,this.blockIsAfterEnd=null!==(n=e.blockIsAfterEnd)&&void 0!==n?n:null,this.blockPadding=null!==(i=e.blockPadding)&&void 0!==i?i:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Xue(e.className):null,this.shouldFillLineOnLineBreak=null!==(o=e.shouldFillLineOnLineBreak)&&void 0!==o?o:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Que(e.overviewRuler):null,this.minimap=e.minimap?new ehe(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new Jue(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Xue(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Xue(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Xue(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Xue(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Xue(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Xue(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Xue(e.afterContentClassName):null,this.after=e.after?the.from(e.after):null,this.before=e.before?the.from(e.before):null,this.hideInCommentTokens=null!==(r=e.hideInCommentTokens)&&void 0!==r&&r,this.hideInStringTokens=null!==(s=e.hideInStringTokens)&&void 0!==s&&s}}nhe.EMPTY=nhe.register({description:"empty"});const ihe=[nhe.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),nhe.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),nhe.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),nhe.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ohe(e){return e instanceof nhe?e:nhe.createDynamic(e)}class rhe extends Yq{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new sG),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class she extends Yq{constructor(){super(),this._fastEmitter=this._register(new sG),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new sG),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}class ahe{constructor(){this._onDidChangeVisibleRanges=new sG,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new lhe((t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})}));return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class lhe{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const n=e.map((e=>new t6(e.startLineNumber,e.endLineNumber+1)));this.handleStateChange({visibleLineRanges:n,stabilized:t})}}class che{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ere(new _Y(1,1,1,1),0,0,new bY(1,1),0),new ere(new _Y(1,1,1,1),0,0,new bY(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Zoe(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?yY.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):yY.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}static _validatePositionWithCache(e,t,n,i){return t.equals(n)?i:e.normalizePosition(t,2)}static _validateViewState(e,t){const n=t.position,i=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),r=e.normalizePosition(n,2),s=this._validatePositionWithCache(e,i,n,r),a=this._validatePositionWithCache(e,o,i,s);return n.equals(r)&&i.equals(s)&&o.equals(a)?t:new ere(_Y.fromPositions(s,a),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+i.column-s.column,r,t.leftoverVisibleColumns+n.column-r.column)}_setState(e,t,n){if(n&&(n=che._validateViewState(e.viewModel,n)),t){const n=e.model.validateRange(t.selectionStart),i=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),r=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new ere(n,t.selectionStartKind,i,o,r)}else{if(!n)return;const i=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new ere(i,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,o,n.leftoverVisibleColumns)}if(n){const i=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new ere(i,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const i=e.coordinatesConverter.convertModelPositionToViewPosition(new bY(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new bY(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new _Y(i.lineNumber,i.column,o.lineNumber,o.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new ere(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}class uhe{constructor(e){this.context=e,this.cursors=[new che(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((e=>e.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((e=>e.asCursorState()))}getViewPositions(){return this.cursors.map((e=>e.viewState.position))}getTopMostViewPosition(){return(e=this.cursors,t=TU((e=>e.viewState.position),bY.compare),function(e,t){if(0===e.length)return;let n=e[0];for(let i=1;i<e.length;i++){const o=e[i];t(o,n)>0&&(n=o)}return n}(e,((e,n)=>-t(e,n)))).viewState.position;var e,t}getBottomMostViewPosition(){return function(e,t){if(0===e.length)return;let n=e[0];for(let i=1;i<e.length;i++){const o=e[i];t(o,n)>=0&&(n=o)}return n}(this.cursors,TU((e=>e.viewState.position),bY.compare)).viewState.position}getSelections(){return this.cursors.map((e=>e.modelState.selection))}getViewSelections(){return this.cursors.map((e=>e.viewState.selection))}setSelections(e){this.setStates(Zoe.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,n=e.length;if(t<n){const e=n-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>n){const e=t-n;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let i=0;i<n;i++)this.cursors[i+1].setState(this.context,e[i].modelState,e[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new che(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort(TU((e=>e.selection),_Y.compareRangesUsingStarts));for(let n=0;n<t.length-1;n++){const i=t[n],o=t[n+1],r=i.selection,s=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=s.isEmpty()||r.isEmpty()?s.getStartPosition().isBeforeOrEqual(r.getEndPosition()):s.getStartPosition().isBefore(r.getEndPosition()),a){const r=i.index<o.index?n:n+1,s=i.index<o.index?n+1:n,a=t[s].index,l=t[r].index,c=t[s].selection,u=t[r].selection;if(!c.equalsSelection(u)){const n=c.plusRange(u),i=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,o=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn;let s,h;a===this.lastAddedCursorIndex?(s=i,this.lastAddedCursorIndex=l):s=o,h=s?new yY(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new yY(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn),t[r].selection=h;const d=Zoe.fromModelSelection(h);e[l].setState(this.context,d.modelState,d.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),n--}}}}class hhe{constructor(e,t,n,i){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=n,this.cursorConfig=i}}class dhe{constructor(){this.type=0}}class ghe{constructor(){this.type=1}}class fhe{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class phe{constructor(e,t,n){this.selections=e,this.modelSelections=t,this.reason=n,this.type=3}}class mhe{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class vhe{constructor(){this.type=5}}class bhe{constructor(e){this.type=6,this.isFocused=e}}class _he{constructor(){this.type=7}}class yhe{constructor(){this.type=8}}class whe{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class Che{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class She{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class xhe{constructor(e,t,n,i,o,r,s){this.source=e,this.minimalReveal=t,this.range=n,this.selections=i,this.verticalType=o,this.revealHorizontal=r,this.scrollType=s,this.type=12}}class khe{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Lhe{constructor(e){this.theme=e,this.type=14}}class Dhe{constructor(e){this.type=15,this.ranges=e}}class Ehe{constructor(){this.type=16}}let Nhe=class{constructor(){this.type=17}};class The extends Yq{constructor(){super(),this._onEvent=this._register(new sG),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++){const n=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(n)return void(this._outgoingEvents[t]=n)}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Ihe),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class Ihe{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Mhe{constructor(e,t,n,i){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Mhe(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Rhe{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new Rhe(this.oldHasFocus,e.hasFocus)}}class Ahe{constructor(e,t,n,i,o,r,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(e){return e.kind!==this.kind?null:new Ahe(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Ohe{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Phe{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Fhe{constructor(e,t,n,i,o,r,s){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=i,this.source=o,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0}isNoOp(){return Fhe._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Fhe(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Bhe{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class zhe{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Vhe{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Whe{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class Hhe{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class $he{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class jhe{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class Uhe extends Yq{constructor(e,t,n,i){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new hhe(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors=new uhe(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Uq(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new hhe(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,i){let o=!1;const r=this.context.cursorConfig.multiCursorLimit;null!==i&&i.length>r&&(i=i.slice(0,r),o=!0);const s=Khe.from(this._model,this);return this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,n,i,o,r){const s=this._cursors.getViewPositions();let a=null,l=null;s.length>1?l=this._cursors.getViewSelections():a=_Y.fromPositions(s[0],s[0]),e.emitViewEvent(new xhe(t,n,a,l,i,o,r))}saveState(){const e=[],t=this._cursors.getSelections();for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}restoreState(e,t){const n=[];for(let i=0,o=t.length;i<o;i++){const e=t[i];let o=1,r=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(r=e.position.column);let s=o,a=r;e.selectionStart&&e.selectionStart.lineNumber&&(s=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),n.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:o,positionColumn:r})}this.setStates(e,"restoreState",0,Zoe.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof Aue){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const n=t.rawContentChangedEvent;if(this._knownModelVersionId=n.versionId,this._isHandling)return;const i=n.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new uhe(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){const t=Zoe.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,t)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Zoe.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,i){this.setStates(e,t,i,Zoe.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const n=[],i=[];for(let s=0,a=e.length;s<a;s++)n.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],n),r=this._model.deltaDecorations([],i);this._autoClosedActions.push(new qhe(this._model,o,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=Ghe.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const n=[],i=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof xre&&o.enclosingRange&&o.closeCharacterRange&&(n.push(o.closeCharacterRange),i.push(o.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,i,o){const r=Khe.from(this._model,this);if(r.equals(i))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new phe(a,s,n)),!i||i.cursorState.length!==r.cursorState.length||r.cursorState.some(((e,t)=>!e.modelState.equals(i.cursorState[t].modelState)))){const a=i?i.cursorState.map((e=>e.modelState.selection)):null,l=i?i.modelVersionId:0;e.emitOutgoingEvent(new Fhe(a,s,l,r.modelVersionId,t||"keyboard",n,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;const o=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const r=o[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(r);if(!s||1!==s.length)return null;const a=s[0].open,l=i.text.length-o[2].length-1,c=i.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,n,i){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(n)),o&&(n[0]._isTracked=!0);const r=[],s=[],a=this._model.pushEditOperations(this.getSelections(),n,(e=>{if(o)for(let n=0,i=o.length;n<i;n++){const[t,i]=o[n],a=e[n],l=a.range.startLineNumber,c=a.range.startColumn-1+t,u=a.range.startColumn-1+i;r.push(new _Y(l,u+1,l,u+2)),s.push(new _Y(l,c+1,l,u+2))}const t=i(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),r.length>0&&this._pushAutoClosedAction(r,s)}_executeEdit(e,t,n,i=0){if(this.context.cursorConfig.readOnly)return;const o=Khe.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){Rq(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,i,o,!1)&&this.revealPrimary(t,n,!1,0,!0,0)}getAutoClosedCharacters(){return qhe.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Xhe(this._model,this.getSelections())}endComposition(e,t){const n=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((()=>{"keyboard"===t&&this._executeEditOperation(Sre.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,n,this.getSelections(),this.getAutoClosedCharacters()))}),e,t)}type(e,t,n){this._executeEdit((()=>{if("keyboard"===n){const e=t.length;let n=0;for(;n<e;){const e=HZ(t,n),i=t.substr(n,e);this._executeEditOperation(Sre.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),i)),n+=e}}else this._executeEditOperation(Sre.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,n)}compositionType(e,t,n,i,o,r){if(0!==t.length||0!==n||0!==i)this._executeEdit((()=>{this._executeEditOperation(Sre.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,i,o))}),e,r);else if(0!==o){const t=this.getSelections().map((e=>{const t=e.getPosition();return new yY(t.lineNumber,t.column+o,t.lineNumber,t.column+o)}));this.setSelections(e,r,t,0)}}paste(e,t,n,i,o){this._executeEdit((()=>{this._executeEditOperation(Sre.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,i||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(ure.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,n){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new tre(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}executeCommands(e,t,n){this._executeEdit((()=>{this._executeEditOperation(new tre(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}class Khe{static from(e,t){return new Khe(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class qhe{static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){const t=[];for(let n=0;n<this._autoClosedEnclosingDecorations.length;n++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(_Y.compareRangesUsingStarts),e.sort(_Y.compareRangesUsingStarts);for(let n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0}}class Ghe{static executeCommands(e,t,n){const i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(i,n);for(let r=0,s=i.trackedRanges.length;r<s;r++)i.model._setTrackedRange(i.trackedRanges[r],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const i=n.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const r=[];for(let l=0,c=i.length;l<c;l++)o.hasOwnProperty(i[l].identifier.major.toString())||r.push(i[l]);n.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,r,(n=>{const i=[];for(let t=0;t<e.selectionsBefore.length;t++)i[t]=[];for(const e of n)e.identifier&&i[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor,r=[];for(let s=0;s<e.selectionsBefore.length;s++)i[s].length>0?(i[s].sort(o),r[s]=t[s].computeCursorState(e.model,{getInverseEditOperations:()=>i[s],getTrackedSelection:t=>{const n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new yY(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new yY(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):r[s]=e.selectionsBefore[s];return r}));s||(s=e.selectionsBefore);const a=[];for(const l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)s.splice(l,1);return s}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],i=!1;for(let o=0,r=t.length;o<r;o++){const r=t[o];if(r){const t=this._getEditOperationsFromCommand(e,o,r);n=n.concat(t.operations),i=i||t.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}}static _getEditOperationsFromCommand(e,t,n){const i=[];let o=0;const r=(e,r,s=!1)=>{_Y.isEmpty(e)&&""===r||i.push({identifier:{major:t,minor:o++},range:e,text:r,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let s=!1;const a={addEditOperation:r,addTrackedEditOperation:(e,t,n)=>{s=!0,r(e,t,n)},trackSelection:(t,n)=>{const i=yY.liftSelection(t);let o;if(i.isEmpty())if("boolean"==typeof n)o=n?2:3;else{const t=e.model.getLineMaxColumn(i.startLineNumber);o=i.startColumn===t?2:3}else o=1;const r=e.trackedRanges.length,s=e.model._setTrackedRange(null,i,o);return e.trackedRanges[r]=s,e.trackedRangesDirection[r]=i.getDirection(),r.toString()}};try{n.getEditOperations(e.model,a)}catch(fTe){return Rq(fTe),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-_Y.compareRangesUsingEnds(e.range,t.range)));const t={};for(let n=1;n<e.length;n++){const i=e[n-1],o=e[n];if(_Y.getStartPosition(i.range).isBefore(_Y.getEndPosition(o.range))){let r;r=i.identifier.major>o.identifier.major?i.identifier.major:o.identifier.major,t[r.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===r&&(e.splice(t,1),t<n&&n--,t--);n>0&&n--}}return t}}class Yhe{constructor(e,t,n){this.text=e,this.startSelection=t,this.endSelection=n}}class Xhe{static _capture(e,t){const n=[];for(const i of t){if(i.startLineNumber!==i.endLineNumber)return null;n.push(new Yhe(e.getLineContent(i.startLineNumber),i.startColumn-1,i.endColumn-1))}return n}constructor(e,t){this._original=Xhe._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const n=Xhe._capture(e,t);if(!n)return null;if(this._original.length!==n.length)return null;const i=[];for(let o=0,r=this._original.length;o<r;o++)i.push(Xhe._deduceOutcome(this._original[o],n[o]));return i}static _deduceOutcome(e,t){const n=Math.min(e.startSelection,t.startSelection,AZ(e.text,t.text)),i=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,OZ(e.text,t.text)),o=e.text.substring(n,e.text.length-i),r=t.text.substring(n,t.text.length-i);return new kre(o,e.startSelection-n,e.endSelection-n,r,t.startSelection-n,t.endSelection-n)}}function Zhe(e,t,n,i,o,r,s){let a="<div>",l=i,c=0,u=!0;for(let h=0,d=t.getCount();h<d;h++){const d=t.getEndOffset(h);if(d<=i)continue;let g="";for(;l<d&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:{let e=r-(l+c)%r;for(c+=e-1;e>0;)s&&u?(g+="&#160;",u=!1):(g+=" ",u=!0),e--;break}case 60:g+="&lt;",u=!1;break;case 62:g+="&gt;",u=!1;break;case 38:g+="&amp;",u=!1;break;case 0:g+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:g+="�",u=!1;break;case 13:g+="&#8203",u=!1;break;case 32:s&&u?(g+="&#160;",u=!1):(g+=" ",u=!0);break;default:g+=String.fromCharCode(t),u=!1}}if(a+=`<span style="${t.getInlineStyle(h,n)}">${g}</span>`,d>o||l>=o)break}return a+="</div>",a}class Qhe{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}}class Jhe{constructor(e,t,n,i,o){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=i,this.minWidth=o,this.prefixSum=0}}let ede=class e{constructor(t,n,i,o){this._instanceId=eQ(++e.INSTANCE_COUNT),this._pendingChanges=new Qhe,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=n,this._paddingTop=i,this._paddingBottom=o}static findInsertionIndex(e,t,n){let i=0,o=e.length;for(;i<o;){const r=i+o>>>1;t===e[r].afterLineNumber?n<e[r].ordinal?o=r:i=r+1:t<e[r].afterLineNumber?o=r:i=r+1}return i}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,n,i,o)=>{t=!0,e|=0,n|=0,i|=0,o|=0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Jhe(r,e,n,i,o)),r},changeOneWhitespace:(e,n,i)=>{t=!0,n|=0,i|=0,this._pendingChanges.change({id:e,newAfterLineNumber:n,newHeight:i})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of n){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const i=new Set;for(const a of n)i.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const r=e=>{const t=[];for(const n of e)if(!i.has(n.id)){if(o.has(n.id)){const e=o.get(n.id);n.afterLineNumber=e.newAfterLineNumber,n.height=e.newHeight}t.push(n)}return t},s=r(this._arr).concat(r(e));s.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=s,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const n=e.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(n,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}_findWhitespaceIndex(e){const t=this._arr;for(let n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1}_changeOneWhitespace(e,t,n){const i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){const e=this._arr[i];this._removeWhitespace(i),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){const i=this._arr[n].afterLineNumber;e<=i&&i<=t?this._arr[n].afterLineNumber=e-1:i>t&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){e<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let n=0,i=t.length-1;for(;n<=i;){const o=n+((i-n|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;n=o+1|0}else i=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){let n;this._checkPendingChanges(),n=(e|=0)>1?this._lineHeight*(e-1):0;return n+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e|=0;return this._lineHeight*e+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,n=this._lineHeight;let i=1,o=t;for(;i<o;){const t=(i+o)/2|0,r=0|this.getVerticalOffsetForLineNumber(t);if(e>=r+n)i=t+1;else{if(e>=r)return t;o=t}}return i>t?t:i}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this._lineHeight,i=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(i);let r=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(i);const a=0|this.getWhitespacesCount();let l,c;-1===s?(s=a,c=r+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));let u=o,h=u;const d=5e5;let g=0;o>=d&&(g=Math.floor(o/d)*d,g=Math.floor(g/n)*n,h-=g);const f=[],p=e+(t-e)/2;let m=-1;for(let y=i;y<=r;y++){if(-1===m){(u<=p&&p<u+n||u>p)&&(m=y)}for(u+=n,f[y-i]=h,h+=n;c===y;)h+=l,u+=l,s++,s>=a?c=r+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(u>=t){r=y;break}}-1===m&&(m=r);const v=0|this.getVerticalOffsetForLineNumber(r);let b=i,_=r;return b<_&&o<e&&b++,b<_&&v+n>t&&_--,{bigNumbersDelta:g,startLineNumber:i,endLineNumber:r,relativeVerticalOffset:f,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let n,i;return n=t>=1?this._lineHeight*t:0,i=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,n+i+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;t<n;){const i=Math.floor((t+n)/2),o=this.getVerticalOffsetForWhitespaceIndex(i);if(e>=o+this.getHeightForWhitespaceIndex(i))t=i+1;else{if(e>=o)return i;n=i}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;const i=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];const o=[];for(let r=n;r<=i;r++){const e=this.getVerticalOffsetForWhitespaceIndex(r),n=this.getHeightForWhitespaceIndex(r);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:e,height:n})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}};ede.INSTANCE_COUNT=0;class tde{constructor(e,t,n,i){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(n|=0)<0&&(n=0),(i|=0)<0&&(i=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class nde extends Yq{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new sG),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new tde(0,0,0,0),this._scrollable=this._register(new lie({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new Mhe(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class ide extends Yq{constructor(e,t,n){super(),this._configuration=e;const i=this._configuration.options,o=i.get(143),r=i.get(83);this._linesLayout=new ede(t,i.get(66),r.top,r.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new nde(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new tde(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(66)&&this._linesLayout.setLineHeight(t.get(66)),e.hasChanged(83)){const e=t.get(83);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(143)){const e=t.get(143),n=e.contentWidth,i=e.height,o=this._scrollable.getScrollDimensions(),r=o.contentWidth;this._scrollable.setScrollDimensions(new tde(n,o.contentWidth,i,this._getContentHeight(n,i,r)))}else this._updateHeight();e.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options.get(102);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,n){const i=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return i.get(104)?o+=Math.max(0,t-i.get(66)-i.get(83).bottom):o+=this._getHorizontalScrollbarHeight(e,n),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.contentWidth;this._scrollable.setScrollDimensions(new tde(t,e.contentWidth,n,this._getContentHeight(t,n,i)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new e7(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new e7(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,n=e.get(144),i=e.get(50),o=e.get(143);if(n.isViewportWrapping){const n=e.get(72);return t>o.contentWidth+i.typicalHalfwidthCharacterWidth&&n.enabled&&"right"===n.side?t+o.verticalScrollbarWidth:t}{const n=e.get(103)*i.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+n+o.verticalScrollbarWidth,r,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new tde(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}class ode{constructor(e,t,n,i,o){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const i=e.range,o=e.options;let r;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new bY(i.startLineNumber,1),0,!1,!0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new bY(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);r=new _Y(e.lineNumber,e.column,t.lineNumber,t.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(i,1);n=new s7(r,o),this._decorationsCache[t]=n}return n}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,n=!1){const i=new _Y(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(i,t,n).inlineDecorations[0]}_getDecorationsInRange(e,t,n){const i=this._linesCollection.getDecorationsInRange(e,this.editorId,vq(this.configuration.options),t,n),o=e.startLineNumber,r=e.endLineNumber,s=[];let a=0;const l=[];for(let c=o;c<=r;c++)l[c-o]=[];for(let c=0,u=i.length;c<u;c++){const e=i[c],t=e.options;if(!rde(this.model,e))continue;const n=this._getOrCreateViewModelDecoration(e),u=n.range;if(s[a++]=n,t.inlineClassName){const e=new o7(u,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing?3:0),n=Math.max(o,u.startLineNumber),i=Math.min(r,u.endLineNumber);for(let t=n;t<=i;t++)l[t-o].push(e)}if(t.beforeContentClassName&&o<=u.startLineNumber&&u.startLineNumber<=r){const e=new o7(new _Y(u.startLineNumber,u.startColumn,u.startLineNumber,u.startColumn),t.beforeContentClassName,1);l[u.startLineNumber-o].push(e)}if(t.afterContentClassName&&o<=u.endLineNumber&&u.endLineNumber<=r){const e=new o7(new _Y(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn),t.afterContentClassName,2);l[u.endLineNumber-o].push(e)}}return{decorations:s,inlineDecorations:l}}}function rde(e,t){return(!t.options.hideInCommentTokens||!function(e,t){return sde(e,t.range,(e=>1===e))}(e,t))&&(!t.options.hideInStringTokens||!function(e,t){return sde(e,t.range,(e=>2===e))}(e,t))}function sde(e,t,n){for(let i=t.startLineNumber;i<=t.endLineNumber;i++){const o=e.tokenization.getLineTokens(i),r=i===t.startLineNumber,s=i===t.endLineNumber;let a=r?o.findTokenIndexAtOffset(t.startColumn-1):0;for(;a<o.getCount();){if(s){if(o.getStartOffset(a)>t.endColumn-1)break}if(!n(o.getStandardTokenType(a)))return!1;a++}}return!0}function ade(e,t){return null===e?t?cde.INSTANCE:ude.INSTANCE:new lde(e,t)}class lde{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,n){this._assertVisible();const i=n>0?this._projectionData.breakOffsets[n-1]:0,o=this._projectionData.breakOffsets[n];let r;if(null!==this._projectionData.injectionOffsets){const n=this._projectionData.injectionOffsets.map(((e,t)=>new Eue(0,0,e+1,this._projectionData.injectionOptions[t],0)));r=Eue.applyInjectedText(e.getLineContent(t),n).substring(i,o)}else r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return n>0&&(r=dde(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,n){return this._assertVisible(),this._projectionData.getLineLength(n)}getViewLineMinColumn(e,t,n){return this._assertVisible(),this._projectionData.getMinOutputOffset(n)+1}getViewLineMaxColumn(e,t,n){return this._assertVisible(),this._projectionData.getMaxOutputOffset(n)+1}getViewLineData(e,t,n){const i=new Array;return this.getViewLinesData(e,t,n,1,0,[!0],i),i[0]}getViewLinesData(e,t,n,i,o,r,s){this._assertVisible();const a=this._projectionData,l=a.injectionOffsets,c=a.injectionOptions;let u,h=null;if(l){h=[];let e=0,t=0;for(let n=0;n<a.getOutputLineCount();n++){const i=new Array;h[n]=i;const o=n>0?a.breakOffsets[n-1]:0,r=a.breakOffsets[n];for(;t<l.length;){const s=c[t].content.length,u=l[t]+e,h=u+s;if(u>r)break;if(o<h){const e=c[t];if(e.inlineClassName){const t=n>0?a.wrappedTextIndentLength:0,s=t+Math.max(u-o,0),l=t+Math.min(h-o,r-o);s!==l&&i.push(new r7(s,l,e.inlineClassName,e.inlineClassNameAffectsLetterSpacing))}}if(!(h<=r))break;e+=s,t++}}}u=l?e.tokenization.getLineTokens(t).withInserted(l.map(((e,t)=>({offset:e,text:c[t].content,tokenMetadata:P9.defaultTokenMetadata})))):e.tokenization.getLineTokens(t);for(let d=n;d<n+i;d++){const e=o+d-n;r[e]?s[e]=this._getViewLineData(u,h?h[d]:null,d):s[e]=null}}_getViewLineData(e,t,n){this._assertVisible();const i=this._projectionData,o=n>0?i.wrappedTextIndentLength:0,r=n>0?i.breakOffsets[n-1]:0,s=i.breakOffsets[n],a=e.sliceAndInflate(r,s,o);let l=a.getLineContent();n>0&&(l=dde(i.wrappedTextIndentLength)+l);const c=this._projectionData.getMinOutputOffset(n)+1,u=l.length+1,h=n+1<this.getViewLineCount(),d=0===n?0:i.breakOffsetsVisibleColumn[n-1];return new n7(l,h,c,u,d,a,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,n=2){this._assertVisible();return this._projectionData.translateToOutputPosition(t-1,n).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();return e+this._projectionData.translateToOutputPosition(t-1).outputLineIndex}normalizePosition(e,t,n){const i=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,n).toPosition(i)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class cde{constructor(){}isVisible(){return!0}setVisible(e){return e?this:ude.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){const i=e.tokenization.getLineTokens(t),o=i.getLineContent();return new n7(o,!1,1,o.length+1,0,i.inflate(),null)}getViewLinesData(e,t,n,i,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new bY(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,n){return t}getInjectedTextAt(e,t){return null}}cde.INSTANCE=new cde;class ude{constructor(){}isVisible(){return!1}setVisible(e){return e?cde.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,i,o,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,n){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}ude.INSTANCE=new ude;const hde=[""];function dde(e){if(e>=hde.length)for(let t=1;t<=e;t++)hde[t]=gde(t);return hde[e]}function gde(e){return new Array(e+1).join(" ")}class fde{constructor(e,t,n,i,o,r,s,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=n,this._monospaceLineBreaksComputerFactory=i,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=s,this.wrappingColumn=a,this.wrappingIndent=l,this.wordBreak=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new vde(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const n=this.model.getLinesContent(),i=this.model.getInjectedTextDecorations(this._editorId),o=n.length,r=this.createLineBreaksComputer(),s=new AU(Eue.fromDecorations(i));for(let f=0;f<o;f++){const e=s.takeWhile((e=>e.lineNumber===f+1));r.addRequest(n[f],e,t?t[f]:null)}const a=r.finalize(),l=[],c=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(_Y.compareRangesUsingStarts);let u=1,h=0,d=-1,g=d+1<c.length?h+1:o+2;for(let f=0;f<o;f++){const e=f+1;e===g&&(d++,u=c[d].startLineNumber,h=c[d].endLineNumber,g=d+1<c.length?h+1:o+2);const t=e>=u&&e<=h,n=ade(a[f],!t);l[f]=n.getViewLineCount(),this.modelLineProjections[f]=n}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new f3(l)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e)))}setHiddenAreas(e){const t=function(e){if(0===e.length)return[];const t=e.slice();t.sort(_Y.compareRangesUsingStarts);const n=[];let i=t[0].startLineNumber,o=t[0].endLineNumber;for(let r=1,s=t.length;r<s;r++){const e=t[r];e.startLineNumber>o+1?(n.push(new _Y(i,1,o,1)),i=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return n.push(new _Y(i,1,o,1)),n}(e.map((e=>this.model.validateRange(e)))),n=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(_Y.compareRangesUsingStarts);if(t.length===n.length){let e=!1;for(let i=0;i<t.length;i++)if(!t[i].equalsRange(n[i])){e=!0;break}if(!e)return!1}const i=t.map((e=>({range:e,options:nhe.EMPTY})));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,i);const o=t;let r=1,s=0,a=-1,l=a+1<o.length?s+1:this.modelLineProjections.length+2,c=!1;for(let u=0;u<this.modelLineProjections.length;u++){const e=u+1;e===l&&(a++,r=o[a].startLineNumber,s=o[a].endLineNumber,l=a+1<o.length?s+1:this.modelLineProjections.length+2);let t=!1;if(e>=r&&e<=s?this.modelLineProjections[u].isVisible()&&(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!1),t=!0):(c=!0,this.modelLineProjections[u].isVisible()||(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!0),t=!0)),t){const e=this.modelLineProjections[u].getViewLineCount();this.projectedModelLineLineCounts.setValue(u,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.modelLineProjections.length)&&this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,i,o){const r=this.fontInfo.equals(e),s=this.wrappingStrategy===t,a=this.wrappingColumn===n,l=this.wrappingIndent===i,c=this.wordBreak===o;if(r&&s&&a&&l&&c)return!1;const u=r&&s&&!a&&l&&c;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i,this.wordBreak=o;let h=null;if(u){h=[];for(let e=0,t=this.modelLineProjections.length;e<t;e++)h[e]=this.modelLineProjections[e].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(!e||e<=this._validModelVersionId)return null;const i=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections.splice(t-1,n-t+1),this.projectedModelLineLineCounts.removeValues(t-1,n-t+1),new Che(i,o)}onModelLinesInserted(e,t,n,i){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),r=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let s=0;const a=[],l=[];for(let c=0,u=i.length;c<u;c++){const e=ade(i[c],!o);a.push(e);const t=e.getViewLineCount();s+=t,l[c]=t}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(a).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,l),new She(r,r+s-1)}onModelLineChanged(e,t,n){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];const i=t-1,o=this.modelLineProjections[i].getViewLineCount(),r=ade(n,this.modelLineProjections[i].isVisible());this.modelLineProjections[i]=r;const s=this.modelLineProjections[i].getViewLineCount();let a=!1,l=0,c=-1,u=0,h=-1,d=0,g=-1;o>s?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+s-1,d=c+1,g=d+(o-s)-1,a=!0):o<s?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+o-1,u=c+1,h=u+(s-o)-1,a=!0):(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+s-1),this.projectedModelLineLineCounts.setValue(i,s);return[a,l<=c?new whe(l,c-l+1):null,u<=h?new She(u,h):null,d<=g?new Che(d,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.modelLineProjections.length||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.guides.getActiveIndentGuide(i.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),n=t.index,i=t.remainder;return new pde(n+1,i)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new bY(e.modelLineNumber,i)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new bY(e.modelLineNumber,i)}getViewLineInfosGroupedByModelRanges(e,t){const n=this.getViewLineInfo(e),i=this.getViewLineInfo(t),o=new Array;let r=this.getModelStartPositionOfViewLine(n),s=new Array;for(let a=n.modelLineNumber;a<=i.modelLineNumber;a++){const e=this.modelLineProjections[a-1];if(e.isVisible()){const t=a===n.modelLineNumber?n.modelLineWrappedLineIdx:0,o=a===i.modelLineNumber?i.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<o;e++)s.push(new pde(a,e))}if(!e.isVisible()&&r){const e=new bY(a-1,this.model.getLineMaxColumn(a-1)+1),t=_Y.fromPositions(r,e);o.push(new mde(t,s)),s=[],r=null}else e.isVisible()&&!r&&(r=new bY(a,1))}if(r){const e=_Y.fromPositions(r,this.getModelEndPositionOfViewLine(i));o.push(new mde(e,s))}return o}getViewLinesBracketGuides(e,t,n,i){const o=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,r=[];for(const s of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=s.modelRange.startLineNumber,t=this.model.guides.getLinesBracketGuides(e,s.modelRange.endLineNumber,o,i);for(const n of s.viewLines){const i=t[n.modelLineNumber-e].map((e=>{if(-1!==e.forWrappedLinesAfterColumn){if(this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesAfterColumn).lineNumber>=n.modelLineWrappedLineIdx)return}if(-1!==e.forWrappedLinesBeforeOrAtColumn){if(this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesBeforeOrAtColumn).lineNumber<n.modelLineWrappedLineIdx)return}if(!e.horizontalLine)return e;let t=-1;if(-1!==e.column){const i=this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.column);if(i.lineNumber===n.modelLineWrappedLineIdx)t=i.column;else if(i.lineNumber<n.modelLineWrappedLineIdx)t=this.getMinColumnOfViewLine(n);else if(i.lineNumber>n.modelLineWrappedLineIdx)return}const i=this.convertModelPositionToViewPosition(n.modelLineNumber,e.horizontalLine.endColumn),o=this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.horizontalLine.endColumn);return o.lineNumber===n.modelLineWrappedLineIdx?new fse(e.visibleColumn,t,e.className,new pse(e.horizontalLine.top,i.column),-1,-1):o.lineNumber<n.modelLineWrappedLineIdx||-1!==e.visibleColumn?void 0:new fse(e.visibleColumn,t,e.className,new pse(e.horizontalLine.top,this.getMaxColumnOfViewLine(n)),-1,-1)}));r.push(i.filter((e=>!!e)))}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const r=[],s=[],a=n.lineNumber-1,l=i.lineNumber-1;let c=null;for(let g=a;g<=l;g++){const e=this.modelLineProjections[g];if(e.isVisible()){const t=e.getViewLineNumberOfModelPosition(0,g===a?n.column:1),i=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=i-t+1;let l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,i)&&(l=0===t?1:2),r.push(o),s.push(l),null===c&&(c=new bY(g+1,0))}else null!==c&&(o=o.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,g)),c=null)}null!==c&&(o=o.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);const u=t-e+1,h=new Array(u);let d=0;for(let g=0,f=o.length;g<f;g++){let e=o[g];const t=Math.min(u-d,r[g]),n=s[g];let i;i=2===n?0:1===n?1:t;for(let o=0;o<t;o++)o===i&&(e=0),h[d++]=e}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const r=i.index,s=i.remainder,a=[];for(let l=r,c=this.model.getLineCount();l<c;l++){const i=this.modelLineProjections[l];if(!i.isVisible())continue;const c=l===r?s:0;let u=i.getViewLineCount()-c,h=!1;if(o+u>t&&(h=!0,u=t-o+1),i.getViewLinesData(this.model,l+1,c,u,o-e,n,a),o+=u,h)break}return a}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);const i=this.projectedModelLineLineCounts.getIndexOf(e-1),o=i.index,r=i.remainder,s=this.modelLineProjections[o],a=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);t<a&&(t=a),t>l&&(t=l);const c=s.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new bY(o+1,c)).equals(n)?new bY(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new _Y(n.lineNumber,n.column,i.lineNumber,i.column)}convertViewPositionToModelPosition(e,t){const n=this.getViewLineInfo(e),i=this.modelLineProjections[n.modelLineNumber-1].getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,t);return this.model.validatePosition(new bY(n.modelLineNumber,i))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new _Y(t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t,n=2,i=!1,o=!1){const r=this.model.validatePosition(new bY(e,t)),s=r.lineNumber,a=r.column;let l=s-1,c=!1;if(o)for(;l<this.modelLineProjections.length&&!this.modelLineProjections[l].isVisible();)l++,c=!0;else for(;l>0&&!this.modelLineProjections[l].isVisible();)l--,c=!0;if(0===l&&!this.modelLineProjections[l].isVisible())return new bY(i?0:1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(l);let h;return h=c?o?this.modelLineProjections[l].getViewPositionOfModelPosition(u,1,n):this.modelLineProjections[l].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(l+1),n):this.modelLineProjections[s-1].getViewPositionOfModelPosition(u,a,n),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return _Y.fromPositions(n)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new _Y(t.lineNumber,t.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let n=e-1;if(this.modelLineProjections[n].isVisible()){const e=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(e,t)}for(;n>0&&!this.modelLineProjections[n].isVisible();)n--;if(0===n&&!this.modelLineProjections[n].isVisible())return 1;const i=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(i,this.model.getLineMaxColumn(n+1))}getDecorationsInRange(e,t,n,i,o){const r=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-r.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new _Y(r.lineNumber,1,s.lineNumber,s.column),t,n,i,o);let a=[];const l=r.lineNumber-1,c=s.lineNumber-1;let u=null;for(let f=l;f<=c;f++){if(this.modelLineProjections[f].isVisible())null===u&&(u=new bY(f+1,f===l?r.column:1));else if(null!==u){const e=this.model.getLineMaxColumn(f);a=a.concat(this.model.getDecorationsInRange(new _Y(u.lineNumber,u.column,f,e),t,n,i)),u=null}}null!==u&&(a=a.concat(this.model.getDecorationsInRange(new _Y(u.lineNumber,u.column,s.lineNumber,s.column),t,n,i)),u=null),a.sort(((e,t)=>{const n=_Y.compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n}));const h=[];let d=0,g=null;for(const f of a){const e=f.id;g!==e&&(g=e,h[d++]=f)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const n=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[n.modelLineNumber-1].normalizePosition(n.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return 0===t.modelLineWrappedLineIdx?this.model.getLineIndentColumn(t.modelLineNumber):0}}class pde{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class mde{constructor(e,t){this.modelRange=e,this.viewLines=t}}class vde{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,n,i){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,n,i)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class bde{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new _de(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,i){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,n,i)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new Che(t,n)}onModelLinesInserted(e,t,n,i){return new She(t,n)}onModelLineChanged(e,t,n){return[!1,new whe(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,n){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const n=t-e+1,i=new Array(n);for(let o=0;o<n;o++)i[o]=0;return i}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),n=t.getLineContent();return new n7(n,!1,1,n.length+1,0,t.inflate(),null)}getViewLinesData(e,t,n){const i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);const o=[];for(let r=e;r<=t;r++){const t=r-e;o[t]=n[t]?this.getViewLineData(r):null}return o}getDecorationsInRange(e,t,n,i,o){return this.model.getDecorationsInRange(e,t,n,i,o)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class _de{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}let yde=class extends Yq{constructor(e,t,n,i,o,r,s,a,l){if(super(),this.languageConfigurationService=s,this._themeService=a,this._attachedView=l,this.hiddenAreasModel=new Sde,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new The,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Xoe(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new n4((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStart=wde.create(this.model),this.model.isTooLargeForTokenization())this._lines=new bde(this.model);else{const e=this._configuration.options,t=e.get(50),n=e.get(137),r=e.get(144),s=e.get(136),a=e.get(128);this._lines=new fde(this._editorId,this.model,i,o,t,this.model.getOptions().tabSize,n,r.wrappingColumn,s,a)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Uhe(n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new ide(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._handleVisibleLinesChanged(),e.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new khe(e)),this._eventDispatcher.emitOutgoingEvent(new Ahe(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new ode(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(Pse.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new Ehe)}))),this._register(this._themeService.onDidColorThemeChange((e=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Lhe(e))}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new _Y(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new bhe(e)),this._eventDispatcher.emitOutgoingEvent(new Rhe(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new dhe)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ghe)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new bY(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new kde(t,this._viewportStart.startLineDelta)}return new kde(null,0)}_onConfigurationChanged(e,t){const n=this._captureStableViewport(),i=this._configuration.options,o=i.get(50),r=i.get(137),s=i.get(144),a=i.get(136),l=i.get(128);this._lines.setWrappingSettings(o,r,s.wrappingColumn,a,l)&&(e.emitViewEvent(new vhe),e.emitViewEvent(new yhe),e.emitViewEvent(new mhe(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(90)&&(this._decorations.reset(),e.emitViewEvent(new mhe(null))),e.emitViewEvent(new fhe(t)),this.viewLayout.onConfigurationChanged(t),n.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Xoe.shouldRecreate(t)&&(this.cursorConfig=new Xoe(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,i=!1;const o=e instanceof Oue?e.rawContentChangedEvent.changes:e.changes,r=e instanceof Oue?e.rawContentChangedEvent.versionId:null,s=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const n=e.detail[t];let i=e.injectedTexts[t];i&&(i=i.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(n,i,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(e.detail,t,null);break}}const a=s.finalize(),l=new AU(a);for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new vhe),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break;case 3:{const i=this._lines.onModelLinesDeleted(r,e.fromLineNumber,e.toLineNumber);null!==i&&(t.emitViewEvent(i),this.viewLayout.onLinesDeleted(i.fromLineNumber,i.toLineNumber)),n=!0;break}case 4:{const i=l.takeCount(e.detail.length),o=this._lines.onModelLinesInserted(r,e.fromLineNumber,e.toLineNumber,i);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),n=!0;break}case 2:{const n=l.dequeue(),[o,s,a,c]=this._lines.onModelLineChanged(r,e.lineNumber,n);i=o,s&&t.emitViewEvent(s),a&&(t.emitViewEvent(a),this.viewLayout.onLinesInserted(a.fromLineNumber,a.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}}null!==r&&this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!n&&i&&(t.emitViewEvent(new yhe),t.emitViewEvent(new mhe(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const e=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStart.startLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();e instanceof Oue&&t.emitOutgoingEvent(new Hhe(e.contentChangedEvent)),this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()}))),this._register(this.model.onDidChangeTokens((e=>{const t=[];for(let n=0,i=e.ranges.length;n<i;n++){const i=e.ranges[n],o=this.coordinatesConverter.convertModelPositionToViewPosition(new bY(i.fromLineNumber,1)).lineNumber,r=this.coordinatesConverter.convertModelPositionToViewPosition(new bY(i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[n]={fromLineNumber:o,toLineNumber:r}}this._eventDispatcher.emitSingleViewEvent(new Dhe(t)),this._eventDispatcher.emitOutgoingEvent(new jhe(e))}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new _he),this.cursorConfig=new Xoe(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Whe(e))}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new Xoe(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Vhe(e))}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new vhe),e.emitViewEvent(new yhe),e.emitViewEvent(new mhe(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Xoe(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new $he(e))}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new mhe(e)),this._eventDispatcher.emitOutgoingEvent(new zhe(e))})))}setHiddenAreas(e,t){this.hiddenAreasModel.setHiddenAreas(t,e);const n=this.hiddenAreasModel.getMergedRanges();if(n===this.previousHiddenAreas)return;this.previousHiddenAreas=n;const i=this._captureStableViewport();let o=!1;try{const e=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(n),o&&(e.emitViewEvent(new vhe),e.emitViewEvent(new yhe),e.emitViewEvent(new mhe(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new Phe)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(143),t=this._configuration.options.get(66),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),o=Math.max(1,i.completelyVisibleStartLineNumber-n),r=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new _Y(o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];const i=[];let o=0,r=t.startLineNumber,s=t.startColumn;const a=t.endLineNumber,l=t.endColumn;for(let c=0,u=n.length;c<u;c++){const e=n[c].startLineNumber,t=n[c].endLineNumber;t<r||(e>a||(r<e&&(i[o++]=new _Y(r,s,e-1,this.model.getLineMaxColumn(e-1))),r=t+1,s=1))}return(r<a||r===a&&s<l)&&(i[o++]=new _Y(r,s,a,l)),i}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new _Y(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new _Y(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new bY(n,this.getLineMinColumn(n))),o=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,n,i){return this._lines.getViewLinesBracketGuides(e,t,n,i)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=CZ(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=xZ(this.getLineContent(e));return-1===t?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const n=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,n)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(e);return r.inlineDecorations&&(t=[...t,...r.inlineDecorations.map((t=>t.toInlineDecoration(e)))]),new i7(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,n,i,r.tokens,t,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){const i=this._lines.getViewLinesData(e,t,n);return new t7(this.getTabSize(),i)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,vq(this._configuration.options)),n=new Cde;for(const i of t){const t=i.options,o=t.overviewRuler;if(!o)continue;const r=o.position;if(0===r)continue;const s=o.getColor(e.value),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(i.range.startLineNumber,i.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(i.range.endLineNumber,i.range.endColumn);n.accept(s,t.zIndex,a,l,r)}return n.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;null==e||e.invalidateCachedColor();const n=t.options.minimap;null==n||n.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getValueLengthInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(n,t)}modifyPosition(e,t){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(n,t)}deduceModelPositionRelativeToViewPosition(e,t,n){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);const o=this.model.getOffsetAt(i)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,n){const i=n?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(_Y.compareRangesUsingStarts);let o=!1,r=!1;for(const a of e)a.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const n=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<n.length;e++)e>0&&n[e-1]===n[e]||(o+=this.model.getLineContent(n[e])+i);return o}if(o&&t){const t=[];let i=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==i&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,n?2:0)),i=e}return 1===t.length?t[0]:t}const s=[];for(const a of e)a.isEmpty()||s.push(this.model.getValueInRange(a,n?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const n=this.model.getLanguageId();if(n===I5)return null;if(1!==e.length)return null;let i=e[0];if(i.isEmpty()){if(!t)return null;const e=i.startLineNumber;i=new _Y(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(50),r=this._getColorMap();let s;if(/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Eq.fontFamily)s=Eq.fontFamily;else{s=o.fontFamily,s=s.replace(/"/g,"'");if(!/[,']/.test(s)){/[+ ]/.test(s)&&(s=`'${s}'`)}s=`${s}, ${Eq.fontFamily}`}return{mode:n,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${s};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(i,r)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=this.getTabSize();let a="";for(let l=n;l<=o;l++){const e=this.model.tokenization.getLineTokens(l),c=e.getLineContent(),u=l===n?i-1:0,h=l===o?r-1:c.length;a+=""===c?"<br>":Zhe(c,e.inflate(),t,u,h,s,yK)}return a}_getColorMap(){const e=jY.getColorMap(),t=["#000000"];if(e)for(let n=1,i=e.length;n<i;n++)t[n]=n9.Format.CSS.formatHex(e[n]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){return this._withViewEventsCollector((i=>this._cursor.setStates(i,e,t,n)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector((i=>this._cursor.setSelections(i,e,t,n)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Bhe):this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit((i=>this._cursor.executeEdits(i,e,t,n)))}startComposition(){this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((n=>this._cursor.type(n,e,t)))}compositionType(e,t,n,i,o){this._executeCursorEdit((r=>this._cursor.compositionType(r,e,t,n,i,o)))}paste(e,t,n,i){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,n,i)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((n=>this._cursor.executeCommand(n,e,t)))}executeCommands(e,t){this._executeCursorEdit((n=>this._cursor.executeCommands(n,e,t)))}revealPrimaryCursor(e,t,n=!1){this._withViewEventsCollector((i=>this._cursor.revealPrimary(i,e,n,0,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new _Y(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new xhe(e,!1,n,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new _Y(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new xhe(e,!1,n,null,0,!0,0))))}revealRange(e,t,n,i,o){this._withViewEventsCollector((r=>r.emitViewEvent(new xhe(e,!1,n,null,i,t,o))))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Nhe),this._eventDispatcher.emitOutgoingEvent(new Ohe))}_withViewEventsCollector(e){try{return e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class wde{static create(e){const t=e._setTrackedRange(null,new _Y(1,1,1,1),1);return new wde(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,n,i,o){this._model=e,this._viewLineNumber=t,this._isValid=n,this._modelTrackedRange=i,this._startLineDelta=o}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const n=e.coordinatesConverter.convertViewPositionToModelPosition(new bY(t,e.getLineMinColumn(t))),i=e.model._setTrackedRange(this._modelTrackedRange,new _Y(n.lineNumber,n.column,n.lineNumber,n.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),r=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=i,this._startLineDelta=r-o}invalidate(){this._isValid=!1}}class Cde{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,n,i,o){const r=this._asMap[e];if(r){const e=r.data,t=e[e.length-3],s=e[e.length-1];if(t===o&&s+1>=n)return void(i>s&&(e[e.length-1]=i));e.push(o,n,i)}else{const r=new a7(e,t,[o,n,i]);this._asMap[e]=r,this.asArray.push(r)}}}class Sde{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const n=this.hiddenAreas.get(e);n&&xde(n,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce(((e,t)=>function(e,t){const n=[];let i=0,o=0;for(;i<e.length&&o<t.length;){const r=e[i],s=t[o];if(r.endLineNumber<s.startLineNumber-1)n.push(e[i++]);else if(s.endLineNumber<r.startLineNumber-1)n.push(t[o++]);else{const e=Math.min(r.startLineNumber,s.startLineNumber),t=Math.max(r.endLineNumber,s.endLineNumber);n.push(new _Y(e,1,t,1)),i++,o++}}for(;i<e.length;)n.push(e[i++]);for(;o<t.length;)n.push(t[o++]);return n}(e,t)),[]);return xde(this.ranges,e)||(this.ranges=e),this.ranges}}function xde(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].equalsRange(t[n]))return!1;return!0}class kde{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const n=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),i=t.getVerticalOffsetForLineNumber(n.lineNumber);t.setScrollPosition({scrollTop:i+this.startLineDelta},1)}}class Lde{constructor(...e){this._entries=new Map;for(const[t,n]of e)this.set(t,n)}set(e,t){const n=this._entries.get(e);return this._entries.set(e,t),n}get(e){return this._entries.get(e)}}var Dde,Ede;(Ede=Dde||(Dde={}))[Ede.Ignore=0]="Ignore",Ede[Ede.Info=1]="Info",Ede[Ede.Warning=2]="Warning",Ede[Ede.Error=3]="Error",function(e){const t="error",n="warning",i="info";e.fromValue=function(o){return o?MZ(t,o)?e.Error:MZ(n,o)||MZ("warn",o)?e.Warning:MZ(i,o)?e.Info:e.Ignore:e.Ignore},e.toString=function(o){switch(o){case e.Error:return t;case e.Warning:return n;case e.Info:return i;default:return"ignore"}}}(Dde||(Dde={}));const Nde=Dde;var Tde=Nde;const Ide=OQ("notificationService");class Mde{constructor(e,t,n,i,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=n,this.breakOffsetsVisibleColumn=i,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length&&n>this.injectionOffsets[i];i++)n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length;return n}translateToOutputPosition(e,t=2){let n=e;if(null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length&&!(e<this.injectionOffsets[i])&&(1===t||e!==this.injectionOffsets[i]);i++)n+=this.injectionOptions[i].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let n=0,i=this.breakOffsets.length-1,o=0,r=0;for(;n<=i;){o=n+(i-n)/2|0;const s=this.breakOffsets[o];if(r=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=r)i=o-1;else{if(!(e>s))break;n=o+1}else if(e<r)i=o-1;else{if(!(e>=s))break;n=o+1}}let s=e-r;return o>0&&(s+=this.wrappedTextIndentLength),new Ode(o,s)}normalizeOutputPosition(e,t,n){if(null!==this.injectionOffsets){const i=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,n);if(o!==i)return this.offsetInInputWithInjectionsToOutputPosition(o,n)}if(0===n){if(e>0&&t===this.getMinOutputOffset(e))return new Ode(e-1,this.getMaxOutputOffset(e-1))}else if(1===n){if(e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new Ode(e+1,this.getMinOutputOffset(e+1))}return new Ode(e,t)}outputPositionToOffsetInInputWithInjections(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));return(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t){if(e===n.offsetInInputWithInjections+n.length&&Rde(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let e=n.offsetInInputWithInjections;if(Ade(this.injectionOptions[n.injectedTextIndex].cursorStops))return e;let t=n.injectedTextIndex-1;for(;t>=0&&this.injectionOffsets[t]===this.injectionOffsets[n.injectedTextIndex]&&!Rde(this.injectionOptions[t].cursorStops)&&(e-=this.injectionOptions[t].content.length,!Ade(this.injectionOptions[t].cursorStops));)t--;return e}}if(1===t||4===t){let e=n.offsetInInputWithInjections+n.length,t=n.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}if(0===t||3===t){let e=n.offsetInInputWithInjections,t=n.injectedTextIndex;for(;t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t];)e-=this.injectionOptions[t-1].content.length,t--;return e}KJ()}getInjectedText(e,t){const n=this.outputPositionToOffsetInInputWithInjections(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,n=this.injectionOptions;if(null!==t){let i=0;for(let o=0;o<t.length;o++){const r=n[o].content.length,s=t[o]+i,a=t[o]+i+r;if(s>e)break;if(e<=a)return{injectedTextIndex:o,offsetInInputWithInjections:s,length:r};i+=r}}}}function Rde(e){return null==e||(e===N3.Right||e===N3.Both)}function Ade(e){return null==e||(e===N3.Left||e===N3.Both)}class Ode{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new bY(e+this.outputLineIndex,this.outputOffset+1)}}class Pde{static create(e){return new Pde(e.get(132),e.get(131))}constructor(e,t){this.classifier=new Fde(e,t)}createLineBreaksComputer(e,t,n,i,o){const r=[],s=[],a=[];return{addRequest:(e,t,n)=>{r.push(e),s.push(t),a.push(n)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let e=0,u=r.length;e<u;e++){const u=s[e],h=a[e];!h||h.injectionOptions||u?c[e]=Wde(this.classifier,r[e],u,t,n,l,i,o):c[e]=Vde(this.classifier,h,r[e],t,n,l,i,o)}return Bde.length=0,zde.length=0,c}}}}class Fde extends v3{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Bde=[],zde=[];function Vde(e,t,n,i,o,r,s,a){if(-1===o)return null;const l=n.length;if(l<=1)return null;const c="keepAll"===a,u=t.breakOffsets,h=t.breakOffsetsVisibleColumn,d=Ude(n,i,o,r,s),g=o-d,f=Bde,p=zde;let m=0,v=0,b=0,_=o;const y=u.length;let w=0;if(w>=0){let e=Math.abs(h[w]-_);for(;w+1<y;){const t=Math.abs(h[w+1]-_);if(t>=e)break;e=t,w++}}for(;w<y;){let t=w<0?0:u[w],o=w<0?0:h[w];v>t&&(t=v,o=b);let s=0,a=0,d=0,C=0;if(o<=_){let b=o,y=0===t?0:n.charCodeAt(t-1),w=0===t?0:e.get(y),S=!0;for(let o=t;o<l;o++){const t=o,l=n.charCodeAt(o);let u,h;if(PZ(l)?(o++,u=0,h=2):(u=e.get(l),h=Hde(l,b,i,r)),t>v&&jde(y,w,l,u,c)&&(s=t,a=b),b+=h,b>_){t>v?(d=t,C=b-h):(d=o+1,C=b),b-a>g&&(s=0),S=!1;break}y=l,w=u}if(S){m>0&&(f[m]=u[u.length-1],p[m]=h[u.length-1],m++);break}}if(0===s){let l=o,u=n.charCodeAt(t),h=e.get(u),f=!1;for(let i=t-1;i>=v;i--){const t=i+1,o=n.charCodeAt(i);if(9===o){f=!0;break}let p,m;if(FZ(o)?(i--,p=0,m=2):(p=e.get(o),m=XZ(o)?r:1),l<=_){if(0===d&&(d=t,C=l),l<=_-g)break;if(jde(o,p,u,h,c)){s=t,a=l;break}}l-=m,u=o,h=p}if(0!==s){const e=g-(C-a);if(e<=i){const t=n.charCodeAt(d);let o;o=PZ(t)?2:Hde(t,C,i,r),e-o<0&&(s=0)}}if(f){w--;continue}}if(0===s&&(s=d,a=C),s<=v){const e=n.charCodeAt(v);PZ(e)?(s=v+2,a=b+2):(s=v+1,a=b+Hde(e,b,i,r))}for(v=s,f[m]=s,b=a,p[m]=a,m++,_=a+g;w<0||w<y&&h[w]<a;)w++;let S=Math.abs(h[w]-_);for(;w+1<y;){const e=Math.abs(h[w+1]-_);if(e>=S)break;S=e,w++}}return 0===m?null:(f.length=m,p.length=m,Bde=t.breakOffsets,zde=t.breakOffsetsVisibleColumn,t.breakOffsets=f,t.breakOffsetsVisibleColumn=p,t.wrappedTextIndentLength=d,t)}function Wde(e,t,n,i,o,r,s,a){const l=Eue.applyInjectedText(t,n);let c,u;if(n&&n.length>0?(c=n.map((e=>e.options)),u=n.map((e=>e.column-1))):(c=null,u=null),-1===o)return c?new Mde(u,c,[l.length],[],0):null;const h=l.length;if(h<=1)return c?new Mde(u,c,[l.length],[],0):null;const d="keepAll"===a,g=Ude(l,i,o,r,s),f=o-g,p=[],m=[];let v=0,b=0,_=0,y=o,w=l.charCodeAt(0),C=e.get(w),S=Hde(w,0,i,r),x=1;PZ(w)&&(S+=1,w=l.charCodeAt(1),C=e.get(w),x++);for(let k=x;k<h;k++){const t=k,n=l.charCodeAt(k);let o,s;PZ(n)?(k++,o=0,s=2):(o=e.get(n),s=Hde(n,S,i,r)),jde(w,C,n,o,d)&&(b=t,_=S),S+=s,S>y&&((0===b||S-_>f)&&(b=t,_=S-s),p[v]=b,m[v]=_,v++,y=_+f,b=0),w=n,C=o}return 0!==v||n&&0!==n.length?(p[v]=h,m[v]=S,new Mde(u,c,p,m,g)):null}function Hde(e,t,n,i){return 9===e?n-t%n:XZ(e)||e<32?i:1}function $de(e,t){return t-e%t}function jde(e,t,n,i,o){return 32!==n&&(2===t&&2!==i||1!==t&&1===i||!o&&3===t&&2!==i||!o&&3===i&&1!==t)}function Ude(e,t,n,i,o){let r=0;if(0!==o){const s=CZ(e);if(-1!==s){for(let n=0;n<s;n++){r+=9===e.charCodeAt(n)?$de(r,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){r+=$de(r,t)}r+i>n&&(r=0)}}return r}const Kde=y4("domLineBreaksComputer",{createHTML:e=>e});class qde{static create(){return new qde}constructor(){}createLineBreaksComputer(e,t,n,i,o){const r=[],s=[];return{addRequest:(e,t,n)=>{r.push(e),s.push(t)},finalize:()=>function(e,t,n,i,o,r,s){var a;function l(t){const n=s[t];if(n){const i=Eue.applyInjectedText(e[t],n),o=n.map((e=>e.options)),r=n.map((e=>e.column-1));return new Mde(r,o,[i.length],[],0)}return null}if(-1===i){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=l(n);return t}const c=Math.round(i*t.typicalHalfwidthCharacterWidth),u=3===o?2:2===o?1:0,h=Math.round(n*u),d=Math.ceil(t.spaceWidth*h),g=document.createElement("div");SQ(g,t);const f=new q4(1e4),p=[],m=[],v=[],b=[],_=[];for(let k=0;k<e.length;k++){const i=Eue.applyInjectedText(e[k],s[k]);let r=0,a=0,l=c;if(0!==o)if(r=CZ(i),-1===r)r=0;else{for(let t=0;t<r;t++){a+=9===i.charCodeAt(t)?n-a%n:1}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>c?(r=0,a=0):l=c-e}const u=i.substr(r),h=Gde(u,a,n,l,f,d);p[k]=r,m[k]=a,v[k]=u,b[k]=h[0],_[k]=h[1]}const y=f.build(),w=null!==(a=null==Kde?void 0:Kde.createHTML(y))&&void 0!==a?a:y;g.innerHTML=w,g.style.position="absolute",g.style.top="10000","keepAll"===r?(g.style.wordBreak="keep-all",g.style.overflowWrap="anywhere"):(g.style.wordBreak="inherit",g.style.overflowWrap="break-word");document.body.appendChild(g);const C=document.createRange(),S=Array.prototype.slice.call(g.children,0),x=[];for(let k=0;k<e.length;k++){const e=Yde(C,S[k],v[k],b[k]);if(null===e){x[k]=l(k);continue}const t=p[k],n=m[k]+h,i=_[k],o=[];for(let s=0,l=e.length;s<l;s++)o[s]=i[e[s]];if(0!==t)for(let s=0,l=e.length;s<l;s++)e[s]+=t;let r,a;const c=s[k];c?(r=c.map((e=>e.options)),a=c.map((e=>e.column-1))):(r=null,a=null),x[k]=new Mde(a,r,e,o,n)}return document.body.removeChild(g),x}(r,e,t,n,i,o,s)}}}function Gde(e,t,n,i,o,r){if(0!==r){const e=String(r);o.appendString('<div style="text-indent: -'),o.appendString(e),o.appendString("px; padding-left: "),o.appendString(e),o.appendString("px; box-sizing: border-box; width:")}else o.appendString('<div style="width:');o.appendString(String(i)),o.appendString('px;">');const s=e.length;let a=t,l=0;const c=[],u=[];let h=0<s?e.charCodeAt(0):0;o.appendString("<span>");for(let d=0;d<s;d++){0!==d&&d%16384==0&&o.appendString("</span><span>"),c[d]=l,u[d]=a;const t=h;h=d+1<s?e.charCodeAt(d+1):0;let i=1,r=1;switch(t){case 9:i=n-a%n,r=i;for(let e=1;e<=i;e++)e<i?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 32:32===h?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 60:o.appendString("&lt;");break;case 62:o.appendString("&gt;");break;case 38:o.appendString("&amp;");break;case 0:o.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.appendCharCode(65533);break;default:XZ(t)&&r++,t<32?o.appendCharCode(9216+t):o.appendCharCode(t)}l+=i,a+=r}return o.appendString("</span>"),c[e.length]=l,u[e.length]=a,o.appendString("</div>"),[c,u]}function Yde(e,t,n,i){if(n.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),r=[];try{Xde(e,o,i,0,null,n.length-1,null,r)}catch(s){return console.log(s),null}return 0===r.length?null:(r.push(n.length),r)}function Xde(e,t,n,i,o,r,s,a){if(i===r)return;if(o=o||Zde(e,t,n[i],n[i+1]),s=s||Zde(e,t,n[r],n[r+1]),Math.abs(o[0].top-s[0].top)<=.1)return;if(i+1===r)return void a.push(r);const l=i+(r-i)/2|0,c=Zde(e,t,n[l],n[l+1]);Xde(e,t,n,i,o,l,c,a),Xde(e,t,n,l,c,r,s,a)}function Zde(e,t,n,i){return e.setStart(t[n/16384|0].firstChild,n%16384),e.setEnd(t[i/16384|0].firstChild,i%16384),e.getClientRects()}class Qde extends Yq{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new Qq),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,n){this._editor=e,this._instantiationService=n;for(const i of t)this._pending.has(i.id)?Rq(new Error(`Cannot have two contributions with the same id ${i.id}`)):this._pending.set(i.id,i);this._instantiateSome(0),this._register(i4((()=>{this._instantiateSome(1)}))),this._register(i4((()=>{this._instantiateSome(2)}))),this._register(i4((()=>{this._instantiateSome(3)}),5e3))}saveViewState(){const e={};for(const[t,n]of this._instances)"function"==typeof n.saveViewState&&(e[t]=n.saveViewState());return e}restoreViewState(e){for(const[t,n]of this._instances)"function"==typeof n.restoreViewState&&n.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register(i4((()=>{this._instantiateSome(1)}),50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const n of t)this._instantiateById(n.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,n]of this._pending)n.instantiation===e&&t.push(n);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const e=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,e),"function"==typeof e.restoreViewState&&0!==t.instantiation&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(n){Rq(n)}}}}var Jde,ege=function(e,t){return function(n,i){t(n,i,e)}},tge=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let nge=0,ige=class{constructor(e,t,n,i,o,r){this.model=e,this.viewModel=t,this.view=n,this.hasRealView=i,this.listenersToRemove=o,this.attachedView=r}dispose(){Uq(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},oge=Jde=class extends Yq{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,t,n,i,o,r,s,a,l,c,u,h){var d;super(),this.languageConfigurationService=u,this._deliveryQueue=new aG,this._contributions=this._register(new Qde),this._onDidDispose=this._register(new sG),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new rge({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new rge({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new sge(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new sge(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new sge(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new sge(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new sge(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new sge(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new sG({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),o.willCreateCodeEditor();const g=Object.assign({},t);let f;this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++nge,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=n.telemetryData,this._configuration=this._register(this._createConfiguration(n.isSimpleWidget||!1,g,c)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(143)){const e=t.get(143);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(s.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=o,this._commandService=r,this._themeService=a,this._register(new age(this,this._contextKeyService)),this._register(new lge(this,this._contextKeyService,h)),this._instantiationService=i.createChild(new Lde([RJ,this._contextKeyService])),this._modelData=null,this._focusTracker=new cge(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={},f=Array.isArray(n.contributions)?n.contributions:F2.getEditorContributions(),this._contributions.initialize(this,f,this._instantiationService);for(const m of F2.getEditorActions()){if(this._actions.has(m.id)){Rq(new Error(`Cannot have two actions with the same id ${m.id}`));continue}const e=new kae(m.id,m.label,m.alias,null!==(d=m.precondition)&&void 0!==d?d:void 0,(()=>this._instantiationService.invokeFunction((e=>Promise.resolve(m.runEditorCommand(e,this,null))))),this._contextKeyService);this._actions.set(e.id,e)}const p=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new D2(this._domElement,{onDragEnter:()=>{},onDragOver:e=>{if(!p())return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this.showDropIndicatorAt(t.position)},onDrop:e=>tge(this,void 0,void 0,(function*(){if(!p())return;if(this.removeDropIndicator(),!e.dataTransfer)return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this._onDropIntoEditor.fire({position:t.position,event:e})})),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;null===(t=this._modelData)||void 0===t||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,n){return new Q7(e,t,this._domElement,n)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return I9.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?hre.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let n=0;return e&&e.lineEnding&&"\n"===e.lineEnding?n=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=2),this._modelData.model.getValue(n,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const n=this.hasTextFocus(),i=this._detachModel();this._attachModel(t),n&&this.hasModel()&&this.focus();const o={oldModelUrl:i?i.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(i),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,n,i){const o=e.model.validatePosition({lineNumber:t,column:n}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(r.lineNumber,i)}getTopForLineNumber(e,t=!1){return this._modelData?Jde._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?Jde._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,n,i=!1){const o=e.model.validatePosition({lineNumber:t,column:n}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber,i)}getBottomForLineNumber(e,t=!1){return this._modelData?Jde._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e,t){var n;null===(n=this._modelData)||void 0===n||n.viewModel.setHiddenAreas(e.map((e=>_Y.lift(e))),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),n=this._modelData.model.getOptions().tabSize;return Bne.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,n)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!bY.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,n,i){if(!this._modelData)return;if(!_Y.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",n,r,t,i)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,n){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new _Y(e,1,e,1),t,!1,n)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,n,i){if(!bY.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new _Y(e.lineNumber,e.column,e.lineNumber,e.column),t,n,i)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const n=yY.isISelection(e),i=_Y.isIRange(e);if(!n&&!i)throw new Error("Invalid arguments");if(n)this._setSelectionImpl(e,t);else if(i){const n={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(n,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const n=new yY(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[n])}revealLines(e,t,n=0){this._revealLines(e,t,0,n)}revealLinesInCenter(e,t,n=0){this._revealLines(e,t,1,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._revealLines(e,t,2,n)}revealLinesNearTop(e,t,n=0){this._revealLines(e,t,5,n)}_revealLines(e,t,n,i){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new _Y(e,1,t,1),n,!1,i)}revealRange(e,t=0,n=!1,i=!0){this._revealRange(e,n?1:0,i,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,n,i){if(!_Y.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(_Y.lift(e),t,n,i)}setSelections(e,t="api",n=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,n=e.length;t<n;t++)if(!yY.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,n)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?e.length>0&&this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]),this._contributions.restoreViewState(t.contributionsState||{});const n=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(n)}}handleInitialized(){var e;null===(e=this._getViewModel())||void 0===e||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,n){switch(n=n||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=n;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=n;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=n;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=n;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const i=this.getAction(t);i?Promise.resolve(i.run(n)).then(void 0,Rq):this._modelData&&(this._triggerEditorCommand(e,t,n)||this._triggerCommand(t,n))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,n,i,o){this._modelData&&this._modelData.viewModel.compositionType(t,n,i,o,e)}_paste(e,t,n,i,o){if(!this._modelData||0===t.length)return;const r=this._modelData.viewModel,s=r.getSelection().getStartPosition();r.paste(t,n,i,e);const a=r.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new _Y(s.lineNumber,s.column,a.lineNumber,a.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,n){const i=F2.getEditorCommand(t);return!!i&&((n=n||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(i.runEditorCommand(e,this,n)).then(void 0,Rq)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(90)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(90)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,n){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let i;return i=n?Array.isArray(n)?()=>n:n:()=>null,this._modelData.viewModel.executeEdits(e,t,i),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new uge(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,vq(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,vq(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){this._modelData&&0!==e.length&&this._modelData.model.changeDecorations((t=>{t.deltaDecorations(e,[])}))}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const n=this._contentWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const n=this._overlayWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const n=this._glyphMarginWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(n)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const e=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),n=this._configuration.options,i=n.get(143);return{top:Jde._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft(),height:n.get(66)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){SQ(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const n=e.onBeforeAttached(),i=new yde(this._id,this._configuration,e,qde.create(),Pde.create(this._configuration.options),(e=>B1(e)),this.languageConfigurationService,this._themeService,n);t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(i.onEvent((t=>{switch(t.kind){case 0:this._onDidContentSizeChange.fire(t);break;case 1:this._editorTextFocus.setValue(t.hasFocus);break;case 2:this._onDidScrollChange.fire(t);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(t.reachedMaxCursorCount){const e=nK(0,"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",this.getOption(79));this._notificationService.prompt(Tde.Warning,e,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:nK(0,"Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const e=[];for(let o=0,r=t.selections.length;o<r;o++)e[o]=t.selections[o].getPosition();const n={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};this._onDidChangeCursorPosition.fire(n);const i={selection:t.selections[0],secondarySelections:t.selections.slice(1),modelVersionId:t.modelVersionId,oldSelections:t.oldSelections,oldModelVersionId:t.oldModelVersionId,source:t.source,reason:t.reason};this._onDidChangeCursorSelection.fire(i);break}case 7:this._onDidChangeModelDecorations.fire(t.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(t.event);break;case 10:this._onDidChangeModelContent.fire(t.event);break;case 11:this._onDidChangeModelOptions.fire(t.event);break;case 12:this._onDidChangeModelTokens.fire(t.event)}})));const[o,r]=this._createView(i);if(r){this._domElement.appendChild(o.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];o.addContentWidget(this._contentWidgets[n])}t=Object.keys(this._overlayWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];o.addOverlayWidget(this._overlayWidgets[n])}t=Object.keys(this._glyphMarginWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];o.addGlyphMarginWidget(this._glyphMarginWidgets[n])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new ige(e,i,o,r,t,n)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,n,i)=>{this._paste("keyboard",e,t,n,i)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,n,i)=>{this._compositionType("keyboard",e,t,n,i)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,n,i)=>{const o={text:e,pasteOnNewLine:t,multicursorText:n,mode:i};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,n,i)=>{if(n||i){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:n,positionDelta:i};this._commandService.executeCommand("compositionType",o)}else{const n={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",n)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const n=new Gre(e.coordinatesConverter);n.onKeyDown=e=>this._onKeyDown.fire(e),n.onKeyUp=e=>this._onKeyUp.fire(e),n.onContextMenu=e=>this._onContextMenu.fire(e),n.onMouseMove=e=>this._onMouseMove.fire(e),n.onMouseLeave=e=>this._onMouseLeave.fire(e),n.onMouseDown=e=>this._onMouseDown.fire(e),n.onMouseUp=e=>this._onMouseUp.fire(e),n.onMouseDrag=e=>this._onMouseDrag.fire(e),n.onMouseDrop=e=>this._onMouseDrop.fire(e),n.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),n.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new xae(t,this._configuration,this._themeService.getColorTheme(),e,n,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){null==e||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}showDropIndicatorAt(e){const t=[{range:new _Y(e.lineNumber,e.column,e.lineNumber,e.column),options:Jde.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}};oge.dropIntoEditorDecorationOptions=nhe.register({description:"workbench-dnd-target",className:"dnd-target"}),oge=Jde=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ege(3,AQ),ege(4,PQ),ege(5,GQ),ege(6,RJ),ege(7,Fie),ege(8,Ide),ege(9,X7),ege(10,z5),ege(11,b9)],oge);class rge extends Yq{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new sG(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new sG(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class sge extends sG{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class age extends Yq{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Tre.editorSimpleInput.bindTo(t),this._editorFocus=Tre.focus.bindTo(t),this._textInputFocus=Tre.textInputFocus.bindTo(t),this._editorTextFocus=Tre.editorTextFocus.bindTo(t),this._tabMovesFocus=Tre.tabMovesFocus.bindTo(t),this._editorReadonly=Tre.readOnly.bindTo(t),this._inDiffEditor=Tre.inDiffEditor.bindTo(t),this._editorColumnSelection=Tre.columnSelection.bindTo(t),this._hasMultipleSelections=Tre.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Tre.hasNonEmptySelection.bindTo(t),this._canUndo=Tre.canUndo.bindTo(t),this._canRedo=Tre.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._register(Y7.onDidChangeTabFocus((e=>this._tabMovesFocus.set(e)))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(Y7.getTabFocusMode()),this._editorReadonly.set(e.get(90)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class lge extends Yq{constructor(e,t,n){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=n,this._langId=Tre.languageId.bindTo(t),this._hasCompletionItemProvider=Tre.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Tre.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Tre.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Tre.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Tre.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Tre.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Tre.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Tre.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Tre.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Tre.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Tre.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Tre.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Tre.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Tre.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Tre.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Tre.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Tre.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Tre.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=Tre.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(n.completionProvider.onDidChange(i)),this._register(n.codeActionProvider.onDidChange(i)),this._register(n.codeLensProvider.onDidChange(i)),this._register(n.definitionProvider.onDidChange(i)),this._register(n.declarationProvider.onDidChange(i)),this._register(n.implementationProvider.onDidChange(i)),this._register(n.typeDefinitionProvider.onDidChange(i)),this._register(n.hoverProvider.onDidChange(i)),this._register(n.documentHighlightProvider.onDidChange(i)),this._register(n.documentSymbolProvider.onDidChange(i)),this._register(n.referenceProvider.onDidChange(i)),this._register(n.renameProvider.onDidChange(i)),this._register(n.documentFormattingEditProvider.onDidChange(i)),this._register(n.documentRangeFormattingEditProvider.onDidChange(i)),this._register(n.signatureHelpProvider.onDidChange(i)),this._register(n.inlayHintsProvider.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===S1.walkThroughSnippet)})):this.reset()}}class cge extends Yq{constructor(e){super(),this._onChange=this._register(new sG),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(c2(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}class uge{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,n){return this._editor.onDidChangeModelDecorations((n=>{this._isChangingDecorations||e.call(t,n)}),n)}getRange(e){return this._editor.hasModel()?e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e]):null}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const n of this._decorationIds){const i=e.getDecorationRange(n);i&&t.push(i)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations((t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)}))}finally{this._isChangingDecorations=!1}return this._decorationIds}}const hge=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),dge=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function gge(e){return hge+encodeURIComponent(e.toString())+dge}const fge=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),pge=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Hie(((e,t)=>{const n=e.getColor(nee);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${gge(n)}") repeat-x bottom left; }`);const i=e.getColor(iee);i&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${gge(i)}") repeat-x bottom left; }`);const o=e.getColor(ree);o&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${gge(o)}") repeat-x bottom left; }`);const r=e.getColor(aee);var s;r&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${s=r,fge+encodeURIComponent(s.toString())+pge}") no-repeat bottom left; }`);const a=e.getColor(foe);a&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${a.rgba.a}; }`)}));var mge=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let vge=class extends Yq{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new sG),this._onCodeEditorAdd=this._register(new sG),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new sG),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new sG),this._onDiffEditorAdd=this._register(new sG),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new sG),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new WK,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const n of t){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(e=n)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,n){const i=e.toString();let o;this._modelProperties.has(i)?o=this._modelProperties.get(i):(o=new Map,this._modelProperties.set(i,o)),o.set(t,n)}getModelProperty(e,t){const n=e.toString();if(this._modelProperties.has(n)){return this._modelProperties.get(n).get(t)}}openCodeEditor(e,t,n){return mge(this,void 0,void 0,(function*(){for(const i of this._codeEditorOpenHandlers){const o=yield i(e,t,n);if(null!==o)return o}return null}))}registerCodeEditorOpenHandler(e){return qq(this._codeEditorOpenHandlers.unshift(e))}};vge=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(0,Fie)],vge);var bge=function(e,t){return function(n,i){t(n,i,e)}},_ge=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let yge=class extends vge{constructor(e,t){super(t),this._register(this.onCodeEditorAdd((()=>this._checkContextKey()))),this._register(this.onCodeEditorRemove((()=>this._checkContextKey()))),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(((e,t,n)=>_ge(this,void 0,void 0,(function*(){return t?this.doOpenEditor(t,e):null})))))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const n=t.resource.scheme;if(n===S1.http||n===S1.https)return w2(t.resource.toString()),e}return null}const n=t.options?t.options.selection:null;if(n)if("number"==typeof n.endLineNumber&&"number"==typeof n.endColumn)e.setSelection(n),e.revealRangeInCenter(n,1);else{const t={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};yge=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([bge(0,RJ),bge(1,Fie)],yge),m5(PQ,yge,0);const wge=OQ("layoutService");var Cge=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Sge=function(e,t){return function(n,i){t(n,i,e)}};let xge=class{get dimension(){return this._dimension||(this._dimension=W1(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayout=tG.None,this.offset={top:0,quickPickTop:0}}};xge=Cge([Sge(0,PQ)],xge);let kge=class extends xge{get hasContainer(){return!1}get container(){return this._container}constructor(e,t){super(t),this._container=e}};kge=Cge([Sge(1,PQ)],kge),m5(wge,xge,1);const Lge=OQ("dialogService");var Dge=function(e,t){return function(n,i){t(n,i,e)}},Ege=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function Nge(e){return e.scheme===S1.file?e.fsPath:e.path}let Tge=0;class Ige{constructor(e,t,n,i,o,r,s){this.id=++Tge,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=n,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=i,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Mge{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Rge{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements){(0===i.reason?e:t).push(i.resourceLabel)}const n=[];return e.length>0&&n.push(nK(0,"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&n.push(nK(0,"The following files have been modified in an incompatible way: {0}.",t.join(", "))),n.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Age{constructor(e,t,n,i,o,r,s){this.id=++Tge,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=n,this.groupId=i,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,n){this.removedResources||(this.removedResources=new Rge),this.removedResources.has(t)||this.removedResources.set(t,new Mge(e,n))}setValid(e,t,n){n?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Rge),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Mge(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Oge{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const n of this._past)t(n.actual)&&this._setElementValidFlag(n,e);for(const n of this._future)t(n.actual)&&this._setElementValidFlag(n,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let n=0,i=this._past.length;n<i;n++)t.push(this._past[n].id);for(let n=this._future.length-1;n>=0;n--)t.push(this._future[n].id);return new Fue(e,t)}restoreSnapshot(e){const t=e.elements.length;let n=!0,i=0,o=-1;for(let s=0,a=this._past.length;s<a;s++,i++){const r=this._past[s];n&&(i>=t||r.id!==e.elements[i])&&(n=!1,o=0),n||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let s=this._future.length-1;s>=0;s--,i++){const o=this._future[s];n&&(i>=t||o.id!==e.elements[i])&&(n=!1,r=s),n||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const n of this._past)e.push(n.actual);for(const n of this._future)t.push(n.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let n=this._past.length-1;n>=0;n--)if(this._past[n]===e){t.has(this.strResource)?this._past[n]=t.get(this.strResource):this._past.splice(n,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let n=this._future.length-1;n>=0;n--)if(this._future[n]===e){t.has(this.strResource)?this._future[n]=t.get(this.strResource):this._future.splice(n,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class Pge{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,n=this.editStacks.length;t<n;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Fge=new Oge("","");Fge.locked=!0;let Bge=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const n of this._editStacks)t.push(n[1].toString());console.log(t.join("\n"))}pushElement(e,t=Bue.None,n=zue.None){if(0===e.type){const i=Nge(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new Ige(e,i,o,t.id,t.nextOrder(),n.id,n.nextOrder()))}else{const i=new Set,o=[],r=[];for(const t of e.resources){const e=Nge(t),n=this.getUriComparisonKey(t);i.has(n)||(i.add(n),o.push(e),r.push(n))}1===o.length?this._pushElement(new Ige(e,o[0],r[0],t.id,t.nextOrder(),n.id,n.nextOrder())):this._pushElement(new Age(e,o,r,t.id,t.nextOrder(),n.id,n.nextOrder()))}}_pushElement(e){for(let t=0,n=e.strResources.length;t<n;t++){const n=e.resourceLabels[t],i=e.strResources[t];let o;this._editStacks.has(i)?o=this._editStacks.get(i):(o=new Oge(n,i),this._editStacks.set(i,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const n=e.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const o of n){const e=Nge(o.resource),t=this.getUriComparisonKey(o.resource),n=new Ige(o,e,t,0,0,0,0);i.set(n.strResource,n)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,i)}}_splitFutureWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const o of n){const e=Nge(o.resource),t=this.getUriComparisonKey(o.resource),n=new Ige(o,e,t,0,0,0,0);i.set(n.strResource,n)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,i)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,n){const i=this.getUriComparisonKey(e);if(this._editStacks.has(i)){this._editStacks.get(i).setElementsValidFlag(t,n)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new Fue(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const n=this._editStacks.get(t);n.restoreSnapshot(e),n.hasPastElements()||n.hasFutureElements()||(n.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,n=i))}return[t,n]}canUndo(e){if(e instanceof zue){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){Rq(e);for(const n of t.strResources)this.removeElements(n);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,n,i,o){const r=this._acquireLocks(n);let s;try{s=t()}catch(a){return r(),i.dispose(),this._onError(a,e)}return s?s.then((()=>(r(),i.dispose(),o())),(t=>(r(),i.dispose(),this._onError(t,e)))):(r(),i.dispose(),o())}_invokeWorkspacePrepare(e){return Ege(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return Yq.None;const t=e.actual.prepareUndoRedo();return void 0===t?Yq.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(Yq.None);const n=e.actual.prepareUndoRedo();return n?"function"==typeof(i=n).dispose&&0===i.dispose.length?t(n):n.then((e=>t(e))):t(Yq.None);var i}_getAffectedEditStacks(e){const t=[];for(const n of e.strResources)t.push(this._editStacks.get(n)||Fge);return new Pge(t)}_tryToSplitAndUndo(e,t,n,i){if(t.canSplit())return this._splitPastWorkspaceElement(t,n),this._notificationService.warn(i),new zge(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(i),new zge}_checkWorkspaceUndo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,nK(0,"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,nK(0,"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of n.editStacks)s.getClosestPastElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,nK(0,"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of n.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,nK(0,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(e,t,null,nK(0,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,n){const i=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,i,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,i,n)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const n=t.getClosestPastElement();if(n){if(n===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(n.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,n,i){return Ege(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let r;(o=r||(r={}))[o.All=0]="All",o[o.This=1]="This",o[o.Cancel=2]="Cancel";const{result:s}=yield this._dialogService.prompt({type:Nde.Info,message:nK(0,"Would you like to undo '{0}' across all files?",t.label),buttons:[{label:nK(0,"&&Undo in {0} Files",n.editStacks.length),run:()=>r.All},{label:nK(0,"Undo this &&File"),run:()=>r.This}],cancelButton:{run:()=>r.Cancel}});if(s===r.Cancel)return;if(s===r.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const a=this._checkWorkspaceUndo(e,t,n,!1);if(a)return a.returnValue;i=!0}var o;let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const s=this._checkWorkspaceUndo(e,t,n,!0);if(s)return r.dispose(),s.returnValue;for(const e of n.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),n,r,(()=>this._continueUndoInGroup(t.groupId,i)))}))}_resourceUndo(e,t,n){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new Pge([e]),i,(()=>this._continueUndoInGroup(t.groupId,n))))));{const e=nK(0,"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,n=i))}return[t,n]}_continueUndoInGroup(e,t){if(!e)return;const[,n]=this._findClosestUndoElementInGroup(e);return n?this._undo(n,0,t):void 0}undo(e){if(e instanceof zue){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,n){if(!this._editStacks.has(e))return;const i=this._editStacks.get(e),o=i.getClosestPastElement();if(!o)return;if(o.groupId){const[e,i]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&i)return this._undo(i,t,n)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!n)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,n):this._resourceUndo(i,o,n)}finally{}}_confirmAndContinueUndo(e,t,n){return Ege(this,void 0,void 0,(function*(){if((yield this._dialogService.confirm({message:nK(0,"Would you like to undo '{0}'?",n.label),primaryButton:nK(0,"&&Yes"),cancelButton:nK(0,"No")})).confirmed)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,n=i))}return[t,n]}canRedo(e){if(e instanceof zue){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,n,i){if(t.canSplit())return this._splitFutureWorkspaceElement(t,n),this._notificationService.warn(i),new zge(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(i),new zge}_checkWorkspaceRedo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,nK(0,"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,nK(0,"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of n.editStacks)s.getClosestFutureElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,nK(0,"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of n.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,nK(0,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(e,t,null,nK(0,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const n=this._getAffectedEditStacks(t),i=this._checkWorkspaceRedo(e,t,n,!1);return i?i.returnValue:this._executeWorkspaceRedo(e,t,n)}_executeWorkspaceRedo(e,t,n){return Ege(this,void 0,void 0,(function*(){let i;try{i=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const o=this._checkWorkspaceRedo(e,t,n,!0);if(o)return i.dispose(),o.returnValue;for(const e of n.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),n,i,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new Pge([e]),n,(()=>this._continueRedoInGroup(t.groupId))))));{const e=nK(0,"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,n=i))}return[t,n]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof zue){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),n=t.getClosestFutureElement();if(n){if(n.groupId){const[e,t]=this._findClosestRedoElementInGroup(n.groupId);if(n!==e&&t)return this._redo(t)}try{return 1===n.type?this._workspaceRedo(e,n):this._resourceRedo(t,n)}finally{}}}};Bge=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Dge(0,Lge),Dge(1,Ide)],Bge);class zge{constructor(e){this.returnValue=e}}function Vge(e,t,n){return Math.min(Math.max(e,t),n)}m5(Pue,Bge,1);class Wge{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Hge{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const $ge=OQ("environmentService"),jge=OQ("openerService");function Uge(e,t){return aY.isUri(e)?MZ(e.scheme,t):RZ(e,t+":")}function Kge(e,...t){return t.some((t=>Uge(e,t)))}var qge=function(e,t){return function(n,i){t(n,i,e)}};const Gge=OQ("ILanguageFeatureDebounceService");var Yge;!function(e){const t=new WeakMap;let n=0;e.of=function(e){let i=t.get(e);return void 0===i&&(i=++n,t.set(e,i)),i}}(Yge||(Yge={}));class Xge{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class Zge{constructor(e,t,n,i,o,r){this._logService=e,this._name=t,this._registry=n,this._default=i,this._min=o,this._max=r,this._cache=new A6(50,.7)}_key(e){return e.id+this._registry.all(e).reduce(((e,t)=>Q5(Yge.of(t),e)),0)}get(e){const t=this._key(e),n=this._cache.get(t);return n?Vge(n.value,this._min,this._max):this.default()}update(e,t){const n=this._key(e);let i=this._cache.get(n);i||(i=new Hge(6),this._cache.set(n,i));const o=Vge(i.update(t),this._min,this._max);return Uge(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){const e=new Wge;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){return Vge(0|this._overall()||this._default,this._min,this._max)}}let Qge=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,n){var i,o,r;const s=null!==(i=null==n?void 0:n.min)&&void 0!==i?i:50,a=null!==(o=null==n?void 0:n.max)&&void 0!==o?o:Math.pow(s,2),l=null!==(r=null==n?void 0:n.key)&&void 0!==r?r:void 0,c=`${Yge.of(e)},${s}${l?","+l:""}`;let u=this._data.get(c);return u||(this._isDev?u=new Zge(this._logService,t,e,0|this._overallAverage()||1.5*s,s,a):(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),u=new Xge(1.5*s)),this._data.set(c,u)),u}_overallAverage(){const e=new Wge;for(const t of this._data.values())e.update(t.default());return e.value}};Qge=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([qge(0,c0),qge(1,$ge)],Qge),m5(Gge,Qge,1);var Jge=function(e,t){return function(n,i){t(n,i,e)}};let efe=class{constructor(e,t,n,i){this._legend=e,this._themeService=t,this._languageService=n,this._logService=i,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new nfe}getMetadata(e,t,n){const i=this._languageService.languageIdCodec.encodeLanguageId(n),o=this._hashTable.get(e,t,i);let r;if(o)r=o.metadata,this._logService.getLevel()===u0.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${O9.getForeground(r)}, fontStyle ${O9.getFontStyle(r).toString(2)}`);else{let o=this._legend.tokenTypes[e];const s=[];if(o){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&s.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===u0.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const i=this._themeService.getColorTheme().getTokenStyleMetadata(o,s,n);if(void 0===i)r=2147483647;else{if(r=0,void 0!==i.italic){r|=1|(i.italic?1:0)<<11}if(void 0!==i.bold){r|=2|(i.bold?2:0)<<11}if(void 0!==i.underline){r|=4|(i.underline?4:0)<<11}if(void 0!==i.strikethrough){r|=8|(i.strikethrough?8:0)<<11}if(i.foreground){r|=16|i.foreground<<15}0===r&&(r=2147483647)}}else this._logService.getLevel()===u0.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,o="not-in-legend";this._hashTable.add(e,t,i,r),this._logService.getLevel()===u0.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${o}) / ${t} (${s.join(" ")}): foreground ${O9.getForeground(r)}, fontStyle ${O9.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,n,i,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${n}: The provided start offset ${i} is outside the previous data (length ${o}).`))}};efe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Jge(1,Fie),Jge(2,g5),Jge(3,c0)],efe);class tfe{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class nfe{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=nfe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nfe._SIZES.length?2/3*this._currentLength:0),this._elements=[],nfe._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let o=this._elements[i];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===n)return o;o=o.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=nfe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nfe._SIZES.length?2/3*this._currentLength:0),this._elements=[],nfe._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new tfe(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}nfe._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];const ife=OQ("semanticTokensStylingService");var ofe=function(e,t){return function(n,i){t(n,i,e)}};let rfe=class extends Yq{constructor(e,t,n){super(),this._themeService=e,this._logService=t,this._languageService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new efe(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};rfe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ofe(0,Fie),ofe(1,c0),ofe(2,g5)],rfe),m5(ife,rfe,1);var sfe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const afe="**",lfe="/",cfe="[/\\\\]",ufe="[^/\\\\]",hfe=/\//g;function dfe(e,t){switch(e){case 0:return"";case 1:return`${ufe}*?`;default:return`(?:${cfe}|${ufe}+${cfe}${t?`|${cfe}${ufe}+`:""})*?`}}function gfe(e,t){if(!e)return[];const n=[];let i=!1,o=!1,r="";for(const s of e){switch(s){case t:if(!i&&!o){n.push(r),r="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":o=!0;break;case"]":o=!1}r+=s}return r&&n.push(r),n}function ffe(e){if(!e)return"";let t="";const n=gfe(e,lfe);if(n.every((e=>e===afe)))t=".*";else{let e=!1;n.forEach(((i,o)=>{if(i===afe){if(e)return;t+=dfe(2,o===n.length-1)}else{let e=!1,r="",s=!1,a="";for(const n of i)if("}"!==n&&e)r+=n;else if(!s||"]"===n&&a)switch(n){case"{":e=!0;continue;case"[":s=!0;continue;case"}":{const n=`(?:${gfe(r,",").map((e=>ffe(e))).join("|")})`;t+=n,e=!1,r="";break}case"]":t+="["+a+"]",s=!1,a="";break;case"?":t+=ufe;continue;case"*":t+=dfe(1);continue;default:t+=bZ(n)}else{let e;e="-"===n?n:"^"!==n&&"!"!==n||a?n===lfe?"":bZ(n):"^",a+=e}o<n.length-1&&(n[o+1]!==afe||o+2<n.length)&&(t+=cfe)}e=i===afe}))}return t}const pfe=/^\*\*\/\*\.[\w\.-]+$/,mfe=/^\*\*\/([\w\.-]+)\/?$/,vfe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,bfe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,_fe=/^\*\*((\/[\w\.-]+)+)\/?$/,yfe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,wfe=new A6(1e4),Cfe=function(){return!1},Sfe=function(){return null};function xfe(e,t){if(!e)return Sfe;let n;n="string"!=typeof e?e.pattern:e,n=n.trim();const i=`${n}_${!!t.trimForExclusions}`;let o,r=wfe.get(i);return r||(r=pfe.test(n)?function(e,t){return function(n,i){return"string"==typeof n&&n.endsWith(e)?t:null}}(n.substr(4),n):(o=mfe.exec(Lfe(n,t)))?function(e,t){const n=`/${e}`,i=`\\${e}`,o=function(o,r){return"string"!=typeof o?null:r?r===e?t:null:o===e||o.endsWith(n)||o.endsWith(i)?t:null},r=[e];return o.basenames=r,o.patterns=[t],o.allBasenames=r,o}(o[1],n):(t.trimForExclusions?bfe:vfe).test(n)?function(e,t){const n=Nfe(e.slice(1,-1).split(",").map((e=>xfe(e,t))).filter((e=>e!==Sfe)),e),i=n.length;if(!i)return Sfe;if(1===i)return n[0];const o=function(t,i){for(let o=0,r=n.length;o<r;o++)if(n[o](t,i))return e;return null},r=n.find((e=>!!e.allBasenames));r&&(o.allBasenames=r.allBasenames);const s=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(o.allPaths=s);return o}(n,t):(o=_fe.exec(Lfe(n,t)))?Dfe(o[1].substr(1),n,!0):(o=yfe.exec(Lfe(n,t)))?Dfe(o[1],n,!1):function(e){try{const t=new RegExp(`^${ffe(e)}$`);return function(n){return t.lastIndex=0,"string"==typeof n&&t.test(n)?e:null}}catch(t){return Sfe}}(n),wfe.set(i,r)),kfe(r,e)}function kfe(e,t){if("string"==typeof t)return e;const n=function(n,i){return Ule(n,t.base,!CK)?e(_Z(n.substr(t.base.length),eY),i):null};return n.allBasenames=e.allBasenames,n.allPaths=e.allPaths,n.basenames=e.basenames,n.patterns=e.patterns,n}function Lfe(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function Dfe(e,t,n){const i=eY===qG.sep,o=i?e:e.replace(hfe,eY),r=eY+o,s=qG.sep+e;let a;return a=n?function(n,a){return"string"!=typeof n||n!==o&&!n.endsWith(r)&&(i||n!==e&&!n.endsWith(s))?null:t}:function(n,r){return"string"!=typeof n||n!==o&&(i||n!==e)?null:t},a.allPaths=[(n?"*/":"./")+e],a}function Efe(e,t={}){if(!e)return Cfe;if("string"==typeof e||function(e){const t=e;if(!t)return!1;return"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const n=xfe(e,t);if(n===Sfe)return Cfe;const i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return function(e,t){const n=Nfe(Object.getOwnPropertyNames(e).map((n=>function(e,t,n){if(!1===t)return Sfe;const i=xfe(e,n);if(i===Sfe)return Sfe;if("boolean"==typeof t)return i;if(t){const n=t.when;if("string"==typeof n){const t=(t,o,r,s)=>{if(!s||!i(t,o))return null;const a=s(n.replace("$(basename)",(()=>r)));return q2(a)?a.then((t=>t?e:null)):a?e:null};return t.requiresSiblings=!0,t}}return i}(n,e[n],t))).filter((e=>e!==Sfe))),i=n.length;if(!i)return Sfe;if(!n.some((e=>!!e.requiresSiblings))){if(1===i)return n[0];const e=function(e,t){let i;for(let o=0,r=n.length;o<r;o++){const r=n[o](e,t);if("string"==typeof r)return r;q2(r)&&(i||(i=[]),i.push(r))}return i?(()=>sfe(this,void 0,void 0,(function*(){for(const e of i){const t=yield e;if("string"==typeof t)return t}return null})))():null},t=n.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,i){let o,r;for(let s=0,a=n.length;s<a;s++){const a=n[s];a.requiresSiblings&&i&&(t||(t=QG(e)),o||(o=t.substr(0,t.length-JG(e).length)));const l=a(e,t,o,i);if("string"==typeof l)return l;q2(l)&&(r||(r=[]),r.push(l))}return r?(()=>sfe(this,void 0,void 0,(function*(){for(const e of r){const t=yield e;if("string"==typeof t)return t}return null})))():null},r=n.find((e=>!!e.allBasenames));r&&(o.allBasenames=r.allBasenames);const s=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(o.allPaths=s);return o}(e,t)}function Nfe(e,t){const n=e.filter((e=>!!e.basenames));if(n.length<2)return e;const i=n.reduce(((e,t)=>{const n=t.basenames;return n?e.concat(n):e}),[]);let o;if(t){o=[];for(let e=0,n=i.length;e<n;e++)o.push(t)}else o=n.reduce(((e,t)=>{const n=t.patterns;return n?e.concat(n):e}),[]);const r=function(e,t){if("string"!=typeof e)return null;if(!t){let n;for(n=e.length;n>0;n--){const t=e.charCodeAt(n-1);if(47===t||92===t)break}t=e.substr(n)}const n=i.indexOf(t);return-1!==n?o[n]:null};r.basenames=i,r.patterns=o,r.allBasenames=i;const s=e.filter((e=>!e.basenames));return s.push(r),s}function Tfe(e,t,n,i,o,r){if(Array.isArray(e)){let s=0;for(const a of e){const e=Tfe(a,t,n,i,o,r);if(10===e)return e;e>s&&(s=e)}return s}if("string"==typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:c,pattern:u,scheme:h,hasAccessToAllModels:d,notebookType:g}=e;if(!i&&!d)return 0;g&&o&&(t=o);let f=0;if(h)if(h===t.scheme)f=10;else{if("*"!==h)return 0;f=5}if(c)if(c===n)f=10;else{if("*"!==c)return 0;f=Math.max(f,5)}if(g)if(g===r)f=10;else{if("*"!==g||void 0===r)return 0;f=Math.max(f,5)}if(u){let e;if(e="string"==typeof u?u:Object.assign(Object.assign({},u),{base:GG(u.base)}),e!==t.fsPath&&(s=e,a=t.fsPath,!s||"string"!=typeof a||!Efe(s)(a,void 0,l)))return 0;f=10}return f}return 0;var s,a,l}function Ife(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(Ife):!!e.exclusive)}class Mfe{constructor(e,t,n,i){this.uri=e,this.languageId=t,this.notebookUri=n,this.notebookType=i}equals(e){var t,n;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=e.notebookUri)||void 0===n?void 0:n.toString())}}class Rfe{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new sG,this.onDidChange=this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),qq((()=>{if(n){const e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,(e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))})),t}_orderedForEach(e,t){this._updateScores(e);for(const n of this._entries)n._score>0&&t(n)}_updateScores(e){var t,n;const i=null===(t=this._notebookInfoResolver)||void 0===t?void 0:t.call(this,e.uri),o=i?new Mfe(e.uri,e.getLanguageId(),i.uri,i.type):new Mfe(e.uri,e.getLanguageId(),void 0,void 0);if(!(null===(n=this._lastCandidate)||void 0===n?void 0:n.equals(o))){this._lastCandidate=o;for(const t of this._entries)if(t._score=Tfe(t.selector,o.uri,o.languageId,O3(e),o.notebookUri,o.notebookType),Ife(t.selector)&&t._score>0){for(const e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(Rfe._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:Afe(e.selector)&&!Afe(t.selector)?1:!Afe(e.selector)&&Afe(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function Afe(e){return"string"!=typeof e&&(Array.isArray(e)?e.some(Afe):Boolean(e.isBuiltin))}m5(b9,class{constructor(){this.referenceProvider=new Rfe(this._score.bind(this)),this.renameProvider=new Rfe(this._score.bind(this)),this.codeActionProvider=new Rfe(this._score.bind(this)),this.definitionProvider=new Rfe(this._score.bind(this)),this.typeDefinitionProvider=new Rfe(this._score.bind(this)),this.declarationProvider=new Rfe(this._score.bind(this)),this.implementationProvider=new Rfe(this._score.bind(this)),this.documentSymbolProvider=new Rfe(this._score.bind(this)),this.inlayHintsProvider=new Rfe(this._score.bind(this)),this.colorProvider=new Rfe(this._score.bind(this)),this.codeLensProvider=new Rfe(this._score.bind(this)),this.documentFormattingEditProvider=new Rfe(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Rfe(this._score.bind(this)),this.onTypeFormattingEditProvider=new Rfe(this._score.bind(this)),this.signatureHelpProvider=new Rfe(this._score.bind(this)),this.hoverProvider=new Rfe(this._score.bind(this)),this.documentHighlightProvider=new Rfe(this._score.bind(this)),this.selectionRangeProvider=new Rfe(this._score.bind(this)),this.foldingRangeProvider=new Rfe(this._score.bind(this)),this.linkProvider=new Rfe(this._score.bind(this)),this.inlineCompletionsProvider=new Rfe(this._score.bind(this)),this.completionProvider=new Rfe(this._score.bind(this)),this.linkedEditingRangeProvider=new Rfe(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Rfe(this._score.bind(this)),this.documentSemanticTokensProvider=new Rfe(this._score.bind(this)),this.documentOnDropEditProvider=new Rfe(this._score.bind(this)),this.documentPasteEditProvider=new Rfe(this._score.bind(this))}_score(e){var t;return null===(t=this._notebookTypeResolver)||void 0===t?void 0:t.call(this,e)}},1);const Ofe=OQ("IWorkspaceEditService");class Pfe{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(Ffe.is(e))return Ffe.lift(e);if(Bfe.is(e))return Bfe.lift(e);throw new Error("Unsupported edit")}))}}class Ffe extends Pfe{static is(e){return e instanceof Ffe||FU(e)&&aY.isUri(e.resource)&&FU(e.textEdit)}static lift(e){return e instanceof Ffe?e:new Ffe(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,n=void 0,i){super(i),this.resource=e,this.textEdit=t,this.versionId=n}}class Bfe extends Pfe{static is(e){return e instanceof Bfe||FU(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof Bfe?e:new Bfe(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,n={},i){super(i),this.oldResource=e,this.newResource=t,this.options=n}}const zfe={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},Vfe=Object.freeze({id:"editor",order:5,type:"object",title:nK(0,"Editor"),scope:5}),Wfe=Object.assign(Object.assign({},Vfe),{properties:{"editor.tabSize":{type:"number",default:BK.tabSize,minimum:1,markdownDescription:nK(0,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:nK(0,'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:BK.insertSpaces,markdownDescription:nK(0,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:BK.detectIndentation,markdownDescription:nK(0,"Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:BK.trimAutoWhitespace,description:nK(0,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:BK.largeFileOptimizations,description:nK(0,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:nK(0,"Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[nK(0,"Only suggest words from the active document."),nK(0,"Suggest words from all open documents of the same language."),nK(0,"Suggest words from all open documents.")],description:nK(0,"Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[nK(0,"Semantic highlighting enabled for all color themes."),nK(0,"Semantic highlighting disabled for all color themes."),nK(0,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:nK(0,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:nK(0,"Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:nK(0,"Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:nK(0,"Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:nK(0,"Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:nK(0,"Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:nK(0,"Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:nK(0,"The opening bracket character or string sequence.")},{type:"string",description:nK(0,"The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:nK(0,"Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:nK(0,"The opening bracket character or string sequence.")},{type:"string",description:nK(0,"The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:zfe.maxComputationTime,description:nK(0,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:zfe.maxFileSize,description:nK(0,"Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:zfe.renderSideBySide,description:nK(0,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:zfe.renderSideBySideInlineBreakpoint,description:nK(0,"If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:zfe.useInlineViewWhenSpaceIsLimited,description:nK(0,"If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:zfe.renderMarginRevertIcon,description:nK(0,"When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:zfe.ignoreTrimWhitespace,description:nK(0,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:zfe.renderIndicators,description:nK(0,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:zfe.diffCodeLens,description:nK(0,"Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:zfe.diffWordWrap,markdownEnumDescriptions:[nK(0,"Lines will never wrap."),nK(0,"Lines will wrap at the viewport width."),nK(0,"Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:zfe.diffAlgorithm,markdownEnumDescriptions:[nK(0,"Uses the legacy diffing algorithm."),nK(0,"Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:zfe.hideUnchangedRegions.enabled,markdownDescription:nK(0,"Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:zfe.hideUnchangedRegions.revealLineCount,markdownDescription:nK(0,"Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:zfe.hideUnchangedRegions.minimumLineCount,markdownDescription:nK(0,"Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:zfe.hideUnchangedRegions.contextLineCount,markdownDescription:nK(0,"Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:zfe.experimental.showMoves,markdownDescription:nK(0,"Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:zfe.experimental.showEmptyDecorations,description:nK(0,"Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});for(const pTe of Nq){const e=pTe.schema;if(void 0!==e)if(void 0!==(Hfe=e).type||void 0!==Hfe.anyOf)Wfe.properties[`editor.${pTe.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(Wfe.properties[t]=e[t])}var Hfe;let $fe=null;function jfe(){return null===$fe&&($fe=Object.create(null),Object.keys(Wfe.properties).forEach((e=>{$fe[e]=!0}))),$fe}YJ.as(w5).registerConfiguration(Wfe);class Ufe{static insert(e,t){return{range:new _Y(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function Kfe(e){return Object.isFrozen(e)?e:function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const n in e)if(XU.call(e,n)){const i=e[n];"object"!=typeof i||Object.isFrozen(i)||BU(i)||t.push(i)}}return e}(e)}class qfe{constructor(e={},t=[],n=[],i){this._contents=e,this._keys=t,this._overrides=n,this.raw=i,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(null===(e=this.raw)||void 0===e?void 0:e.length){const e=this.raw.map((e=>{if(e instanceof qfe)return e;const t=new Gfe("");return t.parseRaw(e),t.configurationModel}));this._rawConfiguration=e.reduce(((e,t)=>t===e?t:e.merge(t)),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?d5(this.contents,e):this.contents}inspect(e,t){const n=this.rawConfiguration.getValue(e);return{value:n,override:t?this.rawConfiguration.getOverrideValue(e,t):void 0,merged:t?this.rawConfiguration.override(t).getValue(e):n}}getOverrideValue(e,t){const n=this.getContentsForOverrideIdentifer(t);return n?e?d5(n,e):n:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,n;const i=YU(this.contents),o=YU(this.overrides),r=[...this.keys],s=(null===(t=this.raw)||void 0===t?void 0:t.length)?[...this.raw]:[this];for(const a of e)if(s.push(...(null===(n=a.raw)||void 0===n?void 0:n.length)?a.raw:[a]),!a.isEmpty()){this.mergeContents(i,a.contents);for(const e of a.overrides){const[t]=o.filter((t=>pU(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=_U(t.keys)):o.push(YU(e))}for(const e of a.keys)-1===r.indexOf(e)&&r.push(e)}return new qfe(i,r,o,s.every((e=>e instanceof qfe))?void 0:s)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;const n={};for(const i of _U([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[i];const o=t[i];o&&("object"==typeof e&&"object"==typeof o?(e=YU(e),this.mergeContents(e,o)):e=o),n[i]=e}return new qfe(n,this.keys,this.overrides)}mergeContents(e,t){for(const n of Object.keys(t))n in e&&FU(e[n])&&FU(t[n])?this.mergeContents(e[n],t[n]):e[n]=YU(t[n])}getContentsForOverrideIdentifer(e){let t=null,n=null;const i=e=>{e&&(n?this.mergeContents(n,e):n=YU(e))};for(const o of this.overrides)1===o.identifiers.length&&o.identifiers[0]===e?t=o.contents:o.identifiers.includes(e)&&i(o.contents);return i(t),n}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);-1!==t&&(this.keys.splice(t,1),u5(this.contents,e),L5.test(e)&&this.overrides.splice(this.overrides.findIndex((t=>pU(t.identifiers,D5(e)))),1))}updateValue(e,t,n){c5(this.contents,e,t,(e=>console.error(e))),(n=n||-1===this.keys.indexOf(e))&&this.keys.push(e),L5.test(e)&&this.overrides.push({identifiers:D5(e),keys:Object.keys(this.contents[e]),contents:l5(this.contents[e],(e=>console.error(e)))})}}class Gfe{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new qfe}parseRaw(e,t){this._raw=e;const{contents:n,keys:i,overrides:o,restricted:r,hasExcludedProperties:s}=this.doParseRaw(e,t);this._configurationModel=new qfe(n,i,o,s?[e]:void 0),this._restrictedConfigurations=r||[]}doParseRaw(e,t){const n=YJ.as(w5).getConfigurationProperties(),i=this.filter(e,n,!0,t);return{contents:l5(e=i.raw,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`))),keys:Object.keys(e),overrides:this.toOverrides(e,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`))),restricted:i.restricted,hasExcludedProperties:i.hasExcludedProperties}}filter(e,t,n,i){var o,r,s;let a=!1;if(!(null==i?void 0:i.scopes)&&!(null==i?void 0:i.skipRestricted)&&!(null===(o=null==i?void 0:i.exclude)||void 0===o?void 0:o.length))return{raw:e,restricted:[],hasExcludedProperties:a};const l={},c=[];for(const u in e)if(L5.test(u)&&n){const n=this.filter(e[u],t,!1,i);l[u]=n.raw,a=a||n.hasExcludedProperties,c.push(...n.restricted)}else{const n=t[u],o=n?void 0!==n.scope?n.scope:3:void 0;(null==n?void 0:n.restricted)&&c.push(u),(null===(r=i.exclude)||void 0===r?void 0:r.includes(u))||!(null===(s=i.include)||void 0===s?void 0:s.includes(u))&&(void 0!==o&&void 0!==i.scopes&&!i.scopes.includes(o)||i.skipRestricted&&(null==n?void 0:n.restricted))?a=!0:l[u]=e[u]}return{raw:l,restricted:c,hasExcludedProperties:a}}toOverrides(e,t){const n=[];for(const i of Object.keys(e))if(L5.test(i)){const o={};for(const t in e[i])o[t]=e[i][t];n.push({identifiers:D5(i),keys:Object.keys(o),contents:l5(o,t)})}return n}}class Yfe{constructor(e,t,n,i,o,r,s,a,l,c,u,h,d){this.key=e,this.overrides=t,this._value=n,this.overrideIdentifiers=i,this.defaultConfiguration=o,this.policyConfiguration=r,this.applicationConfiguration=s,this.userConfiguration=a,this.localUserConfiguration=l,this.remoteUserConfiguration=c,this.workspaceConfiguration=u,this.folderConfigurationModel=h,this.memoryConfigurationModel=d}inspect(e,t,n){const i=e.inspect(t,n);return{get value(){return Kfe(i.value)},get override(){return Kfe(i.override)},get merged(){return Kfe(i.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return void 0!==this.userInspectValue.value||void 0!==this.userInspectValue.override?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class Xfe{constructor(e,t,n,i,o=new qfe,r=new qfe,s=new M6,a=new qfe,l=new M6){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=n,this._localUserConfiguration=i,this._remoteUserConfiguration=o,this._workspaceConfiguration=r,this._folderConfigurations=s,this._memoryConfiguration=a,this._memoryConfigurationByResource=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new M6,this._userConfiguration=null}getValue(e,t,n){return this.getConsolidatedConfigurationModel(e,t,n).getValue(e)}updateValue(e,t,n={}){let i;n.resource?(i=this._memoryConfigurationByResource.get(n.resource),i||(i=new qfe,this._memoryConfigurationByResource.set(n.resource,i))):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,n){const i=this.getConsolidatedConfigurationModel(e,t,n),o=this.getFolderConfigurationModelForResource(t.resource,n),r=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,s=new Set;for(const a of i.overrides)for(const t of a.identifiers)void 0!==i.getOverrideValue(e,t)&&s.add(t);return new Yfe(e,t,i.getValue(e),s.size?[...s]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,n?this._workspaceConfiguration:void 0,o||void 0,r)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,n){let i=this.getConsolidatedConfigurationModelForResource(t,n);return t.overrideIdentifier&&(i=i.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(i=i.merge(this._policyConfiguration)),i}getConsolidatedConfigurationModelForResource({resource:e},t){let n=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const i=t.getFolder(e);i&&(n=this.getFolderConsolidatedConfiguration(i.uri)||n);const o=this._memoryConfigurationByResource.get(e);o&&(n=n.merge(o))}return n}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const n=t.getFolder(e);if(n)return this._folderConfigurations.get(n.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:n,overrides:i,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:n,overrides:i,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),n=this.parseConfigurationModel(e.policy),i=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),s=e.folders.reduce(((e,t)=>(e.set(aY.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new M6);return new Xfe(t,n,i,o,new qfe,r,s,new qfe,new M6)}static parseConfigurationModel(e){return new qfe(e.contents,e.keys,e.overrides)}}class Zfe{constructor(e,t,n,i){this.change=e,this.previous=t,this.currentConfiguraiton=n,this.currentWorkspace=i,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const e of o)this.affectedKeys.add(e);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Xfe.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var n;const i=this._marker+e,o=this._affectsConfigStr.indexOf(i);if(o<0)return!1;const r=o+i.length;if(r>=this._affectsConfigStr.length)return!1;const s=this._affectsConfigStr.charCodeAt(r);if(s!==this._markerCode1&&s!==this._markerCode2)return!1;if(t){return!JU(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(n=this.previous)||void 0===n?void 0:n.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}}const Qfe={kind:0},Jfe={kind:1};class epe{constructor(e,t,n){var i;this._log=n,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const o of e){const e=o.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=epe.handleRemovals([].concat(e).concat(t));for(let o=0,r=this._keybindings.length;o<r;o++){const e=this._keybindings[o];if(0===e.chords.length)continue;const t=null===(i=e.when)||void 0===i?void 0:i.substituteConstants();t&&0===t.type||this._addKeyPress(e.chords[0],e)}}static _isTargetedForRemoval(e,t,n){if(t)for(let i=0;i<t.length;i++)if(t[i]!==e.chords[i])return!1;if(n&&1!==n.type){if(!e.when)return!1;if(!function(e,t){const n=e?e.substituteConstants():void 0,i=t?t.substituteConstants():void 0;return!n&&!i||!(!n||!i)&&n.equals(i)}(n,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let i=0,o=e.length;i<o;i++){const n=e[i];if(n.command&&"-"===n.command.charAt(0)){const e=n.command.substring(1);t.has(e)?t.get(e).push(n):t.set(e,[n])}}if(0===t.size)return e;const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];if(!o.command||0===o.command.length){n.push(o);continue}if("-"===o.command.charAt(0))continue;const r=t.get(o.command);if(!r||!o.isDefault){n.push(o);continue}let s=!1;for(const e of r){const t=e.when;if(this._isTargetedForRemoval(o,e.chords,t)){s=!0;break}}s||n.push(o)}return n}_addKeyPress(e,t){const n=this._map.get(e);if(void 0===n)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let i=n.length-1;i>=0;i--){const e=n[i];if(e.command===t.command)continue;let o=!0;for(let n=1;n<e.chords.length&&n<t.chords.length;n++)if(e.chords[n]!==t.chords[n]){o=!1;break}o&&(epe.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e))}n.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(void 0!==t)for(let n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&PJ(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const n=this._lookupMap.get(e);if(void 0===n||0===n.length)return null;if(1===n.length)return n[0];for(let i=n.length-1;i>=0;i--){const e=n[i];if(t.contextMatchesRules(e.when))return e}return n[n.length-1]}resolve(e,t,n){const i=[...t,n];this._log(`| Resolving ${i}`);const o=this._map.get(i[0]);if(void 0===o)return this._log("\\ No keybinding entries."),Qfe;let r=null;if(i.length<2)r=o;else{r=[];for(let e=0,t=o.length;e<t;e++){const t=o[e];if(i.length>t.chords.length)continue;let n=!0;for(let e=1;e<i.length;e++)if(t.chords[e]!==i[e]){n=!1;break}n&&r.push(t)}}const s=this._findCommand(e,r);return s?i.length<s.chords.length?(this._log(`\\ From ${r.length} keybinding entries, awaiting ${s.chords.length-i.length} more chord(s), when: ${tpe(s.when)}, source: ${npe(s)}.`),Jfe):(this._log(`\\ From ${r.length} keybinding entries, matched ${s.command}, when: ${tpe(s.when)}, source: ${npe(s)}.`),a=s.command,l=s.commandArgs,c=s.bubble,{kind:2,commandId:a,commandArgs:l,isBubble:c}):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),Qfe);var a,l,c}_findCommand(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(epe._contextMatchesRules(e,i.when))return i}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function tpe(e){return e?`${e.serialize()}`:"no when condition"}function npe(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}const ipe=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class ope extends Yq{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:tG.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,n,i,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=n,this._notificationService=i,this._logService=o,this._onDidUpdateKeybindings=this._register(new sG),this._currentChords=[],this._currentChordChecker=new t4,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=rpe.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new e4,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const n=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(e);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Qfe;const[i]=n.getDispatchChords();if(null===i)return this._log("\\ Keyboard event cannot be dispatched"),Qfe;const o=this._contextKeyService.getContext(t),r=this._currentChords.map((({keypress:e})=>e));return this._getResolver().resolve(o,r,i)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-e>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw Vq("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(nK(0,"({0}) was pressed. Waiting for second key of chord...",t));break;default:{const e=this._currentChords.map((({label:e})=>e)).join(", ");this._currentChordStatusMessage=this._notificationService.status(nK(0,"({0}) was pressed. Waiting for next key of chord...",e))}}this._scheduleLeaveChordMode(),Woe.enabled&&Woe.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Woe.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const n=this.resolveKeyboardEvent(e),[i]=n.getSingleModifierDispatchChords();if(i)return this._ignoreSingleModifiers.has(i)?(this._log(`+ Ignoring single modifier ${i} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=rpe.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=rpe.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${i}.`),this._currentSingleModifier=i,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):i===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${i} ${i}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${i}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=n.getChords();return this._ignoreSingleModifiers=new rpe(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,n=!1){var i;let o=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let r=null,s=null;if(n){const[t]=e.getSingleModifierDispatchChords();r=t,s=t?[t]:[]}else[r]=e.getDispatchChords(),s=this._currentChords.map((({keypress:e})=>e));if(null===r)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,s,r);switch(c.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const e=this._currentChords.map((({label:e})=>e)).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${e}, ${l}".`),this._notificationService.status(nK(0,"The key combination ({0}, {1}) is not a command.",e,l),{hideAfter:1e4}),this._leaveChordMode(),o=!0}return o;case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),o=!0,this._expectAnotherChord(r,l),this._log(1===this._currentChords.length?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),o;case 2:if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${c.commandId} ]`),null===c.commandId||""===c.commandId){if(this.inChordMode){const e=this._currentChords.map((({label:e})=>e)).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${e}, ${l}".`),this._notificationService.status(nK(0,"The key combination ({0}, {1}) is not a command.",e,l),{hideAfter:1e4}),this._leaveChordMode(),o=!0}}else this.inChordMode&&this._leaveChordMode(),c.isBubble||(o=!0),this._log(`+ Invoking command ${c.commandId}.`),void 0===c.commandArgs?this._commandService.executeCommand(c.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),ipe.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:null!==(i=e.getUserSettingsLabel())&&void 0!==i?i:void 0});return o}}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class rpe{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}rpe.EMPTY=new rpe(null);class spe{constructor(e,t,n,i,o,r,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?ape(e.getDispatchChords()):[],e&&0===this.chords.length&&(this.chords=ape(e.getSingleModifierDispatchChords())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=s}}function ape(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i)return[];t.push(i)}return t}class lpe{constructor(e,t,n=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}toLabel(e,t,n){if(0===t.length)return null;const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=n(r);if(null===s)return null;i[o]=gpe(r,s,this.modifierLabels[e])}return i.join(" ")}}const cpe=new lpe({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:nK(0,"Ctrl"),shiftKey:nK(0,"Shift"),altKey:nK(0,"Alt"),metaKey:nK(0,"Windows"),separator:"+"},{ctrlKey:nK(0,"Ctrl"),shiftKey:nK(0,"Shift"),altKey:nK(0,"Alt"),metaKey:nK(0,"Super"),separator:"+"}),upe=new lpe({ctrlKey:nK(0,"Control"),shiftKey:nK(0,"Shift"),altKey:nK(0,"Option"),metaKey:nK(0,"Command"),separator:"+"},{ctrlKey:nK(0,"Control"),shiftKey:nK(0,"Shift"),altKey:nK(0,"Alt"),metaKey:nK(0,"Windows"),separator:"+"},{ctrlKey:nK(0,"Control"),shiftKey:nK(0,"Shift"),altKey:nK(0,"Alt"),metaKey:nK(0,"Super"),separator:"+"}),hpe=new lpe({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),dpe=new lpe({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function gpe(e,t,n){if(null===t)return"";const i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),""!==t&&i.push(t),i.join(n.separator)}class fpe extends jJ{constructor(e,t){if(super(),0===t.length)throw zq("chords");this._os=e,this._chords=t}getLabel(){return cpe.toLabel(this._os,this._chords,(e=>this._getLabel(e)))}getAriaLabel(){return upe.toLabel(this._os,this._chords,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:hpe.toLabel(this._os,this._chords,(e=>this._getElectronAccelerator(e)))}getUserSettingsLabel(){return dpe.toLabel(this._os,this._chords,(e=>this._getUserSettingsLabel(e)))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((e=>this._getChord(e)))}_getChord(e){return new $J(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map((e=>this._getChordDispatch(e)))}getSingleModifierDispatchChords(){return this._chords.map((e=>this._getSingleModifierChordDispatch(e)))}}class ppe extends fpe{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return LG.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":LG.toString(e.keyCode)}_getElectronAccelerator(e){return LG.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=LG.toUserSettingsUS(e.keyCode);return t?t.toLowerCase():t}_getChordDispatch(e){return ppe.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=LG.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=kG[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof WJ)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new WJ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const n=ape(e.chords.map((e=>this._toKeyCodeChord(e))));return n.length>0?[new ppe(n,t)]:[]}}const mpe=OQ("labelService"),vpe=OQ("progressService"),bpe=OQ("editorProgressService");class _pe{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class ype{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?LZ(e,this._value,0,e.length,this._from,this._to):EZ(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class wpe{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const e=this._value.charCodeAt(t);if(!(47===e||this._splitOnBackslash&&92===e))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?LZ(e,this._value,0,e.length,this._from,this._to):EZ(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Cpe{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new wpe(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return DZ(e,this._value.scheme);if(2===this._states[this._stateIdx])return DZ(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return kZ(e,this._value.query);if(5===this._states[this._stateIdx])return kZ(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class Spe{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class xpe{static forUris(e=()=>!1,t=()=>!1){return new xpe(new Cpe(e,t))}static forStrings(){return new xpe(new _pe)}static forConfigKeys(){return new xpe(new ype)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const n=this._iter.reset(e);let i;this._root||(this._root=new Spe,this._root.segment=n.value());const o=[];for(i=this._root;;){const e=n.cmp(i.segment);if(e>0)i.left||(i.left=new Spe,i.left.segment=n.value()),o.push([-1,i]),i=i.left;else if(e<0)i.right||(i.right=new Spe,i.right.segment=n.value()),o.push([1,i]),i=i.right;else{if(!n.hasNext())break;n.next(),i.mid||(i.mid=new Spe,i.mid.segment=n.value()),o.push([0,i]),i=i.mid}}const r=i.value;i.value=t,i.key=e;for(let s=o.length-1;s>=0;s--){const e=o[s][1];e.updateHeight();const t=e.balanceFactor();if(t<-1||t>1){const t=o[s][0],n=o[s+1][0];if(1===t&&1===n)o[s][1]=e.rotateLeft();else if(-1===t&&-1===n)o[s][1]=e.rotateRight();else if(1===t&&-1===n)e.right=o[s+1][1]=o[s+1][1].rotateRight(),o[s][1]=e.rotateLeft();else{if(-1!==t||1!==n)throw new Error;e.left=o[s+1][1]=o[s+1][1].rotateLeft(),o[s][1]=e.rotateRight()}if(s>0)switch(o[s-1][0]){case-1:o[s-1][1].left=o[s][1];break;case 1:o[s-1][1].right=o[s][1];break;case 0:o[s-1][1].mid=o[s][1]}else this._root=o[0][1]}}return r}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var n;const i=this._iter.reset(e),o=[];let r=this._root;for(;r;){const e=i.cmp(r.segment);if(e>0)o.push([-1,r]),r=r.left;else if(e<0)o.push([1,r]),r=r.right;else{if(!i.hasNext())break;i.next(),o.push([0,r]),r=r.mid}}if(r){if(t?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const e=this._min(r.right);if(e.key){const{key:t,value:n,segment:i}=e;this._delete(e.key,!1),r.key=t,r.value=n,r.segment=i}}else{const e=null!==(n=r.left)&&void 0!==n?n:r.right;if(o.length>0){const[t,n]=o[o.length-1];switch(t){case-1:n.left=e;break;case 0:n.mid=e;break;case 1:n.right=e}}else this._root=e}for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const n=t.balanceFactor();if(n>1?(t.right.balanceFactor()>=0||(t.right=t.right.rotateRight()),o[e][1]=t.rotateLeft()):n<-1&&(t.left.balanceFactor()<=0||(t.left=t.left.rotateLeft()),o[e][1]=t.rotateRight()),e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let n,i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),n=i.value||n,i=i.mid}}return i&&i.value||n}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const n=this._iter.reset(e);let i=this._root;for(;i;){const e=n.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!n.hasNext())return i.mid?this._entries(i.mid):t?i.value:void 0;n.next(),i=i.mid}}}forEach(e){for(const[t,n]of this)e(n,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const kpe=OQ("contextService");class Lpe{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}nK(0,"Code Workspace");var Dpe,Epe,Npe,Tpe,Ipe,Mpe,Rpe,Ape,Ope,Ppe,Fpe;(Dpe||(Dpe={})).inspectTokensAction=nK(0,"Developer: Inspect Tokens"),(Epe||(Epe={})).gotoLineActionLabel=nK(0,"Go to Line/Column..."),(Npe||(Npe={})).helpQuickAccessActionLabel=nK(0,"Show all Quick Access Providers"),(Ipe=Tpe||(Tpe={})).quickCommandActionLabel=nK(0,"Command Palette"),Ipe.quickCommandHelp=nK(0,"Show And Run Commands"),(Rpe=Mpe||(Mpe={})).quickOutlineActionLabel=nK(0,"Go to Symbol..."),Rpe.quickOutlineByCategoryActionLabel=nK(0,"Go to Symbol by Category..."),(Ope=Ape||(Ape={})).editorViewAccessibleLabel=nK(0,"Editor content"),Ope.accessibilityHelpMessage=nK(0,"Press Alt+F1 for Accessibility Options."),(Ppe||(Ppe={})).toggleHighContrast=nK(0,"Toggle High Contrast Theme"),(Fpe||(Fpe={})).bulkEditServiceSummary=nK(0,"Made {0} edits in {1} files");const Bpe=OQ("workspaceTrustManagementService"),zpe=OQ("contextViewService"),Vpe=OQ("contextMenuService");var Wpe,Hpe,$pe;function jpe(e,t,n){const i=n.mode===Hpe.ALIGN?n.offset:n.offset+n.size,o=n.mode===Hpe.ALIGN?n.offset+n.size:n.offset;return 0===n.position?t<=e-i?i:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-i?i:0}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?{start:0,end:0}:{start:n,end:i}}function n(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=n,e.intersects=function(e,i){return!n(t(e,i))},e.relativeComplement=function(e,t){const i=[],o={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return n(o)||i.push(o),n(r)||i.push(r),i}}(Wpe||(Wpe={})),($pe=Hpe||(Hpe={}))[$pe.AVOID=0]="AVOID",$pe[$pe.ALIGN=1]="ALIGN";class Upe extends Yq{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Yq.None,this.toDisposeOnSetContainer=Yq.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=v2(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,_2(this.view),this.setContainer(e,t),this._register(qq((()=>this.setContainer(null,1))))}setContainer(e,t){var n;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(n=this.shadowRootHostElement)||void 0===n||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=v2(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=Kpe,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(v2("slot"))}else this.container.appendChild(this.view);const n=new Gq;Upe.BUBBLE_UP_EVENTS.forEach((e=>{n.add(P1(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),Upe.BUBBLE_DOWN_EVENTS.forEach((e=>{n.add(P1(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=n}}show(e){var t,n;this.isVisible()&&this.hide(),M1(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",b2(this.view),this.toDisposeOnClean=e.render(this.view)||Yq.None,this.delegate=e,this.doLayout(),null===(n=(t=this.delegate).focus)||void 0===n||n.call(t)}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||LK&&m0?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(o2(e)){const n=j1(e),i=function(e){let t=e,n=1;do{const e=V1(t).zoom;null!=e&&"1"!==e&&(n*=e),t=t.parentElement}while(null!==t&&t!==t.ownerDocument.documentElement);return n}(e);t={top:n.top*i,left:n.left*i,width:n.width*i,height:n.height*i}}else t=function(e){const t=e;return!!t&&"number"==typeof t.x&&"number"==typeof t.y}(e)?{top:e.y,left:e.x,width:e.width||1,height:e.height||2}:{top:e.posy,left:e.posx,width:2,height:2};const n=U1(this.view),i=G1(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0;let s,a;if(0===(this.delegate.anchorAxisAlignment||0)){const e={offset:t.top-window.pageYOffset,size:t.height,position:0===o?0:1},l={offset:t.left,size:t.width,position:0===r?0:1,mode:Hpe.ALIGN};s=jpe(window.innerHeight,i,e)+window.pageYOffset,Wpe.intersects({start:s,end:s+i},{start:e.offset,end:e.offset+e.size})&&(l.mode=Hpe.AVOID),a=jpe(window.innerWidth,n,l)}else{const e={offset:t.left,size:t.width,position:0===r?0:1},l={offset:t.top,size:t.height,position:0===o?0:1,mode:Hpe.ALIGN};a=jpe(window.innerWidth,n,e),Wpe.intersects({start:a,end:a+n},{start:e.offset,end:e.offset+e.size})&&(l.mode=Hpe.AVOID),s=jpe(window.innerHeight,i,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===r?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=j1(this.container);this.view.style.top=s-(this.useFixedPosition?j1(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?j1(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),_2(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Y1(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Upe.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Upe.BUBBLE_DOWN_EVENTS=["click"];const Kpe='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let qpe=class extends Yq{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=Yq.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new Upe(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,n){t?t===this.container&&this.shadowRoot===n||(this.container=t,this.setContainer(t,n?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=n,this.contextView.show(e);const i=qq((()=>{this.currentViewDisposable===i&&this.hideContextView()}));return this.currentViewDisposable=i,i}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};qpe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(0,wge)],qpe);let Gpe=[],Ype=[],Xpe=[];function Zpe(e,t=!1){!function(e,t,n){const i=function(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?Efe(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(qG.sep)>=0}}(e,t);Gpe.push(i),i.userConfigured?Xpe.push(i):Ype.push(i);n&&!i.userConfigured&&Gpe.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}(e,!1,t)}function Qpe(e,t){return function(e,t){let n;if(e)switch(e.scheme){case S1.file:n=e.fsPath;break;case S1.data:n=tce.parseMetaData(e).get(tce.META_DATA_LABEL);break;case S1.vscodeNotebookCell:n=void 0;break;default:n=e.path}if(!n)return[{id:"unknown",mime:b5.unknown}];n=n.toLowerCase();const i=QG(n),o=Jpe(n,i,Xpe);if(o)return[o,{id:I5,mime:b5.text}];const r=Jpe(n,i,Ype);if(r)return[r,{id:I5,mime:b5.text}];if(t){const e=function(e){JZ(e)&&(e=e.substr(1));if(e.length>0)for(let t=Gpe.length-1;t>=0;t--){const n=Gpe[t];if(!n.firstline)continue;const i=e.match(n.firstline);if(i&&i.length>0)return n}return}(t);if(e)return[e,{id:I5,mime:b5.text}]}return[{id:"unknown",mime:b5.unknown}]}(e,t).map((e=>e.id))}function Jpe(e,t,n){var i;let o,r,s;for(let a=n.length-1;a>=0;a--){const l=n[a];if(t===l.filenameLowercase){o=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){const n=l.filepatternOnPath?e:t;(null===(i=l.filepatternLowercase)||void 0===i?void 0:i.call(l,n))&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&t.endsWith(l.extensionLowercase)&&(s=l)}return o||(r||(s||void 0))}const eme=Object.prototype.hasOwnProperty,tme="vs.editor.nullLanguage";class nme{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(tme,0),this._register(I5,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||tme}}class ime extends Yq{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,ime.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new nme,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(T5.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){ime.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Gpe=Gpe.filter((e=>e.userConfigured)),Ype=[];const e=[].concat(T5.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),YJ.as(w5).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;eme.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i=`text/x-${n}`,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)Zpe({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const l of t.filenames)Zpe({id:n,mime:i,filename:l},this._warnOnOverwrite),e.filenames.push(l);if(Array.isArray(t.filenamePatterns))for(const l of t.filenamePatterns)Zpe({id:n,mime:i,filepattern:l},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);"^"!==(o=t).source&&"^$"!==o.source&&"$"!==o.source&&"^\\s*$"!==o.source&&o.exec("")&&0===o.lastIndex||Zpe({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(a){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,a)}}var o;e.aliases.push(n);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const l of r)l&&0!==l.length&&e.aliases.push(l);const s=null!==r&&r.length>0;if(s&&null===r[0]);else{const t=(s?r[0]:null)||n;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&eme.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return eme.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&eme.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?Qpe(e,t):[]}}ime.instanceCount=0;class ome extends Yq{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new sG),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new sG),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new sG({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,ome.instanceCount++,this._registry=this._register(new ime(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){ome.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){return yU(this._registry.guessLanguageIdByFilepathOrFirstLine(e,t),null)}createById(e){return new rme(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new rme(this.onDidChange,(()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(n)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=I5),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),jY.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}ome.instanceCount=0;class rme{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages((()=>this._evaluate()))),this._emitter||(this._emitter=new sG({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,null===(e=this._emitter)||void 0===e||e.fire(this.languageId))}}const sme={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:b5.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function ame(...e){return function(t,n){for(let i=0,o=e.length;i<o;i++){const o=e[i](t,n);if(o)return o}return null}}cme.bind(void 0,!1);const lme=cme.bind(void 0,!0);function cme(e,t,n){if(!n||n.length<t.length)return null;let i;return i=e?RZ(n,t):0===n.indexOf(t),i?t.length>0?[{start:0,end:t.length}]:[]:null}function ume(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){let o=null;return(o=ume(e,t,n+1,i+1))?vme({start:i,end:i+1},o):null}return ume(e,t,n,i+1)}function hme(e){return 97<=e&&e<=122}function dme(e){return 65<=e&&e<=90}function gme(e){return 48<=e&&e<=57}function fme(e){return 32===e||9===e||10===e||13===e}const pme=new Set;function mme(e){return hme(e)||dme(e)||gme(e)}function vme(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function bme(e,t){for(let n=t;n<e.length;n++){const t=e.charCodeAt(n);if(dme(t)||gme(t)||n>0&&!mme(e.charCodeAt(n-1)))return n}return e.length}function _me(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;{let o=null,r=i+1;for(o=_me(e,t,n+1,i+1);!o&&(r=bme(t,r))<t.length;)o=_me(e,t,n+1,r),r++;return null===o?null:vme({start:i,end:i+1},o)}}function yme(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,n=0,i=0,o=0;for(let r=0;r<e.length;r++)i=e.charCodeAt(r),dme(i)&&t++,hme(i)&&n++,fme(i)&&o++;return 0!==t&&0!==n||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const n=function(e){let t=0,n=0,i=0,o=0,r=0;for(let s=0;s<e.length;s++)r=e.charCodeAt(s),dme(r)&&t++,hme(r)&&n++,mme(r)&&i++,gme(r)&&o++;return{upperPercent:t/e.length,lowerPercent:n/e.length,alphaPercent:i/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:n,alphaPercent:i,numericPercent:o}=e;return n>.2&&t<.8&&i>.6&&o<.2}(n)){if(!function(e){const{upperPercent:t,lowerPercent:n}=e;return 0===n&&t>.6}(n))return null;t=t.toLowerCase()}let i=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(i=_me(e,t,0,o));)o=bme(t,o+1);return i}"()[]{}<>`'\"-/;:,.?!".split("").forEach((e=>pme.add(e.charCodeAt(0))));const wme=ame(lme,yme,(function(e,t){const n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]})),Cme=ame(lme,yme,(function(e,t){return ume(e.toLowerCase(),t.toLowerCase(),0,0)})),Sme=new A6(1e4);function xme(e,t,n=!1){if("string"!=typeof e||"string"!=typeof t)return null;let i=Sme.get(e);i||(i=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),Sme.set(e,i));const o=i.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:n?Cme(e,t):wme(e,t)}function kme(e,t){const n=Vme(e,e.toLowerCase(),0,t,t.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return n?function(e){if(void 0===e)return[];const t=[],n=e[1];for(let i=e.length-1;i>1;i--){const o=e[i]+n,r=t[t.length-1];r&&r.end===o?r.end=o+1:t.push({start:o,end:o+1})}return t}(n):null}const Lme=128;function Dme(){const e=[],t=[];for(let n=0;n<=Lme;n++)t[n]=0;for(let n=0;n<=Lme;n++)e.push(t.slice(0));return e}function Eme(e){const t=[];for(let n=0;n<=e;n++)t[n]=0;return t}const Nme=Eme(2*Lme),Tme=Eme(2*Lme),Ime=Dme(),Mme=Dme(),Rme=Dme();function Ame(e,t){if(t<0||t>=e.length)return!1;const n=e.codePointAt(t);switch(n){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!ZZ(n)}}function Ome(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function Pme(e,t,n){return t[e]!==n[e]}var Fme,Bme;(Bme=Fme||(Fme={})).Default=[-100,0],Bme.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};class zme{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}function Vme(e,t,n,i,o,r,s=zme.default){const a=e.length>Lme?Lme:e.length,l=i.length>Lme?Lme:i.length;if(n>=a||r>=l||a-n>l-r)return;if(!function(e,t,n,i,o,r,s=!1){for(;t<n&&o<r;)e[t]===i[o]&&(s&&(Nme[t]=o),t+=1),o+=1;return t===n}(t,n,a,o,r,l,!0))return;!function(e,t,n,i,o,r){let s=e-1,a=t-1;for(;s>=n&&a>=i;)o[s]===r[a]&&(Tme[s]=a,s--),a--}(a,l,n,r,t,o);let c=1,u=1,h=n,d=r;const g=[!1];for(c=1,h=n;h<a;c++,h++){const s=Nme[h],f=Tme[h],p=h+1<a?Tme[h+1]:l;for(u=s-r+1,d=s;d<p;u++,d++){let a=Number.MIN_SAFE_INTEGER,p=!1;d<=f&&(a=Wme(e,t,h,n,i,o,d,l,r,0===Ime[c-1][u-1],g));let m=0;a!==Number.MAX_SAFE_INTEGER&&(p=!0,m=a+Mme[c-1][u-1]);const v=d>s,b=v?Mme[c][u-1]+(Ime[c][u-1]>0?-5:0):0,_=d>s+1&&Ime[c][u-1]>0,y=_?Mme[c][u-2]+(Ime[c][u-2]>0?-5:0):0;if(_&&(!v||y>=b)&&(!p||y>=m))Mme[c][u]=y,Rme[c][u]=3,Ime[c][u]=0;else if(v&&(!p||b>=m))Mme[c][u]=b,Rme[c][u]=2,Ime[c][u]=0;else{if(!p)throw new Error("not possible");Mme[c][u]=m,Rme[c][u]=1,Ime[c][u]=Ime[c-1][u-1]+1}}}if(!g[0]&&!s.firstMatchCanBeWeak)return;c--,u--;const f=[Mme[c][u],r];let p=0,m=0;for(;c>=1;){let e=u;do{const t=Rme[c][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);p>1&&t[n+c-1]===o[r+u-1]&&!Pme(e+r-1,i,o)&&p+1>Ime[c][e]&&(e=u),e===u?p++:p=1,m||(m=e),c--,u=e-1,f.push(u)}l===a&&s.boostFullMatch&&(f[0]+=2);const v=m-a;return f[0]-=v,f}function Wme(e,t,n,i,o,r,s,a,l,c,u){if(t[n]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,d=!1;return s===n-i?h=e[n]===o[s]?7:5:!Pme(s,o,r)||0!==s&&Pme(s-1,o,r)?!Ame(r,s)||0!==s&&Ame(r,s-1)?(Ame(r,s-1)||Ome(r,s-1))&&(h=5,d=!0):h=5:(h=e[n]===o[s]?7:5,d=!0),h>1&&n===i&&(u[0]=!0),d||(d=Pme(s,o,r)||Ame(r,s-1)||Ome(r,s-1)),n===i?s>l&&(h-=d?3:5):h+=c?d?2:0:d?0:1,s+1===a&&(h-=d?3:5),h}zme.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};const Hme="$(",$me=new RegExp(`\\$\\(${VQ.iconNameExpression}(?:${VQ.iconModifierExpression})?\\)`,"g"),jme=new RegExp(`(\\\\)?${$me.source}`,"g");const Ume=new RegExp(`\\\\${$me.source}`,"g");const Kme=new RegExp(`(\\s)?(\\\\)?${$me.source}(\\s)?`,"g");function qme(e){return-1===e.indexOf(Hme)?e:e.replace(Kme,((e,t,n,i)=>n?e:t||i||""))}const Gme=new RegExp(`\\$\\(${VQ.iconNameCharacter}+\\)`,"g");function Yme(e){Gme.lastIndex=0;let t="";const n=[];let i=0;for(;;){const o=Gme.lastIndex,r=Gme.exec(e),s=e.substring(o,null==r?void 0:r.index);if(s.length>0){t+=s;for(let e=0;e<s.length;e++)n.push(i)}if(!r)break;i+=r[0].length}return{text:t,iconOffsets:n}}function Xme(e,t,n=!1){const{text:i,iconOffsets:o}=t;if(!o||0===o.length)return xme(e,i,n);const r=_Z(i," "),s=i.length-r.length,a=xme(e,r,n);if(a)for(const l of a){const e=o[l.start+s]+s;l.start+=e,l.end+=e}return a}class Zme{constructor(e="",t=!1){var n,i,o;if(this.value=e,"string"!=typeof this.value)throw zq("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(n=t.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(i=t.supportThemeIcons)&&void 0!==i&&i,this.supportHtml=null!==(o=t.supportHtml)&&void 0!==o&&o)}appendText(e,t=0){var n;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}(this.supportThemeIcons?(n=e,n.replace(jme,((e,t)=>t?e:`\\${e}`))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}appendLink(e,t,n){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(e,t){const n=new RegExp(bZ(t),"g");return e.replace(n,((t,n)=>"\\"!==e.charAt(n-1)?`\\${t}`:t))}}function Qme(e){return e instanceof Zme||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&"object"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function Jme(e){return e.replace(/"/g,"&quot;")}function eve(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1"):e}var tve=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class nve{constructor(e,t,n){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=n}update(e,t,n){var i;return tve(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(void 0===e||PU(e)||e instanceof HTMLElement)o=e;else if(qU(e.markdown)){this._hoverWidget||this.show(nK(0,"Loading..."),t),this._cancellationTokenSource=new vG;const n=this._cancellationTokenSource.token;if(o=yield e.markdown(n),void 0===o&&(o=e.markdownNotSupportedFallback),this.isDisposed||n.isCancellationRequested)return}else o=null!==(i=e.markdown)&&void 0!==i?i:e.markdownNotSupportedFallback;this.show(o,t,n)}))}show(e,t,n){const i=this._hoverWidget;if(this.hasContent(e)){const o=Object.assign({content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i},n);this._hoverWidget=this.hoverDelegate.showHover(o,t)}null==i||i.dispose()}hasContent(e){return!!e&&(!Qme(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}function ive(e,t,n,i){let o,r;const s=(t,n)=>{var i;const s=void 0!==r;t&&(null==r||r.dispose(),r=void 0),n&&(null==o||o.dispose(),o=void 0),s&&(null===(i=e.onDidHideHover)||void 0===i||i.call(e))},a=(o,s,a)=>new e4((()=>tve(this,void 0,void 0,(function*(){r&&!r.isDisposed||(r=new nve(e,a||t,o>0),yield r.update(n,s,i))}))),o),l=O1(t,r2.MOUSE_OVER,(()=>{if(o)return;const n=new Gq;n.add(O1(t,r2.MOUSE_LEAVE,(e=>s(!1,e.fromElement===t)),!0));n.add(O1(t,r2.MOUSE_DOWN,(()=>s(!0,!0)),!0));const i={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>{i.x=e.x+10,e.target instanceof HTMLElement&&e.target.classList.contains("action-label")&&s(!0,!0)};n.add(O1(t,r2.MOUSE_MOVE,e,!0))}n.add(a(e.delay,!1,i)),o=n}),!0);return{show:e=>{s(!1,!0),a(0,e)},hide:()=>{s(!0,!0)},update:(e,t)=>tve(this,void 0,void 0,(function*(){n=e,yield null==r?void 0:r.update(n,void 0,t)})),dispose:()=>{l.dispose(),s(!0,!0)}}}function ove(e,t={}){const n=rve(t);return ave(n,function(e,t){const n={type:1,children:[]};let i=0,o=n;const r=[],s=new sve(e);for(;!s.eos();){let e=s.next();const n="\\"===e&&0!==cve(s.peek(),t);if(n&&(e=s.next()),!n&&lve(e,t)&&e===s.peek()){s.advance(),2===o.type&&(o=r.pop());const n=cve(e,t);if(o.type===n||5===o.type&&6===n)o=r.pop();else{const e={type:n,children:[]};5===n&&(e.index=i,i++),o.children.push(e),r.push(o),o=e}}else if("\n"===e)2===o.type&&(o=r.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),r.push(o),o=t}else o.content+=e}2===o.type&&(o=r.pop());return n}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),n}function rve(e){const t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}class sve{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function ave(e,t,n,i){let o;if(2===t.type)o=document.createTextNode(t.content||"");else if(3===t.type)o=document.createElement("b");else if(4===t.type)o=document.createElement("i");else if(7===t.type&&i)o=document.createElement("code");else if(5===t.type&&n){const e=document.createElement("a");n.disposables.add(P1(e,"click",(e=>{n.callback(String(t.index),e)}))),o=e}else 8===t.type?o=document.createElement("br"):1===t.type&&(o=e);o&&e!==o&&e.appendChild(o),o&&Array.isArray(t.children)&&t.children.forEach((e=>{ave(o,e,n,i)}))}function lve(e,t){return 0!==cve(e,t)}function cve(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}const uve=new RegExp(`(\\\\)?\\$\\((${VQ.iconNameExpression}(?:${VQ.iconModifierExpression})?)\\)`,"g");function hve(e){const t=new Array;let n,i=0,o=0;for(;null!==(n=uve.exec(e));){o=n.index||0,i<o&&t.push(e.substring(i,o)),i=(n.index||0)+n[0].length;const[,r,s]=n;t.push(r?`$(${s})`:dve({id:s}))}return i<e.length&&t.push(e.substring(i)),t}function dve(e){const t=v2("span");return t.classList.add(...VQ.asClassNameArray(e)),t}class gve{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const fve=new gve("id#");let pve={};!function(){function e(e,t){t(pve)}var t,n;e.amd=!0,t=this,n=function(e){function t(e,t,n){return n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e))||t){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var r=/[&<>"']/,s=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return c[e]};function h(e,t){if(t){if(r.test(e))return e.replace(s,u)}else if(a.test(e))return e.replace(l,u);return e}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(d,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var f=/(^|[^\[])\^/g;function p(e,t){e="string"==typeof e?e:e.source,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(f,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n}var m=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(e,t,n){if(e){var i;try{i=decodeURIComponent(g(n)).replace(m,"").toLowerCase()}catch(fTe){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!v.test(n)&&(n=function(e,t){_[" "+e]||(y.test(e)?_[" "+e]=e+"/":_[" "+e]=L(e,"/",!0));var n=-1===(e=_[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(C,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(fTe){return null}return n}var _={},y=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/,S={exec:function(){}};function x(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function k(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,o=t;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function L(e,t,n){var i=e.length;if(0===i)return"";for(var o=0;o<i;){var r=e.charAt(i-o-1);if(r!==t||n){if(r===t||!n)break;o++}else o++}return e.slice(0,i-o)}function D(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function N(e,t,n,i){var o=t.href,r=t.title?h(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;var a={type:"link",raw:n,href:o,title:r,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:r,text:h(s)}}var T=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},n.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:L(n,"\n")}}},n.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},n.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=L(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}},n.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},n.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}},n.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,o,r,s,a,l,c,u,h,d,g,f,p=t[1].trim(),m=p.length>1,v={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?"\\d{1,9}\\"+p.slice(-1):"\\"+p,this.options.pedantic&&(p=m?p:"[*+-]");for(var b=new RegExp("^( {0,3}"+p+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(f=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0],h=e.split("\n",1)[0],this.options.pedantic?(s=2,g=u.trimLeft()):(s=(s=t[2].search(/[^ ]/))>4?1:s,g=u.slice(s),s+=t[1].length),l=!1,!u&&/^ *$/.test(h)&&(n+=h+"\n",e=e.substring(h.length+1),f=!0),!f)for(var _=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),y=new RegExp("^ {0,"+Math.min(3,s-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),w=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:```|~~~)"),C=new RegExp("^ {0,"+Math.min(3,s-1)+"}#");e&&(u=d=e.split("\n",1)[0],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!w.test(u))&&!C.test(u)&&!_.test(u)&&!y.test(e);){if(u.search(/[^ ]/)>=s||!u.trim())g+="\n"+u.slice(s);else{if(l)break;g+="\n"+u}l||u.trim()||(l=!0),n+=d+"\n",e=e.substring(d.length+1)}v.loose||(c?v.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g))&&(r="[ ] "!==o[0],g=g.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:n,task:!!o,checked:r,loose:!1,text:g}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=g.trimRight(),v.raw=v.raw.trimRight();var S=v.items.length;for(a=0;a<S;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);var x=v.items[a].tokens.filter((function(e){return"space"===e.type})),k=x.every((function(e){for(var t,n=0,o=i(e.raw.split(""));!(t=o()).done;)if("\n"===t.value&&(n+=1),n>1)return!0;return!1}));!v.loose&&x.length&&k&&(v.loose=!0,v.items[a].loose=!0)}return v}},n.html=function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var i=this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}},n.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},n.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:k(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,o,r,s,a=n.align.length;for(i=0;i<a;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(a=n.rows.length,i=0;i<a;i++)n.rows[i]=k(n.rows[i],n.header.length).map((function(e){return{text:e}}));for(a=n.header.length,o=0;o<a;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(a=n.rows.length,o=0;o<a;o++)for(s=n.rows[o],r=0;r<s.length;r++)s[r].tokens=this.lexer.inline(s[r].text);return n}}},n.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}},n.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}},n.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}},n.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:h(t[1])}},n.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]):t[0]}},n.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=L(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var o=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,o=0;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])i++;else if(e[o]===t[1]&&--i<0)return o;return-1}(t[2],"()");if(o>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,r).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),N(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0],this.lexer)}},n.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return N(n,i,n[0],this.lexer)}},n.emStrong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(e);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=i[1]||i[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var r,s,a=i[0].length-1,l=a,c=0,u="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=u.exec(t));)if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(s=r.length,i[3]||i[4])l+=s;else if(!((i[5]||i[6])&&a%3)||(a+s)%3){if(!((l-=s)>0)){if(s=Math.min(s,s+l+c),Math.min(a,s)%2){var h=e.slice(1,a+i.index+s);return{type:"em",raw:e.slice(0,a+i.index+s+1),text:h,tokens:this.lexer.inlineTokens(h)}}var d=e.slice(2,a+i.index+s-1);return{type:"strong",raw:e.slice(0,a+i.index+s+1),text:d,tokens:this.lexer.inlineTokens(d)}}}else c+=s}}},n.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=h(n,!0),{type:"codespan",raw:t[0],text:n}}},n.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},n.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}},n.autolink=function(e,t){var n,i,o=this.rules.inline.autolink.exec(e);if(o)return i="@"===o[2]?"mailto:"+(n=h(this.options.mangle?t(o[1]):o[1])):n=h(o[1]),{type:"link",raw:o[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,o;if("@"===n[2])o="mailto:"+(i=h(this.options.mangle?t(n[0]):n[0]));else{var r;do{r=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(r!==n[0]);i=h(n[0]),o="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}},n.inlineText=function(e,t){var n,i=this.rules.inline.text.exec(e);if(i)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):h(i[0]):i[0]:h(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:n}},t}(),I={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};I.def=p(I.def).replace("label",I._label).replace("title",I._title).getRegex(),I.bullet=/(?:[*+-]|\d{1,9}[.)])/,I.listItemStart=p(/^( *)(bull) */).replace("bull",I.bullet).getRegex(),I.list=p(I.list).replace(/bull/g,I.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+I.def.source+")").getRegex(),I._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",I._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,I.html=p(I.html,"i").replace("comment",I._comment).replace("tag",I._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I.paragraph=p(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.blockquote=p(I.blockquote).replace("paragraph",I.paragraph).getRegex(),I.normal=x({},I),I.gfm=x({},I.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),I.gfm.table=p(I.gfm.table).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.gfm.paragraph=p(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",I.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.pedantic=x({},I.normal,{html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",I._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:p(I.normal._paragraph).replace("hr",I.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",I.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var M={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function R(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function A(e){var t,n,i="",o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}M._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",M.punctuation=p(M.punctuation).replace(/punctuation/g,M._punctuation).getRegex(),M.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,M.escapedEmSt=/\\\*|\\_/g,M._comment=p(I._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),M.emStrong.lDelim=p(M.emStrong.lDelim).replace(/punct/g,M._punctuation).getRegex(),M.emStrong.rDelimAst=p(M.emStrong.rDelimAst,"g").replace(/punct/g,M._punctuation).getRegex(),M.emStrong.rDelimUnd=p(M.emStrong.rDelimUnd,"g").replace(/punct/g,M._punctuation).getRegex(),M._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,M._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,M._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,M.autolink=p(M.autolink).replace("scheme",M._scheme).replace("email",M._email).getRegex(),M._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,M.tag=p(M.tag).replace("comment",M._comment).replace("attribute",M._attribute).getRegex(),M._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,M._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,M._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,M.link=p(M.link).replace("label",M._label).replace("href",M._href).replace("title",M._title).getRegex(),M.reflink=p(M.reflink).replace("label",M._label).replace("ref",I._label).getRegex(),M.nolink=p(M.nolink).replace("ref",I._label).getRegex(),M.reflinkSearch=p(M.reflinkSearch,"g").replace("reflink",M.reflink).replace("nolink",M.nolink).getRegex(),M.normal=x({},M),M.pedantic=x({},M.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",M._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",M._label).getRegex()}),M.gfm=x({},M.normal,{escape:p(M.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),M.gfm.url=p(M.gfm.url,"i").replace("email",M.gfm._extended_email).getRegex(),M.breaks=x({},M.gfm,{br:p(M.br).replace("{2,}","*").getRegex(),text:p(M.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var O=function(){function n(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:I.normal,inline:M.normal};this.options.pedantic?(n.block=I.pedantic,n.inline=M.pedantic):this.options.gfm&&(n.block=I.gfm,this.options.breaks?n.inline=M.breaks:n.inline=M.gfm),this.tokenizer.rules=n}n.lex=function(e,t){return new n(t).lex(e)},n.lexInline=function(e,t){return new n(t).inlineTokens(e)};var i=n.prototype;return i.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},i.blockTokens=function(e,t){var n,i,o,r,s=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(i){return!!(n=i.call({lexer:s},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),!(i=t[t.length-1])||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),!(i=t[t.length-1])||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),i=void 0;s.options.extensions.startBlock.forEach((function(e){"number"==typeof(i=e.call({lexer:this},n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),this.state.top&&(n=this.tokenizer.paragraph(o)))i=t[t.length-1],r&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),r=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},i.inline=function(e,t){return void 0===t&&(t=[]),this.inlineQueue.push({src:e,tokens:t}),t},i.inlineTokens=function(e,t){var n,i,o,r=this;void 0===t&&(t=[]);var s,a,l,c=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+E("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+E("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(i){return!!(n=i.call({lexer:r},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,A))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,A))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),i=void 0;r.options.extensions.startInline.forEach((function(e){"number"==typeof(i=e.call({lexer:this},n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),n=this.tokenizer.inlineText(o,R))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),a=!0,(i=t[t.length-1])&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(n.raw.length),t.push(n);return t},t(n,0,[{key:"rules",get:function(){return{block:I,inline:M}}}]),n}(),P=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,i);null!=o&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+h(i,!0)+'">'+(n?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:h(e,!0))+"</code></pre>\n"},n.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.html=function(e){return e},n.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+i.slug(n))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},n.listitem=function(e){return"<li>"+e+"</li>\n"},n.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(e){return"<p>"+e+"</p>\n"},n.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},n.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.strong=function(e){return"<strong>"+e+"</strong>"},n.em=function(e){return"<em>"+e+"</em>"},n.codespan=function(e){return"<code>"+e+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(e){return"<del>"+e+"</del>"},n.link=function(e,t,n){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+h(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},n.image=function(e,t,n){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},n.text=function(e){return e},t}(),F=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),B=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),z=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new F,this.slugger=new B}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var n=t.prototype;return n.parse=function(e,t){void 0===t&&(t=!0);var n,i,o,r,s,a,l,c,u,h,d,f,p,m,v,b,_,y,w,C="",S=e.length;for(n=0;n<S;n++)if(h=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(w=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(h.tokens),h.depth,g(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",r=h.header.length,i=0;i<r;i++)l+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",r=h.rows.length,i=0;i<r;i++){for(l="",s=(a=h.rows[i]).length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});u+=this.renderer.tablerow(l)}C+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),C+=this.renderer.blockquote(u);continue;case"list":for(d=h.ordered,f=h.start,p=h.loose,r=h.items.length,u="",i=0;i<r;i++)b=(v=h.items[i]).checked,_=v.task,m="",v.task&&(y=this.renderer.checkbox(b),p?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=y+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=y+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:y}):m+=y),m+=this.parse(v.tokens,p),u+=this.renderer.listitem(m,_,b);C+=this.renderer.list(u,d,f);continue;case"html":C+=this.renderer.html(h.text);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<S&&"text"===e[n+1].type;)u+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);C+=t?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}else C+=w||"";return C},n.parseInline=function(e,t){t=t||this.renderer;var n,i,o,r="",s=e.length;for(n=0;n<s;n++)if(i=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type])||!1===(o=this.options.extensions.renderers[i.type].call({parser:this},i))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:var a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else r+=o||"";return r},t}();function V(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),D(t=x({},V.defaults,t||{})),n){var i,o=t.highlight;try{i=O.lex(e,t)}catch(fTe){return n(fTe)}var r=function(e){var r;if(!e)try{t.walkTokens&&V.walkTokens(i,t.walkTokens),r=z.parse(i,t)}catch(fTe){e=fTe}return t.highlight=o,e?n(e):n(null,r)};if(!o||o.length<3)return r();if(delete t.highlight,!i.length)return r();var s=0;return V.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((function(){o(e.text,e.lang,(function(t,n){if(t)return r(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&r()}))}),0))})),void(0===s&&r())}function a(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}try{var l=O.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(V.walkTokens(l,t.walkTokens)).then((function(){return z.parse(l,t)})).catch(a);V.walkTokens(l,t.walkTokens)}return z.parse(l,t)}catch(fTe){a(fTe)}}V.options=V.setOptions=function(t){var n;return x(V.defaults,t),n=V.defaults,e.defaults=n,V},V.getDefaults=o,V.defaults=e.defaults,V.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o=x.apply(void 0,[{}].concat(t)),r=V.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(i=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=e.renderer.apply(this,i);return!1===r&&(r=t.apply(this,i)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=V.defaults.renderer||new P,n=function(n){var i=t[n];t[n]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.renderer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}};for(var i in e.renderer)n(i);o.renderer=t}(),e.tokenizer&&function(){var t=V.defaults.tokenizer||new T,n=function(n){var i=t[n];t[n]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.tokenizer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}};for(var i in e.tokenizer)n(i);o.tokenizer=t}(),e.walkTokens){var t=V.defaults.walkTokens;o.walkTokens=function(n){var i=[];return i.push(e.walkTokens.call(this,n)),t&&(i=i.concat(t.call(this,n))),i}}i&&(o.extensions=r),V.setOptions(o)}))},V.walkTokens=function(e,t){for(var n,o=[],r=function(){var e=n.value;switch(o=o.concat(t.call(V,e)),e.type){case"table":for(var r,s=i(e.header);!(r=s()).done;){var a=r.value;o=o.concat(V.walkTokens(a.tokens,t))}for(var l,c=i(e.rows);!(l=c()).done;)for(var u,h=i(l.value);!(u=h()).done;){var d=u.value;o=o.concat(V.walkTokens(d.tokens,t))}break;case"list":o=o.concat(V.walkTokens(e.items,t));break;default:V.defaults.extensions&&V.defaults.extensions.childTokens&&V.defaults.extensions.childTokens[e.type]?V.defaults.extensions.childTokens[e.type].forEach((function(n){o=o.concat(V.walkTokens(e[n],t))})):e.tokens&&(o=o.concat(V.walkTokens(e.tokens,t)))}},s=i(e);!(n=s()).done;)r();return o},V.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");D(t=x({},V.defaults,t||{}));try{var n=O.lexInline(e,t);return t.walkTokens&&V.walkTokens(n,t.walkTokens),z.parseInline(n,t)}catch(fTe){if(fTe.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(fTe.message+"",!0)+"</pre>";throw fTe}},V.Parser=z,V.parser=z.parse,V.Renderer=P,V.TextRenderer=F,V.Lexer=O,V.lexer=O.lex,V.Tokenizer=T,V.Slugger=B,V.parse=V;var W=V.options,H=V.setOptions,$=V.use,j=V.walkTokens,U=V.parseInline,K=V,q=z.parse,G=O.lex;e.Lexer=O,e.Parser=z,e.Renderer=P,e.Slugger=B,e.TextRenderer=F,e.Tokenizer=T,e.getDefaults=o,e.lexer=G,e.marked=V,e.options=W,e.parse=K,e.parseInline=U,e.parser=q,e.setOptions=H,e.use=$,e.walkTokens=j,Object.defineProperty(e,"__esModule",{value:!0})},e.amd?e(0,n):"object"==typeof exports&&"undefined"!=typeof module?n(exports):n((t="undefined"!=typeof globalThis?globalThis:t||self).marked={})}(),pve.Lexer||exports.Lexer,pve.Parser||exports.Parser,pve.Renderer||exports.Renderer,pve.Slugger||exports.Slugger,pve.TextRenderer||exports.TextRenderer,pve.Tokenizer||exports.Tokenizer,pve.getDefaults||exports.getDefaults,pve.lexer||exports.lexer;var mve=pve.marked||exports.marked;function vve(e){let t=JSON.parse(e);return t=_ve(t),t}function bve(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:t.flags}:t}function _ve(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return aY.revive(e);case 2:return new RegExp(e.source,e.flags);case 17:return new Date(e.source)}if(e instanceof F4||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let n=0;n<e.length;++n)e[n]=_ve(e[n],t+1);else for(const n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=_ve(e[n],t+1))}return e}pve.options||exports.options,pve.parse||exports.parse,pve.parseInline||exports.parseInline,pve.parser||exports.parser,pve.setOptions||exports.setOptions,pve.use||exports.use,pve.walkTokens||exports.walkTokens;const yve=Object.freeze({image:(e,t,n)=>{let i=[],o=[];return e&&(({href:e,dimensions:i}=function(e){const t=[],n=e.split("|").map((e=>e.trim()));e=n[0];const i=n[1];if(i){const e=/height=(\d+)/.exec(i),n=/width=(\d+)/.exec(i),o=e?e[1]:"",r=n?n[1]:"",s=isFinite(parseInt(r)),a=isFinite(parseInt(o));s&&t.push(`width="${r}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}(e)),o.push(`src="${Jme(e)}"`)),n&&o.push(`alt="${Jme(n)}"`),t&&o.push(`title="${Jme(t)}"`),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},paragraph:e=>`<p>${e}</p>`,link:(e,t,n)=>"string"!=typeof e?"":(e===n&&(n=eve(n)),t="string"==typeof t?Jme(eve(t)):"",`<a href="${e=(e=eve(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${t||e}">${n}</a>`)});function wve(e,t={},n={}){var i,o;const r=new Gq;let s=!1;const a=rve(t),l=function(t){let n;try{n=vve(decodeURIComponent(t))}catch(fTe){}return n?(n=ZU(n,(t=>e.uris&&e.uris[t]?aY.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(n))):t},c=function(t,n){const i=e.uris&&e.uris[t];let o=aY.revive(i);return n?t.startsWith(S1.data+":")?t:(o||(o=aY.parse(t)),D1.uriToBrowserUri(o).toString(!0)):o?aY.parse(t).toString()===o.toString()?t:(o.query&&(o=o.with({query:l(o.query)})),o.toString()):t},u=new mve.Renderer;u.image=yve.image,u.link=yve.link,u.paragraph=yve.paragraph;const h=[],d=[];if(t.codeBlockRendererSync?u.code=(e,n)=>{const i=fve.nextId(),o=t.codeBlockRendererSync(Cve(n),e);return d.push([i,o]),`<div class="code" data-code="${i}">${vZ(e)}</div>`}:t.codeBlockRenderer&&(u.code=(e,n)=>{const i=fve.nextId(),o=t.codeBlockRenderer(Cve(n),e);return h.push(o.then((e=>[i,e]))),`<div class="code" data-code="${i}">${vZ(e)}</div>`}),t.actionHandler){const n=function(n){let i=n.target;if("A"===i.tagName||(i=i.parentElement,i&&"A"===i.tagName))try{let o=i.dataset.href;o&&(e.baseUri&&(o=Sve(aY.from(e.baseUri),o)),t.actionHandler.callback(o,n))}catch(o){Rq(o)}finally{n.preventDefault()}},i=t.actionHandler.disposables.add(new Sie(a,"click")),o=t.actionHandler.disposables.add(new Sie(a,"auxclick"));t.actionHandler.disposables.add(tG.any(i.event,o.event)((e=>{const t=new x0(e);(t.leftButton||t.middleButton)&&n(t)}))),t.actionHandler.disposables.add(O1(a,"keydown",(e=>{const t=new _0(e);(t.equals(10)||t.equals(3))&&n(t)})))}e.supportHtml||(n.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",n.sanitize=!0,n.silent=!0),n.renderer=u;let g=null!==(i=e.value)&&void 0!==i?i:"";let f;if(g.length>1e5&&(g=`${g.substr(0,1e5)}…`),e.supportThemeIcons&&(g=g.replace(Ume,(e=>`\\${e}`))),t.fillInIncompleteTokens){const e=Object.assign(Object.assign({},mve.defaults),n),t=function(e){let t,n;for(t=0;t<e.length;t++){const i=e[t];if("paragraph"===i.type&&i.raw.match(/(\n|^)```/)){n=Ive(e.slice(t));break}if("paragraph"===i.type&&i.raw.match(/(\n|^)\|/)){n=zve(e.slice(t));break}if(t===e.length-1&&"paragraph"===i.type){const e=Tve(i);if(e){n=[e];break}}}if(n){const i=[...e.slice(0,t),...n];return i.links=e.links,i}return e}(mve.lexer(g,e));f=mve.parser(t,e)}else f=mve.parse(g,n);if(e.supportThemeIcons){f=hve(f).map((e=>"string"==typeof e?e:e.outerHTML)).join("")}const p=(new DOMParser).parseFromString(xve(e,f),"text/html");if(p.body.querySelectorAll("img").forEach((t=>{const n=t.getAttribute("src");if(n){let o=n;try{e.baseUri&&(o=Sve(aY.from(e.baseUri),o))}catch(i){}t.src=c(o,!0)}})),p.body.querySelectorAll("a").forEach((t=>{const n=t.getAttribute("href");if(t.setAttribute("href",""),!n||/^data:|javascript:/i.test(n)||/^command:/i.test(n)&&!e.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(n))t.replaceWith(...t.childNodes);else{let i=c(n,!1);e.baseUri&&(i=Sve(aY.from(e.baseUri),n)),t.dataset.href=i}})),a.innerHTML=xve(e,p.body.innerHTML),h.length>0)Promise.all(h).then((e=>{var n,i;if(s)return;const o=new Map(e),r=a.querySelectorAll("div[data-code]");for(const t of r){const e=o.get(null!==(n=t.dataset.code)&&void 0!==n?n:"");e&&d2(t,e)}null===(i=t.asyncRenderCallback)||void 0===i||i.call(t)}));else if(d.length>0){const e=new Map(d),t=a.querySelectorAll("div[data-code]");for(const n of t){const t=e.get(null!==(o=n.dataset.code)&&void 0!==o?o:"");t&&d2(n,t)}}if(t.asyncRenderCallback)for(const m of a.getElementsByTagName("img")){const e=r.add(O1(m,"load",(()=>{e.dispose(),t.asyncRenderCallback()})))}return{element:a,dispose:()=>{s=!0,r.dispose()}}}function Cve(e){if(!e)return"";const t=e.split(/[\s+|:|,|\{|\?]/,1);return t.length?t[0]:e}function Sve(e,t){return/^\w[\w\d+.-]*:/.test(t)?t:e.path.endsWith("/")?Qle(e,t).toString():Qle(Xle(e),t).toString()}function xve(e,t){const{config:n,allowedSchemes:i}=function(e){const t=[S1.http,S1.https,S1.mailto,S1.data,S1.file,S1.vscodeFileResource,S1.vscodeRemote,S1.vscodeRemoteResource];e.isTrusted&&t.push(S1.command);return{config:{ALLOWED_TAGS:[...k2],ALLOWED_ATTR:kve,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e);w1("uponSanitizeAttribute",((e,t)=>{if("style"!==t.attrName&&"class"!==t.attrName);else{if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}}));const o=function(e,t=!1){const n=document.createElement("a");return w1("afterSanitizeAttributes",(i=>{for(const o of["href","src"])if(i.hasAttribute(o)){const r=i.getAttribute(o);if("href"===o&&r.startsWith("#"))continue;if(n.href=r,!e.includes(n.protocol.replace(/:$/,""))){if(t&&"src"===o&&n.href.startsWith("data:"))continue;i.removeAttribute(o)}}})),qq((()=>{C1("afterSanitizeAttributes")}))}(i);try{return y1(t,Object.assign(Object.assign({},n),{RETURN_TRUSTED_TYPE:!0}))}finally{C1("uponSanitizeAttribute"),o.dispose()}}const kve=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Lve(e){return"string"==typeof e?e:function(e){var t;let n=null!==(t=e.value)&&void 0!==t?t:"";n.length>1e5&&(n=`${n.substr(0,1e5)}…`);return xve({isTrusted:!1},mve.parse(n,{renderer:Eve.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(e=>{var t;return null!==(t=Dve.get(e))&&void 0!==t?t:e}))).toString()}(e)}const Dve=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),Eve=new gZ((()=>{const e=new mve.Renderer;return e.code=e=>e,e.blockquote=e=>e,e.html=e=>"",e.heading=(e,t,n)=>e+"\n",e.hr=()=>"",e.list=(e,t)=>e,e.listitem=e=>e+"\n",e.paragraph=e=>e+"\n",e.table=(e,t)=>e+t+"\n",e.tablerow=e=>e,e.tablecell=(e,t)=>e+" ",e.strong=e=>e,e.em=e=>e,e.codespan=e=>e,e.br=()=>"\n",e.del=e=>e,e.image=(e,t,n)=>"",e.text=e=>e,e.link=(e,t,n)=>n,e}));function Nve(e){let t="";return e.forEach((e=>{t+=e.raw})),t}function Tve(e){for(const t of e.tokens)if("text"===t.type){const n=t.raw.split("\n"),i=n[n.length-1];if(i.includes("`"))return Mve(e);if(i.includes("**"))return Bve(e,"**");if(i.match(/\*\w/))return Rve(e);if(i.match(/(^|\s)__\w/))return Fve(e);if(i.match(/(^|\s)_\w/))return Ave(e);if(i.match(/(^|\s)\[.*\]\(\w*/))return Ove(e);if(i.match(/(^|\s)\[\w/))return Pve(e)}}function Ive(e){const t=Nve(e);return mve.lexer(t+"\n```")}function Mve(e){return Bve(e,"`")}function Rve(e){return Bve(e,"*")}function Ave(e){return Bve(e,"_")}function Ove(e){return Bve(e,")")}function Pve(e){return Bve(e,"](about:blank)")}function Fve(e){return Bve(e,"__")}function Bve(e,t){const n=Nve(Array.isArray(e)?e:[e]);return mve.lexer(n+t)[0]}function zve(e){const t=Nve(e),n=t.split("\n");let i,o=!1;for(let r=0;r<n.length;r++){const e=n[r].trim();if(void 0===i&&e.match(/^\s*\|/)){const t=e.match(/(\|[^\|]+)(?=\||$)/g);t&&(i=t.length)}else if("number"==typeof i){if(!e.match(/^\s*\|/))return;if(r!==n.length-1)return;o=!0}}if("number"==typeof i&&i>0){const e=o?n.slice(0,-1).join("\n"):t,r=!!e.match(/\|\s*$/),s=e+(r?"":"|")+`\n|${" --- |".repeat(i)}`;return mve.lexer(s)}}class Vve{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach((i=>i.splice(e,t,n)))}}class Wve extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Hve(e,t){const n=[];for(const i of t){if(e.start>=i.range.end)continue;if(e.end<i.range.start)break;const t=Wpe.intersect(e,i.range);Wpe.isEmpty(t)||n.push({range:t,size:i.size})}return n}function $ve({start:e,end:t},n){return{start:e+n,end:t+n}}class jve{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=null!=e?e:0,this._size=this._paddingTop}splice(e,t,n=[]){const i=n.length-t,o=Hve({start:0,end:e},this.groups),r=Hve({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:$ve(e.range,i),size:e.size}))),s=n.map(((t,n)=>({range:{start:e+n,end:e+n+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let n=null;for(const i of e){const e=i.range.start,o=i.range.end,r=i.size;n&&r===n.size?n.range.end=o:(n={range:{start:e,end:o},size:r},t.push(n))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(o,s,r),this._size=this._paddingTop+this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,n=this._paddingTop;for(const i of this.groups){const o=i.range.end-i.range.start,r=n+o*i.size;if(e<r)return t+Math.floor((e-n)/i.size);t+=o,n=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(const i of this.groups){const o=i.range.end-i.range.start,r=n+o;if(e<r)return this._paddingTop+t+(e-n)*i.size;t+=o*i.size,n=r}return-1}}class Uve{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),n=!1;if(t)n=this.transactionNodesPendingRemoval.has(t.domNode),n&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const n=v2(".monaco-list-row");t={domNode:n,templateId:e,templateData:this.getRenderer(e).renderTemplate(n)}}return{row:t,isReusingConnectedDomNode:n}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const e of this.transactionNodesPendingRemoval)this.doRemoveNode(e);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:n}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t));this.getTemplateCache(n).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),function(e){var t;try{null===(t=e.parentElement)||void 0===t||t.removeChild(e)}catch(fTe){}}(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const n of e){this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}})),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Kve=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const qve={CurrentDragAndDropData:void 0},Gve={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Yve{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Xve{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Zve{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}}class Qve{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,n)=>n,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class Jve{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:K1(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,n,i=Gve){var o,r,s,a,l,c,u,h,d,g,f,p,m;if(this.virtualDelegate=t,this.domId="list_id_"+ ++Jve.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new X2(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Yq.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Yq.None,this.onDragLeaveTimeout=Yq.None,this.disposables=new Gq,this._onDidChangeContentHeight=new sG,this._onDidChangeContentWidth=new sG,this._horizontalScrolling=!1,i.horizontalScrolling&&i.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new jve(null!==(o=i.paddingTop)&&void 0!==o?o:0);for(const v of n)this.renderers.set(v.templateId,v);this.cache=this.disposables.add(new Uve(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof i.mouseSupport||i.mouseSupport),this._horizontalScrolling=null!==(r=i.horizontalScrolling)&&void 0!==r?r:Gve.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=void 0===i.paddingBottom?0:i.paddingBottom,this.accessibilityProvider=new Qve(i.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";(null!==(s=i.transformOptimization)&&void 0!==s?s:Gve.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(a8.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new lie({forceIntegerValues:!0,smoothScrollDuration:null!==(a=i.smoothScrolling)&&void 0!==a&&a?125:0,scheduleAtNextAnimationFrame:e=>B1(e)})),this.scrollableElement=this.disposables.add(new mie(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(l=i.alwaysConsumeMouseWheel)&&void 0!==l?l:Gve.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(c=i.verticalScrollMode)&&void 0!==c?c:Gve.verticalScrollMode,useShadows:null!==(u=i.useShadows)&&void 0!==u?u:Gve.useShadows,mouseWheelScrollSensitivity:i.mouseWheelScrollSensitivity,fastScrollSensitivity:i.fastScrollSensitivity,scrollByPage:i.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(O1(this.rowsContainer,r8.Change,(e=>this.onTouchChange(e)))),this.disposables.add(O1(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add(O1(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add(O1(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add(O1(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add(O1(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=null!==(h=i.setRowLineHeight)&&void 0!==h?h:Gve.setRowLineHeight,this.setRowHeight=null!==(d=i.setRowHeight)&&void 0!==d?d:Gve.setRowHeight,this.supportDynamicHeights=null!==(g=i.supportDynamicHeights)&&void 0!==g?g:Gve.supportDynamicHeights,this.dnd=null!==(f=i.dnd)&&void 0!==f?f:this.disposables.add(Gve.dnd),this.layout(null===(p=i.initialSize)||void 0===p?void 0:p.height,null===(m=i.initialSize)||void 0===m?void 0:m.width)}updateOptions(e){let t;if(void 0!==e.paddingBottom&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.scrollByPage&&(t=Object.assign(Object.assign({},null!=t?t:{}),{scrollByPage:e.scrollByPage})),void 0!==e.mouseWheelScrollSensitivity&&(t=Object.assign(Object.assign({},null!=t?t:{}),{mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity})),void 0!==e.fastScrollSensitivity&&(t=Object.assign(Object.assign({},null!=t?t:{}),{fastScrollSensitivity:e.fastScrollSensitivity})),t&&this.scrollableElement.updateOptions(t),void 0!==e.paddingTop&&e.paddingTop!==this.rangeMap.paddingTop){const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(t,Math.max(0,this.lastRenderTop+n),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},r=Wpe.intersect(i,o),s=new Map;for(let y=r.end-1;y>=r.start;y--){const e=this.items[y];if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=s.get(e.templateId);t||(t=[],s.set(e.templateId,t));const n=this.renderers.get(e.templateId);n&&n.disposeElement&&n.disposeElement(e.element,y,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=Wpe.intersect(a,i),c=Wpe.relativeComplement(a,i),u=n.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Yq.None,checkedDisposable:Yq.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new jve(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),h=this.items,this.items=u):(this.rangeMap.splice(e,t,u),h=this.items.splice(e,t,...u));const d=n.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),f=$ve(l,d),p=Wpe.intersect(g,f);for(let y=p.start;y<p.end;y++)this.updateItemInDOM(this.items[y],y);const m=Wpe.relativeComplement(f,g);for(const y of m)for(let e=y.start;e<y.end;e++)this.removeItemFromDOM(e);const v=c.map((e=>$ve(e,d))),b=[{start:e,end:e+n.length},...v].map((e=>Wpe.intersect(g,e))),_=this.getNextToLastElement(b);for(const y of b)for(let e=y.start;e<y.end;e++){const t=this.items[e],n=s.get(t.templateId),i=null==n?void 0:n.pop();this.insertItemInDOM(e,_,i)}for(const y of s.values())for(const e of y)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=B1((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const e=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),t=this.rangeMap.positionAt(e.start),n=this.rangeMap.positionAt(e.start+1);if(-1!==n){if((n-t)/2+t<this.scrollTop)return e.start+1}return e.start}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const n={height:"number"==typeof e?e:q1(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:K1(this.domNode)})}render(e,t,n,i,o,r=!1){const s=this.getRenderRange(t,n),a=Wpe.relativeComplement(s,e),l=Wpe.relativeComplement(e,s),c=this.getNextToLastElement(a);if(r){const t=Wpe.intersect(e,s);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}this.cache.transact((()=>{for(const e of l)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);for(const e of a)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,c)})),void 0!==i&&(this.rowsContainer.style.left=`-${i}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t,n){const i=this.items[e];let o=!1;if(!i.row)if(n)i.row=n;else{const e=this.cache.alloc(i.templateId);i.row=e.row,o=e.isReusingConnectedDomNode}const r=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",r);const s=this.accessibilityProvider.isChecked(i.element);if("boolean"==typeof s)i.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){const e=e=>i.row.domNode.setAttribute("aria-checked",String(!!e));e(s.value),i.checkedDisposable=s.onDidChange(e)}!o&&i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);const a=this.renderers.get(i.templateId);if(!a)throw new Error(`No renderer found for template id ${i.templateId}`);null==a||a.renderElement(i.element,e,i.row.templateData,i.size);const l=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!l,l&&(i.dragStartDisposable=O1(i.row.domNode,"dragstart",(e=>this.onDragStart(i.element,l,e)))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=K1(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return tG.map(this.disposables.add(new Sie(this.domNode,"click")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseDblClick(){return tG.map(this.disposables.add(new Sie(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseMiddleClick(){return tG.filter(tG.map(this.disposables.add(new Sie(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e)),this.disposables),(e=>1===e.browserEvent.button),this.disposables)}get onMouseDown(){return tG.map(this.disposables.add(new Sie(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseOver(){return tG.map(this.disposables.add(new Sie(this.domNode,"mouseover")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseOut(){return tG.map(this.disposables.add(new Sie(this.domNode,"mouseout")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onContextMenu(){return tG.any(tG.map(this.disposables.add(new Sie(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e)),this.disposables),tG.map(this.disposables.add(new Sie(this.domNode,r8.Contextmenu)).event,(e=>this.toGestureEvent(e)),this.disposables))}get onTouchStart(){return tG.map(this.disposables.add(new Sie(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)),this.disposables)}get onTap(){return tG.map(this.disposables.add(new Sie(this.rowsContainer,r8.Tap)).event,(e=>this.toGestureEvent(e)),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){var i,o;if(!n.dataTransfer)return;const r=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(sme.TEXT,t),n.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(r,n)),void 0===e&&(e=String(r.length));const t=v2(".monaco-drag-image");t.textContent=e;const i=(e=>{for(;e&&!e.classList.contains("monaco-workbench");)e=e.parentElement;return e||document.body})(this.domNode);i.appendChild(t),n.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>i.removeChild(t)),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Yve(r),qve.CurrentDragAndDropData=new Xve(r),null===(o=(i=this.dnd).onDragStart)||void 0===o||o.call(i,this.currentDragData,n)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),qve.CurrentDragAndDropData&&"vscode-ui"===qve.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(qve.CurrentDragAndDropData)this.currentDragData=qve.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Zve}const n=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof n?n:n.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof n&&0===n.effect?"copy":"move",i="boolean"!=typeof n&&n.feedback?n.feedback:void 0===e.index?[-1]:[e.index],i=_U(i).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),i=-1===i[0]?[-1]:i,o=this.currentDragFeedback,r=i,Array.isArray(o)&&Array.isArray(r)?pU(o,r):o===r)return!0;var o,r;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=qq((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of i){const n=this.items[e];n.dropTarget=!0,null===(t=n.row)||void 0===t||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=qq((()=>{var e;for(const t of i){const n=this.items[t];n.dropTarget=!1,null===(e=n.row)||void 0===e||e.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,n;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=J2((()=>this.clearDragOverFeedback()),100,this.disposables),this.currentDragData&&(null===(n=(t=this.dnd).onDragLeave)||void 0===n||n.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,qve.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,n;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,qve.CurrentDragAndDropData=void 0,null===(n=(t=this.dnd).onDragEnd)||void 0===n||n.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Yq.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=function(e){let t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==e.ownerDocument.body&&e!==e.ownerDocument.documentElement;){n-=e.scrollTop;const o=Z1(e)?null:V1(e);o&&(i-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=H1.getBorderLeftWidth(e),n+=H1.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),n=B1(t)};let n=B1(t);return qq((()=>n.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=J2((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let n=e;for(;n instanceof HTMLElement&&n!==this.rowsContainer&&t.contains(n);){const e=n.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){const i=this.getRenderRange(e,t);let o,r;e===this.elementTop(i.start)?(o=i.start,r=0):i.end-i.start>1&&(o=i.start+1,r=this.elementTop(o)-e);let s=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),s+=t,l=l||0!==t}if(!l){0!==s&&this.eventuallyUpdateScrollDimensions();const t=Wpe.relativeComplement(i,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=Wpe.relativeComplement(a,i);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,n=e<this.items.length?this.items[e].row:null,i=n?n.domNode:null;this.insertItemInDOM(t,i)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,i=this.elementTop(o)-r+t;this.setScrollTop(i,n)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){var t,n,i;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(o.element);if(null!==e){const t=o.size;return o.size=e,o.lastDynamicHeightWidth=this.renderWidth,e-t}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const r=o.size;if(o.row)return o.row.domNode.style.height="",o.size=o.row.domNode.offsetHeight,o.lastDynamicHeightWidth=this.renderWidth,o.size-r;const{row:s}=this.cache.alloc(o.templateId);s.domNode.style.height="",this.rowsContainer.appendChild(s.domNode);const a=this.renderers.get(o.templateId);if(!a)throw new $q("Missing renderer for templateId: "+o.templateId);return a.renderElement(o.element,e,s.templateData,void 0),o.size=s.domNode.offsetHeight,null===(t=a.disposeElement)||void 0===t||t.call(a,o.element,e,s.templateData,void 0),null===(i=(n=this.virtualDelegate).setDynamicHeight)||void 0===i||i.call(n,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(s.domNode),this.cache.release(s),o.size-r}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const n=this.items[t.end];return n&&n.row?n.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t;for(const n of this.items)if(n.dragStartDisposable.dispose(),n.checkedDisposable.dispose(),n.row){const t=this.renderers.get(n.row.templateId);t&&(null===(e=t.disposeElement)||void 0===e||e.call(t,n.element,-1,n.row.templateData,void 0),t.disposeTemplate(n.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),null===(t=this.dragOverAnimationDisposable)||void 0===t||t.dispose(),this.disposables.dispose()}}Jve.InstanceCount=0,Kve([o8],Jve.prototype,"onMouseClick",null),Kve([o8],Jve.prototype,"onMouseDblClick",null),Kve([o8],Jve.prototype,"onMouseMiddleClick",null),Kve([o8],Jve.prototype,"onMouseDown",null),Kve([o8],Jve.prototype,"onMouseOver",null),Kve([o8],Jve.prototype,"onMouseOut",null),Kve([o8],Jve.prototype,"onContextMenu",null),Kve([o8],Jve.prototype,"onTouchStart",null),Kve([o8],Jve.prototype,"onTap",null);var ebe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},tbe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class nbe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,n){const i=this.renderedElements.findIndex((e=>e.templateData===n));if(i>=0){const e=this.renderedElements[i];this.trait.unrender(n),e.index=t}else{const e={index:t,templateData:n};this.renderedElements.push(e)}this.trait.renderIndex(t,n)}splice(e,t,n){const i=[];for(const o of this.renderedElements)o.index<e?i.push(o):o.index>=e+t&&i.push({index:o.index+n-t,templateData:o.templateData});this.renderedElements=i}renderIndexes(e){for(const{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}let ibe=class{get name(){return this._trait}get renderer(){return new nbe(this)}constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new sG,this.onChange=this._onChange.event}splice(e,t,n){var i;t=Math.max(0,Math.min(t,this.length-e));const o=n.length-t,r=e+t,s=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let c=0;c<n.length;c++)n[c]&&s.push(c+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);const l=this.length+o;if(this.sortedIndexes.length>0&&0===s.length&&l>0){const t=null!==(i=this.sortedIndexes.find((t=>t>=e)))&&void 0!==i?i:l-1;s.push(Math.min(t,l-1))}this.renderer.splice(e,t,n.length),this._set(s,s),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(kbe),t)}_set(e,t,n){const i=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=xbe(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:n}),i}get(){return this.indexes}contains(e){return t=this.sortedIndexes,n=e,i=kbe,function(e,t){let n=0,i=e-1;for(;n<=i;){const e=(n+i)/2|0,o=t(e);if(o<0)n=e+1;else{if(!(o>0))return e;i=e-1}}return-(n+1)}(t.length,(e=>i(t[e],n)))>=0;var t,n,i}dispose(){Uq(this._onChange)}};ebe([o8],ibe.prototype,"renderer",null);class obe extends ibe{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class rbe{constructor(e,t,n){this.trait=e,this.view=t,this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,new Array(n.length).fill(!1));const i=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString()));if(0===i.length)return this.trait.splice(e,t,new Array(n.length).fill(!1));const o=new Set(i),r=n.map((e=>o.has(this.identityProvider.getId(e).toString())));this.trait.splice(e,t,r)}}function sbe(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function abe(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&abe(e.parentElement))}function lbe(e){return!!("A"===e.tagName&&e.classList.contains("monaco-button")||"DIV"===e.tagName&&e.classList.contains("monaco-button-dropdown"))||!e.classList.contains("monaco-list")&&(!!e.parentElement&&lbe(e.parentElement))}class cbe{get onKeyDown(){return tG.chain(this.disposables.add(new Sie(this.view.domNode,"keydown")).event,(e=>e.filter((e=>!sbe(e.target))).map((e=>new _0(e)))))}constructor(e,t,n){this.list=e,this.view=t,this.disposables=new Gq,this.multipleSelectionDisposables=new Gq,this.multipleSelectionSupport=n.multipleSelectionSupport,this.disposables.add(this.onKeyDown((e=>{switch(e.keyCode){case 3:return this.onEnter(e);case 16:return this.onUpArrow(e);case 18:return this.onDownArrow(e);case 11:return this.onPageUpArrow(e);case 12:return this.onPageDownArrow(e);case 9:return this.onEscape(e);case 31:this.multipleSelectionSupport&&(wK?e.metaKey:e.ctrlKey)&&this.onCtrlA(e)}})))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(wU(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}var ube,hbe,dbe,gbe;ebe([o8],cbe.prototype,"onKeyDown",null),(hbe=ube||(ube={}))[hbe.Automatic=0]="Automatic",hbe[hbe.Trigger=1]="Trigger",(gbe=dbe||(dbe={}))[gbe.Idle=0]="Idle",gbe[gbe.Typing=1]="Typing";const fbe=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=98&&e.keyCode<=107||e.keyCode>=85&&e.keyCode<=95)}};class pbe{constructor(e,t,n,i,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=n,this.keyboardNavigationEventFilter=i,this.delegate=o,this.enabled=!1,this.state=dbe.Idle,this.mode=ube.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Gq,this.disposables=new Gq,this.updateOptions(e.options)}updateOptions(e){var t,n;null===(t=e.typeNavigationEnabled)||void 0===t||t?this.enable():this.disable(),this.mode=null!==(n=e.typeNavigationMode)&&void 0!==n?n:ube.Automatic}enable(){if(this.enabled)return;let e=!1;const t=tG.chain(this.enabledDisposables.add(new Sie(this.view.domNode,"keydown")).event,(t=>t.filter((e=>!sbe(e.target))).filter((()=>this.mode===ube.Automatic||this.triggered)).map((e=>new _0(e))).filter((t=>e||this.keyboardNavigationEventFilter(t))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>a2(e,!0))).map((e=>e.browserEvent.key)))),n=tG.debounce(t,(()=>null),800,void 0,void 0,void 0,this.enabledDisposables);tG.reduce(tG.any(t,n),((e,t)=>null===t?null:(e||"")+t),void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),n(this.onClear,this,this.enabledDisposables),t((()=>e=!0),void 0,this.enabledDisposables),n((()=>e=!1),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const n=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));n&&z7(n)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=dbe.Idle,void(this.triggered=!1);const t=this.list.getFocus(),n=t.length>0?t[0]:0,i=this.state===dbe.Idle?1:0;this.state=dbe.Typing;for(let o=0;o<this.list.length;o++){const t=(n+o+i)%this.list.length,r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),s=r&&r.toString();if(this.list.options.typeNavigationEnabled){if(void 0!==s){if(lme(e,s))return this.previouslyFocused=n,this.list.setFocus([t]),void this.list.reveal(t);const i=kme(e,s);if(i){if(i[0].end-i[0].start>1&&1===i.length)return this.previouslyFocused=n,this.list.setFocus([t]),void this.list.reveal(t)}}}else if(void 0===s||lme(e,s))return this.previouslyFocused=n,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class mbe{constructor(e,t){this.list=e,this.view=t,this.disposables=new Gq;const n=tG.chain(this.disposables.add(new Sie(t.domNode,"keydown")).event,(e=>e.filter((e=>!sbe(e.target))).map((e=>new _0(e)))));tG.chain(n,(e=>e.filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)))))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const n=this.view.domElement(t[0]);if(!n)return;const i=n.querySelector("[tabIndex]");if(!(i&&i instanceof HTMLElement&&-1!==i.tabIndex))return;const o=window.getComputedStyle(i);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),i.focus())}dispose(){this.disposables.dispose()}}function vbe(e){return wK?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function bbe(e){return e.browserEvent.shiftKey}const _be={isSelectionSingleChangeEvent:vbe,isSelectionRangeChangeEvent:bbe};class ybe{constructor(e){this.list=e,this.disposables=new Gq,this._onPointer=new sG,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_be),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(a8.addTarget(e.getHTMLElement()))),tG.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_be))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){abe(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(sbe(e.browserEvent.target)||abe(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(sbe(e.browserEvent.target)||abe(e.browserEvent.target))return;if(e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(n=e.browserEvent)instanceof MouseEvent&&2===n.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var n}onDoubleClick(e){if(sbe(e.browserEvent.target)||abe(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;if(e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===n){const e=this.list.getFocus()[0];n=null!=e?e:t,this.list.setAnchor(n)}const i=wU(Math.min(n,t),Math.max(n,t)+1),o=this.list.getSelection(),r=function(e,t){const n=e.indexOf(t);if(-1===n)return[];const i=[];let o=n-1;for(;o>=0&&e[o]===t-(n-o);)i.push(e[o--]);i.reverse(),o=n;for(;o<e.length&&e[o]===t+(o-n);)i.push(e[o++]);return i}(xbe(o,[n]),n);if(0===r.length)return;const s=xbe(i,function(e,t){const n=[];let i=0,o=0;for(;i<e.length||o<t.length;)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){i++,o++;continue}e[i]<t[o]?n.push(e[i++]):o++}return n}(o,r));this.list.setSelection(s,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),i=n.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),n.length===i.length?this.list.setSelection([...i,t],e.browserEvent):this.list.setSelection(i,e.browserEvent)}}dispose(){this.disposables.dispose()}}class wbe{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t,n;const i=this.selectorSuffix&&`.${this.selectorSuffix}`,o=[];e.listBackground&&o.push(`.monaco-list${i} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(o.push(`.monaco-list${i}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),o.push(`.monaco-list${i}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&o.push(`.monaco-list${i}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(o.push(`.monaco-list${i}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),o.push(`.monaco-list${i}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&o.push(`.monaco-list${i}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&o.push(`.monaco-list${i}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&o.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${i}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&o.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${i}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(o.push(`.monaco-list${i} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),o.push(`.monaco-list${i} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&o.push(`.monaco-list${i} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(o.push(`.monaco-list${i} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),o.push(`.monaco-list${i} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(o.push(`.monaco-list${i} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),o.push(`.monaco-list${i} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&o.push(`.monaco-list${i} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&o.push(`.monaco-list${i}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&o.push(`.monaco-list${i}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const r=x2(e.listFocusAndSelectionOutline,x2(e.listSelectionOutline,null!==(t=e.listFocusOutline)&&void 0!==t?t:""));r&&o.push(`.monaco-list${i}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&o.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${i}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);const s=x2(e.listSelectionOutline,null!==(n=e.listInactiveFocusOutline)&&void 0!==n?n:"");s&&o.push(`.monaco-list${i} .monaco-list-row.focused.selected { outline: 1px dotted ${s}; outline-offset: -1px; }`),e.listSelectionOutline&&o.push(`.monaco-list${i} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&o.push(`.monaco-list${i} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&o.push(`.monaco-list${i} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&o.push(`\n\t\t\t\t.monaco-list${i}.drop-target,\n\t\t\t\t.monaco-list${i} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${i} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.tableColumnsBorder&&o.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`),e.tableOddRowsBackgroundColor&&o.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${e.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=o.join("\n")}}const Cbe={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:n9.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:n9.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:n9.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},Sbe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}}};function xbe(e,t){const n=[];let i=0,o=0;for(;i<e.length||o<t.length;)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){n.push(e[i]),i++,o++;continue}e[i]<t[o]?n.push(e[i++]):n.push(t[o++])}return n}const kbe=(e,t)=>e-t;class Lbe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,n,i){let o=0;for(const r of this.renderers)r.renderElement(e,t,n[o++],i)}disposeElement(e,t,n,i){var o;let r=0;for(const s of this.renderers)null===(o=s.disposeElement)||void 0===o||o.call(s,e,t,n[r],i),r+=1}disposeTemplate(e){let t=0;for(const n of this.renderers)n.disposeTemplate(e[t++])}}class Dbe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,n){const i=this.accessibilityProvider.getAriaLabel(e);i?n.setAttribute("aria-label",i):n.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?n.setAttribute("aria-level",`${o}`):n.removeAttribute("aria-level")}disposeTemplate(e){}}class Ebe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var n,i;null===(i=(n=this.dnd).onDragStart)||void 0===i||i.call(n,e,t)}onDragOver(e,t,n,i){return this.dnd.onDragOver(e,t,n,i)}onDragLeave(e,t,n,i){var o,r;null===(r=(o=this.dnd).onDragLeave)||void 0===r||r.call(o,e,t,n,i)}onDragEnd(e){var t,n;null===(n=(t=this.dnd).onDragEnd)||void 0===n||n.call(t,e)}drop(e,t,n,i){this.dnd.drop(e,t,n,i)}dispose(){this.dnd.dispose()}}class Nbe{get onDidChangeFocus(){return tG.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)),this.disposables)}get onDidChangeSelection(){return tG.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=tG.chain(this.disposables.add(new Sie(this.view.domNode,"keydown")).event,(t=>t.map((e=>new _0(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map((e=>a2(e,!0))).filter((()=>!1)))),n=tG.chain(this.disposables.add(new Sie(this.view.domNode,"keyup")).event,(t=>t.forEach((()=>e=!1)).map((e=>new _0(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map((e=>a2(e,!0))).map((({browserEvent:e})=>{const t=this.getFocus(),n=t.length?t[0]:void 0;return{index:n,element:void 0!==n?this.view.element(n):void 0,anchor:void 0!==n?this.view.domElement(n):this.view.domNode,browserEvent:e}})))),i=tG.chain(this.view.onContextMenu,(t=>t.filter((t=>!e)).map((({element:e,index:t,browserEvent:n})=>({element:e,index:t,anchor:new x0(n),browserEvent:n})))));return tG.any(t,n,i)}get onKeyDown(){return this.disposables.add(new Sie(this.view.domNode,"keydown")).event}get onDidFocus(){return tG.signal(this.disposables.add(new Sie(this.view.domNode,"focus",!0)).event)}constructor(e,t,n,i,o=Sbe){var r,s,a,l;this.user=e,this._options=o,this.focus=new ibe("focused"),this.anchor=new ibe("anchor"),this.eventBufferer=new hG,this._ariaLabel="",this.disposables=new Gq,this._onDidDispose=new sG,this.onDidDispose=this._onDidDispose.event;const c=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new obe("listbox"!==c);const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(u.push(new Dbe(this.accessibilityProvider)),null===(a=(s=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===a||a.call(s,this.onDidChangeActiveDescendant,this,this.disposables)),i=i.map((e=>new Lbe(e.templateId,[...u,e])));const h=Object.assign(Object.assign({},o),{dnd:o.dnd&&new Ebe(this,o.dnd)});if(this.view=this.createListView(t,n,i,h),this.view.domNode.setAttribute("role",c),o.styleController)this.styleController=o.styleController(this.view.domId);else{const e=t2(this.view.domNode);this.styleController=new wbe(e,this.view.domId)}if(this.spliceable=new Vve([new rbe(this.focus,this.view,o.identityProvider),new rbe(this.selection,this.view,o.identityProvider),new rbe(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new mbe(this,this.view)),("boolean"!=typeof o.keyboardSupport||o.keyboardSupport)&&(this.keyboardController=new cbe(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||fbe;this.typeNavigationController=new pbe(this,this.view,o.keyboardNavigationLabelProvider,null!==(l=o.keyboardNavigationEventFilter)&&void 0!==l?l:()=>!0,e),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,n,i){return new Jve(e,t,n,i)}createMouseController(e){return new ybe(this)}updateOptions(e={}){var t,n;this._options=Object.assign(Object.assign({},this._options),e),null===(t=this.typeNavigationController)||void 0===t||t.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(n=this.keyboardController)||void 0===n||n.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new Wve(this.user,`Invalid start index: ${e}`);if(t<0)throw new Wve(this.user,`Invalid delete count: ${t}`);0===t&&0===n.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,n)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const n of e)if(n<0||n>=this.length)throw new Wve(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new Wve(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return yU(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const n of e)if(n<0||n>=this.length)throw new Wve(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,i){if(0===this.length)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,i);r>-1&&this.setFocus([r],n)}focusPrevious(e=1,t=!1,n,i){if(0===this.length)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,i);r>-1&&this.setFocus([r],n)}focusNextPage(e,t){return tbe(this,void 0,void 0,(function*(){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=0===n?0:n-1;const i=this.getFocus()[0];if(i!==n&&(void 0===i||n>i)){const o=this.findPreviousIndex(n,!1,t);o>-1&&i!==o?this.setFocus([o],e):this.setFocus([n],e)}else{const o=this.view.getScrollTop();let r=o+this.view.renderHeight;n>i&&(r-=this.view.elementHeight(n)),this.view.setScrollTop(r),this.view.getScrollTop()!==o&&(this.setFocus([]),yield Q2(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return tbe(this,void 0,void 0,(function*(){let n;const i=this.view.getScrollTop();n=0===i?this.view.indexAt(i):this.view.indexAfter(i-1);const o=this.getFocus()[0];if(o!==n&&(void 0===o||o>=n)){const i=this.findNextIndex(n,!1,t);i>-1&&o!==i?this.setFocus([i],e):this.setFocus([n],e)}else{const n=i;this.view.setScrollTop(i-this.view.renderHeight),this.view.getScrollTop()!==n&&(this.setFocus([]),yield Q2(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(0===this.length)return;const i=this.findNextIndex(e,!1,n);i>-1&&this.setFocus([i],t)}findNextIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e%=this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new Wve(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),i=this.view.elementTop(e),o=this.view.elementHeight(e);if(zU(t)){const e=o-this.view.renderHeight;this.view.setScrollTop(e*Vge(t,0,1)+i)}else{const e=i+o,t=n+this.view.renderHeight;i<n&&e>=t||(i<n||e>=t&&o>=this.view.renderHeight?this.view.setScrollTop(i):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let n;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}ebe([o8],Nbe.prototype,"onDidChangeFocus",null),ebe([o8],Nbe.prototype,"onDidChangeSelection",null),ebe([o8],Nbe.prototype,"onContextMenu",null),ebe([o8],Nbe.prototype,"onKeyDown",null),ebe([o8],Nbe.prototype,"onDidFocus",null);const Tbe=v2,Ibe="selectOption.entry.template";class Mbe{get templateId(){return Ibe}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=u2(e,Tbe(".option-text")),t.detail=u2(e,Tbe(".option-detail")),t.decoratorRight=u2(e,Tbe(".option-decorator-right")),t}renderElement(e,t,n){const i=n,o=e.text,r=e.detail,s=e.decoratorRight,a=e.isDisabled;i.text.textContent=o,i.detail.textContent=r||"",i.decoratorRight.innerText=s||"",a?i.root.classList.add("option-disabled"):i.root.classList.remove("option-disabled")}disposeTemplate(e){}}class Rbe extends Yq{constructor(e,t,n,i,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=i,this.selectBoxOptions=o||Object.create(null),"number"!=typeof this.selectBoxOptions.minBottomMargin?this.selectBoxOptions.minBottomMargin=Rbe.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new sG,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(n),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return Ibe}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=v2(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=u2(this.selectDropDownContainer,Tbe(".select-box-details-pane"));const t=u2(this.selectDropDownContainer,Tbe(".select-box-dropdown-container-width-control")),n=u2(t,Tbe(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",u2(n,this.widthControlElement),this._dropDownPosition=0,this.styleElement=t2(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(O1(this.selectDropDownContainer,r2.DRAG_START,(e=>{a2(e,!0)})))}registerListeners(){let e;this._register(P1(this.selectElement,"change",(e=>{this.selected=e.target.selectedIndex,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}))),this._register(O1(this.selectElement,r2.CLICK,(e=>{a2(e),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(O1(this.selectElement,r2.MOUSE_DOWN,(e=>{a2(e)}))),this._register(O1(this.selectElement,"touchstart",(t=>{e=this._isVisible}))),this._register(O1(this.selectElement,"touchend",(t=>{a2(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(O1(this.selectElement,r2.KEY_DOWN,(e=>{const t=new _0(e);let n=!1;wK?18!==t.keyCode&&16!==t.keyCode&&10!==t.keyCode&&3!==t.keyCode||(n=!0):(18===t.keyCode&&t.altKey||16===t.keyCode&&t.altKey||10===t.keyCode||3===t.keyCode)&&(n=!0),n&&(this.showSelectDropDown(),a2(e,!0))})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){pU(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled)),"string"==typeof e.description&&(this._hasDetails=!0)}))),void 0!==t&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;null===(e=this.selectList)||void 0===e||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join("\n")}styleSelectElement(){var e,t,n;const i=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",o=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",r=null!==(n=this.styles.selectBorder)&&void 0!==n?n:"";this.selectElement.style.backgroundColor=i,this.selectElement.style.color=o,this.selectElement.style.borderColor=r}styleList(){var e,t;const n=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",i=x2(this.styles.selectListBackground,n);this.selectDropDownListContainer.style.backgroundColor=i,this.selectionDetailsPane.style.backgroundColor=i;const o=null!==(t=this.styles.focusBorder)&&void 0!==t?t:"";this.selectDropDownContainer.style.outlineColor=o,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,n){const i=document.createElement("option");return i.value=e,i.text=e,i.disabled=!!n,i}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch(t){}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach(((t,n)=>{this.updateDetail(n),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)})),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=j1(this.selectElement),n=getComputedStyle(this.selectElement),i=parseFloat(n.getPropertyValue("--dropdown-padding-top"))+parseFloat(n.getPropertyValue("--dropdown-padding-bottom")),o=window.innerHeight-t.top-t.height-(this.selectBoxOptions.minBottomMargin||0),r=t.top-Rbe.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,s=this.selectElement.offsetWidth,a=this.setWidthControlElement(this.widthControlElement),l=Math.max(a,Math.round(s)).toString()+"px";this.selectDropDownContainer.style.width=l,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let c=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const u=this._hasDetails?this._cachedMaxDetailsHeight:0,h=c+i+u,d=Math.floor((o-i-u)/this.getHeight()),g=Math.floor((r-i-u)/this.getHeight());if(e)return!(t.top+t.height>window.innerHeight-22||t.top<Rbe.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||d<1&&g<1)&&(d<Rbe.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&g>d&&this.options.length>d?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(t.top+t.height>window.innerHeight-22||t.top<Rbe.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&d<1||1===this._dropDownPosition&&g<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&d+g<1)return this.hideSelectDropDown(!0),!1;h>o&&(c=d*this.getHeight())}else h>r&&(c=g*this.getHeight());return this.selectList.layout(c),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=c+i+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=c+i+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=l,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(e){let t=0;if(e){let n=0,i=0;this.options.forEach(((e,t)=>{const o=e.detail?e.detail.length:0,r=e.decoratorRight?e.decoratorRight.length:0,s=e.text.length+o+r;s>i&&(n=t,i=s)})),e.textContent=this.options[n].text+(this.options[n].decoratorRight?this.options[n].decoratorRight+" ":""),t=U1(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=u2(e,Tbe(".select-box-dropdown-list-container")),this.listRenderer=new Mbe,this.selectList=new Nbe("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:e=>{let t=e.text;return e.detail&&(t+=`. ${e.detail}`),e.decoratorRight&&(t+=`. ${e.decoratorRight}`),e.description&&(t+=`. ${e.description}`),t},getWidgetAriaLabel:()=>nK(0,"Select Box"),getRole:()=>wK?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new Sie(this.selectDropDownListContainer,"keydown")),n=tG.chain(t.event,(e=>e.filter((()=>this.selectList.length>0)).map((e=>new _0(e)))));this._register(tG.chain(n,(e=>e.filter((e=>3===e.keyCode))))(this.onEnter,this)),this._register(tG.chain(n,(e=>e.filter((e=>2===e.keyCode))))(this.onEnter,this)),this._register(tG.chain(n,(e=>e.filter((e=>9===e.keyCode))))(this.onEscape,this)),this._register(tG.chain(n,(e=>e.filter((e=>16===e.keyCode))))(this.onUpArrow,this)),this._register(tG.chain(n,(e=>e.filter((e=>18===e.keyCode))))(this.onDownArrow,this)),this._register(tG.chain(n,(e=>e.filter((e=>12===e.keyCode))))(this.onPageDown,this)),this._register(tG.chain(n,(e=>e.filter((e=>11===e.keyCode))))(this.onPageUp,this)),this._register(tG.chain(n,(e=>e.filter((e=>14===e.keyCode))))(this.onHome,this)),this._register(tG.chain(n,(e=>e.filter((e=>13===e.keyCode))))(this.onEnd,this)),this._register(tG.chain(n,(e=>e.filter((e=>e.keyCode>=21&&e.keyCode<=56||e.keyCode>=85&&e.keyCode<=113))))(this.onCharacter,this)),this._register(O1(this.selectList.getHTMLElement(),r2.POINTER_UP,(e=>this.onPointerUp(e)))),this._register(this.selectList.onMouseOver((e=>void 0!==e.index&&this.selectList.setFocus([e.index])))),this._register(this.selectList.onDidChangeFocus((e=>this.onListFocus(e)))),this._register(O1(this.selectDropDownContainer,r2.FOCUS_OUT,(e=>{this._isVisible&&!Y1(e.relatedTarget,this.selectDropDownContainer)&&this.onListBlur()}))),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;a2(e);const t=e.target;if(!t)return;if(t.classList.contains("slider"))return;const n=t.closest(".monaco-list-row");if(!n)return;const i=Number(n.getAttribute("data-index")),o=n.classList.contains("option-disabled");i>=0&&i<this.options.length&&!o&&(this.selected=i,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const n=e=>{for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(t);"img"===(i.tagName&&i.tagName.toLowerCase())?e.removeChild(i):n(i)}},i=wve({value:e,supportThemeIcons:!0},{actionHandler:t});return i.element.classList.add("select-box-description-markdown"),n(i.element),i.element}onListFocus(e){this._isVisible&&this._hasDetails&&this.updateDetail(e.indexes[0])}updateDetail(e){var t,n;this.selectionDetailsPane.innerText="";const i=this.options[e],o=null!==(t=null==i?void 0:i.description)&&void 0!==t?t:"",r=null!==(n=null==i?void 0:i.descriptionIsMarkdown)&&void 0!==n&&n;if(o){if(r){const e=i.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,e))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){a2(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){a2(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){a2(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){if(this.selected>0){a2(e,!0);this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(e){a2(e),this.selectList.focusPreviousPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onPageDown(e){a2(e),this.selectList.focusNextPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onHome(e){a2(e),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){a2(e),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=LG.toString(e.keyCode);let n=-1;for(let i=0;i<this.options.length-1;i++)if(n=(i+this.selected+1)%this.options.length,this.options[n].text.charAt(0).toUpperCase()===t&&!this.options[n].isDisabled){this.select(n),this.selectList.setFocus([n]),this.selectList.reveal(this.selectList.getFocus()[0]),a2(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}Rbe.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,Rbe.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,Rbe.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class Abe extends Yq{constructor(e,t,n,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new sG),this.styles=n,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(a8.addTarget(this.selectElement)),[r8.Tap].forEach((e=>{this._register(O1(this.selectElement,e,(e=>{this.selectElement.focus()})))})),this._register(P1(this.selectElement,"click",(e=>{a2(e,!0)}))),this._register(P1(this.selectElement,"change",(e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})}))),this._register(P1(this.selectElement,"keydown",(e=>{let t=!1;wK?18!==e.keyCode&&16!==e.keyCode&&10!==e.keyCode||(t=!0):(18===e.keyCode&&e.altKey||10===e.keyCode||3===e.keyCode)&&(t=!0),t&&e.stopPropagation()})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){this.options&&pU(this.options,e)||(this.options=e,this.selectElement.options.length=0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled))}))),void 0!==t&&this.select(t)}select(e){0===this.options.length?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&"string"==typeof this.options[this.selected].text?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,n;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",this.selectElement.style.color=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",this.selectElement.style.borderColor=null!==(n=this.styles.selectBorder)&&void 0!==n?n:"")}createOption(e,t,n){const i=document.createElement("option");return i.value=e,i.text=e,i.disabled=!!n,i}}class Obe extends Jne{constructor(e,t,n,i,o){super(),wK&&!(null==o?void 0:o.useCustomDrawn)?this.selectBoxDelegate=new Abe(e,t,i,o):this.selectBoxDelegate=new Rbe(e,t,n,i,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class Pbe extends Yq{get action(){return this._action}constructor(e,t,n={}){super(),this.options=n,this._context=e||this,this._action=t,t instanceof HQ&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new $Q)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(a8.addTarget(e));const n=this.options&&this.options.draggable;n&&(e.draggable=!0,gQ&&this._register(O1(e,r2.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(sme.TEXT,this._action.label)})))),this._register(O1(t,r8.Tap,(e=>this.onClick(e,!0)))),this._register(O1(t,r2.MOUSE_DOWN,(e=>{n||a2(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),wK&&this._register(O1(t,r2.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(O1(t,r2.CLICK,(e=>{a2(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register(O1(t,r2.DBLCLICK,(e=>{a2(e,!0)}))),[r2.MOUSE_UP,r2.MOUSE_OUT].forEach((e=>{this._register(O1(t,e,(e=>{a2(e),t.classList.remove("active")})))}))}onClick(e,t=!1){var n;a2(e,!0);const i=jU(this._context)?(null===(n=this.options)||void 0===n?void 0:n.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var e;if(!this.element)return;const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=ive(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateAriaLabel(){var e;if(this.element){const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class Fbe extends Pbe{constructor(e,t,n){super(e,t,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=u2(this.element,v2("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&(u2(this.element,v2("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===jQ.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=nK(0,"{0} ({1})",e,this.options.keybinding))),null!=e?e:void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(e=this.label)||void 0===e||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(e=this.element)||void 0===e||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(t=this.element)||void 0===t||t.classList.add("disabled"))}updateAriaLabel(){var e;if(this.label){const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.label.setAttribute("aria-label",t)}}updateChecked(){this.label&&(void 0!==this.action.checked?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class Bbe extends Pbe{constructor(e,t,n,i,o,r,s){super(e,t),this.selectBox=new Obe(n,i,o,r,s),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect((e=>this.runAction(e.selected,e.index))))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;null===(e=this.selectBox)||void 0===e||e.focus()}blur(){var e;null===(e=this.selectBox)||void 0===e||e.blur()}render(e){this.selectBox.render(e)}}class zbe extends $Q{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new sG),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=u2(e,v2(".monaco-dropdown")),this._label=u2(this._element,v2(".dropdown-label"));let n=t.labelRenderer;n||(n=e=>(e.textContent=t.label||"",null));for(const o of[r2.CLICK,r2.MOUSE_DOWN,r8.Tap])this._register(O1(this.element,o,(e=>a2(e,!0))));for(const o of[r2.MOUSE_DOWN,r8.Tap])this._register(O1(this._label,o,(e=>{e instanceof MouseEvent&&(e.detail>1||0!==e.button)||(this.visible?this.hide():this.show())})));this._register(O1(this._label,r2.KEY_UP,(e=>{const t=new _0(e);(t.equals(3)||t.equals(10))&&(a2(e,!0),this.visible?this.hide():this.show())})));const i=n(this._label);i&&this._register(i),this._register(a8.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Vbe extends zbe{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Wbe extends Pbe{constructor(e,t,n,i=Object.create(null)){super(null,e,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new sG),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=u2(e,v2("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new Vbe(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),null!=e?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;null===(e=this.dropdownMenu)||void 0===e||e.show()}updateEnabled(){var e,t;const n=!this.action.enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}}var Hbe,$be,jbe,Ube,Kbe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};($be=Hbe||(Hbe={}))[$be.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",$be[$be.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY",(Ube=jbe||(jbe={}))[Ube.None=0]="None",Ube[Ube.Initialized=1]="Initialized",Ube[Ube.Closed=2]="Closed";class qbe extends Yq{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new lG),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=jbe.None,this.cache=new Map,this.flushDelayer=this._register(new Z2(qbe.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,n;this._onDidChangeStorage.pause();try{null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.acceptExternal(t,e))),null===(n=e.deleted)||void 0===n||n.forEach((e=>this.acceptExternal(e,void 0)))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===jbe.Closed)return;let n=!1;if(jU(t))n=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),n=!0)}n&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const n=this.cache.get(e);return jU(n)?t:n}getBoolean(e,t){const n=this.get(e);return jU(n)?t:"true"===n}getNumber(e,t){const n=this.get(e);return jU(n)?t:parseInt(n,10)}set(e,t,n=!1){return Kbe(this,void 0,void 0,(function*(){if(this.state===jbe.Closed)return;if(jU(t))return this.delete(e,n);const i=FU(t)||Array.isArray(t)?(o=t,JSON.stringify(o,bve)):String(t);var o;return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:n}),this.doFlush()):void 0}))}delete(e,t=!1){return Kbe(this,void 0,void 0,(function*(){if(this.state===jbe.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Kbe(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}doFlush(e){return Kbe(this,void 0,void 0,(function*(){return this.options.hint===Hbe.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger((()=>this.flushPending()),e)}))}}qbe.DEFAULT_FLUSH_DELAY=100;class Gbe{constructor(){this.onDidChangeItemsExternal=tG.None,this.items=new Map}updateItems(e){var t,n;return Kbe(this,void 0,void 0,(function*(){null===(t=e.insert)||void 0===t||t.forEach(((e,t)=>this.items.set(t,e))),null===(n=e.delete)||void 0===n||n.forEach((e=>this.items.delete(e)))}))}}const Ybe="__$__targetStorageMarker",Xbe=OQ("storageService");var Zbe,Qbe;(Qbe=Zbe||(Zbe={}))[Qbe.NONE=0]="NONE",Qbe[Qbe.SHUTDOWN=1]="SHUTDOWN";class Jbe extends Yq{constructor(e={flushInterval:Jbe.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new lG),this._onDidChangeTarget=this._register(new lG),this._onWillSaveState=this._register(new sG),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,n){return tG.filter(this._onDidChangeValue.event,(n=>n.scope===e&&(void 0===t||n.key===t)),n)}emitDidChangeValue(e,t){const{key:n,external:i}=t;if(n===Ybe){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:n,target:this.getKeyTargets(e)[n],external:i})}get(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.get(e,n)}getBoolean(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getBoolean(e,n)}getNumber(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getNumber(e,n)}store(e,t,n,i,o=!1){jU(t)?this.remove(e,n,o):this.withPausedEmitters((()=>{var r;this.updateKeyTarget(e,n,i),null===(r=this.getStorage(n))||void 0===r||r.set(e,t,o)}))}remove(e,t,n=!1){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e,n)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,n,i=!1){var o,r;const s=this.getKeyTargets(t);"number"==typeof n?s[e]!==n&&(s[e]=n,null===(o=this.getStorage(t))||void 0===o||o.set(Ybe,JSON.stringify(s),i)):"number"==typeof s[e]&&(delete s[e],null===(r=this.getStorage(t))||void 0===r||r.set(Ybe,JSON.stringify(s),i))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?function(e){const t=e.get(Ybe);if(t)try{return JSON.parse(t)}catch(n){}return Object.create(null)}(t):Object.create(null)}}Jbe.DEFAULT_FLUSH_INTERVAL=6e4;const e_e={keybindingLabelBackground:u8(bee),keybindingLabelForeground:u8(_ee),keybindingLabelBorder:u8(yee),keybindingLabelBottomBorder:u8(wee),keybindingLabelShadow:u8(y8)},t_e={buttonForeground:u8(W8),buttonSeparator:u8(H8),buttonBackground:u8($8),buttonHoverBackground:u8(j8),buttonSecondaryForeground:u8(K8),buttonSecondaryBackground:u8(q8),buttonSecondaryHoverBackground:u8(G8),buttonBorder:u8(U8)},n_e={progressBarBackground:u8(tee)},i_e={inputActiveOptionBorder:u8(k8),inputActiveOptionForeground:u8(D8),inputActiveOptionBackground:u8(L8)};u8(ute),u8(dte),u8(hte),u8(uee),u8(hee),u8(y8),u8(v8),u8(jte),u8(Ute),u8(Kte),u8(_8);const o_e={inputBackground:u8(C8),inputForeground:u8(S8),inputBorder:u8(x8),inputValidationInfoBorder:u8(T8),inputValidationInfoBackground:u8(E8),inputValidationInfoForeground:u8(N8),inputValidationWarningBorder:u8(R8),inputValidationWarningBackground:u8(I8),inputValidationWarningForeground:u8(M8),inputValidationErrorBorder:u8(P8),inputValidationErrorBackground:u8(A8),inputValidationErrorForeground:u8(O8)},r_e={listFilterWidgetBackground:u8(nte),listFilterWidgetOutline:u8(ite),listFilterWidgetNoMatchesOutline:u8(ote),listFilterWidgetShadow:u8(rte),inputBoxStyles:o_e,toggleStyles:i_e},s_e={badgeBackground:u8(Y8),badgeForeground:u8(X8),badgeBorder:u8(v8)};u8(Lte),u8(kte),u8(Dte),u8(Dte),u8(Ete);const a_e={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:u8(Fee),listFocusForeground:u8(Bee),listFocusOutline:u8(zee),listActiveSelectionBackground:u8(Wee),listActiveSelectionForeground:u8(Hee),listActiveSelectionIconForeground:u8($ee),listFocusAndSelectionOutline:u8(Vee),listFocusAndSelectionBackground:u8(Wee),listFocusAndSelectionForeground:u8(Hee),listInactiveSelectionBackground:u8(jee),listInactiveSelectionIconForeground:u8(Kee),listInactiveSelectionForeground:u8(Uee),listInactiveFocusBackground:u8(qee),listInactiveFocusOutline:u8(Gee),listHoverBackground:u8(Yee),listHoverForeground:u8(Xee),listDropBackground:u8(Zee),listSelectionOutline:u8(b8),listHoverOutline:u8(b8),treeIndentGuidesStroke:u8(ste),treeInactiveIndentGuidesStroke:u8(ate),tableColumnsBorder:u8(lte),tableOddRowsBackgroundColor:u8(cte)};function l_e(e){return function(e,t){const n=Object.assign({},t);for(const i in e){const t=e[i];n[i]=void 0!==t?u8(t):void 0}return n}(e,a_e)}const c_e={selectBackground:u8(F8),selectListBackground:u8(B8),selectForeground:u8(z8),decoratorRightForeground:u8(mee),selectBorder:u8(V8),focusBorder:u8(m8),listFocusBackground:u8(mte),listInactiveSelectionIconForeground:u8(pte),listFocusForeground:u8(fte),listFocusOutline:(u_e=b8,h_e=n9.transparent.toString(),`var(${c8(u_e)}, ${h_e})`),listHoverBackground:u8(Yee),listHoverForeground:u8(Xee),listHoverOutline:u8(b8),selectListBorder:u8(dee),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0};var u_e,h_e;const d_e={shadowColor:u8(y8),borderColor:u8(vte),foregroundColor:u8(bte),backgroundColor:u8(_te),selectionForegroundColor:u8(yte),selectionBackgroundColor:u8(wte),selectionBorderColor:u8(Cte),separatorColor:u8(Ste),scrollbarShadow:u8(Z8),scrollbarSliderBackground:u8(Q8),scrollbarSliderHoverBackground:u8(J8),scrollbarSliderActiveBackground:u8(eee)};var g_e=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f_e=function(e,t){return function(n,i){t(n,i,e)}},p_e=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function m_e(e,t,n,i){const o=e.getActions(t),r=L2.getInstance();!function(e,t,n,i=e=>"navigation"===e,o=()=>!1,r=!1){let s,a;Array.isArray(t)?(s=t,a=t):(s=t.primary,a=t.secondary);const l=new Set;for(const[c,u]of e){let e;i(c)?(e=s,e.length>0&&r&&e.push(new jQ)):(e=a,e.length>0&&e.push(new jQ));for(let t of u){n&&(t=t instanceof a0&&t.alt?t.alt:t);const i=e.push(t);t instanceof UQ&&l.add({group:c,action:t,index:i-1})}}for(const{group:c,action:u,index:h}of l){const e=i(c)?s:a,t=u.actions;o(u,c,e.length)&&e.splice(h,1,...t)}}(o,n,r.keyStatus.altKey||(yK||CK)&&r.keyStatus.shiftKey,(e=>"navigation"===e))}let v_e=class extends Fbe{constructor(e,t,n,i,o,r,s,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable,keybinding:null==t?void 0:t.keybinding,hoverDelegate:null==t?void 0:t.hoverDelegate}),this._keybindingService=n,this._notificationService=i,this._contextKeyService=o,this._themeService=r,this._contextMenuService=s,this._accessibilityService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Xq),this._altKey=L2.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return p_e(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}))}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const n=()=>{var e;const n=!!(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);n!==this._wantsAltCommand&&(this._wantsAltCommand=n,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(n)),this._register(O1(e,"mouseleave",(e=>{t=!1,n()}))),this._register(O1(e,"mouseenter",(e=>{t=!0,n()}))),n()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),n=t&&t.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let o=n?nK(0,"{0} ({1})",i,n):i;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),n=t&&t.getLabel(),i=n?nK(0,"{0} ({1})",e,n):e;o=nK(0,"{0}\n[{1}] {2}",o,cpe.modifierLabels[IK].altKey,i)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:n}=this;if(!t||!n)return;const i=this._commandAction.checked&&((o=e.toggled)&&void 0!==o.condition)&&e.toggled.icon?e.toggled.icon:e.icon;var o;if(i)if(VQ.isThemeIcon(i)){const e=VQ.asClassNameArray(i);n.classList.add(...e),this._itemClassDispose.value=qq((()=>{n.classList.remove(...e)}))}else{const e=Lne(this._themeService.getColorTheme().type)?C2(i.dark):C2(i.light),t=v2("span");t.style.webkitMask=t.style.mask=`${e} no-repeat 50% 50%`,t.style.background="var(--vscode-icon-foreground)",t.style.display="inline-block",t.style.width="100%",t.style.height="100%",n.appendChild(t),n.classList.add("icon"),this._itemClassDispose.value=Kq(qq((()=>{n.classList.remove("icon"),d2(n)})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}}};v_e=g_e([f_e(2,Hoe),f_e(3,Ide),f_e(4,RJ),f_e(5,Fie),f_e(6,Vpe),f_e(7,X7)],v_e);let b_e=class extends Wbe{constructor(e,t,n,i,o){var r,s,a;const l=Object.assign(Object.assign({},t),{menuAsChild:null!==(r=null==t?void 0:t.menuAsChild)&&void 0!==r&&r,classNames:null!==(s=null==t?void 0:t.classNames)&&void 0!==s?s:VQ.isThemeIcon(e.item.icon)?VQ.asClassName(e.item.icon):void 0,keybindingProvider:null!==(a=null==t?void 0:t.keybindingProvider)&&void 0!==a?a:e=>n.lookupKeybinding(e.id)});super(e,{getActions:()=>e.actions},i,l),this._keybindingService=n,this._contextMenuService=i,this._themeService=o}render(e){super.render(e),UU(this.element),e.classList.add("menu-entry");const t=this._action,{icon:n}=t.item;if(n&&!VQ.isThemeIcon(n)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=Lne(this._themeService.getColorTheme().type)?C2(n.dark):C2(n.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};b_e=g_e([f_e(2,Hoe),f_e(3,Vpe),f_e(4,Fie)],b_e);let __e=class extends Pbe{constructor(e,t,n,i,o,r,s,a){var l,c,u;let h;super(null,e),this._keybindingService=n,this._notificationService=i,this._contextMenuService=o,this._menuService=r,this._instaService=s,this._storageService=a,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;const d=(null==t?void 0:t.persistLastActionId)?a.get(this._storageKey,1):void 0;d&&(h=e.actions.find((e=>d===e.id))),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(v_e,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const g=Object.assign(Object.assign({keybindingProvider:e=>this._keybindingService.lookupKeybinding(e.id)},t),{menuAsChild:null===(l=null==t?void 0:t.menuAsChild)||void 0===l||l,classNames:null!==(c=null==t?void 0:t.classNames)&&void 0!==c?c:["codicon","codicon-chevron-down"],actionRunner:null!==(u=null==t?void 0:t.actionRunner)&&void 0!==u?u:new $Q});this._dropdown=new Wbe(e,e.actions,this._contextMenuService,g),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof a0&&this.update(e.action)}))}update(e){var t;(null===(t=this._options)||void 0===t?void 0:t.persistLastActionId)&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(v_e,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends $Q{runAction(e,t){return p_e(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render(h2(this._container,v2(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let n;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){const t=this._keybindingService.lookupKeybinding(e.id);t&&(n=`(${t.getLabel()})`)}return n}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=v2(".action-container");this._defaultAction.render(u2(this._container,t)),this._register(O1(t,r2.KEY_DOWN,(e=>{const t=new _0(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const n=v2(".dropdown-action-container");this._dropdown.render(u2(this._container,n)),this._register(O1(n,r2.KEY_DOWN,(e=>{var t;const n=new _0(e);n.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),n.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};__e=g_e([f_e(2,Hoe),f_e(3,Ide),f_e(4,Vpe),f_e(5,i0),f_e(6,AQ),f_e(7,Xbe)],__e);let y_e=class extends Bbe{constructor(e,t){super(null,e,e.actions.map((e=>({text:e.id===jQ.ID?"─────────":e.label,isDisabled:!e.enabled}))),0,t,c_e,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex((e=>e.checked))))}render(e){super.render(e),e.style.borderColor=u8(V8)}runAction(e,t){const n=this.action.actions[t];n&&this.actionRunner.run(n)}};y_e=g_e([f_e(1,zpe)],y_e);var w_e=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class C_e extends Yq{constructor(e,t={}){var n,i,o,r,s,a;let l,c;switch(super(),this._actionRunnerDisposables=this._register(new Gq),this.viewItemDisposables=this._register(new Qq),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new sG),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new sG({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new sG),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new sG),this.onWillRun=this._onWillRun.event,this.options=t,this._context=null!==(n=t.context)&&void 0!==n?n:null,this._orientation=null!==(i=this.options.orientation)&&void 0!==i?i:0,this._triggerKeys={keyDown:null!==(r=null===(o=this.options.triggerKeys)||void 0===o?void 0:o.keyDown)&&void 0!==r&&r,keys:null!==(a=null===(s=this.options.triggerKeys)||void 0===s?void 0:s.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new $Q,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((e=>this._onWillRun.fire(e)))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical"}this._register(O1(this.domNode,r2.KEY_DOWN,(e=>{const t=new _0(e);let n=!0;const i="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?n=this.focusPrevious():c&&(t.equals(c[0])||t.equals(c[1]))?n=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?n=this.focusFirst():t.equals(13)?n=this.focusLast():t.equals(2)&&i instanceof Pbe&&i.trapsArrowNavigation?n=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:n=!1,n&&(t.preventDefault(),t.stopPropagation())}))),this._register(O1(this.domNode,r2.KEY_UP,(e=>{const t=new _0(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(c2(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{e2()!==this.domNode&&Y1(e2(),this.domNode)||(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const e=this.viewItems.find((e=>e instanceof Pbe&&e.isEnabled()));e instanceof Pbe&&e.setFocusable(!0)}else this.viewItems.forEach((e=>{e instanceof Pbe&&e.setFocusable(!1)}))}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((n=>{t=t||e.equals(n)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Y1(e2(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((e=>this._onWillRun.fire(e)))),this.viewItems.forEach((t=>t.actionRunner=e))}getContainer(){return this.domNode}getAction(e){var t;if("number"==typeof e)return null===(t=this.viewItems[e])||void 0===t?void 0:t.action;if(e instanceof HTMLElement){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){const n=Array.isArray(e)?e:[e];let i=zU(t.index)?t.index:null;n.forEach((e=>{const n=document.createElement("li");let o;n.className="action-item",n.setAttribute("role","presentation");const r=Object.assign({hoverDelegate:this.options.hoverDelegate},t);this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e,r)),o||(o=new Fbe(this.context,e,r)),this.options.allowContextMenu||this.viewItemDisposables.set(o,O1(n,r2.CONTEXT_MENU,(e=>{a2(e,!0)}))),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(n),this.focusable&&o instanceof Pbe&&0===this.viewItems.length&&o.setFocusable(!0),null===i||i<0||i>=this.actionsList.children.length?(this.actionsList.appendChild(n),this.viewItems.push(o)):(this.actionsList.insertBefore(n,this.actionsList.children[i]),this.viewItems.splice(i,0,o),i++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=Uq(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),M1(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return 0===this.viewItems.length}focus(e){let t,n=!1;if(void 0===e?n=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(n=e),n&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus(void 0,void 0,!0)}else void 0!==t&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let n;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===jQ.ID));return this.updateFocus(),!0}focusPrevious(e){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===jQ.ID));return this.updateFocus(!0),!0}updateFocus(e,t,n=!1){var i;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(i=this.viewItems[this.previouslyFocusedItem])||void 0===i||i.blur());const o=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(o){let i=!0;qU(o.focus)||(i=!1),this.options.focusOnlyEnabledItems&&qU(o.isEnabled)&&!o.isEnabled()&&(i=!1),o.action.id===jQ.ID&&(i=!1),i?(n||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof Pbe){const n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n)}}run(e,t){return w_e(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){this._context=void 0,this.viewItems=Uq(this.viewItems),this.getContainer().remove(),super.dispose()}}const S_e=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,x_e=/(&amp;)?(&amp;)([^\s&])/g;var k_e,L_e;(L_e=k_e||(k_e={}))[L_e.Right=0]="Right",L_e[L_e.Left=1]="Left";class D_e extends C_e{constructor(e,t,n,i){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,n,r),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...wK||CK?[10]:[]],keyDown:!0}}),this.menuStyles=i,this.menuElement=o,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Gq),this.initializeOrUpdateStyleSheet(e,i),this._register(a8.addTarget(o)),O1(o,r2.KEY_DOWN,(e=>{new _0(e).equals(2)&&e.preventDefault()})),n.enableMnemonics&&this.menuDisposables.add(O1(o,r2.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){a2(e,!0);const n=this.mnemonics.get(t);if(1===n.length&&(n[0]instanceof N_e&&n[0].container&&this.focusItemByElement(n[0].container),n[0].onClick(e)),n.length>1){const e=n.shift();e&&e.container&&(this.focusItemByElement(e.container),n.push(e)),this.mnemonics.set(t,n)}}}))),CK&&this._register(O1(o,r2.KEY_DOWN,(e=>{const t=new _0(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),a2(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),a2(e,!0))}))),this._register(O1(this.domNode,r2.MOUSE_OUT,(e=>{Y1(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(O1(this.actionsList,r2.MOUSE_OVER,(e=>{let t=e.target;if(t&&Y1(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(a8.addTarget(this.actionsList)),this._register(O1(this.actionsList,r8.Tap,(e=>{let t=e.initialTarget;if(t&&Y1(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));const r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new vie(o,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this.styleScrollElement(s,i),this._register(O1(o,r8.Change,(e=>{a2(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register(O1(s,r2.MOUSE_UP,(e=>{e.preventDefault()}))),o.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=n.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof T_e))).forEach(((e,t,n)=>{e.updatePositionInSet(t+1,n.length)}))}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(Q1(e)?this.styleSheet=t2(e):(D_e.globalStyleSheet||(D_e.globalStyleSheet=t2()),this.styleSheet=D_e.globalStyleSheet)),this.styleSheet.textContent=function(e,t){let n=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${I_e(xY.menuSelection)}\n${I_e(xY.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(t){n+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const t=e.scrollbarShadow;t&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${t} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${t} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${t} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const i=e.scrollbarSliderBackground;i&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${i};\n\t\t\t\t}\n\t\t\t`);const o=e.scrollbarSliderHoverBackground;o&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${o};\n\t\t\t\t}\n\t\t\t`);const r=e.scrollbarSliderActiveBackground;r&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${r};\n\t\t\t\t}\n\t\t\t`)}return n}(t,Q1(e))}styleScrollElement(e,t){var n,i;const o=null!==(n=t.foregroundColor)&&void 0!==n?n:"",r=null!==(i=t.backgroundColor)&&void 0!==i?i:"",s=t.borderColor?`1px solid ${t.borderColor}`:"",a=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=s,e.style.borderRadius="5px",e.style.color=o,e.style.backgroundColor=r,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,n){if(e instanceof jQ)return new T_e(t.context,e,{icon:!0},this.menuStyles);if(e instanceof UQ){const i=new N_e(e,e.actions,n,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}),this.menuStyles);if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const i=t.getKeyBinding(e);if(i){const e=i.getLabel();e&&(n.keybinding=e)}}const i=new E_e(t.context,e,n,this.menuStyles);if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}}}class E_e extends Pbe{constructor(e,t,n,i){if(n.isMenu=!0,super(t,t,n),this.menuStyle=i,this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass="",this.options.label&&n.enableMnemonics){const e=this.action.label;if(e){const t=S_e.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n4((()=>{this.element&&(this._register(O1(this.element,r2.MOUSE_UP,(e=>{if(a2(e,!0),gQ){if(new x0(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(O1(this.element,r2.CONTEXT_MENU,(e=>{a2(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=u2(this.element,v2("a.action-menu-item")),this._action.id===jQ.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=u2(this.item,v2("span.menu-item-check"+VQ.asCSSSelector(xY.menuSelection))),this.check.setAttribute("role","none"),this.label=u2(this.item,v2("span.action-label")),this.options.label&&this.options.keybinding&&(u2(this.item,v2("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),null===(e=this.item)||void 0===e||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){M1(this.label);let t=qme(this.action.label);if(t){const n=function(e){const t=S_e,n=t.exec(e);if(!n)return e;const i=!n[1];return e.replace(t,i?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=n),this.label.setAttribute("aria-label",n.replace(/&&/g,"&"));const i=S_e.exec(t);if(i){t=vZ(t),x_e.lastIndex=0;let n=x_e.exec(t);for(;n&&n[1];)n=x_e.exec(t);const o=e=>e.replace(/&amp;&amp;/g,"&amp;");n?this.label.append(_Z(o(t.substr(0,n.index))," "),v2("u",{"aria-hidden":"true"},n[3]),function(e,t){if(!e||!t)return e;const n=t.length,i=e.length;if(0===n||0===i)return e;let o=i,r=-1;for(;r=e.lastIndexOf(t,o-1),-1!==r&&r+n===o;){if(0===r)return"";o=r}return e.substring(0,o)}(o(t.substr(n.index+n[0].length))," ")):this.label.innerText=o(t).trim(),null===(e=this.item)||void 0===e||e.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=null!=t?t:"",this.item.style.backgroundColor=null!=n?n:"",this.item.style.outline=i,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=null!=t?t:"")}}class N_e extends E_e{constructor(e,t,n,i,o){super(e,e,i,o),this.submenuActions=t,this.parentData=n,this.submenuOptions=i,this.mysubmenu=null,this.submenuDisposables=this._register(new Gq),this.mouseOver=!1,this.expandDirection=i&&void 0!==i.expandDirection?i.expandDirection:k_e.Right,this.showScheduler=new n4((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new n4((()=>{this.element&&!Y1(e2(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=u2(this.item,v2("span.submenu-indicator"+VQ.asCSSSelector(xY.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(O1(this.element,r2.KEY_UP,(e=>{const t=new _0(e);(t.equals(17)||t.equals(3))&&(a2(e,!0),this.createSubmenu(!0))}))),this._register(O1(this.element,r2.KEY_DOWN,(e=>{const t=new _0(e);e2()===this.item&&(t.equals(17)||t.equals(3))&&a2(e,!0)}))),this._register(O1(this.element,r2.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(O1(this.element,r2.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(O1(this.element,r2.FOCUS_OUT,(e=>{this.element&&!Y1(e2(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}))))}updateEnabled(){}onClick(e){a2(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,n,i){const o={top:0,left:0};return o.left=jpe(e.width,t.width,{position:i===k_e.Right?0:1,offset:n.left,size:n.width}),o.left>=n.left&&o.left<n.left+n.width&&(n.left+10+t.width<=e.width&&(o.left=n.left+10),n.top+=10,n.height=0),o.top=jpe(e.height,t.height,{position:0,offset:n.top,size:0}),o.top+t.height===n.top&&o.top+n.height+t.height<=e.height&&(o.top+=n.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=u2(this.element,v2("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),n=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new D_e(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new KQ],this.submenuOptions,this.menuStyle);const i=this.element.getBoundingClientRect(),o={top:i.top-n,left:i.left,height:i.height+2*n,width:i.width},r=this.submenuContainer.getBoundingClientRect(),{top:s,left:a}=this.calculateSubmenuMenuLayout(new $1(window.innerWidth,window.innerHeight),$1.lift(r),o,this.expandDirection);this.submenuContainer.style.left=a-r.left+"px",this.submenuContainer.style.top=s-r.top+"px",this.submenuDisposables.add(O1(this.submenuContainer,r2.KEY_UP,(e=>{new _0(e).equals(15)&&(a2(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(O1(this.submenuContainer,r2.KEY_DOWN,(e=>{new _0(e).equals(15)&&a2(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=null!=e?e:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class T_e extends Fbe{constructor(e,t,n,i){super(e,t,n),this.menuStyles=i}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function I_e(e){const t=SY()[e.id];return`.codicon-${e.id}:before { content: '\\${t.toString(16)}'; }`}class M_e{constructor(e,t,n,i){this.contextViewService=e,this.telemetryService=t,this.notificationService=n,this.keybindingService=i,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let n;this.focusToReturn=document.activeElement;const i=o2(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:i=>{var o;this.lastContainer=i;const r=e.getMenuClassName?e.getMenuClassName():"";r&&(i.className+=" "+r),this.options.blockMouse&&(this.block=i.appendChild(v2(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",null===(o=this.blockDisposable)||void 0===o||o.dispose(),this.blockDisposable=O1(this.block,r2.MOUSE_DOWN,(e=>e.stopPropagation())));const s=new Gq,a=e.actionRunner||new $Q;return a.onWillRun((t=>this.onActionRun(t,!e.skipTelemetry)),this,s),a.onDidRun(this.onDidActionRun,this,s),n=new D_e(i,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:a,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)},d_e),n.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,s),n.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,s),s.add(O1(window,r2.BLUR,(()=>this.contextViewService.hideContextView(!0)))),s.add(O1(window,r2.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new x0(e);let n=t.target;if(!t.rightButton){for(;n;){if(n===i)return;n=n.parentElement}this.contextViewService.hideContextView(!0)}}))),Kq(s,n)},focus:()=>{null==n||n.focus(!!e.autoSelectFirstItem)},onHide:t=>{var n,i,o;null===(n=e.onHide)||void 0===n||n.call(e,!!t),this.block&&(this.block.remove(),this.block=null),null===(i=this.blockDisposable)||void 0===i||i.dispose(),this.blockDisposable=null,this.lastContainer&&(e2()===this.lastContainer||Y1(e2(),this.lastContainer))&&(null===(o=this.focusToReturn)||void 0===o||o.focus()),this.lastContainer=null}},i,!!i)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Fq(e.error)&&this.notificationService.error(e.error)}}var R_e=function(e,t){return function(n,i){t(n,i,e)}};let A_e=class extends Yq{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new M_e(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,n,i,o,r){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=n,this.keybindingService=i,this.menuService=o,this.contextKeyService=r,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new sG),this._onDidHideContextMenu=this._store.add(new sG)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=O_e.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var n;null===(n=e.onHide)||void 0===n||n.call(e,t),this._onDidHideContextMenu.fire()}})),L2.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var O_e,P_e,F_e;A_e=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([R_e(0,l0),R_e(1,Ide),R_e(2,zpe),R_e(3,Hoe),R_e(4,i0),R_e(5,RJ)],A_e),(O_e||(O_e={})).transform=function(e,t,n){if(!((i=e)&&i.menuId instanceof n0))return e;var i;const{menuId:o,menuActionOptions:r,contextKeyService:s}=e;return Object.assign(Object.assign({},e),{getActions:()=>{const i=[];if(o){const e=t.createMenu(o,null!=s?s:n);m_e(e,r,i),e.dispose()}return e.getActions?jQ.join(e.getActions(),i):i}})},(F_e=P_e||(P_e={}))[F_e.API=0]="API",F_e[F_e.USER=1]="USER";var B_e=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},z_e=function(e,t){return function(n,i){t(n,i,e)}},V_e=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let W_e=class{constructor(e){this._commandService=e}open(e,t){return V_e(this,void 0,void 0,(function*(){if(!Uge(e,S1.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;if("string"==typeof e&&(e=aY.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path))return!0;let n=[];try{n=vve(decodeURIComponent(e.query))}catch(i){try{n=vve(e.query)}catch(o){}}return Array.isArray(n)||(n=[n]),yield this._commandService.executeCommand(e.path,...n),!0}))}};W_e=B_e([z_e(0,GQ)],W_e);let H_e=class{constructor(e){this._editorService=e}open(e,t){return V_e(this,void 0,void 0,(function*(){"string"==typeof e&&(e=aY.parse(e));const{selection:n,uri:i}=function(e){let t;const n=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(e.fragment);return n&&(t={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1,endLineNumber:n[4]?parseInt(n[4]):void 0,endColumn:n[4]?n[5]?parseInt(n[5]):1:void 0},e=e.with({fragment:""})),{selection:t,uri:e}}(e);return(e=i).scheme===S1.file&&(e=Zle(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:n,source:(null==t?void 0:t.fromUserGesture)?P_e.USER:P_e.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};H_e=B_e([z_e(0,PQ)],H_e);let $_e=class{constructor(e,t){this._openers=new WK,this._validators=new WK,this._resolvers=new WK,this._resolvedUriTargets=new M6((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new WK,this._defaultExternalOpener={openExternal:e=>V_e(this,void 0,void 0,(function*(){return Kge(e,S1.http,S1.https)?w2(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>V_e(this,void 0,void 0,(function*(){return!(!(null==t?void 0:t.openExternal)&&!Kge(e,S1.mailto,S1.http,S1.https,S1.vsls))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new W_e(t)),this._openers.push(new H_e(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}open(e,t){var n;return V_e(this,void 0,void 0,(function*(){const i="string"==typeof e?aY.parse(e):e,o=null!==(n=this._resolvedUriTargets.get(i))&&void 0!==n?n:e;for(const e of this._validators)if(!(yield e.shouldOpen(o,t)))return!1;for(const n of this._openers){if(yield n.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return V_e(this,void 0,void 0,(function*(){for(const i of this._resolvers)try{const n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(n){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return V_e(this,void 0,void 0,(function*(){const n="string"==typeof e?aY.parse(e):e;let i,o;try{i=(yield this.resolveExternalUri(n,t)).resolved}catch(r){i=n}if(o="string"==typeof e&&n.toString()===i.toString()?e:encodeURI(i.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(o,{sourceUri:n,preferredOpenerId:e},fG.None))return!0}}return this._defaultExternalOpener.openExternal(o,{sourceUri:n},fG.None)}))}dispose(){this._validators.clear()}};$_e=B_e([z_e(0,PQ),z_e(1,GQ)],$_e);const j_e=OQ("editorWorkerService");var U_e,K_e;!function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(U_e||(U_e={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=nK(0,"Error"),t[e.Warning]=nK(0,"Warning"),t[e.Info]=nK(0,"Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case Nde.Error:return e.Error;case Nde.Warning:return e.Warning;case Nde.Info:return e.Info;case Nde.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return Nde.Error;case e.Warning:return Nde.Warning;case e.Info:return Nde.Info;case e.Hint:return Nde.Ignore}}}(U_e||(U_e={})),function(e){const t="";function n(e,n){const i=[t];return e.source?i.push(e.source.replace("¦","\\¦")):i.push(t),e.code?"string"==typeof e.code?i.push(e.code.replace("¦","\\¦")):i.push(e.code.value.replace("¦","\\¦")):i.push(t),void 0!==e.severity&&null!==e.severity?i.push(U_e.toString(e.severity)):i.push(t),e.message&&n?i.push(e.message.replace("¦","\\¦")):i.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?i.push(e.startLineNumber.toString()):i.push(t),void 0!==e.startColumn&&null!==e.startColumn?i.push(e.startColumn.toString()):i.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?i.push(e.endLineNumber.toString()):i.push(t),void 0!==e.endColumn&&null!==e.endColumn?i.push(e.endColumn.toString()):i.push(t),i.push(t),i.join("¦")}e.makeKey=function(e){return n(e,!0)},e.makeKeyOptionalMessage=n}(K_e||(K_e={}));const q_e=OQ("markerService");var G_e=function(e,t){return function(n,i){t(n,i,e)}};let Y_e=class extends Yq{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new sG),this._markerDecorations=new M6,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new X_e(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const n=this._markerDecorations.get(e.uri);n&&(n.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==S1.inMemory&&e.uri.scheme!==S1.internal&&e.uri.scheme!==S1.vscode||null===(t=this._markerService)||void 0===t||t.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};Y_e=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([G_e(0,FQ),G_e(1,q_e)],Y_e);class X_e extends Yq{constructor(e){super(),this.model=e,this._map=new O6,this._register(qq((()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()})))}update(e){const{added:t,removed:n}=function(e,t){const n=[],i=[];for(const o of e)t.has(o)||n.push(o);for(const o of t)e.has(o)||i.push(o);return{removed:n,added:i}}(new Set(this._map.keys()),new Set(e));if(0===t.length&&0===n.length)return!1;const i=n.map((e=>this._map.get(e))),o=t.map((e=>({range:this._createDecorationRange(this.model,e),options:this._createDecorationOption(e)}))),r=this.model.deltaDecorations(i,o);for(const s of n)this._map.delete(s);for(let s=0;s<r.length;s++)this._map.set(t[s],r[s]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let n=_Y.lift(t);if(t.severity!==U_e.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=e.validateRange(n),n.isEmpty()){const t=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);if(1===t||n.endColumn>=t)return n;const i=e.getWordAtPosition(n.getStartPosition());i&&(n=new _Y(n.startLineNumber,i.startColumn,n.endLineNumber,i.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){const i=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);i<n.endColumn&&(n=new _Y(n.startLineNumber,i,n.endLineNumber,n.endColumn),t.startColumn=i)}return n}_createDecorationOption(e){let t,n,i,o,r;switch(e.severity){case U_e.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case U_e.Info:t="squiggly-info",n=Bie(boe),i=10,r={color:Bie(zte),position:E3.Inline};break;case U_e.Warning:t="squiggly-warning",n=Bie(voe),i=20,r={color:Bie(Vte),position:E3.Inline};break;case U_e.Error:default:t="squiggly-error",n=Bie(moe),i=30,r={color:Bie(Wte),position:E3.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:n,position:L3.Right},minimap:r,zIndex:i,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}}var Z_e,Q_e=function(e,t){return function(n,i){t(n,i,e)}};function J_e(e){return e.toString()}class eye{constructor(e,t,n){this.model=e,this._modelEventListeners=new Gq,this.model=e,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>n(e,t))))}dispose(){this._modelEventListeners.dispose()}}const tye=CK||wK?1:2;class nye{constructor(e,t,n,i,o,r,s,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=o,this.sha1=r,this.versionId=s,this.alternativeVersionId=a}}let iye=Z_e=class extends Yq{constructor(e,t,n,i,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=n,this._languageService=i,this._languageConfigurationService=o,this._onModelAdded=this._register(new sG),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new sG),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new sG),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((e=>this._updateModelOptions(e)))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var n;let i=BK.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let o="tabSize";if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(o=Math.max(t,1))}let r=BK.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=tye;const a=e.eol;"\r\n"===a?s=2:"\n"===a&&(s=1);let l=BK.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let c=BK.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let u=BK.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(u="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let h=BK.bracketPairColorizationOptions;return(null===(n=e.editor)||void 0===n?void 0:n.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:o,insertSpaces:r,detectIndentation:c,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"string"==typeof n&&"auto"!==n?n:3===IK||2===IK?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(e,t,n){const i="string"==typeof e?e:e.languageId;let o=this._modelCreationOptionsByLanguageAndResource[i+t];if(!o){const e=this._configurationService.getValue("editor",{overrideIdentifier:i,resource:t}),r=this._getEOL(t,i);o=Z_e._readModelOptions({editor:e,eol:r},n),this._modelCreationOptionsByLanguageAndResource[i+t]=o}return o}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,o=n.length;i<o;i++){const o=n[i],r=this._models[o],s=r.model.getLanguageId(),a=r.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:s,resource:a})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:s,resource:a}))continue;const l=t[s+a],c=this.getCreationOptions(s,a,r.model.isForSimpleWidget);Z_e._setModelOptionsForModel(r.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&JU(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(J_e(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(J_e(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(J_e(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const o=this.getCreationOptions(t,n,i),r=new Kue(e,t,o,n,this._undoRedoService,this._languageService,this._languageConfigurationService);if(n&&this._disposedModels.has(J_e(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=this._getSHA1Computer(),o=!!i.canComputeSHA1(r)&&i.computeSHA1(r)===e.sha1;if(o||e.sharesUndoRedoStack){for(const e of t.past)lce(e)&&e.matchesResource(n)&&e.setModel(r);for(const e of t.future)lce(e)&&e.matchesResource(n)&&e.setModel(r);this._undoRedoService.setElementsValidFlag(n,!0,(e=>lce(e)&&e.matchesResource(n))),o&&(r._overwriteVersionId(e.versionId),r._overwriteAlternativeVersionId(e.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const s=J_e(r.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");const a=new eye(r,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[s]=a,a}createModel(e,t,n,i=!1){let o;return o=t?this._createModelData(e,t,n,i):this._createModelData(e,I5,n,i),this._onModelAdded.fire(o.model),o.model}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=J_e(e),n=this._models[t];return n?n.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===S1.file||e.scheme===S1.vscodeRemote||e.scheme===S1.vscodeUserData||e.scheme===S1.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(e){const t=J_e(e.uri),n=this._models[t],i=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,r=0;if(i||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const t=this._undoRedoService.getElements(e.uri);if(t.past.length>0||t.future.length>0){for(const n of t.past)lce(n)&&n.matchesResource(e.uri)&&(o=!0,r+=n.heapSize(e.uri),n.setModel(e.uri));for(const n of t.future)lce(n)&&n.matchesResource(e.uri)&&(o=!0,r+=n.heapSize(e.uri),n.setModel(e.uri))}}const s=Z_e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,a=this._getSHA1Computer();if(o)if(i||!(r>s)&&a.canComputeSHA1(e))this._ensureDisposedModelsHeapSize(s-r),this._undoRedoService.setElementsValidFlag(e.uri,!1,(t=>lce(t)&&t.matchesResource(e.uri))),this._insertDisposedModel(new nye(e.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),i,r,a.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else{const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else if(!i){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[t],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const n=t.oldLanguage,i=e.getLanguageId(),o=this.getCreationOptions(n,e.uri,e.isForSimpleWidget),r=this.getCreationOptions(i,e.uri,e.isForSimpleWidget);Z_e._setModelOptionsForModel(e,r,o),this._onModelModeChanged.fire({model:e,oldLanguageId:n})}_getSHA1Computer(){return new oye}};iye.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,iye=Z_e=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Q_e(0,a5),Q_e(1,v9),Q_e(2,Pue),Q_e(3,g5),Q_e(4,z5)],iye);class oye{canComputeSHA1(e){return e.getValueLength()<=oye.MAX_MODEL_SIZE}computeSHA1(e){const t=new o3,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}}oye.MAX_MODEL_SIZE=10485760;class rye{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Yq.None}}renderElement(e,t,n,i){var o;if(null===(o=n.disposable)||void 0===o||o.dispose(),!n.data)return;const r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data,i);const s=new vG,a=r.resolve(e,s.token);n.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,n.data),a.then((t=>this.renderer.renderElement(t,e,n.data,i)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class sye{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}class aye{constructor(e,t,n,i,o={}){const r=()=>this.model,s=i.map((e=>new rye(e,r)));this.list=new Nbe(e,t,n,s,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new sye(e,t.accessibilityProvider)})}(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return tG.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onPointer(){return tG.map(this.list.onPointer,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onDidChangeSelection(){return tG.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:n})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:n})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,wU(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var lye=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};var cye,uye;(uye=cye||(cye={})).North="north",uye.South="south",uye.East="east",uye.West="west";const hye=new sG;const dye=new sG;class gye{constructor(){this.disposables=new Gq}get onPointerMove(){return this.disposables.add(new Sie(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Sie(window,"mouseup")).event}dispose(){this.disposables.dispose()}}lye([o8],gye.prototype,"onPointerMove",null),lye([o8],gye.prototype,"onPointerUp",null);class fye{get onPointerMove(){return this.disposables.add(new Sie(this.el,r8.Change)).event}get onPointerUp(){return this.disposables.add(new Sie(this.el,r8.End)).event}constructor(e){this.el=e,this.disposables=new Gq}dispose(){this.disposables.dispose()}}lye([o8],fye.prototype,"onPointerMove",null),lye([o8],fye.prototype,"onPointerUp",null);class pye{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}lye([o8],pye.prototype,"onPointerMove",null),lye([o8],pye.prototype,"onPointerUp",null);const mye="pointer-events-disabled";class vye extends Yq{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=u2(this.el,v2(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(qq((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new Sie(this._orthogonalStartDragHandle,"mouseenter")).event((()=>vye.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Sie(this._orthogonalStartDragHandle,"mouseleave")).event((()=>vye.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=u2(this.el,v2(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(qq((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new Sie(this._orthogonalEndDragHandle,"mouseenter")).event((()=>vye.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Sie(this._orthogonalEndDragHandle,"mouseleave")).event((()=>vye.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,n){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new X2(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new sG),this._onDidStart=this._register(new sG),this._onDidChange=this._register(new sG),this._onDidReset=this._register(new sG),this._onDidEnd=this._register(new sG),this.orthogonalStartSashDisposables=this._register(new Gq),this.orthogonalStartDragHandleDisposables=this._register(new Gq),this.orthogonalEndSashDisposables=this._register(new Gq),this.orthogonalEndDragHandleDisposables=this._register(new Gq),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=u2(e,v2(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),wK&&this.el.classList.add("mac");const i=this._register(new Sie(this.el,"mousedown")).event;this._register(i((e=>this.onPointerStart(e,new gye)),this));const o=this._register(new Sie(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new Sie(this.el,"mouseenter")).event;this._register(r((()=>vye.onMouseEnter(this))));const s=this._register(new Sie(this.el,"mouseleave")).event;this._register(s((()=>vye.onMouseLeave(this)))),this._register(a8.addTarget(this.el));const a=this._register(new Sie(this.el,r8.Start)).event;this._register(a((e=>this.onPointerStart(e,new fye(this.el))),this));const l=this._register(new Sie(this.el,r8.Tap)).event;let c;this._register(l((e=>{if(c)return clearTimeout(c),c=void 0,void this.onPointerDoublePress(e);clearTimeout(c),c=setTimeout((()=>c=void 0),250)}),this)),"number"==typeof n.size?(this.size=n.size,0===n.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(hye.event((e=>{this.size=e,this.layout()})))),this._register(dye.event((e=>this.hoverDelay=e))),this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}onPointerStart(e,t){a2(e);let n=!1;if(!e.__orthogonalSashEvent){const i=this.getOrthogonalSash(e);i&&(n=!0,e.__orthogonalSashEvent=!0,i.onPointerStart(e,new pye(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new pye(t))),!this.state)return;const i=document.getElementsByTagName("iframe");for(const h of i)h.classList.add(mye);const o=e.pageX,r=e.pageY,s=e.altKey,a={startX:o,currentX:o,startY:r,currentY:r,altKey:s};this.el.classList.add("active"),this._onDidStart.fire(a);const l=t2(this.el),c=()=>{let e="";e=n?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":wK?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":wK?"col-resize":"ew-resize",l.textContent=`* { cursor: ${e} !important; }`},u=new Gq;c(),n||this.onDidEnablementChange.event(c,null,u);t.onPointerMove((e=>{a2(e,!1);const t={startX:o,currentX:e.pageX,startY:r,currentY:e.pageY,altKey:s};this._onDidChange.fire(t)}),null,u),t.onPointerUp((e=>{a2(e,!1),this.el.removeChild(l),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const t of i)t.classList.remove(mye)}),null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&vye.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&vye.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){vye.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const n=null!==(t=e.initialTarget)&&void 0!==t?t:e.target;if(n&&n instanceof HTMLElement)return n.classList.contains("orthogonal-drag-handle")?n.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}const bye={separatorBorder:n9.transparent};class _ye{set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){var n,i;e!==this.visible&&(e?(this.size=Vge(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),null===(i=(n=this.view).setVisible)||void 0===i||i.call(n,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return null===(e=this.view.proportionalLayout)||void 0===e||e}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,n,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,"number"==typeof n?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){this.disposable.dispose()}}class yye extends _ye{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class wye extends _ye{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Cye,Sye,xye,kye;(Sye=Cye||(Cye={}))[Sye.Idle=0]="Idle",Sye[Sye.Busy=1]="Busy",(kye=xye||(xye={})).Distribute={type:"distribute"},kye.Split=function(e){return{type:"split",index:e}},kye.Auto=function(e){return{type:"auto",index:e}},kye.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class Lye extends Yq{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){var n,i,o,r,s;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Cye.Idle,this._onDidSashChange=this._register(new sG),this._onDidSashReset=this._register(new sG),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(n=t.orientation)&&void 0!==n?n:0,this.inverseAltBehavior=null!==(i=t.inverseAltBehavior)&&void 0!==i&&i,this.proportionalLayout=null===(o=t.proportionalLayout)||void 0===o||o,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=u2(this.el,v2(".sash-container")),this.viewContainer=v2(".split-view-container"),this.scrollable=this._register(new lie({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:B1})),this.scrollableElement=this._register(new mie(this.viewContainer,{vertical:0===this.orientation?null!==(r=t.scrollbarVisibility)&&void 0!==r?r:1:2,horizontal:1===this.orientation?null!==(s=t.scrollbarVisibility)&&void 0!==s?s:1:2},this.scrollable));const a=this._register(new Sie(this.viewContainer,"scroll")).event;this._register(a((e=>{const t=this.scrollableElement.getScrollPosition(),n=Math.abs(this.viewContainer.scrollLeft-t.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,i=Math.abs(this.viewContainer.scrollTop-t.scrollTop)<=1?void 0:this.viewContainer.scrollTop;void 0===n&&void 0===i||this.scrollableElement.setScrollPosition({scrollLeft:n,scrollTop:i})}))),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{e.scrollTopChanged&&(this.viewContainer.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this.viewContainer.scrollLeft=e.scrollLeft)}))),u2(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||bye),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const n=HU(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},i=e.view;this.doAddView(i,n,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,n=this.viewItems.length,i){this.doAddView(e,t,n,i)}layout(e,t){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let t=0;for(let n=0;n<this.viewItems.length;n++){const i=this.viewItems[n],o=this.proportions[n];"number"==typeof o?t+=o:e-=i.size}for(let n=0;n<this.viewItems.length;n++){const i=this.viewItems[n],o=this.proportions[n];"number"==typeof o&&(i.size=Vge(Math.round(o*e/t),i.minimumSize,i.maximumSize))}}else{const t=wU(this.viewItems.length),i=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-n,void 0,i,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.proportionalLayout?e.size/this.contentSize:void 0)))}onSashStart({sash:e,start:t,alt:n}){for(const s of this.viewItems)s.enabled=!1;const i=this.sashItems.findIndex((t=>t.sash===e)),o=Kq(O1(document.body,"keydown",(e=>r(this.sashDragState.current,e.altKey))),O1(document.body,"keyup",(()=>r(this.sashDragState.current,!1)))),r=(e,t)=>{const n=this.viewItems.map((e=>e.size));let r,s,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(i===this.sashItems.length-1){const e=this.viewItems[i];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[i+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=wU(i,-1),t=wU(i+1,this.viewItems.length),o=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-n[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),c=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].viewMaximumSize)),0),u=Math.max(o,c),h=Math.min(l,a),d=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"==typeof d){const e=this.viewItems[d],t=Math.floor(e.viewMinimumSize/2);r={index:d,limitDelta:e.visible?u-t:u+t,size:e.size}}if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);s={index:g,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:i,sizes:n,minDelta:a,maxDelta:l,alt:t,snapBefore:r,snapAfter:s,disposable:o}};r(t,n)}onSashChange({current:e}){const{index:t,start:n,sizes:i,alt:o,minDelta:r,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const c=e-n,u=this.resize(t,c,i,void 0,void 0,r,s,a,l);if(o){const e=t===this.sashItems.length-1,n=this.viewItems.map((e=>e.size)),i=e?t:t+1,o=this.viewItems[i],r=o.size-o.maximumSize,s=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-u,n,void 0,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t=Vge(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))}resizeView(e,t){if(this.state!==Cye.Idle)throw new Error("Cant modify splitview");if(this.state=Cye.Busy,e<0||e>=this.viewItems.length)return;const n=wU(this.viewItems.length).filter((t=>t!==e)),i=[...n.filter((e=>1===this.viewItems[e].priority)),e],o=n.filter((e=>2===this.viewItems[e].priority)),r=this.viewItems[e];t=Vge(t=Math.round(t),r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(i,o),this.state=Cye.Idle}distributeViewSizes(){const e=[];let t=0;for(const s of this.viewItems)s.maximumSize-s.minimumSize>0&&(e.push(s),t+=s.size);const n=Math.floor(t/e.length);for(const s of e)s.size=Vge(n,s.minimumSize,s.maximumSize);const i=wU(this.viewItems.length),o=i.filter((e=>1===this.viewItems[e].priority)),r=i.filter((e=>2===this.viewItems[e].priority));this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,n=this.viewItems.length,i){if(this.state!==Cye.Idle)throw new Error("Cant modify splitview");this.state=Cye.Busy;const o=v2(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(n));const r=Kq(e.onDidChange((e=>this.onViewChange(a,e))),qq((()=>this.viewContainer.removeChild(o))));let s;"number"==typeof t?s=t:("auto"===t.type&&(t=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:t.index}),s="split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize);const a=0===this.orientation?new yye(o,e,s,r):new wye(o,e,s,r);if(this.viewItems.splice(n,0,a),this.viewItems.length>1){const e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},t=0===this.orientation?new vye(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new vye(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),i=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=Kq(tG.map(t.onDidStart,i)(this.onSashStart,this),tG.map(t.onDidChange,i)(this.onSashChange,this),tG.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t))))(this.onSashEnd,this),t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),n=wU(e,-1),i=wU(e+1,this.viewItems.length),o=this.findFirstSnapIndex(n),r=this.findFirstSnapIndex(i);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof r||this.viewItems[r].visible)&&this._onDidSashReset.fire(e)})),t),r={sash:t,disposable:o};this.sashItems.splice(n-1,0,r)}let l;o.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(l=[t.index]),i||this.relayout([n],l),this.state=Cye.Idle,i||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const n=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,n=this.viewItems.map((e=>e.size)),i,o,r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const c=wU(e,-1),u=wU(e+1,this.viewItems.length);if(o)for(const C of o)SU(c,C),SU(u,C);if(i)for(const C of i)xU(c,C),xU(u,C);const h=c.map((e=>this.viewItems[e])),d=c.map((e=>n[e])),g=u.map((e=>this.viewItems[e])),f=u.map((e=>n[e])),p=c.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),m=c.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-n[t])),0),v=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),b=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((e,t)=>e+(n[t]-this.viewItems[t].maximumSize)),0),_=Math.max(p,b,r),y=Math.min(v,m,s);let w=!1;if(a){const e=this.viewItems[a.index],n=t>=a.limitDelta;w=n!==e.visible,e.setVisible(n,a.size)}if(!w&&l){const e=this.viewItems[l.index],n=t<l.limitDelta;w=n!==e.visible,e.setVisible(n,l.size)}if(w)return this.resize(e,t,n,i,o,r,s);for(let C=0,S=t=Vge(t,_,y);C<h.length;C++){const e=h[C],t=Vge(d[C]+S,e.minimumSize,e.maximumSize);S-=t-d[C],e.size=t}for(let C=0,S=t;C<g.length;C++){const e=g[C],t=Vge(f[C]-S,e.minimumSize,e.maximumSize);S+=t-f[C],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let n=this.size-t;const i=wU(this.viewItems.length-1,-1),o=i.filter((e=>1===this.viewItems[e].priority)),r=i.filter((e=>2===this.viewItems[e].priority));for(const s of r)SU(i,s);for(const s of o)xU(i,s);"number"==typeof e&&xU(i,e);for(let s=0;0!==n&&s<i.length;s++){const e=this.viewItems[i[s]],t=Vge(e.size+n,e.minimumSize,e.maximumSize);n-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const n=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),i=[...this.viewItems].reverse();e=!1;const o=i.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const r=i.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let s=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];s+=this.viewItems[a].size;const i=!(t[a]&&r[a+1]),l=!(n[a]&&o[a+1]);if(i&&l){const n=wU(a,-1),i=wU(a+1,this.viewItems.length),r=this.findFirstSnapIndex(n),l=this.findFirstSnapIndex(i),c="number"==typeof r&&!this.viewItems[r].visible,u="number"==typeof l&&!this.viewItems[l].visible;c&&o[a]&&(s>0||this.startSnappingEnabled)?e.state=1:u&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=i&&!l?1:!i&&l?2:3}}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}areViewsDistributed(){let e,t;for(const n of this.viewItems)if(e=void 0===e?n.size:Math.min(e,n.size),t=void 0===t?n.size:Math.max(t,n.size),t-e>2)return!1;return!0}dispose(){var e;null===(e=this.sashDragState)||void 0===e||e.disposable.dispose(),Uq(this.viewItems),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[],super.dispose()}}class Dye{constructor(e,t,n){this.columns=e,this.getColumnSize=n,this.templateId=Dye.TemplateId,this.renderedTemplates=new Set;const i=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const o of e){const e=i.get(o.templateId);if(!e)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=u2(e,v2(".monaco-table-tr")),n=[],i=[];for(let r=0;r<this.columns.length;r++){const e=this.renderers[r],o=u2(t,v2(".monaco-table-td",{"data-col-index":r}));o.style.width=`${this.getColumnSize(r)}px`,n.push(o),i.push(e.renderTemplate(o))}const o={container:e,cellContainers:n,cellTemplateData:i};return this.renderedTemplates.add(o),o}renderElement(e,t,n,i){for(let o=0;o<this.columns.length;o++){const r=this.columns[o].project(e);this.renderers[o].renderElement(r,t,n.cellTemplateData[o],i)}}disposeElement(e,t,n,i){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const s=this.columns[o].project(e);r.disposeElement(s,t,n.cellTemplateData[o],i)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}M1(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:n}of this.renderedTemplates)n[e].style.width=`${t}px`}}Dye.TemplateId="row";class Eye{get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:tG.None}constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new sG,this.onDidLayout=this._onDidLayout.event,this.element=v2(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}layout(e){this._onDidLayout.fire([this.index,e])}}class Nye{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,n,i,o,r){this.virtualDelegate=n,this.domId="table_id_"+ ++Nye.InstanceCount,this.disposables=new Gq,this.cachedWidth=0,this.cachedHeight=0,this.domNode=u2(t,v2(`.monaco-table.${this.domId}`));const s=i.map(((e,t)=>new Eye(e,t))),a={size:s.reduce(((e,t)=>e+t.column.weight),0),views:s.map((e=>({size:e.column.weight,view:e})))};this.splitview=this.disposables.add(new Lye(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a})),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const l=new Dye(i,o,(e=>this.splitview.getViewSize(e)));var c;this.list=this.disposables.add(new Nbe(e,this.domNode,(c=n,{getHeight:e=>c.getHeight(e),getTemplateId:()=>Dye.TemplateId}),[l],r)),tG.any(...s.map((e=>e.onDidLayout)))((([e,t])=>l.layoutColumn(e,t)),null,this.disposables),this.splitview.onDidSashReset((e=>{const t=i.reduce(((e,t)=>e+t.weight),0),n=i[e].weight/t*this.cachedWidth;this.splitview.resizeView(e,n)}),null,this.disposables),this.styleElement=t2(this.domNode),this.style(Cbe)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,n=[]){this.list.splice(e,t,n)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}Nye.InstanceCount=0;class Tye extends Jne{constructor(e){super(),this._onChange=this._register(new sG),this.onChange=this._onChange.event,this._onKeyDown=this._register(new sG),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...VQ.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault())})),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Iye=nK(0,"Match Case"),Mye=nK(0,"Match Whole Word"),Rye=nK(0,"Use Regular Expression");class Aye extends Tye{constructor(e){super({icon:xY.caseSensitive,title:Iye+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Oye extends Tye{constructor(e){super({icon:xY.wholeWord,title:Mye+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Pye extends Tye{constructor(e){super({icon:xY.regex,title:Rye+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Fye{constructor(e,t=0,n=e.length,i=t-1){this.items=e,this.start=t,this.end=n,this.index=i}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class Bye{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return null===this._navigator.current()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new Fye(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const zye=v2;let Vye=class extends Jne{constructor(e,t,n){var i;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new sG),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new sG),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=n,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(i=this.options.tooltip)&&void 0!==i?i:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=u2(e,zye(".monaco-inputbox.idle"));const o=this.options.flexibleHeight?"textarea":"input",r=u2(this.element,zye(".ibwrapper"));if(this.input=u2(r,zye(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=u2(r,zye("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new pie(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),u2(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new Sie(document,"selectionchange")),n=tG.filter(t.event,(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===r}));this._register(n(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this._register(this.ignoreGesture(this.input)),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new C_e(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:G1(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}showMessage(e,t){if("open"===this.state&&JU(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const n=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${x2(n.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=U1(this.element)+"px";let n;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{var i,o;if(!this.message)return null;e=u2(n,zye(".monaco-inputbox-container")),t();const r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?ove(this.message.content,r):function(e,t={}){const n=rve(t);return n.textContent=e,n}(this.message.content,r);s.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return s.style.backgroundColor=null!==(i=a.background)&&void 0!==i?i:"",s.style.color=null!==(o=a.foreground)&&void 0!==o?o:"",s.style.border=a.border?`1px solid ${a.border}`:"",u2(e,s),null},onHide:()=>{this.state="closed"},layout:t}),n=3===this.message.type?nK(0,"Error: {0}",this.message.content):2===this.message.type?nK(0,"Warning: {0}",this.message.content):nK(0,"Info: {0}",this.message.content),z7(n),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}applyStyles(){var e,t,n;const i=this.options.inputBoxStyles,o=null!==(e=i.inputBackground)&&void 0!==e?e:"",r=null!==(t=i.inputForeground)&&void 0!==t?t:"",s=null!==(n=i.inputBorder)&&void 0!==n?n:"";this.element.style.backgroundColor=o,this.element.style.color=r,this.input.style.backgroundColor="inherit",this.input.style.color=r,this.element.style.border=`1px solid ${x2(s,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=G1(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,n=t.selectionStart,i=t.selectionEnd,o=t.value;null!==n&&null!==i&&(this.value=o.substr(0,n)+e+o.substr(i),t.setSelectionRange(n+1,n+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,null===(e=this.actionbar)||void 0===e||e.dispose(),super.dispose()}};class Wye extends Vye{constructor(e,t,n){const i=nK(0,"for history"),o=` or ⇅ ${i}`,r=` (⇅ ${i})`;super(e,t,n),this._onDidFocus=this._register(new sG),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new sG),this.onDidBlur=this._onDidBlur.event,this.history=new Bye(n.history,100);const s=()=>{if(n.showHistoryHint&&n.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const e=this.placeholder.endsWith(")")?o:r,t=this.placeholder+e;n.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=t:this.setPlaceHolder(t)}};this.observer=new MutationObserver(((e,t)=>{e.forEach((e=>{e.target.textContent||s()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>s())),this.onblur(this.input,(()=>{const e=e=>{if(this.placeholder.endsWith(e)){const t=this.placeholder.slice(0,this.placeholder.length-e.length);return n.showPlaceholderOnFocus?this.placeholder=t:this.setPlaceHolder(t),!0}return!1};e(r)||e(o)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=null!=e?e:"",V7(this.value?this.value:nK(0,"Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,V7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const Hye=nK(0,"input");class $ye extends Jne{constructor(e,t,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new Xq),this.additionalToggles=[],this._onDidOptionChange=this._register(new sG),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new sG),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new sG),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new sG),this._onKeyUp=this._register(new sG),this._onCaseSensitiveKeyDown=this._register(new sG),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new sG),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Hye,this.showCommonFindToggles=!!n.showCommonFindToggles;const i=n.appendCaseSensitiveLabel||"",o=n.appendWholeWordsLabel||"",r=n.appendRegexLabel||"",s=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,c=n.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Wye(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:n.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new Pye(Object.assign({appendTitle:r,isChecked:!1},n.toggleStyles))),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new Oye(Object.assign({appendTitle:o,isChecked:!1},n.toggleStyles))),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new Aye(Object.assign({appendTitle:i,isChecked:!1},n.toggleStyles))),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)})));const e=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(t=>{if(t.equals(15)||t.equals(17)||t.equals(9)){const n=e.indexOf(document.activeElement);if(n>=0){let i=-1;t.equals(17)?i=(n+1)%e.length:t.equals(15)&&(i=0===n?e.length-1:n-1),t.equals(9)?(e[n].blur(),this.inputBox.focus()):i>=0&&e[i].focus(),a2(t,!0)}}}))}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(null==n?void 0:n.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),null==e||e.appendChild(this.domNode),this._register(O1(this.inputBox.inputElement,"compositionstart",(e=>{this.imeSessionInProgress=!0}))),this._register(O1(this.inputBox.inputElement,"compositionend",(e=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),null===(e=this.regex)||void 0===e||e.enable(),null===(t=this.wholeWords)||void 0===t||t.enable(),null===(n=this.caseSensitive)||void 0===n||n.enable();for(const i of this.additionalToggles)i.enable()}disable(){var e,t,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),null===(e=this.regex)||void 0===e||e.disable(),null===(t=this.wholeWords)||void 0===t||t.disable(),null===(n=this.caseSensitive)||void 0===n||n.disable();for(const i of this.additionalToggles)i.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new Gq;for(const t of null!=e?e:[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()}))),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,n,i,o,r,s;this.inputBox.paddingRight=e?0:(null!==(n=null===(t=this.caseSensitive)||void 0===t?void 0:t.width())&&void 0!==n?n:0)+(null!==(o=null===(i=this.wholeWords)||void 0===i?void 0:i.width())&&void 0!==o?o:0)+(null!==(s=null===(r=this.regex)||void 0===r?void 0:r.width())&&void 0!==s?s:0)+this.additionalToggles.reduce(((e,t)=>e+t.width()),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e,t;return null!==(t=null===(e=this.caseSensitive)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e,t;return null!==(t=null===(e=this.wholeWords)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e,t;return null!==(t=null===(e=this.regex)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;null===(e=this.caseSensitive)||void 0===e||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var jye,Uye,Kye,qye,Gye,Yye,Xye,Zye,Qye,Jye;(Uye=jye||(jye={}))[Uye.Expanded=0]="Expanded",Uye[Uye.Collapsed=1]="Collapsed",Uye[Uye.PreserveOrExpanded=2]="PreserveOrExpanded",Uye[Uye.PreserveOrCollapsed=3]="PreserveOrCollapsed",(qye=Kye||(Kye={}))[qye.Unknown=0]="Unknown",qye[qye.Twistie=1]="Twistie",qye[qye.Element=2]="Element",qye[qye.Filter=3]="Filter";class ewe extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class twe{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function nwe(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function iwe(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function owe(e){return"boolean"==typeof e.collapsible}class rwe{constructor(e,t,n,i={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new hG,this._onDidChangeCollapseState=new sG,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new sG,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new sG,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new X2(j2),this.collapseByDefault=void 0!==i.collapseByDefault&&i.collapseByDefault,this.filter=i.filter,this.autoExpandSingleChildren=void 0!==i.autoExpandSingleChildren&&i.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,n=zK.empty(),i={}){if(0===e.length)throw new ewe(this.user,"Invalid tree location");i.diffIdentityProvider?this.spliceSmart(i.diffIdentityProvider,e,t,n,i):this.spliceSimple(e,t,n,i)}spliceSmart(e,t,n,i,o,r){var s;void 0===i&&(i=zK.empty()),void 0===r&&(r=null!==(s=o.diffDepth)&&void 0!==s?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,n,i,o);const l=[...i],c=t[t.length-1],u=new u3({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+n)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,n,l,o);const h=t.slice(0,-1),d=(t,n,i)=>{if(r>0)for(let s=0;s<i;s++)t--,n--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[n].children,o,r-1)};let g=Math.min(a.children.length,c+n),f=l.length;for(const p of u.changes.sort(((e,t)=>t.originalStart-e.originalStart)))d(g,f,g-(p.originalStart+p.originalLength)),g=p.originalStart,f=p.modifiedStart-c,this.spliceSimple([...h,g],p.originalLength,zK.slice(l,f,f+p.modifiedLength),o);d(g,f,g)}spliceSimple(e,t,n=zK.empty(),{onDidCreateNode:i,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:s,listIndex:a,revealed:l,visible:c}=this.getParentNodeWithListIndex(e),u=[],h=zK.map(n,(e=>this.createTreeNode(e,s,s.visible?1:0,l,u,i))),d=e[e.length-1],g=s.children.length>0;let f=0;for(let C=d;C>=0&&C<s.children.length;C--){const e=s.children[C];if(e.visible){f=e.visibleChildIndex;break}}const p=[];let m=0,v=0;for(const C of h)p.push(C),v+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=f+m++);const b=LU(s.children,d,t,p);r?s.lastDiffIds?LU(s.lastDiffIds,d,t,p.map((e=>r.getId(e.element).toString()))):s.lastDiffIds=s.children.map((e=>r.getId(e.element).toString())):s.lastDiffIds=void 0;let _=0;for(const C of b)C.visible&&_++;if(0!==_)for(let C=d+p.length;C<s.children.length;C++){const e=s.children[C];e.visible&&(e.visibleChildIndex-=_)}if(s.visibleChildrenCount+=m-_,l&&c){const e=b.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(s,v-e),this.list.splice(a,e,u)}if(b.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};b.forEach(e)}this._onDidSplice.fire({insertedNodes:p,deletedNodes:b});const y=s.children.length>0;g!==y&&this.setCollapsible(e.slice(0,-1),y);let w=s;for(;w;){if(2===w.visibility){this.refilterDelayer.trigger((()=>this.refilter()));break}w=w.parent}}rerender(e){if(0===e.length)throw new ewe(this.user,"Invalid tree location");const{node:t,listIndex:n,revealed:i}=this.getTreeNodeWithListIndex(e);t.visible&&i&&this.list.splice(n,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:n,revealed:i}=this.getTreeNodeWithListIndex(e);return n&&i?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsible);const i={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,i)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,n){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsed);const o={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:n,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(n,i,o,t);if(n!==this.root&&this.autoExpandSingleChildren&&r&&!owe(t)&&n.collapsible&&!n.collapsed&&!t.recursive){let i=-1;for(let e=0;e<n.children.length;e++){if(n.children[e].visible){if(i>-1){i=-1;break}i=e}}i>-1&&this._setCollapseState([...e,i],t)}return r}_setListNodeCollapseState(e,t,n,i){const o=this._setNodeCollapseState(e,i,!1);if(!n||!e.visible||!o)return o;const r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=r-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),o}_setNodeCollapseState(e,t,n){let i;if(e===this.root?i=!1:(owe(t)?(i=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(i=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):i=!1,i&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!owe(t)&&t.recursive)for(const o of e.children)i=this._setNodeCollapseState(o,t,!0)||i;return i}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,n,i,o,r){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,n);s.visibility=a,i&&o.push(s);const l=e.children||zK.empty(),c=i&&0!==a&&!s.collapsed;let u=0,h=1;for(const d of l){const e=this.createTreeNode(d,s,a,c,o,r);s.children.push(e),h+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=u++)}return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=u,s.visible=2===a?u>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=h):(s.renderNodeCount=0,i&&o.pop()),null==r||r(s),s}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const n of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(n,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterFilterChange(e,t,n,i=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;i&&n.push(e)}const r=n.length;e.renderNodeCount=e===this.root?0:1;let s=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const r of e.children)s=this._updateNodeAfterFilterChange(r,o,n,i&&!e.collapsed)||s,r.visible&&(r.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?s:1===o,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=n.length-r):(e.renderNodeCount=0,i&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const n=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof n?(e.filterData=void 0,n?1:0):nwe(n)?(e.filterData=n.data,iwe(n.visibility)):(e.filterData=void 0,iwe(n))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[n,...i]=e;return!(n<0||n>t.children.length)&&this.hasTreeNode(i,t.children[n])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[n,...i]=e;if(n<0||n>t.children.length)throw new ewe(this.user,"Invalid tree location");return this.getTreeNode(i,t.children[n])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:n,revealed:i,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new ewe(this.user,"Invalid tree location");const s=t.children[r];return{node:s,listIndex:n,revealed:i,visible:o&&s.visible}}getParentNodeWithListIndex(e,t=this.root,n=0,i=!0,o=!0){const[r,...s]=e;if(r<0||r>t.children.length)throw new ewe(this.user,"Invalid tree location");for(let a=0;a<r;a++)n+=t.children[a].renderNodeCount;return i=i&&!t.collapsed,o=o&&t.visible,0===s.length?{parentNode:t,listIndex:n,revealed:i,visible:o}:this.getParentNodeWithListIndex(s,t.children[r],n+1,i,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let n=e;for(;n.parent;)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}class swe extends Yve{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function awe(e){return e instanceof Yve?new swe(e):e}class lwe{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Yq.None,this.disposables=new Gq}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var n,i;null===(i=(n=this.dnd).onDragStart)||void 0===i||i.call(n,awe(e),t)}onDragOver(e,t,n,i,o=!0){const r=this.dnd.onDragOver(awe(e),t&&t.element,n,i),s=this.autoExpandNode!==t;if(s&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return r;if(s&&"boolean"!=typeof r&&r.autoExpand&&(this.autoExpandDisposable=J2((()=>{const e=this.modelProvider(),n=e.getNodeLocation(t);e.isCollapsed(n)&&e.setCollapsed(n,!1),this.autoExpandNode=void 0}),500,this.disposables)),"boolean"==typeof r||!r.accept||void 0===r.bubble||r.feedback){if(!o){return{accept:"boolean"==typeof r?r:r.accept,effect:"boolean"==typeof r?void 0:r.effect,feedback:[n]}}return r}if(1===r.bubble){const n=this.modelProvider(),o=n.getNodeLocation(t),r=n.getParentNodeLocation(o),s=n.getNode(r),a=r&&n.getListIndex(r);return this.onDragOver(e,s,a,i,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),c=a.getListIndex(l),u=a.getListRenderCount(l);return Object.assign(Object.assign({},r),{feedback:wU(c,c+u)})}drop(e,t,n,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(awe(e),t&&t.element,n,i)}onDragEnd(e){var t,n;null===(n=(t=this.dnd).onDragEnd)||void 0===n||n.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}class cwe{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var n,i;null===(i=(n=this.delegate).setDynamicHeight)||void 0===i||i.call(n,e.element,t)}}(Yye=Gye||(Gye={})).None="none",Yye.OnHover="onHover",Yye.Always="always";class uwe{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new Gq,this.onDidChange=tG.forEach(e,(e=>this._elements=e),this.disposables)}dispose(){this.disposables.dispose()}}class hwe{constructor(e,t,n,i,o,r={}){var s;this.renderer=e,this.modelProvider=t,this.activeNodes=i,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=hwe.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Yq.None,this.disposables=new Gq,this.templateId=e.templateId,this.updateOptions(r),tG.map(n,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(s=e.onDidChangeTwistieState)||void 0===s||s.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent){const t=Vge(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[e,t]of this.renderedNodes)this.renderTreeElement(e,t)}}if(void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==Gye.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[e,t]of this.renderedNodes)this._renderIndentGuides(e,t);if(this.indentGuidesDisposable.dispose(),t){const e=new Gq;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=u2(e,v2(".monaco-tl-row")),n=u2(t,v2(".monaco-tl-indent")),i=u2(t,v2(".monaco-tl-twistie")),o=u2(t,v2(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:n,twistie:i,indentGuidesDisposable:Yq.None,templateData:r}}renderElement(e,t,n,i){this.renderedNodes.set(e,n),this.renderedElements.set(e.element,e),this.renderTreeElement(e,n),this.renderer.renderElement(e,t,n.templateData,i)}disposeElement(e,t,n,i){var o,r;n.indentGuidesDisposable.dispose(),null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,e,t,n.templateData,i),"number"==typeof i&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const n=hwe.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${n}px`,t.indent.style.width=n+this.indent-16+"px",e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...VQ.asClassNameArray(xY.treeItemExpanded));let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...VQ.asClassNameArray(xY.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(M1(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const n=new Gq,i=this.modelProvider();for(;;){const o=i.getNodeLocation(e),r=i.getParentNodeLocation(o);if(!r)break;const s=i.getNode(r),a=v2(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),n.add(qq((()=>this.renderedIndentGuides.delete(s,a)))),e=s}t.indentGuidesDisposable=n}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,n=this.modelProvider();e.forEach((e=>{const i=n.getNodeLocation(e);try{const o=n.getParentNodeLocation(i);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(n.getNode(o))}catch(o){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Uq(this.disposables)}}hwe.DefaultIndent=8;class dwe{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,n){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Gq,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let n=1;if(this._filter){const i=this._filter.filter(e,t);if(n="boolean"==typeof i?i?1:0:nwe(i)?iwe(i.visibility):i,0===n)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Fme.Default,visibility:n};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(i)?i:[i];for(const r of o){const e=r&&r.toString();if(void 0===e)return{data:Fme.Default,visibility:n};let t;if(this.tree.findMatchType===Qye.Contiguous){const n=e.toLowerCase().indexOf(this._lowercasePattern);if(n>-1){t=[Number.MAX_SAFE_INTEGER,0];for(let e=this._lowercasePattern.length;e>0;e--)t.push(n+e-1)}}else t=Vme(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(t)return this._matchCount++,1===o.length?{data:t,visibility:n}:{data:{label:e,score:t},visibility:n}}return this.tree.findMode===Xye.Filter?"number"==typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Fme.Default,visibility:n}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Uq(this.disposables)}}(Zye=Xye||(Xye={}))[Zye.Highlight=0]="Highlight",Zye[Zye.Filter=1]="Filter",(Jye=Qye||(Qye={}))[Jye.Fuzzy=0]="Fuzzy",Jye[Jye.Contiguous=1]="Contiguous";class gwe{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,n,i,o,r={}){var s,a;this.tree=e,this.view=n,this.filter=i,this.contextViewProvider=o,this.options=r,this._pattern="",this.width=0,this._onDidChangeMode=new sG,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new sG,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new sG,this._onDidChangeOpenState=new sG,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new Gq,this.disposables=new Gq,this._mode=null!==(s=e.options.defaultFindMode)&&void 0!==s?s:Xye.Highlight,this._matchType=null!==(a=e.options.defaultFindMatchType)&&void 0!==a?a:Qye.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){void 0!==e.defaultFindMode&&(this.mode=e.defaultFindMode),void 0!==e.defaultFindMatchType&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}render(){var e,t,n,i;const o=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&o?null===(e=this.tree.options.showNotFoundMessage)||void 0===e||e?null===(t=this.widget)||void 0===t||t.showMessage({type:2,content:nK(0,"No elements found.")}):null===(n=this.widget)||void 0===n||n.showMessage({type:2}):null===(i=this.widget)||void 0===i||i.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===Xye.Filter||(this.filter.totalCount>0&&this.filter.matchCount<=1||!Fme.isDefault(e.filterData))}layout(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function fwe(e){let t=Kye.Unknown;return X1(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=Kye.Twistie:X1(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=Kye.Element:X1(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=Kye.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function pwe(e,t){t(e),e.children.forEach((e=>pwe(e,t)))}class mwe{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new sG,this.onDidChange=this._onDidChange.event}set(e,t){!(null==t?void 0:t.__forceEvent)&&pU(this.nodes,e)||this._set(e,!1,t)}_set(e,t,n){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:n})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),n=t=>e.delete(t);return t.forEach((e=>pwe(e,n))),void this.set([...e.values()])}const n=new Set,i=e=>n.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>pwe(e,i)));const o=new Map,r=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>pwe(e,r)));const s=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(n.has(e)){const t=o.get(e);t&&t.visible&&s.push(t)}else s.push(a)}if(this.nodes.length>0&&0===s.length){const e=this.getFirstViewElementWithTrait();e&&s.push(e)}this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class vwe extends ybe{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(lbe(e.browserEvent.target)||sbe(e.browserEvent.target)||abe(e.browserEvent.target))return;if(e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const n=e.browserEvent.target,i=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!i&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const n=this.tree.getNodeLocation(t),r=e.browserEvent.altKey;if(this.tree.setFocus([n]),this.tree.toggleCollapsed(n,r),o&&i)return void(e.browserEvent.isHandledByList=!0)}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(e.browserEvent.isHandledByList||super.onDoubleClick(e))}}class bwe extends Nbe{constructor(e,t,n,i,o,r,s,a){super(e,t,n,i,a),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=s}createMouseController(e){return new vwe(this,e.tree)}splice(e,t,n=[]){if(super.splice(e,t,n),0===n.length)return;const i=[],o=[];let r;n.forEach(((t,n)=>{this.focusTrait.has(t)&&i.push(e+n),this.selectionTrait.has(t)&&o.push(e+n),this.anchorTrait.has(t)&&(r=e+n)})),i.length>0&&super.setFocus(_U([...super.getFocus(),...i])),o.length>0&&super.setSelection(_U([...super.getSelection(),...o])),"number"==typeof r&&super.setAnchor(r)}setFocus(e,t,n=!1){super.setFocus(e,t),n||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,n=!1){super.setSelection(e,t),n||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class _we{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return tG.filter(tG.map(this.view.onMouseDblClick,fwe),(e=>e.target!==Kye.Filter))}get onPointer(){return tG.map(this.view.onPointer,fwe)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return tG.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:Xye.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.matchType)&&void 0!==t?t:Qye.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,n,i,o={}){var r;this._user=e,this._options=o,this.eventBufferer=new hG,this.onDidChangeFindOpenState=tG.None,this.disposables=new Gq,this._onWillRefilter=new sG,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new sG;const s=new cwe(n),a=new dG,l=new dG,c=this.disposables.add(new uwe(l.event)),u=new P6;this.renderers=i.map((e=>new hwe(e,(()=>this.model),a.event,c,u,o)));for(const v of this.renderers)this.disposables.add(v);let h;var d,g;o.keyboardNavigationLabelProvider&&(h=new dwe(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:h}),this.disposables.add(h)),this.focus=new mwe((()=>this.view.getFocusedElements()[0]),o.identityProvider),this.selection=new mwe((()=>this.view.getSelectedElements()[0]),o.identityProvider),this.anchor=new mwe((()=>this.view.getAnchorElement()),o.identityProvider),this.view=new bwe(e,t,s,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(d=()=>this.model,(g=o)&&Object.assign(Object.assign({},g),{identityProvider:g.identityProvider&&{getId:e=>g.identityProvider.getId(e.element)},dnd:g.dnd&&new lwe(d,g.dnd),multipleSelectionController:g.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>g.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>g.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:g.accessibilityProvider&&Object.assign(Object.assign({},g.accessibilityProvider),{getSetSize(e){const t=d(),n=t.getNodeLocation(e),i=t.getParentNodeLocation(n);return t.getNode(i).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:g.accessibilityProvider&&g.accessibilityProvider.isChecked?e=>g.accessibilityProvider.isChecked(e.element):void 0,getRole:g.accessibilityProvider&&g.accessibilityProvider.getRole?e=>g.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>g.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>g.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:g.accessibilityProvider&&g.accessibilityProvider.getWidgetRole?()=>g.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:g.accessibilityProvider&&g.accessibilityProvider.getAriaLevel?e=>g.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:g.accessibilityProvider.getActiveDescendantId&&(e=>g.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:g.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},g.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>g.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)})}))),{tree:this})),this.model=this.createModel(e,this.view,o),a.input=this.model.onDidChangeCollapseState;const f=tG.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}),this.disposables);f((()=>null),null,this.disposables);const p=this.disposables.add(new sG),m=this.disposables.add(new X2(0));if(this.disposables.add(tG.any(f,this.focus.onDidChange,this.selection.onDidChange)((()=>{m.trigger((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);p.fire([...e.values()])}))}))),l.input=p.event,!1!==o.keyboardSupport){const e=tG.chain(this.view.onKeyDown,(e=>e.filter((e=>!sbe(e.target))).map((e=>new _0(e)))));tG.chain(e,(e=>e.filter((e=>15===e.keyCode))))(this.onLeftArrow,this,this.disposables),tG.chain(e,(e=>e.filter((e=>17===e.keyCode))))(this.onRightArrow,this,this.disposables),tG.chain(e,(e=>e.filter((e=>10===e.keyCode))))(this.onSpace,this,this.disposables)}if((null===(r=o.findWidgetEnabled)||void 0===r||r)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const e=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new gwe(this,this.model,this.view,h,o.contextViewProvider,e),this.focusNavigationFilter=e=>this.findController.shouldAllowFocus(e),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=tG.None,this.onDidChangeFindMatchType=tG.None;this.styleElement=t2(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Gye.Always)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e);for(const n of this.renderers)n.updateOptions(e);this.view.updateOptions(this._options),null===(t=this.findController)||void 0===t||t.updateOptions(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Gye.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(e,t){var n;this.view.layout(e,t),zU(t)&&(null===(n=this.findController)||void 0===n||n.layout(t))}style(e){const t=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),n.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join("\n"),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const n=e.map((e=>this.model.getNode(e)));this.selection.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(i,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const n=e.map((e=>this.model.getNode(e)));this.focus.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(i,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const n=this.model.getListIndex(e);-1!==n&&this.view.reveal(n,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!0)){const e=this.model.getParentNodeLocation(i);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!1)){if(!n.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n),o=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,o)}dispose(){Uq(this.disposables),this.view.dispose()}}class ywe{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new rwe(e,t,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:(e,t)=>n.sorter.compare(e.element,t.element)}),this.identityProvider=n.identityProvider}setChildren(e,t=zK.empty(),n={}){const i=this.getElementLocation(e);this._setChildren(i,this.preserveCollapseState(t),n)}_setChildren(e,t=zK.empty(),n){const i=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{var t;if(null===e.element)return;const r=e;if(i.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.add(e),this.nodesByIdentity.set(e,r)}null===(t=n.onDidCreateNode)||void 0===t||t.call(n,r)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const r=e;if(i.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=n.onDidDeleteNode)||void 0===t||t.call(n,r)}}))}preserveCollapseState(e=zK.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),zK.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const n=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(n)}if(!t){let t;return t=void 0===e.collapsed?void 0:e.collapsed===jye.Collapsed||e.collapsed===jye.PreserveOrCollapsed||e.collapsed!==jye.Expanded&&e.collapsed!==jye.PreserveOrExpanded&&Boolean(e.collapsed),Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children),collapsed:t})}const n="boolean"==typeof e.collapsible?e.collapsible:t.collapsible;let i;return i=void 0===e.collapsed||e.collapsed===jye.PreserveOrCollapsed||e.collapsed===jye.PreserveOrExpanded?t.collapsed:e.collapsed===jye.Collapsed||e.collapsed!==jye.Expanded&&Boolean(e.collapsed),Object.assign(Object.assign({},e),{collapsible:n,collapsed:i,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getElementLocation(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getElementLocation(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new ewe(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new ewe(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new ewe(this.user,`Tree element not found: ${e}`);const n=this.model.getNodeLocation(t),i=this.model.getParentNodeLocation(n);return this.model.getNode(i).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new ewe(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function wwe(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:zK.map(zK.from(e.children),wwe),collapsible:e.collapsible,collapsed:e.collapsed}}function Cwe(e){const t=[e.element],n=e.incompressible||!1;let i,o;for(;[o,i]=zK.consume(zK.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:n},children:zK.map(zK.concat(o,i),Cwe),collapsible:e.collapsible,collapsed:e.collapsed}}function Swe(e,t=0){let n;return n=t<e.element.elements.length-1?[Swe(e,t+1)]:zK.map(zK.from(e.children),(e=>Swe(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:n,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:n,collapsible:e.collapsible,collapsed:e.collapsed}}function xwe(e){return Swe(e,0)}function kwe(e,t,n){return e.element===t?Object.assign(Object.assign({},e),{children:n}):Object.assign(Object.assign({},e),{children:zK.map(zK.from(e.children),(e=>kwe(e,t,n)))})}class Lwe{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new ywe(e,t,n),this.enabled=void 0===n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}setChildren(e,t=zK.empty(),n){const i=n.diffIdentityProvider&&(o=n.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=zK.map(t,this.enabled?Cwe:wwe);return void this._setChildren(null,e,{diffIdentityProvider:i,diffDepth:1/0})}const r=this.nodes.get(e);if(!r)throw new ewe(this.user,"Unknown compressed tree node");const s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=kwe(xwe(s),e,t),u=(this.enabled?Cwe:wwe)(c),h=n.diffIdentityProvider?(e,t)=>n.diffIdentityProvider.getId(e)===n.diffIdentityProvider.getId(t):void 0;if(pU(u.element.elements,s.element.elements,h))return void this._setChildren(r,u.children||zK.empty(),{diffIdentityProvider:i,diffDepth:1});const d=l.children.map((e=>e===s?u:e));this._setChildren(l.element,d,{diffIdentityProvider:i,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,n=zK.map(t,xwe),i=zK.map(n,e?Cwe:wwe);this._setChildren(null,i,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,n){const i=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{for(const t of e.element.elements)i.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)i.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return null===n?null:n.elements[n.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getCompressedNode(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new ewe(this.user,`Tree element not found: ${e}`);return t}}const Dwe=e=>e[e.length-1];class Ewe{get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new Ewe(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}class Nwe{get onDidSplice(){return tG.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return tG.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return tG.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}constructor(e,t,n={}){this.rootRef=null,this.elementMapper=n.elementMapper||Dwe;const i=e=>this.elementMapper(e.elements);this.nodeMapper=new twe((e=>new Ewe(i,e))),this.model=new Lwe(e,function(e,t){return{splice(n,i,o){t.splice(n,i,o.map((t=>e.map(t))))},updateElementHeight(e,n){t.updateElementHeight(e,n)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:n=>t.identityProvider.getId(e(n))},sorter:t.sorter&&{compare:(e,n)=>t.sorter.compare(e.elements[0],n.elements[0])},filter:t.filter&&{filter:(n,i)=>t.filter.filter(e(n),i)}})}(i,n))}setChildren(e,t=zK.empty(),n={}){this.model.setChildren(e,t,n)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return null==t?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,n){return this.model.setCollapsed(e,t,n)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class Twe extends _we{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,n,i,o={}){super(e,t,n,i,o),this.user=e}setChildren(e,t=zK.empty(),n){this.model.setChildren(e,t,n)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,n){return new ywe(e,t,n)}}class Iwe{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,i)):(n.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,n.data,i))}disposeElement(e,t,n,i){var o,r,s,a;n.compressedTreeNode?null===(r=(o=this.renderer).disposeCompressedElements)||void 0===r||r.call(o,n.compressedTreeNode,t,n.data,i):null===(a=(s=this.renderer).disposeElement)||void 0===a||a.call(s,e,t,n.data,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([o8],Iwe.prototype,"compressedTreeNodeProvider",null);class Mwe extends Twe{constructor(e,t,n,i,o={}){const r=()=>this;super(e,t,n,i.map((e=>new Iwe(r,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let i;try{i=e().getCompressedTreeNode(n)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return 1===i.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}(r,o))}setChildren(e,t=zK.empty(),n){this.model.setChildren(e,t,n)}createModel(e,t,n){return new Nwe(e,t,n)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var Rwe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function Awe(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Owe(e,t){return!!t.parent&&(t.parent===e||Owe(e,t.parent))}class Pwe{get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new Pwe(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Fwe{constructor(e,t,n){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...VQ.asClassNameArray(xY.treeItemLoading)),!0):(t.classList.remove(...VQ.asClassNameArray(xY.treeItemLoading)),!1)}disposeElement(e,t,n,i){var o,r;null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,this.nodeMapper.map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Bwe(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function zwe(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class Vwe extends Yve{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function Wwe(e){return e instanceof Yve?new Vwe(e):e}class Hwe{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var n,i;null===(i=(n=this.dnd).onDragStart)||void 0===i||i.call(n,Wwe(e),t)}onDragOver(e,t,n,i,o=!0){return this.dnd.onDragOver(Wwe(e),t&&t.element,n,i)}drop(e,t,n,i){this.dnd.drop(Wwe(e),t&&t.element,n,i)}onDragEnd(e){var t,n;null===(n=(t=this.dnd).onDragEnd)||void 0===n||n.call(t,e)}dispose(){this.dnd.dispose()}}function $we(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new Hwe(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var n;return!!(null===(n=e.accessibilityProvider)||void 0===n?void 0:n.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,n)=>e.filter.filter(t.element,n)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),defaultFindVisibility:t=>t.hasChildren&&t.stale?1:"number"==typeof e.defaultFindVisibility?e.defaultFindVisibility:void 0===e.defaultFindVisibility?2:e.defaultFindVisibility(t.element)})}function jwe(e,t){t(e),e.children.forEach((e=>jwe(e,t)))}class Uwe{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return tG.map(this.tree.onDidChangeFocus,Bwe)}get onDidChangeSelection(){return tG.map(this.tree.onDidChangeSelection,Bwe)}get onMouseDblClick(){return tG.map(this.tree.onMouseDblClick,zwe)}get onPointer(){return tG.map(this.tree.onPointer,zwe)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,n,i,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new sG,this._onDidChangeNodeSlowState=new sG,this.nodeMapper=new twe((e=>new Pwe(e))),this.disposables=new Gq,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,n,i,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Awe({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,n,i,o){const r=new cwe(n),s=i.map((e=>new Fwe(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=$we(o)||{};return new Twe(e,t,r,s,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return Rwe(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const n=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,n),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,n=!1,i,o){return Rwe(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new ewe(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield tG.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,i,o),n)try{this.tree.rerender(r)}catch(s){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),n=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(n)}collapse(e,t=!1){const n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)}expand(e,t=!1){return Rwe(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new ewe(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield tG.toPromise(this._onDidRender.event));const n=this.getDataNode(e);if(this.tree.hasElement(n)&&!this.tree.isCollapsible(n))return!1;if(n.refreshPromise&&(yield this.root.refreshPromise,yield tG.toPromise(this._onDidRender.event)),n!==this.root&&!n.refreshPromise&&!this.tree.isCollapsed(n))return!1;const i=this.tree.expand(n===this.root?null:n,t);return n.refreshPromise&&(yield this.root.refreshPromise,yield tG.toPromise(this._onDidRender.event)),i}))}setSelection(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setSelection(n,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setFocus(n,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),n=this.tree.getFirstElementChild(t===this.root?null:t);return n&&n.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new ewe(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,n,i){return Rwe(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,n),this.render(e,n,i)}))}refreshNode(e,t,n){return Rwe(this,void 0,void 0,(function*(){let i;if(this.subTreeRefreshPromises.forEach(((o,r)=>{!i&&function(e,t){return e===t||Owe(e,t)||Owe(t,e)}(r,e)&&(i=o.then((()=>this.refreshNode(e,t,n))))})),i)return i;if(e!==this.root){if(this.tree.getNode(e).collapsed)return e.hasChildren=!!this.dataSource.hasChildren(e.element),void(e.stale=!0)}return this.doRefreshSubTree(e,t,n)}))}doRefreshSubTree(e,t,n){return Rwe(this,void 0,void 0,(function*(){let i;e.refreshPromise=new Promise((e=>i=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const i=yield this.doRefreshNode(e,t,n);e.stale=!1,yield s4.settled(i.map((e=>this.doRefreshSubTree(e,t,n))))}finally{i()}}))}doRefreshNode(e,t,n){return Rwe(this,void 0,void 0,(function*(){let i;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=this.doGetChildren(e);if(VU(t))i=Promise.resolve(t);else{const n=Q2(800);n.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),i=t.finally((()=>n.cancel()))}}else i=Promise.resolve(zK.empty());try{const o=yield i;return this.setChildren(e,o,t,n)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Fq(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const n=this.dataSource.getChildren(e.element);return VU(n)?this.processChildren(n):(t=G2((()=>Rwe(this,void 0,void 0,(function*(){return this.processChildren(yield n)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Rq))}setChildren(e,t,n,i){const o=[...t];if(0===e.children.length&&0===o.length)return[];const r=new Map,s=new Map;for(const c of e.children)if(r.set(c.element,c),this.identityProvider){const e=this.tree.isCollapsed(c);s.set(c.id,{node:c,collapsed:e})}const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const n=Awe({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(n.collapsedByDefault=!1,a.push(n)),n}const l=this.identityProvider.getId(t).toString(),c=s.get(l);if(c){const e=c.node;return r.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,n?c.collapsed?(e.children.forEach((e=>jwe(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const u=Awe({element:t,parent:e,id:l,hasChildren:o});return i&&i.viewState.focus&&i.viewState.focus.indexOf(l)>-1&&i.focus.push(u),i&&i.viewState.selection&&i.viewState.selection.indexOf(l)>-1&&i.selection.push(u),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(l)>-1?a.push(u):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(u.collapsedByDefault=!1,a.push(u)),u}));for(const c of r.values())jwe(c,(e=>this.nodes.delete(e.element)));for(const c of l)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,n){const i=e.children.map((e=>this.asTreeElement(e,t))),o=n&&Object.assign(Object.assign({},n),{diffIdentityProvider:n.diffIdentityProvider&&{getId:e=>n.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,i,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let n;return n=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?zK.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:n}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Kwe{get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new Kwe(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class qwe{constructor(e,t,n,i){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderCompressedElements(e,t,n,i){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...VQ.asClassNameArray(xY.treeItemLoading)),!0):(t.classList.remove(...VQ.asClassNameArray(xY.treeItemLoading)),!1)}disposeElement(e,t,n,i){var o,r;null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,this.nodeMapper.map(e),t,n.templateData,i)}disposeCompressedElements(e,t,n,i){var o,r;null===(r=(o=this.renderer).disposeCompressedElements)||void 0===r||r.call(o,this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Uq(this.disposables)}}class Gwe extends Uwe{constructor(e,t,n,i,o,r,s={}){super(e,t,n,o,r,s),this.compressionDelegate=i,this.compressibleNodeMapper=new twe((e=>new Kwe(e))),this.filter=s.filter}createTree(e,t,n,i,o){const r=new cwe(n),s=i.map((e=>new qwe(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&$we(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(o)||{};return new Mwe(e,t,r,s,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const n=e=>this.identityProvider.getId(e).toString(),i=e=>{const t=new Set;for(const i of e){const e=this.tree.getCompressedTreeNode(i===this.root?null:i);if(e.element)for(const i of e.element.elements)t.add(n(i.element))}return t},o=i(this.tree.getSelection()),r=i(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const u=e=>{const t=e.element;if(t)for(let i=0;i<t.elements.length;i++){const e=n(t.elements[i].element),u=t.elements[t.elements.length-1].element;o.has(e)&&-1===s.indexOf(u)&&(s.push(u),a=!0),r.has(e)&&-1===l.indexOf(u)&&(l.push(u),c=!0)}e.children.forEach(u)};u(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=zK.filter(e,(e=>{const t=this.filter.filter(e,1),n="boolean"==typeof(i=t)?i?1:0:nwe(i)?iwe(i.visibility):iwe(i);var i;if(2===n)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===n}))),super.processChildren(e)}}class Ywe extends _we{constructor(e,t,n,i,o,r={}){super(e,t,n,i,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,n){return new ywe(e,t,n)}}new MJ("isMac",wK,nK(0,"Whether the operating system is macOS")),new MJ("isLinux",CK,nK(0,"Whether the operating system is Linux")),new MJ("isWindows",yK,nK(0,"Whether the operating system is Windows")),new MJ("isWeb",xK,nK(0,"Whether the platform is a web browser")),new MJ("isMacNative",wK&&!xK,nK(0,"Whether the operating system is macOS on a non-browser platform")),new MJ("isIOS",LK,nK(0,"Whether the operating system is iOS")),new MJ("isMobile",DK,nK(0,"Whether the platform is a mobile web browser")),new MJ("isDevelopment",!1,!0),new MJ("productQualityType","",nK(0,"Quality type of VS Code"));const Xwe="inputFocus";new MJ(Xwe,!1,nK(0,"Whether keyboard focus is inside an input box"));var Zwe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qwe=function(e,t){return function(n,i){t(n,i,e)}};const Jwe=OQ("listService");const eCe=new MJ("listScrollAtBoundary","none");dJ.or(eCe.isEqualTo("top"),eCe.isEqualTo("both")),dJ.or(eCe.isEqualTo("bottom"),eCe.isEqualTo("both"));const tCe=new MJ("listFocus",!0),nCe=new MJ("listSupportsMultiselect",!0);dJ.and(tCe,dJ.not(Xwe));const iCe=new MJ("listHasSelectionOrFocus",!1),oCe=new MJ("listDoubleSelection",!1),rCe=new MJ("listMultiSelection",!1),sCe=new MJ("listSelectionNavigation",!1),aCe=new MJ("listSupportsFind",!0),lCe=new MJ("treeElementCanCollapse",!1),cCe=new MJ("treeElementHasParent",!1),uCe=new MJ("treeElementCanExpand",!1),hCe=new MJ("treeElementHasChild",!1),dCe=new MJ("treeFindOpen",!1),gCe="listTypeNavigationMode",fCe="listAutomaticKeyboardNavigation";function pCe(e,t){const n=e.createScoped(t.getHTMLElement());return tCe.bindTo(n),n}function mCe(e,t){const n=eCe.bindTo(e),i=()=>{const e=0===t.scrollTop,i=t.scrollHeight-t.renderHeight-t.scrollTop<1;e&&i?n.set("both"):e?n.set("top"):i?n.set("bottom"):n.set("none")};return i(),t.onDidScroll(i)}const vCe="workbench.list.multiSelectModifier",bCe="workbench.list.openMode",_Ce="workbench.list.horizontalScrolling",yCe="workbench.list.defaultFindMode",wCe="workbench.list.typeNavigationMode",CCe="workbench.list.keyboardNavigation",SCe="workbench.list.scrollByPage",xCe="workbench.list.defaultFindMatchType",kCe="workbench.tree.indent",LCe="workbench.tree.renderIndentGuides",DCe="workbench.list.smoothScrolling",ECe="workbench.list.mouseWheelScrollSensitivity",NCe="workbench.list.fastScrollSensitivity",TCe="workbench.tree.expandMode";function ICe(e){return"alt"===e.getValue(vCe)}class MCe extends Yq{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=ICe(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(vCe)&&(this.useAltAsMultipleSelectionModifier=ICe(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:vbe(e)}isSelectionRangeChangeEvent(e){return bbe(e)}}function RCe(e,t){var n;const i=e.get(a5),o=e.get(Hoe),r=new Gq;return[Object.assign(Object.assign({},t),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>o.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(i.getValue(DCe)),mouseWheelScrollSensitivity:i.getValue(ECe),fastScrollSensitivity:i.getValue(NCe),multipleSelectionController:null!==(n=t.multipleSelectionController)&&void 0!==n?n:r.add(new MCe(i)),keyboardNavigationEventFilter:WCe(o),scrollByPage:Boolean(i.getValue(SCe))}),r]}let ACe=class extends Nbe{constructor(e,t,n,i,o,r,s,a,l){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(a.getValue(_Ce)),[u,h]=l.invokeFunction(RCe,o);super(e,t,n,i,Object.assign(Object.assign({keyboardSupport:!1},u),{horizontalScrolling:c})),this.disposables.add(h),this.contextKeyService=pCe(r,this),this.disposables.add(mCe(this.contextKeyService,this)),this.listSupportsMultiSelect=nCe.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);sCe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=iCe.bindTo(this.contextKeyService),this.listDoubleSelection=oCe.bindTo(this.contextKeyService),this.listMultiSelection=rCe.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ICe(a),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(a.onDidChangeConfiguration((e=>{e.affectsConfiguration(vCe)&&(this._useAltAsMultipleSelectionModifier=ICe(a));let t={};if(e.affectsConfiguration(_Ce)&&void 0===this.horizontalScrolling){const e=Boolean(a.getValue(_Ce));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SCe)){const e=Boolean(a.getValue(SCe));t=Object.assign(Object.assign({},t),{scrollByPage:e})}if(e.affectsConfiguration(DCe)){const e=Boolean(a.getValue(DCe));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ECe)){const e=a.getValue(ECe);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(NCe)){const e=a.getValue(NCe);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new BCe(this,Object.assign({configurationService:a},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?l_e(e):a_e)}};ACe=Zwe([Qwe(5,RJ),Qwe(6,Jwe),Qwe(7,a5),Qwe(8,AQ)],ACe);let OCe=class extends aye{constructor(e,t,n,i,o,r,s,a,l){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(a.getValue(_Ce)),[u,h]=l.invokeFunction(RCe,o);super(e,t,n,i,Object.assign(Object.assign({keyboardSupport:!1},u),{horizontalScrolling:c})),this.disposables=new Gq,this.disposables.add(h),this.contextKeyService=pCe(r,this),this.disposables.add(mCe(this.contextKeyService,this.widget)),this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=nCe.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);sCe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ICe(a),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(a.onDidChangeConfiguration((e=>{e.affectsConfiguration(vCe)&&(this._useAltAsMultipleSelectionModifier=ICe(a));let t={};if(e.affectsConfiguration(_Ce)&&void 0===this.horizontalScrolling){const e=Boolean(a.getValue(_Ce));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SCe)){const e=Boolean(a.getValue(SCe));t=Object.assign(Object.assign({},t),{scrollByPage:e})}if(e.affectsConfiguration(DCe)){const e=Boolean(a.getValue(DCe));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ECe)){const e=a.getValue(ECe);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(NCe)){const e=a.getValue(NCe);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new BCe(this,Object.assign({configurationService:a},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?l_e(e):a_e)}dispose(){this.disposables.dispose(),super.dispose()}};OCe=Zwe([Qwe(5,RJ),Qwe(6,Jwe),Qwe(7,a5),Qwe(8,AQ)],OCe);let PCe=class extends Nye{constructor(e,t,n,i,o,r,s,a,l,c){const u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(l.getValue(_Ce)),[h,d]=c.invokeFunction(RCe,r);super(e,t,n,i,o,Object.assign(Object.assign({keyboardSupport:!1},h),{horizontalScrolling:u})),this.disposables.add(d),this.contextKeyService=pCe(s,this),this.disposables.add(mCe(this.contextKeyService,this)),this.listSupportsMultiSelect=nCe.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);sCe.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=iCe.bindTo(this.contextKeyService),this.listDoubleSelection=oCe.bindTo(this.contextKeyService),this.listMultiSelection=rCe.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ICe(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(vCe)&&(this._useAltAsMultipleSelectionModifier=ICe(l));let t={};if(e.affectsConfiguration(_Ce)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(_Ce));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SCe)){const e=Boolean(l.getValue(SCe));t=Object.assign(Object.assign({},t),{scrollByPage:e})}if(e.affectsConfiguration(DCe)){const e=Boolean(l.getValue(DCe));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ECe)){const e=l.getValue(ECe);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(NCe)){const e=l.getValue(NCe);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new zCe(this,Object.assign({configurationService:l},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?l_e(e):a_e)}dispose(){this.disposables.dispose(),super.dispose()}};PCe=Zwe([Qwe(6,RJ),Qwe(7,Jwe),Qwe(8,a5),Qwe(9,AQ)],PCe);class FCe extends Yq{constructor(e,t){var n;super(),this.widget=e,this._onDidOpen=this._register(new sG),this.onDidOpen=this._onDidOpen.event,this._register(tG.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(bCe)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(bCe)&&(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(bCe)))})))):this.openOnSingleClick=null===(n=null==t?void 0:t.openOnSingleClick)||void 0===n||n}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,n="boolean"!=typeof t.preserveFocus||t.preserveFocus,i="boolean"==typeof t.pinned?t.pinned:!n;this._open(this.getSelectedElement(),n,i,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const n=1===t.button,i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,n,i,t)}onMouseDblClick(e,t){if(!t)return;const n=t.target;if(n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&t.offsetX<16)return;const i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,i,t)}_open(e,t,n,i,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:n,revealIfVisible:!0},sideBySide:i,element:e,browserEvent:o})}}class BCe extends FCe{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class zCe extends FCe{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class VCe extends FCe{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function WCe(e){let t=!1;return n=>{if(n.toKeyCodeChord().isModifierKey())return!1;if(t)return t=!1,!1;const i=e.softDispatch(n,n.target);return 1===i.kind?(t=!0,!1):(t=!1,0===i.kind)}}let HCe=class extends Twe{constructor(e,t,n,i,o,r,s,a,l){const{options:c,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(YCe,o);super(e,t,n,i,c),this.disposables.add(h),this.internals=new XCe(this,o,u,o.overrideStyles,s,a,l),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};HCe=Zwe([Qwe(5,AQ),Qwe(6,RJ),Qwe(7,Jwe),Qwe(8,a5)],HCe);let $Ce=class extends Mwe{constructor(e,t,n,i,o,r,s,a,l){const{options:c,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(YCe,o);super(e,t,n,i,c),this.disposables.add(h),this.internals=new XCe(this,o,u,o.overrideStyles,s,a,l),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};$Ce=Zwe([Qwe(5,AQ),Qwe(6,RJ),Qwe(7,Jwe),Qwe(8,a5)],$Ce);let jCe=class extends Ywe{constructor(e,t,n,i,o,r,s,a,l,c){const{options:u,getTypeNavigationMode:h,disposable:d}=s.invokeFunction(YCe,r);super(e,t,n,i,o,u),this.disposables.add(d),this.internals=new XCe(this,r,h,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),void 0!==e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};jCe=Zwe([Qwe(6,AQ),Qwe(7,RJ),Qwe(8,Jwe),Qwe(9,a5)],jCe);let UCe=class extends Uwe{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,n,i,o,r,s,a,l,c){const{options:u,getTypeNavigationMode:h,disposable:d}=s.invokeFunction(YCe,r);super(e,t,n,i,o,u),this.disposables.add(d),this.internals=new XCe(this,r,h,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};UCe=Zwe([Qwe(6,AQ),Qwe(7,RJ),Qwe(8,Jwe),Qwe(9,a5)],UCe);let KCe=class extends Gwe{constructor(e,t,n,i,o,r,s,a,l,c,u){const{options:h,getTypeNavigationMode:d,disposable:g}=a.invokeFunction(YCe,s);super(e,t,n,i,o,r,h),this.disposables.add(g),this.internals=new XCe(this,s,d,s.overrideStyles,l,c,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function qCe(e){const t=e.getValue(yCe);if("highlight"===t)return Xye.Highlight;if("filter"===t)return Xye.Filter;const n=e.getValue(CCe);return"simple"===n||"highlight"===n?Xye.Highlight:"filter"===n?Xye.Filter:void 0}function GCe(e){const t=e.getValue(xCe);return"fuzzy"===t?Qye.Fuzzy:"contiguous"===t?Qye.Contiguous:void 0}function YCe(e,t){var n;const i=e.get(a5),o=e.get(zpe),r=e.get(RJ),s=e.get(AQ),a=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(i.getValue(_Ce)),[l,c]=s.invokeFunction(RCe,t),u=t.paddingBottom,h=void 0!==t.renderIndentGuides?t.renderIndentGuides:i.getValue(LCe);return{getTypeNavigationMode:()=>{const e=r.getContextKeyValue(gCe);if("automatic"===e)return ube.Automatic;if("trigger"===e)return ube.Trigger;if(!1===r.getContextKeyValue(fCe))return ube.Trigger;const t=i.getValue(wCe);return"automatic"===t?ube.Automatic:"trigger"===t?ube.Trigger:void 0},disposable:c,options:Object.assign(Object.assign({keyboardSupport:!1},l),{indent:"number"==typeof i.getValue(kCe)?i.getValue(kCe):void 0,renderIndentGuides:h,smoothScrolling:Boolean(i.getValue(DCe)),defaultFindMode:qCe(i),defaultFindMatchType:GCe(i),horizontalScrolling:a,scrollByPage:Boolean(i.getValue(SCe)),paddingBottom:u,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(n=t.expandOnlyOnTwistieClick)&&void 0!==n?n:"doubleClick"===i.getValue(TCe),contextViewProvider:o,findWidgetStyles:r_e})}}KCe=Zwe([Qwe(7,AQ),Qwe(8,RJ),Qwe(9,Jwe),Qwe(10,a5)],KCe);let XCe=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,n,i,o,r,s){var a;this.tree=e,this.disposables=[],this.contextKeyService=pCe(o,e),this.disposables.push(mCe(this.contextKeyService,e)),this.listSupportsMultiSelect=nCe.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);sCe.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.listSupportFindWidget=aCe.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(a=t.findWidgetEnabled)||void 0===a||a),this.hasSelectionOrFocus=iCe.bindTo(this.contextKeyService),this.hasDoubleSelection=oCe.bindTo(this.contextKeyService),this.hasMultiSelection=rCe.bindTo(this.contextKeyService),this.treeElementCanCollapse=lCe.bindTo(this.contextKeyService),this.treeElementHasParent=cCe.bindTo(this.contextKeyService),this.treeElementCanExpand=uCe.bindTo(this.contextKeyService),this.treeElementHasChild=hCe.bindTo(this.contextKeyService),this.treeFindOpen=dCe.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ICe(s),this.updateStyleOverrides(i);const l=()=>{const t=e.getFocus()[0];if(!t)return;const n=e.getNode(t);this.treeElementCanCollapse.set(n.collapsible&&!n.collapsed),this.treeElementHasParent.set(!!e.getParentElement(t)),this.treeElementCanExpand.set(n.collapsible&&n.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(t))},c=new Set;c.add(gCe),c.add(fCe),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),n=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||n.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),n=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||n.length>0),l()})),e.onDidChangeCollapseState(l),e.onDidChangeModel(l),e.onDidChangeFindOpenState((e=>this.treeFindOpen.set(e))),s.onDidChangeConfiguration((i=>{let o={};if(i.affectsConfiguration(vCe)&&(this._useAltAsMultipleSelectionModifier=ICe(s)),i.affectsConfiguration(kCe)){const e=s.getValue(kCe);o=Object.assign(Object.assign({},o),{indent:e})}if(i.affectsConfiguration(LCe)&&void 0===t.renderIndentGuides){const e=s.getValue(LCe);o=Object.assign(Object.assign({},o),{renderIndentGuides:e})}if(i.affectsConfiguration(DCe)){const e=Boolean(s.getValue(DCe));o=Object.assign(Object.assign({},o),{smoothScrolling:e})}if(i.affectsConfiguration(yCe)||i.affectsConfiguration(CCe)){const e=qCe(s);o=Object.assign(Object.assign({},o),{defaultFindMode:e})}if(i.affectsConfiguration(wCe)||i.affectsConfiguration(CCe)){const e=n();o=Object.assign(Object.assign({},o),{typeNavigationMode:e})}if(i.affectsConfiguration(xCe)){const e=GCe(s);o=Object.assign(Object.assign({},o),{defaultFindMatchType:e})}if(i.affectsConfiguration(_Ce)&&void 0===t.horizontalScrolling){const e=Boolean(s.getValue(_Ce));o=Object.assign(Object.assign({},o),{horizontalScrolling:e})}if(i.affectsConfiguration(SCe)){const e=Boolean(s.getValue(SCe));o=Object.assign(Object.assign({},o),{scrollByPage:e})}if(i.affectsConfiguration(TCe)&&void 0===t.expandOnlyOnTwistieClick&&(o=Object.assign(Object.assign({},o),{expandOnlyOnTwistieClick:"doubleClick"===s.getValue(TCe)})),i.affectsConfiguration(ECe)){const e=s.getValue(ECe);o=Object.assign(Object.assign({},o),{mouseWheelScrollSensitivity:e})}if(i.affectsConfiguration(NCe)){const e=s.getValue(NCe);o=Object.assign(Object.assign({},o),{fastScrollSensitivity:e})}Object.keys(o).length>0&&e.updateOptions(o)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(c)&&e.updateOptions({typeNavigationMode:n()})}))),this.navigator=new VCe(e,Object.assign({configurationService:s},t)),this.disposables.push(this.navigator)}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?l_e(e):a_e)}dispose(){this.disposables=Uq(this.disposables)}};XCe=Zwe([Qwe(4,RJ),Qwe(5,Jwe),Qwe(6,a5)],XCe);var ZCe,QCe;YJ.as(w5).registerConfiguration({id:"workbench",order:7,title:nK(0,"Workbench"),type:"object",properties:{[vCe]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[nK(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),nK(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:nK(0,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[bCe]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:nK(0,"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[_Ce]:{type:"boolean",default:!1,description:nK(0,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[SCe]:{type:"boolean",default:!1,description:nK(0,"Controls whether clicks in the scrollbar scroll page by page.")},[kCe]:{type:"number",default:8,minimum:4,maximum:40,description:nK(0,"Controls tree indentation in pixels.")},[LCe]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:nK(0,"Controls whether the tree should render indent guides.")},[DCe]:{type:"boolean",default:!1,description:nK(0,"Controls whether lists and trees have smooth scrolling.")},[ECe]:{type:"number",default:1,markdownDescription:nK(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[NCe]:{type:"number",default:5,markdownDescription:nK(0,"Scrolling speed multiplier when pressing `Alt`.")},[yCe]:{type:"string",enum:["highlight","filter"],enumDescriptions:[nK(0,"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),nK(0,"Filter elements when searching.")],default:"highlight",description:nK(0,"Controls the default find mode for lists and trees in the workbench.")},[CCe]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[nK(0,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),nK(0,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),nK(0,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:nK(0,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:nK(0,"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[xCe]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[nK(0,"Use fuzzy matching when searching."),nK(0,"Use contiguous matching when searching.")],default:"fuzzy",description:nK(0,"Controls the type of matching used when searching lists and trees in the workbench.")},[TCe]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:nK(0,"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[wCe]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:nK(0,"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}}),(QCe=ZCe||(ZCe={}))[QCe.PRESERVE=0]="PRESERVE",QCe[QCe.LAST=1]="LAST";const JCe="workbench.contributions.quickaccess";YJ.add(JCe,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),qq((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return[this.defaultProvider,...this.providers].filter((e=>!!e))}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});const eSe={ctrlCmd:!1,alt:!1};var tSe,nSe,iSe,oSe;(nSe=tSe||(tSe={}))[nSe.Blur=1]="Blur",nSe[nSe.Gesture=2]="Gesture",nSe[nSe.Other=3]="Other",(oSe=iSe||(iSe={}))[oSe.NONE=0]="NONE",oSe[oSe.FIRST=1]="FIRST",oSe[oSe.SECOND=2]="SECOND",oSe[oSe.LAST=3]="LAST";const rSe=OQ("quickInputService");var sSe=function(e,t){return function(n,i){t(n,i,e)}};let aSe=class extends Yq{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=YJ.as(JCe),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,n){var i;const[o,r]=this.getOrInstantiateProvider(e),s=this.visibleQuickAccess,a=null==s?void 0:s.descriptor;if(s&&r&&a===r)return e===r.prefix||(null==n?void 0:n.preserveValue)||(s.picker.value=e),void this.adjustValueSelection(s.picker,r,n);if(r&&!(null==n?void 0:n.preserveValue)){let t;if(s&&a&&a!==r){const e=s.value.substr(a.prefix.length);e&&(t=`${r.prefix}${e}`)}if(!t){const e=null==o?void 0:o.defaultFilterValue;e===ZCe.LAST?t=this.lastAcceptedPickerValues.get(r):"string"==typeof e&&(t=`${r.prefix}${e}`)}"string"==typeof t&&(e=t)}const l=new Gq,c=l.add(this.quickInputService.createQuickPick());let u;c.value=e,this.adjustValueSelection(c,r,n),c.placeholder=null==r?void 0:r.placeholder,c.quickNavigate=null==n?void 0:n.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!s,("number"==typeof(null==n?void 0:n.itemActivation)||(null==n?void 0:n.quickNavigateConfiguration))&&(c.itemActivation=null!==(i=null==n?void 0:n.itemActivation)&&void 0!==i?i:iSe.SECOND),c.contextKey=null==r?void 0:r.contextKey,c.filterValue=e=>e.substring(r?r.prefix.length:0),t&&(u=new r4,l.add(tG.once(c.onWillAccept)((e=>{e.veto(),c.hide()})))),l.add(this.registerPickerListeners(c,o,r,e,null==n?void 0:n.providerOptions));const h=l.add(new vG);return o&&l.add(o.provide(c,h.token,null==n?void 0:n.providerOptions)),tG.once(c.onDidHide)((()=>{0===c.selectedItems.length&&h.cancel(),l.dispose(),null==u||u.complete(c.selectedItems.slice(0))})),c.show(),t?null==u?void 0:u.p:void 0}adjustValueSelection(e,t,n){var i;let o;o=(null==n?void 0:n.preserveValue)?[e.value.length,e.value.length]:[null!==(i=null==t?void 0:t.prefix.length)&&void 0!==i?i:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,n,i,o){const r=new Gq,s=this.visibleQuickAccess={picker:e,descriptor:n,value:i};return r.add(qq((()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),r.add(e.onDidChangeValue((e=>{const[n]=this.getOrInstantiateProvider(e);n!==t?this.show(e,{preserveValue:!0,providerOptions:o}):s.value=e}))),n&&r.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(n,e.value)}))),r}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let n=this.mapProviderToDescriptor.get(t);return n||(n=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,n)),[n,t]}};aSe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([sSe(0,rSe),sSe(1,AQ)],aSe),n9.white.toString(),n9.white.toString();class lSe extends Yq{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new sG),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const n=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,i=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=i||"",this._element.style.backgroundColor=n||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),e.appendChild(this._element),this._register(a8.addTarget(this._element)),[r2.CLICK,r8.Tap].forEach((e=>{this._register(O1(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):a2(e)})))})),this._register(O1(this._element,r2.KEY_DOWN,(e=>{const t=new _0(e);let n=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),n=!0):t.equals(9)&&(this._element.blur(),n=!0),n&&a2(t,!0)}))),this._register(O1(this._element,r2.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.updateBackground(!0)}))),this._register(O1(this._element,r2.MOUSE_OUT,(e=>{this.updateBackground(!1)}))),this.focusTracker=this._register(c2(this._element)),this._register(this.focusTracker.onDidFocus((()=>{this.enabled&&this.updateBackground(!0)}))),this._register(this.focusTracker.onDidBlur((()=>{this.enabled&&this.updateBackground(!1)})))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let n of hve(e))if("string"==typeof n){if(n=n.trim(),""===n)continue;const e=document.createElement("span");e.textContent=n,t.push(e)}else t.push(n);return t}updateBackground(e){let t;t=this.options.secondary?e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var t;if(this._label===e)return;if(Qme(this._label)&&Qme(e)&&function(e,t){return e===t||!(!e||!t)&&e.value===t.value&&e.isTrusted===t.isTrusted&&e.supportThemeIcons===t.supportThemeIcons&&e.supportHtml===t.supportHtml&&(e.baseUri===t.baseUri||!!e.baseUri&&!!t.baseUri&&Gle(aY.from(e.baseUri),aY.from(t.baseUri)))}(this._label,e))return;this._element.classList.add("monaco-text-button");const n=this.options.supportShortLabel?this._labelElement:this._element;if(Qme(e)){const i=wve(e,{inline:!0});i.dispose();const o=null===(t=i.element.querySelector("p"))||void 0===t?void 0:t.innerHTML;if(o){const e=y1(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});n.innerHTML=e}else d2(n)}else this.options.supportIcons?d2(n,...this.getContentElements(e)):n.textContent=e;"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=Lve(e)),this._label=e}get label(){return this._label}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}class cSe{constructor(e,t,n){this.options=t,this.styles=n,this.count=0,this.element=u2(e,v2(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){var e,t;this.element.textContent=mZ(this.countFormat,this.count),this.element.title=mZ(this.titleFormat,this.count),this.element.style.backgroundColor=null!==(e=this.styles.badgeBackground)&&void 0!==e?e:"",this.element.style.color=null!==(t=this.styles.badgeForeground)&&void 0!==t?t:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const uSe="done",hSe="active",dSe="infinite",gSe="infinite-long-running",fSe="discrete";class pSe extends Yq{constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new n4((()=>b2(this.element)),0)),this.longRunningScheduler=this._register(new n4((()=>this.infiniteLongRunning()),pSe.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(null==t?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(hSe,dSe,gSe,fSe),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(uSe),this.element.classList.contains(dSe)?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(fSe,uSe,gSe),this.element.classList.add(hSe,dSe),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(gSe)}getContainer(){return this.element}}pSe.LONG_RUNNING_INFINITE_THRESHOLD=1e4;const mSe=v2;class vSe extends Yq{constructor(e,t,n){super(),this.parent=e,this.onKeyDown=e=>O1(this.findInput.inputBox.inputElement,r2.KEY_DOWN,(t=>{e(new _0(t))})),this.onMouseDown=e=>O1(this.findInput.inputBox.inputElement,r2.MOUSE_DOWN,(t=>{e(new x0(t))})),this.onDidChange=e=>this.findInput.onDidChange(e),this.container=u2(this.parent,mSe(".quick-input-box")),this.findInput=this._register(new $ye(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:n}));const i=this.findInput.inputBox.inputElement;i.role="combobox",i.ariaHasPopup="menu",i.ariaAutoComplete="list",i.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return"password"===this.findInput.inputBox.inputElement.type}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===Nde.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===Nde.Info?1:e===Nde.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===Nde.Info?1:e===Nde.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class bSe{constructor(e,t){var n;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(n=null==t?void 0:t.supportIcons)&&void 0!==n&&n,this.domNode=u2(e,v2("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],n="",i){e||(e=""),i&&(e=bSe.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===n&&JU(this.highlights,t)||(this.text=e,this.title=n,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const n of this.highlights){if(n.end===n.start)continue;if(t<n.start){const i=this.text.substring(t,n.start);this.supportIcons?e.push(...hve(i)):e.push(i),t=n.start}const i=this.text.substring(t,n.end),o=v2("span.highlight",void 0,...this.supportIcons?hve(i):[i]);n.extraClasses&&o.classList.add(...n.extraClasses),e.push(o),t=n.end}if(t<this.text.length){const n=this.text.substring(t);this.supportIcons?e.push(...hve(n)):e.push(n)}d2(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let n=0,i=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{i="\r\n"===e?-1:0,o+=n;for(const n of t)n.end<=o||(n.start>=o&&(n.start+=i),n.end>=o&&(n.end+=i));return n+=i,"⏎"}))}}class _Se{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class ySe extends Yq{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new _Se(u2(e,v2(".monaco-icon-label")))),this.labelContainer=u2(this.domNode.element,v2(".monaco-icon-label-container"));const n=u2(this.labelContainer,v2("span.monaco-icon-name-container"));(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new CSe(n,!!t.supportIcons):this.nameNode=new wSe(n),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,n){const i=["monaco-icon-label"],o=["monaco-icon-label-container"];let r="";if(n&&(n.extraClasses&&i.push(...n.extraClasses),n.italic&&i.push("italic"),n.strikethrough&&i.push("strikethrough"),n.disabledCommand&&o.push("disabled"),n.title&&(r+=n.title)),this.domNode.className=i.join(" "),this.domNode.element.setAttribute("aria-label",r),this.labelContainer.className=o.join(" "),this.setupHover((null==n?void 0:n.descriptionTitle)?this.labelContainer:this.element,null==n?void 0:n.title),this.nameNode.setLabel(e,n),t||this.descriptionNode){const e=this.getOrCreateDescriptionNode();e instanceof bSe?(e.set(t||"",n?n.descriptionMatches:void 0,void 0,null==n?void 0:n.labelEscapeNewLines),this.setupHover(e.element,null==n?void 0:n.descriptionTitle)):(e.textContent=t&&(null==n?void 0:n.labelEscapeNewLines)?bSe.escapeNewLines(t,[]):t||"",this.setupHover(e.element,(null==n?void 0:n.descriptionTitle)||""),e.empty=!t)}}setupHover(e,t){const n=this.customHovers.get(e);if(n&&(n.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const n=ive(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}else!function(e,t){PU(t)?e.title=qme(t):(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new _Se(u2(this.labelContainer,v2("span.monaco-icon-description-container"))));(null===(e=this.creationOptions)||void 0===e?void 0:e.supportDescriptionHighlights)?this.descriptionNode=new bSe(u2(t.element,v2("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new _Se(u2(t.element,v2("span.label-description"))))}return this.descriptionNode}}class wSe{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!JU(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=u2(this.container,v2("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<e.length;n++){const i=e[n],o=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${n}`;u2(this.container,v2("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":n,role:"treeitem"},i)),n<e.length-1&&u2(this.container,v2("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class CSe{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!JU(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new bSe(u2(this.container,v2("a.label-name",{id:null==t?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const n=(null==t?void 0:t.separator)||"/",i=function(e,t,n){if(!n)return;let i=0;return e.map((e=>{const o={start:i,end:i+e.length},r=n.map((e=>Wpe.intersect(o,e))).filter((e=>!Wpe.isEmpty(e))).map((({start:e,end:t})=>({start:e-i,end:t-i})));return i=o.end+t.length,r}))}(e,n,null==t?void 0:t.matches);for(let o=0;o<e.length;o++){const r=e[o],s=i?i[o]:void 0,a=v2("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${o}`,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new bSe(u2(this.container,a),{supportIcons:this.supportIcons}).set(r,s,void 0,null==t?void 0:t.labelEscapeNewLines),o<e.length-1&&u2(a,v2("span.label-separator",void 0,n))}}}}const SSe=v2;class xSe{constructor(e,t,n){this.os=t,this.keyElements=new Set,this.options=n||Object.create(null);const i=this.options.keybindingLabelForeground;this.domNode=u2(e,SSe(".monaco-keybinding")),i&&(this.domNode.style.color=i),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&xSe.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let e=1;e<t.length;e++)u2(this.domNode,SSe("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[e],this.matches?this.matches.chordPart:null);const n=null!==(e=this.options.disableTitle)&&void 0!==e&&e?void 0:this.keybinding.getAriaLabel()||void 0;void 0!==n?this.domNode.title=n:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){M1(this.domNode),this.keyElements.clear()}renderChord(e,t,n){const i=cpe.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,Boolean(null==n?void 0:n.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,Boolean(null==n?void 0:n.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,Boolean(null==n?void 0:n.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,Boolean(null==n?void 0:n.metaKey),i.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==n?void 0:n.keyCode),"")}renderKey(e,t,n,i){u2(e,this.createKeyElement(t,n?".highlight":"")),i&&u2(e,SSe("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(e){u2(e,this.createKeyElement(nK(0,"Unbound")))}createKeyElement(e,t=""){const n=SSe("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(n),this.options.keybindingLabelBackground&&(n.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(n.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(n.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(n.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),n}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&JU(e.firstPart,t.firstPart)&&JU(e.chordPart,t.chordPart)}}const kSe=new gZ((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function LSe(e,t,n){const i=e.toLowerCase(),o=t.toLowerCase(),r=function(e,t,n){const i=e.toLowerCase(),o=t.toLowerCase(),r=i.startsWith(n),s=o.startsWith(n);if(r!==s)return r?-1:1;if(r&&s){if(i.length<o.length)return-1;if(i.length>o.length)return 1}return 0}(e,t,n);if(r)return r;const s=i.endsWith(n);if(s!==o.endsWith(n))return s?-1:1;const a=function(e,t){const n=e||"",i=t||"",o=kSe.value.collator.compare(n,i);return kSe.value.collatorIsNumeric&&0===o&&n!==i?n<i?-1:1:o}(i,o);return 0!==a?a:i.localeCompare(o)}class DSe{constructor(e){this.nodes=e}toString(){return this.nodes.map((e=>"string"==typeof e?e:e.label)).join("")}}!function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([o8],DSe.prototype,"toString",null);const ESe=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;const NSe={},TSe=new gve("quick-input-button-icon-");function ISe(e){if(!e)return;let t;const n=e.dark.toString();return NSe[n]?t=NSe[n]:(t=TSe.nextId(),i2(`.${t}, .hc-light .${t}`,`background-image: ${C2(e.light||e.dark)}`),i2(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${C2(e.dark)}`),NSe[n]=t),t}function MSe(e,t,n){d2(t);const i=function(e){const t=[];let n,i=0;for(;n=ESe.exec(e);){n.index-i>0&&t.push(e.substring(i,n.index));const[,o,r,,s]=n;s?t.push({label:o,href:r,title:s}):t.push({label:o,href:r}),i=n.index+n[0].length}return i<e.length&&t.push(e.substring(i)),new DSe(t)}(e);let o=0;for(const r of i.nodes)if("string"==typeof r)t.append(...hve(r));else{let e=r.title;!e&&r.href.startsWith("command:")?e=nK(0,"Click to execute command '{0}'",r.href.substring(8)):e||(e=r.href);const i=v2("a",{href:r.href,title:e,tabIndex:o++},r.label);i.style.textDecoration="underline";const s=e=>{s2(e)&&a2(e,!0),n.callback(r.href)},a=n.disposables.add(new Sie(i,r2.CLICK)).event,l=n.disposables.add(new Sie(i,r2.KEY_DOWN)).event,c=tG.chain(l,(e=>e.filter((e=>{const t=new _0(e);return t.equals(10)||t.equals(3)}))));n.disposables.add(a8.addTarget(i));const u=n.disposables.add(new Sie(i,r8.Tap)).event;tG.any(a,u,c)(s,null,n.disposables),t.appendChild(i)}}var RSe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ASe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const OSe=v2;class PSe{constructor(e,t,n,i,o,r,s){var a,l,c;this._checked=!1,this._hidden=!1,this.hasCheckbox=i,this.index=n,this.fireButtonTriggered=o,this.fireSeparatorButtonTriggered=r,this._onChecked=s,this.onChecked=i?tG.map(tG.filter(this._onChecked.event,(e=>e.listElement===this)),(e=>e.checked)):tG.None,"separator"===e.type?this._separator=e:(this.item=e,t&&"separator"===t.type&&!t.buttons&&(this._separator=t),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=null===(a=this.item.highlights)||void 0===a?void 0:a.label,this._descriptionHighlights=null===(l=this.item.highlights)||void 0===l?void 0:l.description,this._detailHighlights=null===(c=this.item.highlights)||void 0===c?void 0:c.detail,this.saneTooltip=this.item.tooltip),this._init=new gZ((()=>{var t;const n=null!==(t=e.label)&&void 0!==t?t:"",i=Yme(n).text.trim(),o=e.ariaLabel||[n,this.saneDescription,this.saneDetail].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():"";var t})).filter((e=>!!e)).join(", ");return{saneLabel:n,saneSortLabel:i,saneAriaLabel:o}}))}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({listElement:this,checked:e}))}get separator(){return this._separator}set separator(e){this._separator=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class FSe{constructor(e){this.themeService=e}get templateId(){return FSe.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=u2(e,OSe(".quick-input-list-entry"));const n=u2(t.entry,OSe("label.quick-input-list-label"));t.toDisposeTemplate.push(P1(n,r2.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=u2(n,OSe("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(P1(t.checkbox,r2.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const i=u2(n,OSe(".quick-input-list-rows")),o=u2(i,OSe(".quick-input-list-row")),r=u2(i,OSe(".quick-input-list-row"));t.label=new ySe(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.label),t.icon=h2(t.label.element,OSe(".quick-input-list-icon"));const s=u2(o,OSe(".quick-input-list-entry-keybinding"));t.keybinding=new xSe(s,IK);const a=u2(r,OSe(".quick-input-list-label-meta"));return t.detail=new ySe(a,{supportHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.detail),t.separator=u2(t.entry,OSe(".quick-input-list-separator")),t.actionBar=new C_e(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,n){var i,o,r,s;n.element=e,e.element=null!==(i=n.entry)&&void 0!==i?i:void 0;const a=e.item?e.item:e.separator;n.checkbox.checked=e.checked,n.toDisposeElement.push(e.onChecked((e=>n.checkbox.checked=e)));const{labelHighlights:l,descriptionHighlights:c,detailHighlights:u}=e;if(null===(o=e.item)||void 0===o?void 0:o.iconPath){const t=Lne(this.themeService.getColorTheme().type)?e.item.iconPath.dark:null!==(r=e.item.iconPath.light)&&void 0!==r?r:e.item.iconPath.dark,i=aY.revive(t);n.icon.className="quick-input-list-icon",n.icon.style.backgroundImage=C2(i)}else n.icon.style.backgroundImage="",n.icon.className=(null===(s=e.item)||void 0===s?void 0:s.iconClass)?`quick-input-list-icon ${e.item.iconClass}`:"";const h={matches:l||[],descriptionTitle:e.saneDescription,descriptionMatches:c||[],labelEscapeNewLines:!0};"separator"!==a.type?(h.extraClasses=a.iconClasses,h.italic=a.italic,h.strikethrough=a.strikethrough,n.entry.classList.remove("quick-input-list-separator-as-item")):n.entry.classList.add("quick-input-list-separator-as-item"),n.label.setLabel(e.saneLabel,e.saneDescription,h),n.keybinding.set("separator"===a.type?void 0:a.keybinding),e.saneDetail?(n.detail.element.style.display="",n.detail.setLabel(e.saneDetail,void 0,{matches:u,title:e.saneDetail,labelEscapeNewLines:!0})):n.detail.element.style.display="none",e.item&&e.separator&&e.separator.label?(n.separator.textContent=e.separator.label,n.separator.style.display=""):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!e.separator);const d=a.buttons;d&&d.length?(n.actionBar.push(d.map(((t,n)=>{let i=t.iconClass||(t.iconPath?ISe(t.iconPath):void 0);return t.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:`id-${n}`,class:i,enabled:!0,label:"",tooltip:t.tooltip||"",run:()=>{"separator"!==a.type?e.fireButtonTriggered({button:t,item:a}):e.fireSeparatorButtonTriggered({button:t,separator:a})}}})),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")}disposeElement(e,t,n){n.toDisposeElement=Uq(n.toDisposeElement),n.actionBar.clear()}disposeTemplate(e){e.toDisposeElement=Uq(e.toDisposeElement),e.toDisposeTemplate=Uq(e.toDisposeTemplate)}}FSe.ID="listelement";class BSe{getHeight(e){return e.item?e.saneDetail?44:22:24}getTemplateId(e){return FSe.ID}}var zSe,VSe;(VSe=zSe||(zSe={}))[VSe.First=1]="First",VSe[VSe.Second=2]="Second",VSe[VSe.Last=3]="Last",VSe[VSe.Next=4]="Next",VSe[VSe.Previous=5]="Previous",VSe[VSe.NextPage=6]="NextPage",VSe[VSe.PreviousPage=7]="PreviousPage";class WSe{constructor(e,t,n,i){this.parent=e,this.options=n,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new sG,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new sG,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new sG,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new sG,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new sG,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new sG,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new sG,this.onKeyDown=this._onKeyDown.event,this._onLeave=new sG,this.onLeave=this._onLeave.event,this._listElementChecked=new sG,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=u2(this.parent,OSe(".quick-input-list"));const o=new BSe,r=new $Se;if(this.list=n.createList("QuickInput",this.container,o,[new FSe(i)],{identityProvider:{getId:e=>{var t,n,i,o,r,s,a,l;return null!==(l=null!==(s=null!==(o=null!==(n=null===(t=e.item)||void 0===t?void 0:t.id)&&void 0!==n?n:null===(i=e.item)||void 0===i?void 0:i.label)&&void 0!==o?o:null===(r=e.separator)||void 0===r?void 0:r.id)&&void 0!==s?s:null===(a=e.separator)||void 0===a?void 0:a.label)&&void 0!==l?l:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:r}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new _0(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(wK?e.metaKey:e.ctrlKey)&&this.list.setFocus(wU(this.list.length));break;case 16:{const e=this.list.getFocus();1===e.length&&0===e[0]&&this._onLeave.fire();break}case 18:{const e=this.list.getFocus();1===e.length&&e[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(O1(this.container,r2.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),n.hoverDelegate){const e=new Z2(n.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver((t=>ASe(this,void 0,void 0,(function*(){var n;if(t.browserEvent.target instanceof HTMLAnchorElement)e.cancel();else if(t.browserEvent.relatedTarget instanceof HTMLAnchorElement||!Y1(t.browserEvent.relatedTarget,null===(n=t.element)||void 0===n?void 0:n.element))try{yield e.trigger((()=>ASe(this,void 0,void 0,(function*(){t.element&&this.showHover(t.element)}))))}catch(i){if(!Fq(i))throw i}}))))),this.disposables.push(this.list.onMouseOut((t=>{var n;Y1(t.browserEvent.relatedTarget,null===(n=t.element)||void 0===n?void 0:n.element)||e.cancel()}))),this.disposables.push(e)}this.disposables.push(this._listElementChecked.event((e=>this.fireCheckedEvents()))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return tG.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return tG.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(e){this.list.getHTMLElement().ariaLabel=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.hidden){if(!i.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=Uq(this.elementDisposables);const t=e=>this.fireButtonTriggered(e),n=e=>this.fireSeparatorButtonTriggered(e);this.inputElements=e;const i=new Map,o=this.parent.classList.contains("show-checkboxes");this.elements=e.reduce(((r,s,a)=>{var l;const c=a>0?e[a-1]:void 0;if("separator"===s.type&&!s.buttons)return r;const u=new PSe(s,c,a,o,t,n,this._listElementChecked),h=r.length;return r.push(u),i.set(null!==(l=u.item)&&void 0!==l?l:u.separator,h),r}),[]),this.elementsToIndexes=i,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item)).filter((e=>!!e))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const n of e)t.add(n);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===zSe.Second&&this.list.length<2&&(e=zSe.First),e){case zSe.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(e=>!!e.item));break;case zSe.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(e=>!!e.item));break;case zSe.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(e=>!!e.item));break;case zSe.Next:{this.list.focusNext(void 0,!0,void 0,(e=>!!e.item));const e=this.list.getFocus()[0];0!==e&&!this.elements[e-1].item&&this.list.firstVisibleIndex>e-1&&this.list.reveal(e-1);break}case zSe.Previous:{this.list.focusPrevious(void 0,!0,void 0,(e=>!!e.item));const e=this.list.getFocus()[0];0!==e&&!this.elements[e-1].item&&this.list.firstVisibleIndex>e-1&&this.list.reveal(e-1);break}case zSe.NextPage:this.list.focusNextPage(void 0,(e=>!!e.item));break;case zSe.PreviousPage:this.list.focusPreviousPage(void 0,(e=>!!e.item))}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(e){var t,n,i;void 0!==this.options.hoverDelegate&&(this._lastHover&&!this._lastHover.isDisposed&&(null===(n=(t=this.options.hoverDelegate).onDidHideHover)||void 0===n||n.call(t),null===(i=this._lastHover)||void 0===i||i.dispose()),e.element&&e.saneTooltip&&(this._lastHover=this.options.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:e=>{this.options.linkOpenerDelegate(e)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(e){this.list.getHTMLElement().style.maxHeight=e?44*Math.floor(e/44)+6+"px":"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let n;this.elements.forEach((i=>{var o,r,s,a;let l;l="fuzzy"===this.matchOnLabelMode?this.matchOnLabel&&null!==(o=Xme(e,Yme(i.saneLabel)))&&void 0!==o?o:void 0:this.matchOnLabel&&null!==(r=function(e,t){const{text:n,iconOffsets:i}=t;if(!i||0===i.length)return HSe(e,n);const o=_Z(n," "),r=n.length-o.length,s=HSe(e,o);if(s)for(const a of s){const e=i[a.start+r]+r;a.start+=e,a.end+=e}return s}(t,Yme(i.saneLabel)))&&void 0!==r?r:void 0;const c=this.matchOnDescription&&null!==(s=Xme(e,Yme(i.saneDescription||"")))&&void 0!==s?s:void 0,u=this.matchOnDetail&&null!==(a=Xme(e,Yme(i.saneDetail||"")))&&void 0!==a?a:void 0;if(l||c||u?(i.labelHighlights=l,i.descriptionHighlights=c,i.detailHighlights=u,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item||!i.item.alwaysShow),i.item?i.separator=void 0:i.separator&&(i.hidden=!0),!this.sortByLabel){const e=i.index&&this.inputElements[i.index-1];n=e&&"separator"===e.type?e:n,n&&!i.hidden&&(i.separator=n,n=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.item&&(e.separator=t&&"separator"===t.type&&!t.buttons?t:void 0)}));const n=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const t=e.toLowerCase();n.sort(((e,n)=>function(e,t,n){const i=e.labelHighlights||[],o=t.labelHighlights||[];if(i.length&&!o.length)return-1;if(!i.length&&o.length)return 1;if(0===i.length&&0===o.length)return 0;return LSe(e.saneSortLabel,t.saneSortLabel,n)}(e,n,t)))}return this.elementsToIndexes=n.reduce(((e,t,n)=>{var i;return e.set(null!==(i=t.item)&&void 0!==i?i:t.separator,n),e}),new Map),this.list.splice(0,this.list.length,n),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(n.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const n of e)n.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Uq(this.elementDisposables),this.disposables=Uq(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}style(e){this.list.style(e)}toggleHover(){const e=this.list.getFocusedElements()[0];if(!(null==e?void 0:e.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();const t=this.list.getFocusedElements()[0];if(!t)return;this.showHover(t);const n=new Gq;n.add(this.list.onDidChangeFocus((e=>{e.indexes.length&&this.showHover(e.elements[0])}))),this._lastHover&&n.add(this._lastHover),this._toggleHover=n,this.elementDisposables.push(this._toggleHover)}}function HSe(e,t){const n=t.toLowerCase().indexOf(e.toLowerCase());return-1!==n?[{start:n,end:n+e.length}]:null}RSe([o8],WSe.prototype,"onDidChangeFocus",null),RSe([o8],WSe.prototype,"onDidChangeSelection",null);class $Se{getWidgetAriaLabel(){return nK(0,"Quick Input")}getAriaLabel(e){var t;return(null===(t=e.separator)||void 0===t?void 0:t.label)?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}var jSe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const USe={iconClass:VQ.asClassName(xY.quickInputBack),tooltip:nK(0,"Back"),handle:-1};class KSe extends Yq{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=KSe.noPromptMessage,this._severity=Nde.Ignore,this.onDidTriggerButtonEmitter=this._register(new sG),this.onDidHideEmitter=this._register(new sG),this.onDisposeEmitter=this._register(new sG),this.visibleDisposables=this._register(new Gq),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!LK;this._ignoreFocusOut=e&&!LK,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=null!=e?e:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=tSe.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const n=this.getTitle();n&&this.ui.title.textContent!==n?this.ui.title.textContent=n:n||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ");const i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?d2(this.ui.widget,this._widget):d2(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new e4,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===USe));this.ui.leftActionBar.push(e.map(((e,t)=>{const n=new HQ(`id-${t}`,"",e.iconClass||ISe(e.iconPath),!0,(()=>jSe(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==USe));this.ui.rightActionBar.push(t.map(((e,t)=>{const n=new HQ(`id-${t}`,"",e.iconClass||ISe(e.iconPath),!0,(()=>jSe(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const n=null!==(t=null===(e=this.toggles)||void 0===e?void 0:e.filter((e=>e instanceof Tye)))&&void 0!==t?t:[];this.ui.inputBox.toggles=n}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,d2(this.ui.message),MSe(o,this.ui.message,{callback:e=>{this.ui.linkOpenerDelegate(e)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?nK(0,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Nde.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}KSe.noPromptMessage=nK(0,"Press 'Enter' to confirm your input or 'Escape' to cancel");class qSe extends KSe{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new sG),this.onWillAcceptEmitter=this._register(new sG),this.onDidAcceptEmitter=this._register(new sG),this.onDidCustomEmitter=this._register(new sG),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=iSe.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new sG),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new sG),this.onDidTriggerItemButtonEmitter=this._register(new sG),this.onDidTriggerSeparatorButtonEmitter=this._register(new sG),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){if(this._value!==e){if(this._value=e,t||this.update(),this.visible){this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?eSe:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(zSe.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{this.doSetValue(e,!0)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(zSe.Next),this.canSelectMany&&this.ui.list.domFocus(),a2(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(zSe.Previous):this.ui.list.focus(zSe.Last),this.canSelectMany&&this.ui.list.domFocus(),a2(e,!0);break;case 12:this.ui.list.focus(zSe.NextPage),this.canSelectMany&&this.ui.list.domFocus(),a2(e,!0);break;case 11:this.ui.list.focus(zSe.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),a2(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(zSe.First),a2(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(zSe.Last),a2(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&pU(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&pU(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&pU(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((e=>this.onDidTriggerSeparatorButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return O1(this.ui.container,r2.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new _0(e),n=t.keyCode;this._quickNavigate.keybindings.some((e=>{const i=e.getChords();return!(i.length>1)&&(i[0].shiftKey&&4===n?!(t.ctrlKey||t.altKey||t.metaKey):!(!i[0].altKey||6!==n)||(!(!i[0].ctrlKey||5!==n)||!(!i[0].metaKey||57!==n)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,n={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(n),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let i=this.ariaLabel;if(!i&&n.inputBox&&(i=this.placeholder||qSe.DEFAULT_ARIA_LABEL,this.title&&(i+=` - ${this.title}`)),this.ui.list.ariaLabel!==i&&(this.ui.list.ariaLabel=null!=i?i:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case iSe.NONE:this._itemActivation=iSe.FIRST;break;case iSe.SECOND:this.ui.list.focus(zSe.Second),this._itemActivation=iSe.FIRST;break;case iSe.LAST:this.ui.list.focus(zSe.Last),this._itemActivation=iSe.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",n.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(zSe.First)),this.keepScrollPosition&&(this.scrollTop=e)}}qSe.DEFAULT_ARIA_LABEL=nK(0,"Type to narrow down results.");class GSe extends KSe{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new sG),this.onDidAcceptEmitter=this._register(new sG),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>this.onDidAcceptEmitter.fire()))),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const YSe=v2;class XSe extends Yq{constructor(e,t){super(),this.options=e,this.themeService=t,this.enabled=!0,this.onDidAcceptEmitter=this._register(new sG),this.onDidCustomEmitter=this._register(new sG),this.onDidTriggerButtonEmitter=this._register(new sG),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new sG),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new sG),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(O1(window,r2.KEY_DOWN,e,!0)),this._register(O1(window,r2.KEY_UP,e,!0)),this._register(O1(window,r2.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=u2(this.parentElement,YSe(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=t2(e),n=u2(e,YSe(".quick-input-titlebar")),i=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,o=this._register(new C_e(n,i));o.domNode.classList.add("quick-input-left-action-bar");const r=u2(n,YSe(".quick-input-title")),s=this._register(new C_e(n,i));s.domNode.classList.add("quick-input-right-action-bar");const a=u2(e,YSe(".quick-input-header")),l=u2(a,YSe("input.quick-input-check-all"));l.type="checkbox",l.setAttribute("aria-label",nK(0,"Toggle all checkboxes")),this._register(P1(l,r2.CHANGE,(e=>{const t=l.checked;L.setAllVisibleChecked(t)}))),this._register(O1(l,r2.CLICK,(e=>{(e.x||e.y)&&d.setFocus()})));const c=u2(a,YSe(".quick-input-description")),u=u2(a,YSe(".quick-input-and-message")),h=u2(u,YSe(".quick-input-filter")),d=this._register(new vSe(h,this.styles.inputBox,this.styles.toggle));d.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=u2(h,YSe(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const f=new cSe(g,{countFormat:nK(0,"{0} Results")},this.styles.countBadge),p=u2(h,YSe(".quick-input-count"));p.setAttribute("aria-live","polite");const m=new cSe(p,{countFormat:nK(0,"{0} Selected")},this.styles.countBadge),v=u2(a,YSe(".quick-input-action")),b=this._register(new lSe(v,this.styles.button));b.label=nK(0,"OK"),this._register(b.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const _=u2(a,YSe(".quick-input-action")),y=this._register(new lSe(_,this.styles.button));y.label=nK(0,"Custom"),this._register(y.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const w=u2(u,YSe(`#${this.idPrefix}message.quick-input-message`)),C=this._register(new pSe(e,this.styles.progressBar));C.getContainer().classList.add("quick-input-progress");const S=u2(e,YSe(".quick-input-html-widget"));S.tabIndex=-1;const x=u2(e,YSe(".quick-input-description")),k=this.idPrefix+"list",L=this._register(new WSe(e,k,this.options,this.themeService));d.setAttribute("aria-controls",k),this._register(L.onDidChangeFocus((()=>{var e;d.setAttribute("aria-activedescendant",null!==(e=L.getActiveDescendant())&&void 0!==e?e:"")}))),this._register(L.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(L.onChangedVisibleCount((e=>{f.setCount(e)}))),this._register(L.onChangedCheckedCount((e=>{m.setCount(e)}))),this._register(L.onLeave((()=>{setTimeout((()=>{d.setFocus(),this.controller instanceof qSe&&this.controller.canSelectMany&&L.clearFocus()}),0)})));const D=c2(e);return this._register(D),this._register(O1(e,r2.FOCUS,(t=>{Y1(t.relatedTarget,e)||(this.previousFocusElement=t.relatedTarget instanceof HTMLElement?t.relatedTarget:void 0)}),!0)),this._register(D.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(tSe.Blur),this.previousFocusElement=void 0}))),this._register(O1(e,r2.FOCUS,(e=>{d.setFocus()}))),this._register(P1(e,r2.KEY_DOWN,(t=>{if(!Y1(t.target,S))switch(t.keyCode){case 3:a2(t,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:a2(t,!0),this.hide(tSe.Gesture);break;case 2:if(!t.altKey&&!t.ctrlKey&&!t.metaKey){const n=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list"),this.getUI().message&&n.push(".quick-input-message a"),this.getUI().widget){if(Y1(t.target,this.getUI().widget))break;n.push(".quick-input-html-widget")}const i=e.querySelectorAll(n.join(", "));t.shiftKey&&t.target===i[0]?(a2(t,!0),L.clearFocus()):!t.shiftKey&&Y1(t.target,i[i.length-1])&&(a2(t,!0),i[0].focus())}break;case 10:t.ctrlKey&&(a2(t,!0),this.getUI().list.toggleHover())}}))),this.ui={container:e,styleSheet:t,leftActionBar:o,titleBar:n,title:r,description1:x,description2:c,widget:S,rightActionBar:s,checkAll:l,inputContainer:u,filterContainer:h,inputBox:d,visibleCountContainer:g,visibleCount:f,countContainer:p,count:m,okContainer:v,ok:b,message:w,customButtonContainer:_,customButton:y,list:L,progressBar:C,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e),linkOpenerDelegate:e=>this.options.linkOpenerDelegate(e)},this.updateStyles(),this.ui}pick(e,t={},n=fG.None){return new Promise(((i,o)=>{let r=e=>{var n;r=i,null===(n=t.onKeyMods)||void 0===n||n.call(t,s.keyMods),i(e)};if(n.isCancellationRequested)return void r(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept((()=>{if(s.canSelectMany)r(s.selectedItems.slice()),s.hide();else{const e=s.activeItems[0];e&&(r(e),s.hide())}})),s.onDidChangeActive((e=>{const n=e[0];n&&t.onDidFocus&&t.onDidFocus(n)})),s.onDidChangeSelection((e=>{if(!s.canSelectMany){const t=e[0];t&&(r(t),s.hide())}})),s.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=s.items.indexOf(e.item);if(-1!==t){const e=s.items.slice(),n=e.splice(t,1),i=s.activeItems.filter((e=>e!==n[0])),o=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=e,i&&(s.activeItems=i),s.keepScrollPosition=o}}})))),s.onDidTriggerSeparatorButton((e=>{var n;return null===(n=t.onDidTriggerSeparatorButton)||void 0===n?void 0:n.call(t,e)})),s.onDidChangeValue((e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])})),n.onCancellationRequested((()=>{s.hide()})),s.onDidHide((()=>{Uq(l),r(void 0)}))];s.title=t.title,s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.hideInput=!!t.hideInput,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(s.activeItems=[a])})),s.show(),Promise.resolve(e).then(void 0,(e=>{o(e),s.hide()}))}))}createQuickPick(){const e=this.getUI();return new qSe(e)}createInputBox(){const e=this.getUI();return new GSe(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=e,null==n||n.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",d2(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Nde.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),d2(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const i=this.options.backKeybindingLabel();USe.tooltip=i?nK(0,"Back ({0})",i):nK(0,"Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,n,i;const o=this.controller;if(!o)return;const r=!Y1(document.activeElement,null!==(n=null===(t=this.ui)||void 0===t?void 0:t.container)&&void 0!==n?n:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!r){let e=this.previousFocusElement;for(;e&&!e.offsetParent;)e=null!==(i=e.parentElement)&&void 0!==i?i:void 0;(null==e?void 0:e.offsetParent)?(e.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}o.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,XSe.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:n,widgetBorder:i,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=null!=e?e:"",this.ui.container.style.backgroundColor=null!=t?t:"",this.ui.container.style.color=null!=n?n:"",this.ui.container.style.border=i?`1px solid ${i}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.list.style(this.styles.list);const r=[];this.styles.pickerGroup.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&r.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const s=r.join("\n");s!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=s)}}isDisplayed(){return this.ui&&"none"!==this.ui.container.style.display}}XSe.MAX_WIDTH=600;var ZSe=function(e,t){return function(n,i){t(n,i,e)}};let QSe=class extends $ie{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(aSe))),this._quickAccess}constructor(e,t,n,i){super(n),this.instantiationService=e,this.contextKeyService=t,this.layoutService=i,this._onShow=this._register(new sG),this._onHide=this._register(new sG),this.contexts=new Map}createController(e=this.layoutService,t){const n={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),linkOpenerDelegate:e=>{this.instantiationService.invokeFunction((t=>{t.get(jge).open(e,{allowCommands:!0,fromUserGesture:!0})}))},returnFocus:()=>e.focus(),createList:(e,t,n,i,o)=>this.instantiationService.createInstance(ACe,e,t,n,i,o),styles:this.computeStyles()},i=this._register(new XSe(Object.assign(Object.assign({},n),t),this.themeService));return i.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout((t=>i.layout(t,e.offset.quickPickTop)))),this._register(i.onShow((()=>{this.resetContextKeys(),this._onShow.fire()}))),this._register(i.onHide((()=>{this.resetContextKeys(),this._onHide.fire()}))),i}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new MJ(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),null==t||t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},n=fG.None){return this.controller.pick(e,t,n)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:u8(gee),quickInputForeground:u8(fee),quickInputTitleBackground:u8(pee),widgetBorder:u8(w8),widgetShadow:u8(y8)},inputBox:o_e,toggle:i_e,countBadge:s_e,button:t_e,progressBar:n_e,keybindingLabel:e_e,list:l_e({listBackground:gee,listFocusBackground:mte,listFocusForeground:fte,listInactiveFocusForeground:fte,listInactiveSelectionIconForeground:pte,listInactiveFocusBackground:mte,listFocusOutline:b8,listInactiveFocusOutline:b8}),pickerGroup:{pickerGroupBorder:u8(vee),pickerGroupForeground:u8(mee)}}}};QSe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ZSe(0,AQ),ZSe(1,RJ),ZSe(2,Fie),ZSe(3,wge)],QSe);var JSe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},exe=function(e,t){return function(n,i){t(n,i,e)}};let txe=class extends QSe{constructor(e,t,n,i,o){super(t,n,i,new kge(e.getContainerDomNode(),o)),this.host=void 0;const r=ixe.get(e);if(r){const t=r.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return t.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};txe=JSe([exe(1,AQ),exe(2,RJ),exe(3,Fie),exe(4,PQ)],txe);let nxe=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const n=t=this.instantiationService.createInstance(txe,e);this.mapEditorToService.set(e,t),jq(e.onDidDispose)((()=>{n.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t={},n=fG.None){return this.activeService.pick(e,t,n)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};nxe=JSe([exe(0,AQ),exe(1,PQ)],nxe);class ixe{static get(e){return e.getContribution(ixe.ID)}constructor(e){this.editor=e,this.widget=new oxe(this.editor)}dispose(){this.widget.dispose()}}ixe.ID="editor.controller.quickInput";class oxe{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return oxe.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}oxe.ID="editor.contrib.quickInputWidget",P2(ixe.ID,ixe,4);class rxe{constructor(e,t,n,i,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=o}}const sxe=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class axe{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(sxe);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=n9.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class lxe{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];const t=[];let n=0;for(let i=0,o=e.length;i<o;i++){const o=e[i];let r=-1;if("string"==typeof o.fontStyle){r=0;const e=o.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4;break;case"strikethrough":r|=8}}let s=null;"string"==typeof o.foreground&&(s=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[n++]=new rxe(o.token||"",i,r,s,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{const n=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==n?n:e.index-t.index}));let n=0,i="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){const t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(o=t.background)}const r=new axe;for(const u of t)r.getId(u);const s=r.getId(i),a=r.getId(o),l=new uxe(n,s,a),c=new hxe(l);for(let u=0,h=e.length;u<h;u++){const t=e[u];c.insert(t.token,t.fontStyle,r.getId(t.foreground),r.getId(t.background))}return new lxe(r,c)}(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if(void 0===n){const e=this._match(t),i=function(e){const t=e.match(cxe);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e)>>>0}}const cxe=/\b(comment|string|regex|regexp)\b/;class uxe{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new uxe(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class hxe{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;const t=e.indexOf(".");let n,i;-1===t?(n=e,i=""):(n=e.substring(0,t),i=e.substring(t+1));const o=this._children.get(n);return void 0!==o?o.match(i):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);const o=e.indexOf(".");let r,s;-1===o?(r=e,s=""):(r=e.substring(0,o),s=e.substring(o+1));let a=this._children.get(r);void 0===a&&(a=new hxe(this._mainRule.clone()),this._children.set(r,a)),a.insert(s,t,n,i)}}const dxe={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[lee]:"#FFFFFE",[cee]:"#000000",[xee]:"#E5EBF1",[Qie]:"#D3D3D3",[ooe]:"#939393",[kee]:"#ADD6FF4D"}},gxe={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[lee]:"#1E1E1E",[cee]:"#D4D4D4",[xee]:"#3A3D41",[Qie]:"#404040",[ooe]:"#707070",[kee]:"#ADD6FF26"}},fxe={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[lee]:"#000000",[cee]:"#FFFFFF",[Qie]:"#FFFFFF",[ooe]:"#FFFFFF"}},pxe={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[lee]:"#FFFFFF",[cee]:"#292929",[Qie]:"#292929",[ooe]:"#292929"}};var mxe,vxe,bxe;(mxe||(mxe={})).getDefinition=function(e,t){let n=e.defaults;for(;VQ.isThemeIcon(n);){const e=_xe.getIcon(n.id);if(!e)return;n=e.defaults}return n},(bxe=vxe||(vxe={})).toJSONObject=function(e){return{weight:e.weight,style:e.style,src:e.src.map((e=>({format:e.format,location:e.location.toString()})))}},bxe.fromJSONObject=function(e){const t=e=>PU(e)?e:void 0;if(e&&Array.isArray(e.src)&&e.src.every((e=>PU(e.format)&&PU(e.location))))return{weight:t(e.weight),style:t(e.style),src:e.src.map((e=>({format:e.format,location:aY.parse(e.location)})))}};const _xe=new class{constructor(){this._onDidChange=new sG,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:nK(0,"The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:nK(0,"The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${VQ.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,i){const o=this.iconsById[e];if(o){if(n&&!o.description){o.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=n),this._onDidChange.fire()}return o}const r={id:e,description:n,defaults:t,deprecationMessage:i};this.iconsById[e]=r;const s={$ref:"#/definitions/icons"};return i&&(s.deprecationMessage=i),n&&(s.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;VQ.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`},n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const i=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of i.filter((e=>!!e.description)).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|${VQ.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(const o of i.filter((e=>!VQ.isThemeIcon(e.defaults))).sort(e))n.push(`|<i class="${t(o)}"></i>|${o.id}|`);return n.join("\n")}};function yxe(e,t,n,i){return _xe.registerIcon(e,t,n,i)}function wxe(){return _xe}YJ.add("base.contributions.icons",_xe),function(){const e=SY();for(const t in e){const n="\\"+e[t].toString(16);_xe.registerIcon(t,{fontCharacter:n})}}();const Cxe="vscode://schemas/icons",Sxe=YJ.as(_5);Sxe.registerSchema(Cxe,_xe.getIconSchema());const xxe=new n4((()=>Sxe.notifySchemaChanged(Cxe)),200);_xe.onDidChange((()=>{xxe.isScheduled()||xxe.schedule()})),yxe("widget-close",xY.close,nK(0,"Icon for the close action in widgets.")),yxe("goto-previous-location",xY.arrowUp,nK(0,"Icon for goto previous editor location.")),yxe("goto-next-location",xY.arrowDown,nK(0,"Icon for goto next editor location.")),VQ.modify(xY.sync,"spin"),VQ.modify(xY.loading,"spin");class kxe{getIcon(e){const t=wxe();let n=e.defaults;for(;VQ.isThemeIcon(n);){const e=t.getIcon(n.id);if(!e)return;n=e.defaults}return n}}const Lxe="vs",Dxe="vs-dark",Exe="hc-black",Nxe="hc-light",Txe=YJ.as(h8),Ixe=YJ.as(Vie);class Mxe{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const n=t.base;e.length>0?(Rxe(e)?this.id=e:this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,n9.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=Axe(this.themeData.base);for(const n in t.colors)e.has(n)||e.set(n,n9.fromHex(t.colors[n]))}this.colors=e}return this.colors}getColor(e,t){const n=this.getColors().get(e);return n||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Txe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Lxe:return Sne.LIGHT;case Exe:return Sne.HIGH_CONTRAST_DARK;case Nxe:return Sne.HIGH_CONTRAST_LIGHT;default:return Sne.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const n=Axe(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}const n=this.themeData.colors["editor.foreground"],i=this.themeData.colors["editor.background"];if(n||i){const t={token:""};n&&(t.foreground=n),i&&(t.background=i),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=lxe.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,n){const i=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=O9.getForeground(i),r=O9.getFontStyle(i);return{foreground:o,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r),strikethrough:Boolean(8&r)}}}function Rxe(e){return e===Lxe||e===Dxe||e===Exe||e===Nxe}function Axe(e){switch(e){case Lxe:return dxe;case Dxe:return gxe;case Exe:return fxe;case Nxe:return pxe}}function Oxe(e){const t=Axe(e);return new Mxe(e,t)}const Pxe=OQ("themeService");var Fxe=function(e,t){return function(n,i){t(n,i,e)}};let Bxe=class extends Yq{constructor(e,t,n){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=n,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new sG,this._onDidChangeReducedMotion=new sG,this._accessibilityModeEnabledContext=Z7.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),i(),this._register(this.onDidChangeScreenReaderOptimized((()=>i())));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register(O1(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",e),this._layoutService.container.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Bxe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Fxe(0,RJ),Fxe(1,wge),Fxe(2,a5)],Bxe);var zxe,Vxe,Wxe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hxe=function(e,t){return function(n,i){t(n,i,e)}};let $xe=class{constructor(e,t){this._commandService=e,this._hiddenStates=new jxe(t)}createMenu(e,t,n){return new Kxe(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};$xe=Wxe([Hxe(0,GQ),Hxe(1,Xbe)],$xe);let jxe=zxe=class{constructor(e){this._storageService=e,this._disposables=new Gq,this._onDidChange=new sG,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(zxe._key,0,"{}");this._data=JSON.parse(t)}catch(t){this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,zxe._key,this._disposables)((()=>{if(!this._ignoreChangeEvent)try{const t=e.get(zxe._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var n;return null!==(n=this._hiddenByDefaultCache.get(`${e.id}/${t}`))&&void 0!==n&&n}setDefaultState(e,t,n){this._hiddenByDefaultCache.set(`${e.id}/${t}`,n)}isHidden(e,t){var n,i;const o=this._isHiddenByDefault(e,t),r=null!==(i=null===(n=this._data[e.id])||void 0===n?void 0:n.includes(t))&&void 0!==i&&i;return o?!r:r}updateHidden(e,t,n){this._isHiddenByDefault(e,t)&&(n=!n);const i=this._data[e.id];if(n)if(i){i.indexOf(t)<0&&i.push(t)}else this._data[e.id]=[t];else if(i){const n=i.indexOf(t);n>=0&&function(e,t){const n=e.length-1;t<n&&(e[t]=e[n]),e.pop()}(i,n),0===i.length&&delete this._data[e.id]}this._persist()}reset(e){if(void 0===e)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(zxe._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};jxe._key="menu.hiddenCommands",jxe=zxe=Wxe([Hxe(0,Xbe)],jxe);let Uxe=Vxe=class{constructor(e,t,n,i,o){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=n,this._commandService=i,this._contextKeyService=o,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=r0.getMenuItems(this._id);let t;e.sort(Vxe._compareMenuItems);for(const n of e){const e=n.group||"";t&&t[0]===e||(t=[e,[]],this._menuGroups.push(t)),t[1].push(n),this._collectContextKeys(n)}}_collectContextKeys(e){if(Vxe._fillInKbExprKeys(e.when,this._structureContextKeys),t0(e)){if(e.command.precondition&&Vxe._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;Vxe._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&r0.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}createActionGroups(e){const t=[];for(const n of this._menuGroups){const[i,o]=n,r=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const n=t0(t);n&&this._hiddenStates.setDefaultState(this._id,t.command.id,!!t.isHiddenByDefault);const i=qxe(this._id,n?t.command:t,this._hiddenStates);if(n)r.push(new a0(t.command,t.alt,e,i,this._contextKeyService,this._commandService));else{const n=new Vxe(t.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(e),o=jQ.join(...n.map((e=>e[1])));o.length>0&&r.push(new s0(t,i,o))}}r.length>0&&t.push([i,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(const n of e.keys())t.add(n)}static _compareMenuItems(e,t){const n=e.group,i=t.group;if(n!==i){if(!n)return 1;if(!i)return-1;if("navigation"===n)return-1;if("navigation"===i)return 1;const e=n.localeCompare(i);if(0!==e)return e}const o=e.order||0,r=t.order||0;return o<r?-1:o>r?1:Vxe._compareTitles(t0(e)?e.command.title:e.title,t0(t)?t.command.title:t.title)}static _compareTitles(e,t){const n="string"==typeof e?e:e.original,i="string"==typeof t?t:t.original;return n.localeCompare(i)}};Uxe=Vxe=Wxe([Hxe(3,GQ),Hxe(4,RJ)],Uxe);let Kxe=class{constructor(e,t,n,i,o){this._disposables=new Gq,this._menuInfo=new Uxe(e,t,n.emitEventsForSubmenuChanges,i,o);const r=new n4((()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),n.eventDebounceDelay);this._disposables.add(r),this._disposables.add(r0.onDidChangeMenu((t=>{t.has(e)&&r.schedule()})));const s=this._disposables.add(new Gq);this._onDidChange=new cG({onWillAddFirstListener:()=>{s.add(o.onDidChangeContext((e=>{const t=e.affectsSome(this._menuInfo.structureContextKeys),n=e.affectsSome(this._menuInfo.preconditionContextKeys),i=e.affectsSome(this._menuInfo.toggledContextKeys);(t||n||i)&&this._onDidChange.fire({menu:this,isStructuralChange:t,isEnablementChange:n,isToggleChange:i})}))),s.add(t.onDidChange((e=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onDidRemoveLastListener:s.clear.bind(s),delay:n.eventDebounceDelay,merge:e=>{let t=!1,n=!1,i=!1;for(const o of e)if(t=t||o.isStructuralChange,n=n||o.isEnablementChange,i=i||o.isToggleChange,t&&n&&i)break;return{menu:this,isStructuralChange:t,isEnablementChange:n,isToggleChange:i}}}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function qxe(e,t,n){const i=void 0!==t.submenu?t.submenu.id:t.id;const o="string"==typeof t.title?t.title:t.title.value,r=qQ({id:`hide/${e.id}/${i}`,label:nK(0,"Hide '{0}'",o),run(){n.updateHidden(e,i,!0)}}),s=qQ({id:`toggle/${e.id}/${i}`,label:o,get checked(){return!n.isHidden(e,i)},run(){n.updateHidden(e,i,!!this.checked)}});return{hide:r,toggle:s,get isHidden(){return!s.checked}}}Kxe=Wxe([Hxe(3,GQ),Hxe(4,RJ)],Kxe);var Gxe=function(e,t){return function(n,i){t(n,i,e)}},Yxe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let Xxe=class extends Yq{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(mQ||vQ)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const e=new r4;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((t=>Yxe(this,void 0,void 0,(function*(){t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))))};this.layoutService.hasContainer&&(this._register(O1(this.layoutService.container,"click",e)),this._register(O1(this.layoutService.container,"keydown",e)))}writeText(e,t){return Yxe(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const n=document.activeElement,i=document.body.appendChild(v2("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=e,i.focus(),i.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(i)}))}readText(e){return Yxe(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return Yxe(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return Yxe(this,void 0,void 0,(function*(){this.findText=e}))}writeResources(e){return Yxe(this,void 0,void 0,(function*(){this.resources=e}))}readResources(){return Yxe(this,void 0,void 0,(function*(){return this.resources}))}};Xxe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([Gxe(0,wge),Gxe(1,c0)],Xxe);const Zxe=OQ("clipboardService");const Qxe="data-keybinding-context";class Jxe{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class eke extends Jxe{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}eke.INSTANCE=new eke;class tke extends Jxe{constructor(e,t,n){super(e,null),this._configurationService=t,this._values=xpe.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(this._values,(([e])=>e));this._values.clear(),n.fire(new oke(e))}else{const t=[];for(const n of e.affectedKeys){const e=`config.${n}`,i=this._values.findSuperstr(e);void 0!==i&&(t.push(...zK.map(i,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}n.fire(new oke(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(tke._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(tke._keyPrefix.length),n=this._configurationService.getValue(t);let i;switch(typeof n){case"number":case"boolean":case"string":i=n;break;default:i=Array.isArray(n)?JSON.stringify(n):n}return this._values.set(e,i),i}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}tke._keyPrefix="config.";class nke{constructor(e,t,n){this._service=e,this._key=t,this._defaultValue=n,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class ike{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class oke{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class rke{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class ske extends Yq{constructor(e){super(),this._onDidChangeContext=this._register(new lG({merge:e=>new rke(e)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new nke(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new lke(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new ike(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new ike(e))}getContext(e){return this._isDisposed?eke.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(Qxe)){const t=e.getAttribute(Qxe);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}dispose(){super.dispose(),this._isDisposed=!0}}let ake=class extends ske{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new tke(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?eke.INSTANCE:this._contexts.get(e)||eke.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new Jxe(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};ake=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(0,a5)],ake);class lke extends ske{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new Xq),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(Qxe)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(Qxe,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{const t=this._parent.getContextValuesContainer(this._myContextId).value;var n;n=t,e.allKeysContainedIn(new Set(Object.keys(n)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Qxe),super.dispose())}getContextValuesContainer(e){return this._isDisposed?eke.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}YQ.registerCommand("_setContext",(function(e,t,n){e.get(RJ).createKey(String(t),function(e){return ZU(e,(e=>"object"==typeof e&&1===e.$mid?aY.revive(e).toString():e instanceof aY?e.toString():void 0))}(n))})),YQ.registerCommand({id:"getContextKeyInfo",handler:()=>[...MJ.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:nK(0,"A command that returns information about context keys"),args:[]}}),YQ.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const n of MJ.all())t.has(n.key)||(t.add(n.key),e.push(n));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));let cke=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class uke{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const n of this._nodes.values())n.outgoing.delete(t),n.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new cke(t,e),this._nodes.set(t,n)),n}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,n]of this._nodes)e.push(`${t}\n\t(-> incoming)[${[...n.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...n.outgoing.keys()].join(",")}]\n`);return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const n=new Set([e]),i=this._findCycle(t,n);if(i)return i}}_findCycle(e,t){for(const[n,i]of e.outgoing){if(t.has(n))return[...t,n].join(" -> ");t.add(n);const e=this._findCycle(i,t);if(e)return e;t.delete(n)}}}class hke extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class dke{constructor(e=new Lde,t=!1,n,i=false){var o;this._services=e,this._strict=t,this._parent=n,this._enableTracing=i,this._activeInstantiations=new Set,this._services.set(AQ,this),this._globalGraph=i?null!==(o=null==n?void 0:n._globalGraph)&&void 0!==o?o:new uke((e=>e)):void 0}createChild(e){return new dke(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const n=gke.traceInvocation(this._enableTracing,e);let i=!1;try{return e({get:e=>{if(i)throw Vq("service accessor is only valid during the invocation of its target method");const t=this._getOrCreateServiceInstance(e,n);if(!t)throw new Error(`[invokeFunction] unknown service '${e}'`);return t}},...t)}finally{i=!0,n.stop()}}createInstance(e,...t){let n,i;return e instanceof f5?(n=gke.traceCreation(this._enableTracing,e.ctor),i=this._createInstance(e.ctor,e.staticArguments.concat(t),n)):(n=gke.traceCreation(this._enableTracing,e),i=this._createInstance(e,t,n)),n.stop(),i}_createInstance(e,t=[],n){const i=MQ.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const s of i){const t=this._getOrCreateServiceInstance(s.id,n);t||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id}.`,!1),o.push(t)}const r=i.length>0?i[0].index:t.length;if(t.length!==r){console.trace(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);const n=r-t.length;t=n>0?t.concat(new Array(n)):t.slice(0,r)}return Reflect.construct(e,t.concat(o))}_setServiceInstance(e,t){if(this._services.get(e)instanceof f5)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const n=this._getServiceInstanceOrDescriptor(e);return n instanceof f5?this._safeCreateAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,t,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,n){var i;const o=new uke((e=>e.id.toString()));let r=0;const s=[{id:e,desc:t,_trace:n}];for(;s.length;){const t=s.pop();if(o.lookupOrInsertNode(t),r++>1e3)throw new hke(o);for(const n of MQ.getServiceDependencies(t.desc.ctor)){const r=this._getServiceInstanceOrDescriptor(n.id);if(r||this._throwIfStrict(`[createInstance] ${e} depends on ${n.id} which is NOT registered.`,!0),null===(i=this._globalGraph)||void 0===i||i.insertEdge(String(t.id),String(n.id)),r instanceof f5){const e={id:n.id,desc:r,_trace:t._trace.branch(n.id,!0)};o.insertEdge(t,e),s.push(e)}}}for(;;){const e=o.roots();if(0===e.length){if(!o.isEmpty())throw new hke(o);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof f5){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}o.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,n=[],i,o){if(this._services.get(e)instanceof f5)return this._createServiceInstance(e,t,n,i,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,i,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,n=[],i,o){if(i){const i=new dke(void 0,this._strict,this,this._enableTracing);i._globalGraphImplicitDependency=String(e);const r=new Map,s=new o4((()=>{const e=i._createInstance(t,n,o);for(const[t,n]of r){const i=e[t];if("function"==typeof i)for(const t of n)i.apply(e,t)}return r.clear(),e}));return new Proxy(Object.create(null),{get(e,t){if(!s.isInitialized&&"string"==typeof t&&(t.startsWith("onDid")||t.startsWith("onWill"))){let e=r.get(t);e||(e=new WK,r.set(t,e));return(t,n,i)=>qq(e.push([t,n,i]))}if(t in e)return e[t];const n=s.value;let i=n[t];return"function"!=typeof i||(i=i.bind(n),e[t]=i),i},set:(e,t,n)=>(s.value[t]=n,!0),getPrototypeOf:e=>t.prototype})}return this._createInstance(t,n,o)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class gke{static traceInvocation(e,t){return e?new gke(2,t.name||(new Error).stack.split("\n").slice(3,4).join("\n")):gke._None}static traceCreation(e,t){return e?new gke(1,t.name):gke._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const n=new gke(3,e.toString());return this._dep.push([e,t,n]),n}stop(){const e=Date.now()-this._start;gke._totals+=e;let t=!1;const n=[`${1===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(n,i){const o=[],r=new Array(n+1).join("\t");for(const[s,a,l]of i._dep)if(a&&l){t=!0,o.push(`${r}CREATES -> ${s}`);const i=e(n+1,l);i&&o.push(i)}else o.push(`${r}uses -> ${s}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${gke._totals.toFixed(2)}ms)`];(e>2||t)&&gke.all.add(n.join("\n"))}}gke.all=new Set,gke._None=new class extends gke{constructor(){super(0,null)}stop(){}branch(){return this}},gke._totals=0;const fke=new Set([S1.inMemory,S1.vscodeSourceControl,S1.walkThrough,S1.walkThroughSnippet]);class pke{constructor(){this._byResource=new M6,this._byOwner=new Map}set(e,t,n){let i=this._byResource.get(e);i||(i=new Map,this._byResource.set(e,i)),i.set(t,n);let o=this._byOwner.get(t);o||(o=new M6,this._byOwner.set(t,o)),o.set(e,n)}get(e,t){const n=this._byResource.get(e);return null==n?void 0:n.get(t)}delete(e,t){let n=!1,i=!1;const o=this._byResource.get(e);o&&(n=o.delete(t));const r=this._byOwner.get(t);if(r&&(i=r.delete(e)),n!==i)throw new Error("illegal state");return n&&i}values(e){var t,n,i,o;return"string"==typeof e?null!==(n=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==n?n:zK.empty():aY.isUri(e)?null!==(o=null===(i=this._byResource.get(e))||void 0===i?void 0:i.values())&&void 0!==o?o:zK.empty():zK.map(zK.concat(...this._byOwner.values()),(e=>e[1]))}}class mke{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new M6,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(fke.has(e.scheme))return t;for(const{severity:n}of this._service.read({resource:e}))n===U_e.Error?t.errors+=1:n===U_e.Warning?t.warnings+=1:n===U_e.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class vke{constructor(){this._onMarkerChanged=new cG({delay:0,merge:vke._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new pke,this._stats=new mke(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const n of t||[])this.changeOne(e,n,[])}changeOne(e,t,n){if(i=n,Array.isArray(i)&&0!==i.length){const i=[];for(const o of n){const n=vke._toMarker(e,t,o);n&&i.push(n)}this._data.set(t,e,i),this._onMarkerChanged.fire([t])}else{this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}var i}static _toMarker(e,t,n){let{code:i,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:u,relatedInformation:h,tags:d}=n;if(r)return a=a>0?a:1,l=l>0?l:1,c=c>=a?c:a,u=u>0?u:l,{resource:t,owner:e,code:i,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:u,relatedInformation:h,tags:d}}changeAll(e,t){const n=[],i=this._data.values(e);if(i)for(const o of i){const t=zK.first(o);t&&(n.push(t.resource),this._data.delete(t.resource,e))}if(bU(t)){const i=new M6;for(const{resource:o,marker:r}of t){const t=vke._toMarker(e,o,r);if(!t)continue;const s=i.get(o);s?s.push(t):(i.set(o,[t]),n.push(o))}for(const[t,n]of i)this._data.set(t,e,n)}n.length>0&&this._onMarkerChanged.fire(n)}read(e=Object.create(null)){let{owner:t,resource:n,severities:i,take:o}=e;if((!o||o<0)&&(o=-1),t&&n){const e=this._data.get(n,t);if(e){const t=[];for(const n of e)if(vke._accept(n,i)){const e=t.push(n);if(o>0&&e===o)break}return t}return[]}if(t||n){const e=this._data.values(null!=n?n:t),r=[];for(const t of e)for(const e of t)if(vke._accept(e,i)){const t=r.push(e);if(o>0&&t===o)return r}return r}{const e=[];for(const t of this._data.values())for(const n of t)if(vke._accept(n,i)){const t=e.push(n);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new M6;for(const n of e)for(const e of n)t.set(e,!0);return Array.from(t.keys())}}class bke extends Yq{constructor(){super(...arguments),this._configurationModel=new qfe}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new qfe;const e=YJ.as(w5).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const n=this.getConfigurationDefaultOverrides();for(const i of e){const e=n[i],o=t[i];void 0!==e?this._configurationModel.addValue(i,e):o?this._configurationModel.addValue(i,o.default):this._configurationModel.removeValue(i)}}}const _ke=OQ("audioCue");class yke{static register(e){return new yke(e.fileName)}constructor(e){this.fileName=e}}yke.error=yke.register({fileName:"error.mp3"}),yke.warning=yke.register({fileName:"warning.mp3"}),yke.foldedArea=yke.register({fileName:"foldedAreas.mp3"}),yke.break=yke.register({fileName:"break.mp3"}),yke.quickFixes=yke.register({fileName:"quickFixes.mp3"}),yke.taskCompleted=yke.register({fileName:"taskCompleted.mp3"}),yke.taskFailed=yke.register({fileName:"taskFailed.mp3"}),yke.terminalBell=yke.register({fileName:"terminalBell.mp3"}),yke.diffLineInserted=yke.register({fileName:"diffLineInserted.mp3"}),yke.diffLineDeleted=yke.register({fileName:"diffLineDeleted.mp3"}),yke.diffLineModified=yke.register({fileName:"diffLineModified.mp3"}),yke.chatRequestSent=yke.register({fileName:"chatRequestSent.mp3"}),yke.chatResponsePending=yke.register({fileName:"chatResponsePending.mp3"}),yke.chatResponseReceived1=yke.register({fileName:"chatResponseReceived1.mp3"}),yke.chatResponseReceived2=yke.register({fileName:"chatResponseReceived2.mp3"}),yke.chatResponseReceived3=yke.register({fileName:"chatResponseReceived3.mp3"}),yke.chatResponseReceived4=yke.register({fileName:"chatResponseReceived4.mp3"});class wke{constructor(e){this.randomOneOf=e}}class Cke{static register(e){const t=new wke("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),n=new Cke(t,e.name,e.settingsKey);return Cke._audioCues.add(n),n}constructor(e,t,n){this.sound=e,this.name=t,this.settingsKey=n}}Cke._audioCues=new Set,Cke.error=Cke.register({name:nK(0,"Error on Line"),sound:yke.error,settingsKey:"audioCues.lineHasError"}),Cke.warning=Cke.register({name:nK(0,"Warning on Line"),sound:yke.warning,settingsKey:"audioCues.lineHasWarning"}),Cke.foldedArea=Cke.register({name:nK(0,"Folded Area on Line"),sound:yke.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),Cke.break=Cke.register({name:nK(0,"Breakpoint on Line"),sound:yke.break,settingsKey:"audioCues.lineHasBreakpoint"}),Cke.inlineSuggestion=Cke.register({name:nK(0,"Inline Suggestion on Line"),sound:yke.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),Cke.terminalQuickFix=Cke.register({name:nK(0,"Terminal Quick Fix"),sound:yke.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),Cke.onDebugBreak=Cke.register({name:nK(0,"Debugger Stopped on Breakpoint"),sound:yke.break,settingsKey:"audioCues.onDebugBreak"}),Cke.noInlayHints=Cke.register({name:nK(0,"No Inlay Hints on Line"),sound:yke.error,settingsKey:"audioCues.noInlayHints"}),Cke.taskCompleted=Cke.register({name:nK(0,"Task Completed"),sound:yke.taskCompleted,settingsKey:"audioCues.taskCompleted"}),Cke.taskFailed=Cke.register({name:nK(0,"Task Failed"),sound:yke.taskFailed,settingsKey:"audioCues.taskFailed"}),Cke.terminalCommandFailed=Cke.register({name:nK(0,"Terminal Command Failed"),sound:yke.error,settingsKey:"audioCues.terminalCommandFailed"}),Cke.terminalBell=Cke.register({name:nK(0,"Terminal Bell"),sound:yke.terminalBell,settingsKey:"audioCues.terminalBell"}),Cke.notebookCellCompleted=Cke.register({name:nK(0,"Notebook Cell Completed"),sound:yke.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),Cke.notebookCellFailed=Cke.register({name:nK(0,"Notebook Cell Failed"),sound:yke.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),Cke.diffLineInserted=Cke.register({name:nK(0,"Diff Line Inserted"),sound:yke.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),Cke.diffLineDeleted=Cke.register({name:nK(0,"Diff Line Deleted"),sound:yke.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),Cke.diffLineModified=Cke.register({name:nK(0,"Diff Line Modified"),sound:yke.diffLineModified,settingsKey:"audioCues.diffLineModified"}),Cke.chatRequestSent=Cke.register({name:nK(0,"Chat Request Sent"),sound:yke.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),Cke.chatResponseReceived=Cke.register({name:nK(0,"Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[yke.chatResponseReceived1,yke.chatResponseReceived2,yke.chatResponseReceived3,yke.chatResponseReceived4]}}),Cke.chatResponsePending=Cke.register({name:nK(0,"Chat Response Pending"),sound:yke.chatResponsePending,settingsKey:"audioCues.chatResponsePending"});class Ske extends Yq{constructor(e,t=[]){super(),this.logger=new p0([e,...t]),this._register(e.onDidChangeLogLevel((e=>this.setLevel(e))))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const xke=[];var kke=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Lke=function(e,t){return function(n,i){t(n,i,e)}},Dke=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Eke{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new sG}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Nke=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new Zq(new Eke(t))):Promise.reject(new Error("Model not found"))}};Nke=kke([Lke(0,FQ)],Nke);class Tke{show(){return Tke.NULL_PROGRESS_RUNNER}showWhile(e,t){return Dke(this,void 0,void 0,(function*(){yield e}))}}Tke.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ike{info(e){return this.notify({severity:Nde.Info,message:e})}warn(e){return this.notify({severity:Nde.Warning,message:e})}error(e){return this.notify({severity:Nde.Error,message:e})}notify(e){switch(e.severity){case Nde.Error:console.error(e.message);break;case Nde.Warning:console.warn(e.message);break;default:console.log(e.message)}return Ike.NO_OP}prompt(e,t,n,i){return Ike.NO_OP}status(e,t){return Yq.None}}Ike.NO_OP=new class{};let Mke=class{constructor(e){this._onWillExecuteCommand=new sG,this._onDidExecuteCommand=new sG,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const n=YQ.getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const i=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(i)}catch(i){return Promise.reject(i)}}};Mke=kke([Lke(0,AQ)],Mke);let Rke=class extends ope{constructor(e,t,n,i,o,r){super(e,t,n,i,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const s=e=>{const t=new Gq;t.add(O1(e,r2.KEY_DOWN,(e=>{const t=new _0(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),t.add(O1(e,r2.KEY_UP,(e=>{const t=new _0(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))),this._domNodeListeners.push(new Ake(e,t))},a=e=>{for(let t=0;t<this._domNodeListeners.length;t++){const n=this._domNodeListeners[t];n.domNode===e&&(this._domNodeListeners.splice(t,1),n.dispose())}},l=e=>{e.getOption(61)||s(e.getContainerDomNode())};this._register(r.onCodeEditorAdd(l)),this._register(r.onCodeEditorRemove((e=>{e.getOption(61)||a(e.getContainerDomNode())}))),r.listCodeEditors().forEach(l);const c=e=>{s(e.getContainerDomNode())};this._register(r.onDiffEditorAdd(c)),this._register(r.onDiffEditorRemove((e=>{a(e.getContainerDomNode())}))),r.listDiffEditors().forEach(c)}addDynamicKeybinding(e,t,n,i){return Kq(YQ.registerCommand(e,n),this.addDynamicKeybindings([{keybinding:t,command:e,when:i}]))}addDynamicKeybindings(e){const t=e.map((e=>{var t;return{keybinding:zJ(e.keybinding,IK),command:null!==(t=e.command)&&void 0!==t?t:null,commandArgs:e.commandArgs,when:e.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),qq((()=>{for(let e=0;e<this._dynamicKeybindings.length;e++)if(this._dynamicKeybindings[e]===t[0])return this._dynamicKeybindings.splice(e,t.length),void this.updateResolver()}))}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(ZJ.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new epe(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const n=[];let i=0;for(const o of e){const e=o.when||void 0,r=o.keybinding;if(r){const s=ppe.resolveKeybinding(r,IK);for(const r of s)n[i++]=new spe(r,o.command,o.commandArgs,e,t,null,!1)}else n[i++]=new spe(void 0,o.command,o.commandArgs,e,t,null,!1)}return n}resolveKeyboardEvent(e){const t=new WJ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new ppe([t],IK)}};Rke=kke([Lke(0,RJ),Lke(1,GQ),Lke(2,l0),Lke(3,Ide),Lke(4,c0),Lke(5,PQ)],Rke);class Ake extends Yq{constructor(e,t){super(),this.domNode=e,this._register(t)}}function Oke(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof aY)}class Pke{constructor(){this._onDidChangeConfiguration=new sG,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const e=new bke;this._configuration=new Xfe(e.reload(),new qfe,new qfe,new qfe),e.dispose()}getValue(e,t){const n="string"==typeof e?e:void 0,i=Oke(e)?e:Oke(t)?t:{};return this._configuration.getValue(n,i,void 0)}updateValues(e){const t={data:this._configuration.toData()},n=[];for(const i of e){const[e,t]=i;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),n.push(e))}if(n.length>0){const e=new Zfe({keys:n,overrides:[]},t,this._configuration);e.source=8,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}updateValue(e,t,n,i){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let Fke=class{constructor(e,t,n){this.configurationService=e,this.modelService=t,this.languageService=n,this._onDidChangeConfiguration=new sG,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,n)=>e.affectsConfiguration(n)})}))}getValue(e,t,n){const i=bY.isIPosition(t)?t:null,o=i?"string"==typeof n?n:void 0:"string"==typeof t?t:void 0,r=e?this.getLanguage(e,i):void 0;return void 0===o?this.configurationService.getValue({resource:e,overrideIdentifier:r}):this.configurationService.getValue(o,{resource:e,overrideIdentifier:r})}getLanguage(e,t){const n=this.modelService.getModel(e);return n?t?n.getLanguageIdAtPosition(t.lineNumber,t.column):n.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};Fke=kke([Lke(0,a5),Lke(1,FQ),Lke(2,g5)],Fke);let Bke=class{constructor(e){this.configurationService=e}getEOL(e,t){const n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&"string"==typeof n&&"auto"!==n?n:CK||wK?"\n":"\r\n"}};Bke=kke([Lke(0,a5)],Bke);class zke{constructor(){const e=aY.from({scheme:zke.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Lpe({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===zke.SCHEME?this.workspace.folders[0]:null}}function Vke(e,t,n){if(!t)return;if(!(e instanceof Pke))return;const i=[];Object.keys(t).forEach((e=>{(function(e){return jfe()[`editor.${e}`]||!1})(e)&&i.push([`editor.${e}`,t[e]]),n&&function(e){return jfe()[`diffEditor.${e}`]||!1}(e)&&i.push([`diffEditor.${e}`,t[e]])})),i.length>0&&e.updateValues(i)}zke.SCHEME="inmemory";let Wke=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Dke(this,void 0,void 0,(function*(){const t=Array.isArray(e)?e:Pfe.convert(e),n=new Map;for(const e of t){if(!(e instanceof Ffe))throw new Error("bad edit - only text edits are supported");const t=this._modelService.getModel(e.resource);if(!t)throw new Error("bad edit - model not found");if("number"==typeof e.versionId&&t.getVersionId()!==e.versionId)throw new Error("bad state - model changed in the meantime");let i=n.get(t);i||(i=[],n.set(t,i)),i.push(Ufe.replaceMove(_Y.lift(e.textEdit.range),e.textEdit.text))}let i=0,o=0;for(const[e,r]of n)e.pushStackElement(),e.pushEditOperations([],r,(()=>[])),e.pushStackElement(),o+=1,i+=r.length;return{ariaSummary:mZ(Fpe.bulkEditServiceSummary,i,o),isApplied:i>0}}))}};Wke=kke([Lke(0,FQ)],Wke);let Hke=class extends qpe{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,n){if(!t){const e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();e&&(t=e.getContainerDomNode())}return super.showContextView(e,t,n)}};Hke=kke([Lke(0,wge),Lke(1,PQ)],Hke);let $ke=class extends A_e{constructor(e,t,n,i,o,r){super(e,t,n,i,o,r),this.configure({blockMouse:!1})}};$ke=kke([Lke(0,l0),Lke(1,Ide),Lke(2,zpe),Lke(3,Hoe),Lke(4,i0),Lke(5,RJ)],$ke);var jke;let Uke;m5(a5,Pke,0),m5(m9,Fke,0),m5(v9,Bke,0),m5(kpe,zke,0),m5(mpe,class{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}getUriBasenameLabel(e){return Yle(e)}},0),m5(l0,class{publicLog2(){}},0),m5(Lge,class{confirm(e){return Dke(this,void 0,void 0,(function*(){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}))}doConfirm(e,t){let n=e;return t&&(n=n+"\n\n"+t),window.confirm(n)}prompt(e){var t,n;return Dke(this,void 0,void 0,(function*(){let i;if(this.doConfirm(e.message,e.detail)){const o=[...null!==(t=e.buttons)&&void 0!==t?t:[]];e.cancelButton&&"string"!=typeof e.cancelButton&&"boolean"!=typeof e.cancelButton&&o.push(e.cancelButton),i=yield null===(n=o[0])||void 0===n?void 0:n.run({checkboxChecked:!1})}return{result:i}}))}error(e,t){return Dke(this,void 0,void 0,(function*(){yield this.prompt({type:Nde.Error,message:e,detail:t})}))}},0),m5($ge,class{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}},0),m5(Ide,Ike,0),m5(q_e,vke,0),m5(g5,class extends ome{constructor(){super()}},0),m5(Pxe,class extends Yq{constructor(){super(),this._onColorThemeChange=this._register(new sG),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new sG),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new kxe,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Lxe,Oxe(Lxe)),this._knownThemes.set(Dxe,Oxe(Dxe)),this._knownThemes.set(Exe,Oxe(Exe)),this._knownThemes.set(Nxe,Oxe(Nxe));const e=this._register(function(e){const t=new Gq,n=t.add(new sG),i=wxe();return t.add(i.onDidChange((()=>n.fire()))),e&&t.add(e.onDidProductIconThemeChange((()=>n.fire()))),{dispose:()=>t.dispose(),onDidChange:n.event,getCSS(){const t=e?e.getProductIconTheme():new kxe,n={},o=e=>{const i=t.getIcon(e);if(!i)return;const o=i.font;return o?(n[o.id]=o.definition,`.codicon-${e.id}:before { content: '${i.fontCharacter}'; font-family: ${S2(o.id)}; }`):`.codicon-${e.id}:before { content: '${i.fontCharacter}'; }`},r=[];for(const e of i.getIcons()){const t=o(e);t&&r.push(t)}for(const e in n){const t=n[e],i=t.weight?`font-weight: ${t.weight};`:"",o=t.style?`font-style: ${t.style};`:"",s=t.src.map((e=>`${C2(e.location)} format('${e.format}')`)).join(", ");r.push(`@font-face { src: ${s}; font-family: ${S2(e)};${i}${o} font-display: block; }`)}return r.join("\n")}}}(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Lxe),this._onOSSchemeChanged(),this._register(e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}))),uQ("(forced-colors: active)",(()=>{this._onOSSchemeChanged()}))}registerEditorContainer(e){return Q1(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=t2(void 0,(e=>{e.className="monaco-colors",e.textContent=this._allCSS})),this._styleElements.push(this._globalStyleElement)),Yq.None}_registerShadowDomContainer(e){const t=t2(e,(e=>{e.className="monaco-colors",e.textContent=this._allCSS}));return this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Rxe(t.base)&&!Rxe(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Mxe(e,t)),Rxe(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Lxe),this._updateActualTheme(t)}_updateActualTheme(e){e&&this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=window.matchMedia("(forced-colors: active)").matches;if(e!==kne(this._theme.type)){let t;t=Lne(this._theme.type)?e?Exe:Dxe:e?Nxe:Lxe,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},n={addRule:n=>{t[n]||(e.push(n),t[n]=!0)}};Ixe.getThemingParticipants().forEach((e=>e(this._theme,n,this._environment)));const i=[];for(const r of Txe.getColors()){const e=this._theme.getColor(r.id,!0);e&&i.push(`${c8(r.id)}: ${e.toString()};`)}n.addRule(`.monaco-editor, .monaco-diff-editor { ${i.join("\n")} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();n.addRule(function(e){const t=[];for(let n=1,i=e.length;n<i;n++){const i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}(o)),this._themeCSS=e.join("\n"),this._updateCSS(),jY.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}},0),m5(c0,class extends Ske{constructor(){super(new f0)}},0),m5(FQ,iye,0),m5(H7,Y_e,0),m5(RJ,ake,0),m5(vpe,class{withProgress(e,t,n){return t({report:()=>{}})}},0),m5(bpe,Tke,0),m5(Xbe,class extends Jbe{constructor(){super(),this.applicationStorage=this._register(new qbe(new Gbe,{hint:Hbe.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new qbe(new Gbe,{hint:Hbe.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new qbe(new Gbe,{hint:Hbe.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.profileStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e)))),this._register(this.applicationStorage.onDidChangeStorage((e=>this.emitDidChangeValue(-1,e))))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}},0),m5(j_e,S9,0),m5(Ofe,Wke,0),m5(Bpe,class{constructor(){this._neverEmitter=new sG,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},0),m5(BQ,Nke,0),m5(X7,Bxe,0),m5(Jwe,class{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new Gq,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,n;e!==this._lastFocusedWidget&&(null===(t=this._lastFocusedWidget)||void 0===t||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,null===(n=this._lastFocusedWidget)||void 0===n||n.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;new wbe(t2(),"").style(a_e)}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const n={widget:e,extraContextKeys:t};return this.lists.push(n),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),Kq(e.onDidFocus((()=>this.setLastFocusedList(e))),qq((()=>this.lists.splice(this.lists.indexOf(n),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==n)),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)})))}dispose(){this.disposables.dispose()}},0),m5(GQ,Mke,0),m5(Hoe,Rke,0),m5(rSe,nxe,0),m5(zpe,Hke,0),m5(jge,$_e,0),m5(Zxe,Xxe,0),m5(Vpe,$ke,0),m5(i0,$xe,0),m5(_ke,class{playAudioCue(e,t){return Dke(this,void 0,void 0,(function*(){}))}},0),function(e){const t=new Lde;for(const[s,a]of v5())t.set(s,a);const n=new dke(t,!0);t.set(AQ,n),e.get=function(e){i||r({});const o=t.get(e);if(!o)throw new Error("Missing service "+e);return o instanceof f5?n.invokeFunction((t=>t.get(e))):o};let i=!1;const o=new sG;function r(e){if(i)return n;i=!0;for(const[n,i]of v5())t.get(n)||t.set(n,i);for(const n in e)if(e.hasOwnProperty(n)){const i=OQ(n);t.get(i)instanceof f5&&t.set(i,e[n])}const r=xke.slice(0);for(const t of r)try{n.createInstance(t)}catch(s){Rq(s)}return o.fire(),n}e.initialize=r,e.withServices=function(e){if(i)return e();const t=new Gq,n=t.add(o.event((()=>{n.dispose(),t.add(e())})));return t}}(jke||(jke={}));class Kke{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const n=void 0===t?void 0:e,i=void 0===t?e:t;return Uke({owner:n,debugName:()=>{const e=Zke(i);if(void 0!==e)return e;const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());return t?`${this.debugName}.${t[2]}`:n?void 0:`${this.debugName} (mapped)`}},(e=>i(this.read(e),e)))}}class qke extends Kke{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Gke(e,t){const n=new Yke(e,t);try{e(n)}finally{n.finish()}}class Yke{constructor(e,t){var n;this._fn=e,this._getDebugName=t,this.updatingObservers=[],null===(n=void 0)||void 0===n||n.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():Zke(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){var e;const t=this.updatingObservers;this.updatingObservers=null;for(const{observer:n,observable:i}of t)n.endUpdate(i);null===(e=void 0)||void 0===e||e.handleEndTransaction()}}function Xke(e,t,n,i){let o;if(void 0!==e){if("function"!=typeof e)return e;if(o=e(),void 0!==o)return o}if(void 0!==t&&(o=Zke(t),void 0!==o))return o;if(void 0!==n)for(const r in n)if(n[r]===i)return r}function Zke(e){const t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),i=n?n[1]:void 0;return null==i?void 0:i.trim()}function Qke(e,t){return"string"==typeof e?new Jke(void 0,e,t):new Jke(e,void 0,t)}class Jke extends qke{get debugName(){var e;return null!==(e=Xke(this._debugName,void 0,this._owner,this))&&void 0!==e?e:"ObservableValue"}constructor(e,t,n){super(),this._owner=e,this._debugName=t,this._value=n}get(){return this._value}set(e,t,n){var i;if(this._value===e)return;let o;t||(t=o=new Yke((()=>{}),(()=>`Setting ${this.debugName}`)));try{const o=this._value;this._setValue(e),null===(i=void 0)||void 0===i||i.handleObservableChanged(this,{oldValue:o,newValue:e,change:n,didChange:!0,hadValue:!0});for(const e of this.observers)t.updateObserver(e,this),e.handleChange(this,n)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}class eLe extends Jke{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;null===(e=this._value)||void 0===e||e.dispose()}}const tLe=(e,t)=>e===t;function nLe(e,t){return void 0!==t?new oLe(e,void 0,t,void 0,void 0,void 0,tLe):new oLe(void 0,void 0,e,void 0,void 0,void 0,tLe)}function iLe(e,t){let n,i;void 0===t?(n=e,i=void 0):(i=e,n=t);const o=new Gq;return new oLe(i,(()=>{var e;return null!==(e=Zke(n))&&void 0!==e?e:"(anonymous)"}),(e=>(o.clear(),n(e,o))),void 0,void 0,(()=>o.dispose()),tLe)}Uke=nLe;class oLe extends qke{get debugName(){var e;return null!==(e=Xke(this._debugName,this._computeFn,this._owner,this))&&void 0!==e?e:"(anonymous)"}constructor(e,t,n,i,o,r=void 0,s){var a,l;super(),this._owner=e,this._debugName=t,this._computeFn=n,this.createChangeSummary=i,this._handleChange=o,this._handleLastObserverRemoved=r,this._equalityComparator=s,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=null===(a=this.createChangeSummary)||void 0===a?void 0:a.call(this),null===(l=void 0)||void 0===l||l.handleDerivedCreated(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),null===(e=this._handleLastObserverRemoved)||void 0===e||e.call(this)}get(){var e;if(0===this.observers.size){const t=this._computeFn(this,null===(e=this.createChangeSummary)||void 0===e?void 0:e.call(this));return this.onLastObserverRemoved(),t}do{if(1===this.state)for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){var e,t;if(3===this.state)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n;const i=0!==this.state,o=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=null===(e=this.createChangeSummary)||void 0===e?void 0:e.call(this);try{this.value=this._computeFn(this,r)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const s=i&&!this._equalityComparator(o,this.value);if(null===(t=void 0)||void 0===t||t.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:s,hadValue:i}),s)for(const a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(const n of this.observers)n.handlePossibleChange(this);if(t)for(const n of this.observers)n.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}if(this.updateCount<0)throw new $q}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const n=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),i=3===this.state;if(n&&(1===this.state||i)&&(this.state=2,i))for(const e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function rLe(e,t){return new cLe(e.debugName,t,void 0,void 0)}function sLe(e){return new cLe(void 0,e,void 0,void 0)}function aLe(e,t){return new cLe(e.debugName,t,e.createEmptyChangeSummary,e.handleChange)}function lLe(e){const t=new Gq,n=rLe({debugName:()=>Zke(e)||"(anonymous)"},(n=>{t.clear(),e(n,t)}));return qq((()=>{n.dispose(),t.dispose()}))}class cLe{get debugName(){if("string"==typeof this._debugName)return this._debugName;if("function"==typeof this._debugName){const e=this._debugName();if(void 0!==e)return e}const e=Zke(this._runFn);return void 0!==e?e:"(anonymous)"}constructor(e,t,n,i){var o,r;this._debugName=e,this._runFn=t,this.createChangeSummary=n,this._handleChange=i,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=null===(o=this.createChangeSummary)||void 0===o?void 0:o.call(this),null===(r=void 0)||void 0===r||r.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var e,t,n;if(3===this.state)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i,this.state=3;try{if(!this.disposed){null===(e=void 0)||void 0===e||e.handleAutorunTriggered(this);const n=this.changeSummary;this.changeSummary=null===(t=this.createChangeSummary)||void 0===t?void 0:t.call(this),this._runFn(this,n)}}finally{null===(n=void 0)||void 0===n||n.handleAutorunFinished(this);for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,qJ((()=>this.updateCount>=0))}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}function uLe(e){return new hLe(e)}(sLe||(sLe={})).Observer=cLe;class hLe extends Kke{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function dLe(e,t){return new gLe(e,t)}class gLe extends qke{constructor(e,t){super(),this.event=e,this._getValue=t,this.hasValue=!1,this.handleEvent=e=>{var t;const n=this._getValue(e),i=!this.hasValue||this.value!==n;null===(t=void 0)||void 0===t||t.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:n,change:void 0,didChange:i,hadValue:this.hasValue}),i&&(this.value=n,this.hasValue&&Gke((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")})),this.hasValue=!0)}}getDebugName(){return Zke(this._getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function fLe(e,t){return new pLe(e,t)}(dLe||(dLe={})).Observer=gLe;class pLe extends qke{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Gke((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>this.debugName))}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}class mLe extends qke{get debugName(){var e;return null!==(e=Xke(this._debugName,void 0,this._owner,this))&&void 0!==e?e:"Observable Signal"}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(e)for(const n of this.observers)e.updateObserver(n,this),n.handleChange(this,t);else Gke((e=>{this.trigger(e,t)}),(()=>`Trigger signal ${this.debugName}`))}get(){}}function vLe(e){const t=new bLe(!0);return e.addObserver(t),e.reportChanges(),qq((()=>{e.removeObserver(t)}))}class bLe{constructor(e){this.forceRecompute=e,this.counter=0}beginUpdate(e){this.counter++}endUpdate(e){this.counter--,0===this.counter&&this.forceRecompute&&e.reportChanges()}handlePossibleChange(e){}handleChange(e,t){}}function _Le(){return!!IG.VSCODE_DEV}function yLe(e){if(_Le()){const t=function(){wLe||(wLe=new Set);const e=globalThis;e.$hotReload_applyNewExports||(e.$hotReload_applyNewExports=e=>{for(const t of wLe){const n=t(e);if(n)return n}});return wLe}();return t.add(e),{dispose(){t.delete(e)}}}return{dispose(){}}}let wLe;function CLe(e,t){const n=new Gq,i=e.createDecorationsCollection();return n.add(rLe({debugName:()=>`Apply decorations from ${t.debugName}`},(e=>{const n=t.read(e);i.set(n)}))),n.add({dispose:()=>{i.clear()}}),n}function SLe(e,t){return e.appendChild(t),qq((()=>{e.removeChild(t)}))}class xLe extends Yq{get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.elementSizeObserver=this._register(new j7(e,t)),this._width=Qke(this,this.elementSizeObserver.getWidth()),this._height=Qke(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((e=>Gke((e=>{this._width.set(this.elementSizeObserver.getWidth(),e),this._height.set(this.elementSizeObserver.getHeight(),e)})))))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function kLe(e,t){let n=e.get(),i=n,o=n;const r=Qke("animatedValue",n);let s=-1;let a;function l(){const e=Date.now()-s;var t,c,u,h;o=Math.floor((c=i,u=n-i,(t=e)===(h=300)?c+u:u*(1-Math.pow(2,-10*t/h))+c)),e<300?a=requestAnimationFrame(l):o=n,r.set(o,void 0)}return t.add(aLe({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(t,n)=>(t.didChange(e)&&(n.animate=n.animate||t.change),!0)},((t,r)=>{void 0!==a&&(cancelAnimationFrame(a),a=void 0),i=o,n=e.read(t),s=Date.now()-(r.animate?0:300),l()}))),r}class LLe extends Yq{constructor(e,t,n){super(),this._register(new ELe(e,n)),this._register(NLe(n,{height:t.actualHeight,top:t.actualTop}))}}class DLe{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=Qke(this,void 0),this._actualHeight=Qke(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=e=>{this._actualTop.set(e,void 0)},this.onComputedHeight=e=>{this._actualHeight.set(e,void 0)}}}class ELe{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId="managedOverlayWidget-"+ELe._counter++,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}function NLe(e,t){return sLe((n=>{for(let[i,o]of Object.entries(t))o&&"object"==typeof o&&"read"in o&&(o=o.read(n)),"number"==typeof o&&(o=`${o}px`),i=i.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),e.style[i]=o}))}function TLe(e,t){return function(e,t){if(_Le()){fLe("reload",(t=>yLe((n=>{if([...Object.values(n)].some((t=>e.includes(t))))return e=>(t(void 0),!0)})))).read(t)}}([e],t),e}function ILe(e,t,n){const i=new Gq,o=[];return i.add(sLe((r=>{const s=t.read(r),a=new Map,l=new Map;n&&n(!0),e.changeViewZones((e=>{for(const t of o)e.removeZone(t);o.length=0;for(const t of s){const n=e.addZone(t);o.push(n),a.set(t,n)}})),n&&n(!1),i.add(aLe({createEmptyChangeSummary:()=>[],handleChange(e,t){const n=l.get(e.changedObservable);return void 0!==n&&t.push(n),!0}},((t,i)=>{for(const e of s)e.onChange&&(l.set(e.onChange,a.get(e)),e.onChange.read(t));n&&n(!0),e.changeViewZones((e=>{for(const t of i)e.layoutZone(t)})),n&&n(!1)})))}))),i.add({dispose(){n&&n(!0),e.changeViewZones((e=>{for(const t of o)e.removeZone(t)})),n&&n(!1)}}),i}ELe._counter=0;class MLe extends vG{dispose(){super.dispose(!0)}}var RLe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ALe=function(e,t){return function(n,i){t(n,i,e)}},OLe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const PLe=yxe("diff-review-insert",xY.add,nK(0,"Icon for 'Insert' in accessible diff viewer.")),FLe=yxe("diff-review-remove",xY.remove,nK(0,"Icon for 'Remove' in accessible diff viewer.")),BLe=yxe("diff-review-close",xY.close,nK(0,"Icon for 'Close' in accessible diff viewer."));let zLe=class extends Yq{constructor(e,t,n,i,o,r,s,a,l){super(),this._parentNode=e,this._visible=t,this._setVisible=n,this._canClose=i,this._width=o,this._height=r,this._diffs=s,this._editors=a,this._instantiationService=l,this.model=iLe(this,((e,t)=>{const n=this._visible.read(e);if(this._parentNode.style.visibility=n?"visible":"hidden",!n)return null;const i=t.add(this._instantiationService.createInstance(VLe,this._diffs,this._editors,this._setVisible,this._canClose));return{model:i,view:t.add(this._instantiationService.createInstance(YLe,this._parentNode,i,this._width,this._height,this._editors))}})),this._register(vLe(this.model))}next(){Gke((e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this.model.get().model.nextGroup(e)}))}prev(){Gke((e=>{this._setVisible(!0,e),this.model.get().model.previousGroup(e)}))}close(){Gke((e=>{this._setVisible(!1,e)}))}};zLe._ttPolicy=y4("diffReview",{createHTML:e=>e}),zLe=RLe([ALe(8,AQ)],zLe);let VLe=class extends Yq{constructor(e,t,n,i,o){super(),this._diffs=e,this._editors=t,this._setVisible=n,this.canClose=i,this._audioCueService=o,this._groups=Qke(this,[]),this._currentGroupIdx=Qke(this,0),this._currentElementIdx=Qke(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map(((e,t)=>this._groups.read(t)[e])),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map(((e,t)=>{var n;return null===(n=this.currentGroup.read(t))||void 0===n?void 0:n.lines[e]})),this._register(sLe((e=>{const t=this._diffs.read(e);if(!t)return void this._groups.set([],void 0);const n=function(e,t,n){const i=[];for(const o of mU(e,((e,t)=>t.modified.startLineNumber-e.modified.endLineNumberExclusive<2*WLe))){const e=[];e.push(new ULe);const r=new t6(Math.max(1,o[0].original.startLineNumber-WLe),Math.min(o[o.length-1].original.endLineNumberExclusive+WLe,t+1)),s=new t6(Math.max(1,o[0].modified.startLineNumber-WLe),Math.min(o[o.length-1].modified.endLineNumberExclusive+WLe,n+1));vU(o,((t,n)=>{const i=new t6(t?t.original.endLineNumberExclusive:r.startLineNumber,n?n.original.startLineNumber:r.endLineNumberExclusive),o=new t6(t?t.modified.endLineNumberExclusive:s.startLineNumber,n?n.modified.startLineNumber:s.endLineNumberExclusive);i.forEach((t=>{e.push(new GLe(t,o.startLineNumber+(t-i.startLineNumber)))})),n&&(n.original.forEach((t=>{e.push(new KLe(n,t))})),n.modified.forEach((t=>{e.push(new qLe(n,t))})))}));const a=o[0].modified.join(o[o.length-1].modified),l=o[0].original.join(o[o.length-1].original);i.push(new jLe(new i6(a,l),e))}return i}(t,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());Gke((e=>{const t=this._editors.modified.getPosition();if(t){const i=n.findIndex((e=>(null==t?void 0:t.lineNumber)<e.range.modified.endLineNumberExclusive));-1!==i&&this._currentGroupIdx.set(i,e)}this._groups.set(n,e)}))}))),this._register(sLe((e=>{const t=this.currentElement.read(e);(null==t?void 0:t.type)===HLe.Deleted?this._audioCueService.playAudioCue(Cke.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(null==t?void 0:t.type)===HLe.Added&&this._audioCueService.playAudioCue(Cke.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})}))),this._register(sLe((e=>{var t;const n=this.currentElement.read(e);if(n&&n.type!==HLe.Header){const e=null!==(t=n.modifiedLineNumber)&&void 0!==t?t:n.diff.modified.startLineNumber;this._editors.modified.setSelection(_Y.fromPositions(new bY(e,1)))}})))}_goToGroupDelta(e,t){const n=this.groups.get();!n||n.length<=1||function(e,t,n){e?t(e):Gke(t,n)}(t,(t=>{this._currentGroupIdx.set(q3.ofLength(n.length).clipCyclic(this._currentGroupIdx.get()+e),t),this._currentElementIdx.set(0,t)}))}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Gke((n=>{this._currentElementIdx.set(q3.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),n)}))}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const n=t.lines.indexOf(e);-1!==n&&Gke((e=>{this._currentElementIdx.set(n,e)}))}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===HLe.Deleted?(this._editors.original.setSelection(_Y.fromPositions(new bY(e.originalLineNumber,1))),this._editors.original.revealLine(e.originalLineNumber),this._editors.original.focus()):(e.type!==HLe.Header&&(this._editors.modified.setSelection(_Y.fromPositions(new bY(e.modifiedLineNumber,1))),this._editors.modified.revealLine(e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};VLe=RLe([ALe(4,_ke)],VLe);const WLe=3;var HLe,$Le;($Le=HLe||(HLe={}))[$Le.Header=0]="Header",$Le[$Le.Unchanged=1]="Unchanged",$Le[$Le.Deleted=2]="Deleted",$Le[$Le.Added=3]="Added";class jLe{constructor(e,t){this.range=e,this.lines=t}}class ULe{constructor(){this.type=HLe.Header}}class KLe{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=HLe.Deleted,this.modifiedLineNumber=void 0}}class qLe{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=HLe.Added,this.originalLineNumber=void 0}}class GLe{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=HLe.Unchanged}}let YLe=class extends Yq{constructor(e,t,n,i,o,r){super(),this._element=e,this._model=t,this._width=n,this._height=i,this._editors=o,this._languageService=r,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const s=document.createElement("div");s.className="diff-review-actions",this._actionBar=this._register(new C_e(s)),this._register(sLe((e=>{this._actionBar.clear(),this._model.canClose.read(e)&&this._actionBar.push(new HQ("diffreview.close",nK(0,"Close"),"close-diff-review "+VQ.asClassName(BLe),!0,(()=>OLe(this,void 0,void 0,(function*(){return t.close()})))),{label:!1,icon:!0})}))),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new vie(this._content,{})),d2(this.domNode,this._scrollbar.getDomNode(),s),this._register(qq((()=>{d2(this.domNode)}))),this._register(NLe(this.domNode,{width:this._width,height:this._height})),this._register(NLe(this._content,{width:this._width,height:this._height})),this._register(lLe(((e,t)=>{this._model.currentGroup.read(e),this._render(t)}))),this._register(P1(this.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._model.goToNextLine()),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._model.goToPreviousLine()),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this._model.close()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this._model.revealCurrentElementInEditor())})))}_render(e){const t=this._editors.original.getOptions(),n=this._editors.modified.getOptions(),i=document.createElement("div");i.className="diff-review-table",i.setAttribute("role","list"),i.setAttribute("aria-label",nK(0,"Accessible Diff Viewer. Use arrow up and down to navigate.")),SQ(i,n.get(50)),d2(this._content,i);const o=this._editors.original.getModel(),r=this._editors.modified.getModel();if(!o||!r)return;const s=o.getOptions(),a=r.getOptions(),l=n.get(66),c=this._model.currentGroup.get();for(const u of(null==c?void 0:c.lines)||[]){if(!c)break;let h;if(u.type===HLe.Header){const e=document.createElement("div");e.className="diff-review-row",e.setAttribute("role","listitem");const t=c.range,n=this._model.currentGroupIndex.get(),i=this._model.groups.get().length,o=e=>0===e?nK(0,"no lines changed"):1===e?nK(0,"1 line changed"):nK(0,"{0} lines changed",e),r=o(t.original.length),s=o(t.modified.length);e.setAttribute("aria-label",nK(0,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",n+1,i,t.original.startLineNumber,r,t.modified.startLineNumber,s));const a=document.createElement("div");a.className="diff-review-cell diff-review-summary",a.appendChild(document.createTextNode(`${n+1}/${i}: @@ -${t.original.startLineNumber},${t.original.length} +${t.modified.startLineNumber},${t.modified.length} @@`)),e.appendChild(a),h=e}else h=this._createRow(u,l,this._width.get(),t,o,s,n,r,a);i.appendChild(h);const d=nLe((e=>this._model.currentElement.read(e)===u));e.add(sLe((e=>{const t=d.read(e);h.tabIndex=t?0:-1,t&&h.focus()}))),e.add(O1(h,"focus",(()=>{this._model.goToLine(u)})))}this._scrollbar.scanDomNode()}_createRow(e,t,n,i,o,r,s,a,l){const c=i.get(143),u=c.glyphMarginWidth+c.lineNumbersWidth,h=s.get(143),d=10+h.glyphMarginWidth+h.lineNumbersWidth;let g="diff-review-row",f="";let p=null;switch(e.type){case HLe.Added:g="diff-review-row line-insert",f=" char-insert",p=PLe;break;case HLe.Deleted:g="diff-review-row line-delete",f=" char-delete",p=FLe}const m=document.createElement("div");m.style.minWidth=n+"px",m.className=g,m.setAttribute("role","listitem"),m.ariaLevel="";const v=document.createElement("div");v.className="diff-review-cell",v.style.height=`${t}px`,m.appendChild(v);const b=document.createElement("span");b.style.width=u+"px",b.style.minWidth=u+"px",b.className="diff-review-line-number"+f,void 0!==e.originalLineNumber?b.appendChild(document.createTextNode(String(e.originalLineNumber))):b.innerText=" ",v.appendChild(b);const _=document.createElement("span");_.style.width=d+"px",_.style.minWidth=d+"px",_.style.paddingRight="10px",_.className="diff-review-line-number"+f,void 0!==e.modifiedLineNumber?_.appendChild(document.createTextNode(String(e.modifiedLineNumber))):_.innerText=" ",v.appendChild(_);const y=document.createElement("span");if(y.className="diff-review-spacer",p){const e=document.createElement("span");e.className=VQ.asClassName(p),e.innerText="  ",y.appendChild(e)}else y.innerText="  ";let w;if(v.appendChild(y),void 0!==e.modifiedLineNumber){let t=this._getLineHtml(a,s,l.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);zLe._ttPolicy&&(t=zLe._ttPolicy.createHTML(t)),v.insertAdjacentHTML("beforeend",t),w=a.getLineContent(e.modifiedLineNumber)}else{let t=this._getLineHtml(o,i,r.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);zLe._ttPolicy&&(t=zLe._ttPolicy.createHTML(t)),v.insertAdjacentHTML("beforeend",t),w=o.getLineContent(e.originalLineNumber)}0===w.length&&(w=nK(0,"blank"));let C="";switch(e.type){case HLe.Unchanged:C=e.originalLineNumber===e.modifiedLineNumber?nK(0,"{0} unchanged line {1}",w,e.originalLineNumber):nK(0,"{0} original line {1} modified line {2}",w,e.originalLineNumber,e.modifiedLineNumber);break;case HLe.Added:C=nK(0,"+ {0} modified line {1}",w,e.modifiedLineNumber);break;case HLe.Deleted:C=nK(0,"- {0} original line {1}",w,e.originalLineNumber)}return m.setAttribute("aria-label",C),m}_getLineHtml(e,t,n,i,o){const r=e.getLineContent(i),s=t.get(50),a=P9.createEmpty(r,o),l=i7.isBasicASCII(r,e.mightContainNonBasicASCII()),c=i7.containsRTL(r,l,e.mightContainRTL());return X9(new j9(s.isMonospace&&!t.get(33),s.canUseHalfwidthRightwardsArrow,r,!1,l,c,0,a,[],n,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(116),t.get(98),t.get(93),t.get(51)!==gq.OFF,null)).html}};YLe=RLe([ALe(5,g5)],YLe);const XLe=yxe("diff-insert",xY.add,nK(0,"Line decoration for inserts in the diff editor.")),ZLe=yxe("diff-remove",xY.remove,nK(0,"Line decoration for removals in the diff editor.")),QLe=nhe.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+VQ.asClassName(XLe),marginClassName:"gutter-insert"}),JLe=nhe.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+VQ.asClassName(ZLe),marginClassName:"gutter-delete"}),eDe=nhe.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),tDe=nhe.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),nDe=nhe.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),iDe=nhe.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),oDe=nhe.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),rDe=nhe.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),sDe=nhe.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),aDe=nhe.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),lDe=nhe.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new Zme(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(nK(0,"Click to revert change")),glyphMarginClassName:"arrow-revert-change "+VQ.asClassName(xY.arrowRight),zIndex:10001});class cDe extends Yq{constructor(e,t,n,i,o){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=n,this._modifiedEditorLayoutInfo=i,this._editors=o,this._originalScrollTop=dLe(this._editors.original.onDidScrollChange,(()=>this._editors.original.getScrollTop())),this._modifiedScrollTop=dLe(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollTop())),this._viewZonesChanged=fLe("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=Qke(this,0),this._modifiedViewZonesChangedSignal=fLe("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=fLe("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=iLe(((e,t)=>{var n;this._element.replaceChildren();const i=this._diffModel.read(e),o=null===(n=null==i?void 0:i.diff.read(e))||void 0===n?void 0:n.movedTexts;if(!o||0===o.length)return void this.width.set(0,void 0);this._viewZonesChanged.read(e);const r=this._originalEditorLayoutInfo.read(e),s=this._modifiedEditorLayoutInfo.read(e);if(!r||!s)return void this.width.set(0,void 0);this._modifiedViewZonesChangedSignal.read(e),this._originalViewZonesChangedSignal.read(e);const a=o.map((t=>{function n(e,t){return(t.getTopForLineNumber(e.startLineNumber,!0)+t.getTopForLineNumber(e.endLineNumberExclusive,!0))/2}const i=n(t.lineRangeMapping.original,this._editors.original),o=this._originalScrollTop.read(e),r=n(t.lineRangeMapping.modified,this._editors.modified),s=i-o,a=r-this._modifiedScrollTop.read(e),l=Math.min(i,r),c=Math.max(i,r);return{range:new q3(l,c),from:s,to:a,fromWithoutScroll:i,toWithoutScroll:r,move:t}}));a.sort(function(...e){return(t,n)=>{for(const i of e){const e=i(t,n);if(!EU.isNeitherLessOrGreaterThan(e))return e}return EU.neitherLessOrGreaterThan}}(TU((e=>e.fromWithoutScroll>e.toWithoutScroll),MU),TU((e=>e.fromWithoutScroll>e.toWithoutScroll?e.fromWithoutScroll:-e.toWithoutScroll),IU)));const l=uDe.compute(a.map((e=>e.range))),c=r.verticalScrollbarWidth,u=10*(l.getTrackCount()-1)+20,h=c+u+(s.contentLeft-cDe.movedCodeBlockPadding);let d=0;for(const g of a){const e=c+10+10*l.getTrack(d),n=15,o=15,r=h,a=s.glyphMarginWidth+s.lineNumbersWidth,u=18,f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.classList.add("arrow-rectangle"),f.setAttribute("x",""+(r-a)),f.setAttribute("y",""+(g.to-u/2)),f.setAttribute("width",`${a}`),f.setAttribute("height",`${u}`),this._element.appendChild(f);const p=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",`M 0 ${g.from} L ${e} ${g.from} L ${e} ${g.to} L ${r-o} ${g.to}`),m.setAttribute("fill","none"),p.appendChild(m);const v=document.createElementNS("http://www.w3.org/2000/svg","polygon");v.classList.add("arrow"),t.add(sLe((e=>{m.classList.toggle("currentMove",g.move===i.activeMovedText.read(e)),v.classList.toggle("currentMove",g.move===i.activeMovedText.read(e))}))),v.setAttribute("points",`${r-o},${g.to-n/2} ${r},${g.to} ${r-o},${g.to+n/2}`),p.appendChild(v),this._element.appendChild(p),d++}this.width.set(u,void 0)})),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(qq((()=>this._element.remove()))),this._register(sLe((e=>{const t=this._originalEditorLayoutInfo.read(e),n=this._modifiedEditorLayoutInfo.read(e);t&&n&&(this._element.style.left=t.width-t.verticalScrollbarWidth+"px",this._element.style.height=`${t.height}px`,this._element.style.width=`${t.verticalScrollbarWidth+t.contentLeft-cDe.movedCodeBlockPadding+this.width.read(e)}px`)}))),this._register(vLe(this._state));const r=nLe((e=>{const t=this._diffModel.read(e),n=null==t?void 0:t.diff.read(e);return n?n.movedTexts.map((e=>({move:e,original:new DLe(uLe(e.lineRangeMapping.original.startLineNumber-1),18),modified:new DLe(uLe(e.lineRangeMapping.modified.startLineNumber-1),18)}))):[]}));this._register(ILe(this._editors.original,r.map((e=>e.map((e=>e.original)))))),this._register(ILe(this._editors.modified,r.map((e=>e.map((e=>e.modified)))))),this._register(lLe(((e,t)=>{const n=r.read(e);for(const i of n)t.add(new hDe(this._editors.original,i.original,i.move,"original",this._diffModel.get())),t.add(new hDe(this._editors.modified,i.modified,i.move,"modified",this._diffModel.get()))})));const s=dLe(this._editors.original.onDidChangeCursorPosition,(()=>this._editors.original.getPosition())),a=dLe(this._editors.modified.onDidChangeCursorPosition,(()=>this._editors.modified.getPosition())),l=fLe("original.onDidFocusEditorWidget",(e=>this._editors.original.onDidFocusEditorWidget((()=>setTimeout((()=>e(void 0)),0))))),c=fLe("modified.onDidFocusEditorWidget",(e=>this._editors.modified.onDidFocusEditorWidget((()=>setTimeout((()=>e(void 0)),0)))));let u="modified";this._register(aLe({createEmptyChangeSummary:()=>{},handleChange:(e,t)=>(e.didChange(l)&&(u="original"),e.didChange(c)&&(u="modified"),!0)},(e=>{l.read(e),c.read(e);const t=this._diffModel.read(e);if(!t)return;const n=t.diff.read(e);let i;if(n&&"original"===u){const t=s.read(e);t&&(i=n.movedTexts.find((e=>e.lineRangeMapping.original.contains(t.lineNumber))))}if(n&&"modified"===u){const t=a.read(e);t&&(i=n.movedTexts.find((e=>e.lineRangeMapping.modified.contains(t.lineNumber))))}i!==t.movedTextToCompare.get()&&t.movedTextToCompare.set(void 0,void 0),t.setActiveMovedText(i)})))}}cDe.movedCodeBlockPadding=4;class uDe{static compute(e){const t=[],n=[];for(const i of e){let e=t.findIndex((e=>!e.intersectsStrict(i)));if(-1===e){const n=6;t.length>=n?e=e6(t,TU((e=>e.intersectWithRangeLength(i)),IU)):(e=t.length,t.push(new G3))}t[e].addRange(i),n.push(e)}return new uDe(t.length,n)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class hDe extends LLe{constructor(e,t,n,i,o){const r=N2("div.diff-hidden-lines-widget");super(e,t,r.root),this._editor=e,this._move=n,this._kind=i,this._diffModel=o,this._nodes=N2("div.diff-moved-code-block",{style:{marginRight:"4px"}},[N2("div.text-content@textContent"),N2("div.action-bar@actionBar")]),r.root.appendChild(this._nodes.root);const s=dLe(this._editor.onDidLayoutChange,(()=>this._editor.getLayoutInfo()));let a;this._register(NLe(this._nodes.root,{paddingRight:s.map((e=>e.verticalScrollbarWidth))})),a=n.changes.length>0?"original"===this._kind?nK(0,"Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):nK(0,"Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):"original"===this._kind?nK(0,"Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):nK(0,"Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const l=this._register(new C_e(this._nodes.actionBar,{highlightToggledItems:!0})),c=new HQ("",a,"",!1);l.push(c,{icon:!1,label:!0});const u=new HQ("","Compare",VQ.asClassName(xY.compareChanges),!0,(()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===n?void 0:this._move,void 0)}));this._register(sLe((e=>{const t=this._diffModel.movedTextToCompare.read(e)===n;u.checked=t}))),l.push(u,{icon:!1,label:!0})}}class dDe extends Yq{constructor(e,t,n){super(),this._editors=e,this._diffModel=t,this._options=n,this._decorations=nLe(this,(e=>{var t;const n=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.diff.read(e);if(!n)return null;const i=this._diffModel.read(e).movedTextToCompare.read(e),o=this._options.renderIndicators.read(e),r=this._options.showEmptyDecorations.read(e),s=[],a=[];if(!i)for(const c of n.mappings){if(c.lineRangeMapping.original.isEmpty||s.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:o?JLe:tDe}),c.lineRangeMapping.modified.isEmpty||a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:o?QLe:eDe}),c.lineRangeMapping.modified.isEmpty||c.lineRangeMapping.original.isEmpty)c.lineRangeMapping.original.isEmpty||s.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:sDe}),c.lineRangeMapping.modified.isEmpty||a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:iDe});else for(const e of c.lineRangeMapping.innerChanges||[])c.lineRangeMapping.original.contains(e.originalRange.startLineNumber)&&s.push({range:e.originalRange,options:e.originalRange.isEmpty()&&r?aDe:rDe}),c.lineRangeMapping.modified.contains(e.modifiedRange.startLineNumber)&&a.push({range:e.modifiedRange,options:e.modifiedRange.isEmpty()&&r?oDe:nDe});c.lineRangeMapping.modified.isEmpty||!this._options.shouldRenderRevertArrows.read(e)||i||a.push({range:_Y.fromPositions(new bY(c.lineRangeMapping.modified.startLineNumber,1)),options:lDe})}if(i)for(const c of i.changes){const e=c.original.toInclusiveRange();e&&s.push({range:e,options:o?JLe:tDe});const t=c.modified.toInclusiveRange();t&&a.push({range:t,options:o?QLe:eDe});for(const n of c.innerChanges||[])s.push({range:n.originalRange,options:rDe}),a.push({range:n.modifiedRange,options:nDe})}const l=this._diffModel.read(e).activeMovedText.read(e);for(const c of n.movedTexts)s.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(c===l?" currentMove":""),blockPadding:[cDe.movedCodeBlockPadding,0,cDe.movedCodeBlockPadding,cDe.movedCodeBlockPadding]}}),a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(c===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:s,modifiedDecorations:a}})),this._register(CLe(this._editors.original,this._decorations.map((e=>(null==e?void 0:e.originalDecorations)||[])))),this._register(CLe(this._editors.modified,this._decorations.map((e=>(null==e?void 0:e.modifiedDecorations)||[]))))}}class gDe extends Yq{constructor(e,t,n){super(),this._options=e,this._domNode=t,this._dimensions=n,this._sashRatio=Qke(this,void 0),this.sashLeft=nLe(this,(e=>{var t;const n=null!==(t=this._sashRatio.read(e))&&void 0!==t?t:this._options.splitViewDefaultRatio.read(e);return this._computeSashLeft(n,e)})),this._sash=this._register(new vye(this._domNode,{getVerticalSashTop:e=>0,getVerticalSashLeft:e=>this.sashLeft.get(),getVerticalSashHeight:e=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart((()=>{this._startSashPosition=this.sashLeft.get()}))),this._register(this._sash.onDidChange((e=>{const t=this._dimensions.width.get(),n=this._computeSashLeft((this._startSashPosition+(e.currentX-e.startX))/t,void 0);this._sashRatio.set(n/t,void 0)}))),this._register(this._sash.onDidEnd((()=>this._sash.layout()))),this._register(this._sash.onDidReset((()=>this._sashRatio.set(void 0,void 0)))),this._register(sLe((e=>{const t=this._options.enableSplitViewResizing.read(e);this._sash.state=t?3:0,this.sashLeft.read(e),this._dimensions.height.read(e),this._sash.layout()})))}setBoundarySashes(e){this._sash.orthogonalEndSash=e.bottom}_computeSashLeft(e,t){const n=this._dimensions.width.read(t),i=Math.floor(this._options.splitViewDefaultRatio.read(t)*n),o=this._options.enableSplitViewResizing.read(t)?Math.floor(e*n):i,r=100;return n<=200?i:o<r?r:o>n-r?n-r:o}}class fDe{remove(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}static findId(e,t){let n;"string"==typeof e?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,void 0!==t.children.get(n)&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let i=n;for(let o=0;void 0!==t.children.get(i);o++)i=`${n}_${o}`;return i}static empty(e){return 0===e.children.size}}class pDe extends fDe{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class mDe extends fDe{constructor(e,t,n,i){super(),this.id=e,this.parent=t,this.label=n,this.order=i,this.children=new Map}}class vDe extends fDe{static create(e,t,n){const i=new vG(n),o=new vDe(t.uri),r=e.ordered(t),s=r.map(((e,n)=>{var r;const s=fDe.findId(`provider_${n}`,o),a=new mDe(s,o,null!==(r=e.displayName)&&void 0!==r?r:"Unknown Outline Provider",n);return Promise.resolve(e.provideDocumentSymbols(t,i.token)).then((e=>{for(const t of e||[])vDe._makeOutlineElement(t,a);return a}),(e=>(Aq(e),a))).then((e=>{fDe.empty(e)?e.remove():o._groups.set(s,e)}))})),a=e.onDidChange((()=>{pU(e.ordered(t),r)||i.cancel()}));return Promise.all(s).then((()=>i.token.isCancellationRequested&&!n.isCancellationRequested?vDe.create(e,t,n):o._compact())).finally((()=>{i.dispose(),a.dispose()}))}static _makeOutlineElement(e,t){const n=fDe.findId(e,t),i=new pDe(n,t,e);if(e.children)for(const o of e.children)vDe._makeOutlineElement(o,i);t.children.set(i.id,i)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,n]of this._groups)0===n.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{const e=zK.first(this._groups.values());for(const[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof pDe?e.push(t.symbol):e.push(...zK.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>_Y.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return vDe._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>bY.compare(_Y.getStartPosition(e.range),_Y.getStartPosition(t.range))||bY.compare(_Y.getEndPosition(t.range),_Y.getEndPosition(e.range))))}static _flattenDocumentSymbols(e,t,n){for(const i of t)e.push({kind:i.kind,tags:i.tags,name:i.name,detail:i.detail,containerName:i.containerName||n,range:i.range,selectionRange:i.selectionRange,children:void 0}),i.children&&vDe._flattenDocumentSymbols(e,i.children,i.name)}}var bDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_De=function(e,t){return function(n,i){t(n,i,e)}},yDe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let wDe=class extends Yq{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(e,t,n,i){super(),this._editors=e,this._diffModel=t,this._options=n,this._languageFeaturesService=i,this._isUpdatingViewZones=!1,this._modifiedOutlineSource=iLe(this,((e,t)=>{const n=this._editors.modifiedModel.read(e);if(n)return t.add(new CDe(this._languageFeaturesService,n))})),this._register(this._editors.original.onDidChangeCursorPosition((e=>{if(3===e.reason){const e=this._diffModel.get();Gke((t=>{for(const n of this._editors.original.getSelections()||[])null==e||e.ensureOriginalLineIsVisible(n.getStartPosition().lineNumber,t),null==e||e.ensureOriginalLineIsVisible(n.getEndPosition().lineNumber,t)}))}}))),this._register(this._editors.modified.onDidChangeCursorPosition((e=>{if(3===e.reason){const e=this._diffModel.get();Gke((t=>{for(const n of this._editors.modified.getSelections()||[])null==e||e.ensureModifiedLineIsVisible(n.getStartPosition().lineNumber,t),null==e||e.ensureModifiedLineIsVisible(n.getEndPosition().lineNumber,t)}))}})));const o=this._diffModel.map(((e,t)=>{var n,i;return 0===(null===(n=null==e?void 0:e.diff.read(t))||void 0===n?void 0:n.mappings.length)?[]:null!==(i=null==e?void 0:e.unchangedRegions.read(t))&&void 0!==i?i:[]})),r=iLe(this,((e,t)=>{const n=this._modifiedOutlineSource.read(e);if(!n)return{origViewZones:[],modViewZones:[]};const i=[],r=[],s=this._options.renderSideBySide.read(e),a=o.read(e);for(const o of a)if(!o.shouldHideControls(e)){{const e=nLe((e=>o.getHiddenOriginalRange(e).startLineNumber-1)),r=new DLe(e,24);i.push(r),t.add(new SDe(this._editors.original,r,o,o.originalUnchangedRange,!s,n,(e=>this._diffModel.get().ensureModifiedLineIsVisible(e,void 0)),this._options))}{const e=nLe((e=>o.getHiddenModifiedRange(e).startLineNumber-1)),i=new DLe(e,24);r.push(i),t.add(new SDe(this._editors.modified,i,o,o.modifiedUnchangedRange,!1,n,(e=>this._diffModel.get().ensureModifiedLineIsVisible(e,void 0)),this._options))}}return{origViewZones:i,modViewZones:r}})),s={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new Zme(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(nK(0,"Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+VQ.asClassName(xY.fold),zIndex:10001};this._register(CLe(this._editors.original,nLe((e=>{const t=o.read(e),n=t.map((e=>({range:e.originalUnchangedRange.toInclusiveRange(),options:s})));for(const i of t)i.shouldHideControls(e)&&n.push({range:_Y.fromPositions(new bY(i.originalLineNumber,1)),options:a});return n})))),this._register(CLe(this._editors.modified,nLe((e=>{const t=o.read(e),n=t.map((e=>({range:e.modifiedUnchangedRange.toInclusiveRange(),options:s})));for(const i of t)i.shouldHideControls(e)&&n.push({range:t6.ofLength(i.modifiedLineNumber,1).toInclusiveRange(),options:a});return n})))),this._register(ILe(this._editors.original,r.map((e=>e.origViewZones)),(e=>this._isUpdatingViewZones=e))),this._register(ILe(this._editors.modified,r.map((e=>e.modViewZones)),(e=>this._isUpdatingViewZones=e))),this._register(sLe((e=>{const t=o.read(e);this._editors.original.setHiddenAreas(t.map((t=>t.getHiddenOriginalRange(e).toInclusiveRange())).filter($U)),this._editors.modified.setHiddenAreas(t.map((t=>t.getHiddenModifiedRange(e).toInclusiveRange())).filter($U))}))),this._register(this._editors.modified.onMouseUp((e=>{var t;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("fold-unchanged"))){const t=e.target.position.lineNumber,n=this._diffModel.get();if(!n)return;const i=n.unchangedRegions.get().find((e=>e.modifiedUnchangedRange.includes(t)));if(!i)return;i.collapseAll(void 0),e.event.stopPropagation(),e.event.preventDefault()}}))),this._register(this._editors.original.onMouseUp((e=>{var t;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("fold-unchanged"))){const t=e.target.position.lineNumber,n=this._diffModel.get();if(!n)return;const i=n.unchangedRegions.get().find((e=>e.originalUnchangedRange.includes(t)));if(!i)return;i.collapseAll(void 0),e.event.stopPropagation(),e.event.preventDefault()}})))}};wDe=bDe([_De(3,b9)],wDe);let CDe=class extends Yq{constructor(e,t){super(),this._languageFeaturesService=e,this._textModel=t,this._currentModel=Qke(this,void 0);const n=fLe("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),i=fLe("_textModel.onDidChangeContent",tG.debounce((e=>this._textModel.onDidChangeContent(e)),(()=>{}),100));this._register(lLe(((e,t)=>yDe(this,void 0,void 0,(function*(){n.read(e),i.read(e);const o=t.add(new MLe),r=yield vDe.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,o.token);t.isDisposed||this._currentModel.set(r,void 0)})))))}getBreadcrumbItems(e,t){const n=this._currentModel.read(t);if(!n)return[];const i=n.asListOfDocumentSymbols().filter((t=>e.contains(t.range.startLineNumber)&&!e.contains(t.range.endLineNumber)));return i.sort(RU(TU((e=>e.range.endLineNumber-e.range.startLineNumber),IU))),i.map((e=>({name:e.name,kind:e.kind,startLineNumber:e.range.startLineNumber})))}};CDe=bDe([_De(0,b9)],CDe);class SDe extends LLe{constructor(e,t,n,i,o,r,s,a){const l=N2("div.diff-hidden-lines-widget");super(e,t,l.root),this._editor=e,this._unchangedRegion=n,this._unchangedRegionRange=i,this.hide=o,this._modifiedOutlineSource=r,this._revealModifiedHiddenLine=s,this._options=a,this._nodes=N2("div.diff-hidden-lines",[N2("div.top@top",{title:nK(0,"Click or drag to show more above")}),N2("div.center@content",{style:{display:"flex"}},[N2("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[v2("a",{title:nK(0,"Show all"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...hve("$(unfold)"))]),N2("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),N2("div.bottom@bottom",{title:nK(0,"Click or drag to show more below"),role:"button"})]),l.root.appendChild(this._nodes.root);const c=dLe(this._editor.onDidLayoutChange,(()=>this._editor.getLayoutInfo()));this.hide?d2(this._nodes.first):this._register(NLe(this._nodes.first,{width:c.map((e=>e.contentLeft))}));const u=this._editor;this._register(O1(this._nodes.top,"mousedown",(e=>{if(0!==e.button)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),e.preventDefault();const t=e.clientY;let n=!1;const i=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const o=O1(window,"mousemove",(e=>{const o=e.clientY-t;n=n||Math.abs(o)>2;const r=Math.round(o/u.getOption(66)),s=Math.max(0,Math.min(i+r,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(s,void 0)})),r=O1(window,"mouseup",(e=>{n||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),o.dispose(),r.dispose()}))}))),this._register(O1(this._nodes.bottom,"mousedown",(e=>{if(0!==e.button)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),e.preventDefault();const t=e.clientY;let n=!1;const i=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const o=O1(window,"mousemove",(e=>{const o=e.clientY-t;n=n||Math.abs(o)>2;const r=Math.round(o/u.getOption(66)),s=Math.max(0,Math.min(i-r,this._unchangedRegion.getMaxVisibleLineCountBottom())),a=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(s,void 0);const l=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(l-a))})),r=O1(window,"mouseup",(e=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!n){const e=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const t=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(t-e))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),o.dispose(),r.dispose()}))}))),this._register(sLe((e=>{const t=[];if(!this.hide){const i=nK(0,"{0} hidden lines",n.getHiddenModifiedRange(e).length),o=v2("span",{title:nK(0,"Double click to unfold")},i);o.addEventListener("dblclick",(e=>{0===e.button&&(e.preventDefault(),this._unchangedRegion.showAll(void 0))})),t.push(o);const r=this._unchangedRegion.getHiddenModifiedRange(e),s=this._modifiedOutlineSource.getBreadcrumbItems(r,e);if(s.length>0){t.push(v2("span",void 0,"  |  "));for(let e=0;e<s.length;e++){const n=s[e],i=N2("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[dve(FY.toIcon(n.kind))," ",n.name,...e===s.length-1?[]:[dve(xY.chevronRight)]]).root;t.push(i),i.onclick=()=>{this._revealModifiedHiddenLine(n.startLineNumber)}}}}d2(this._nodes.others,...t)})))}}class xDe{static capture(e){if(0===e.getScrollTop()||e.hasPendingScrollAnimation())return new xDe(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,n=0;const i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);n=e.getScrollTop()-o}return new xDe(e.getScrollTop(),e.getContentHeight(),t,n,e.getPosition())}constructor(e,t,n,i,o){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=n,this._visiblePositionScrollDelta=i,this._cursorPosition=o}restore(e){if((this._initialContentHeight!==e.getContentHeight()||this._initialScrollTop!==e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const n=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+n)}}var kDe,LDe=function(e,t){return function(n,i){t(n,i,e)}},DDe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let EDe=kDe=class{constructor(e,t,n){this.editorWorkerService=t,this.telemetryService=n,this.onDidChangeEventEmitter=new sG,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;null===(e=this.diffAlgorithmOnDidChangeSubscription)||void 0===e||e.dispose()}computeDiff(e,t,n,i){var o,r;return DDe(this,void 0,void 0,(function*(){if("string"!=typeof this.diffAlgorithm)return this.diffAlgorithm.computeDiff(e,t,n,i);if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return 1===t.getLineCount()&&1===t.getLineMaxColumn(1)?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new o6(new t6(1,2),new t6(1,t.getLineCount()+1),[new r6(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const s=JSON.stringify([e.uri.toString(),t.uri.toString()]),a=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(n)]),l=kDe.diffCache.get(s);if(l&&l.context===a)return l.result;const c=eG.create(),u=yield this.editorWorkerService.computeDiff(e.uri,t.uri,n,this.diffAlgorithm),h=c.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:null===(o=null==u?void 0:u.quitEarly)||void 0===o||o,detectedMoves:n.computeMoves?null!==(r=null==u?void 0:u.moves.length)&&void 0!==r?r:0:-1}),i.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!u)throw new Error("no diff result available");return kDe.diffCache.size>10&&kDe.diffCache.delete(kDe.diffCache.keys().next().value),kDe.diffCache.set(s,{result:u,context:a}),u}))}setOptions(e){var t;let n=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&(null===(t=this.diffAlgorithmOnDidChangeSubscription)||void 0===t||t.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,"string"!=typeof e.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange((()=>this.onDidChangeEventEmitter.fire()))),n=!0),n&&this.onDidChangeEventEmitter.fire()}};EDe.diffCache=new Map,EDe=kDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([LDe(1,j_e),LDe(2,l0)],EDe);const NDe=OQ("diffProviderFactoryService");let TDe=class{constructor(e){this.instantiationService=e}createDiffProvider(e,t){return this.instantiationService.createInstance(EDe,t)}};TDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(0,AQ)],TDe),m5(NDe,TDe,1);var IDe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let MDe=class extends Yq{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,n,i){super(),this.model=e,this._options=t,this._editor=n,this._diffProviderFactoryService=i,this._isDiffUpToDate=Qke(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=Qke(this,void 0),this.diff=this._diff,this._unchangedRegions=Qke(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=nLe(this,(e=>this._options.hideUnchangedRegions.read(e)?this._unchangedRegions.read(e).regions:(Gke((e=>{for(const t of this._unchangedRegions.get().regions)t.collapseAll(e)})),[]))),this.movedTextToCompare=Qke(this,void 0),this._activeMovedText=Qke(this,void 0),this._hoveredMovedText=Qke(this,void 0),this.activeMovedText=nLe(this,(e=>{var t,n;return null!==(n=null!==(t=this.movedTextToCompare.read(e))&&void 0!==t?t:this._hoveredMovedText.read(e))&&void 0!==n?n:this._activeMovedText.read(e)})),this._cancellationTokenSource=new vG,this._diffProvider=nLe(this,(e=>{const t=this._diffProviderFactoryService.createDiffProvider(this._editor,{diffAlgorithm:this._options.diffAlgorithm.read(e)});return{diffProvider:t,onChangeSignal:fLe("onDidChange",t.onDidChange)}})),this._register(qq((()=>this._cancellationTokenSource.cancel())));const o=new mLe("contentChangedSignal");const r=this._register(new n4((()=>o.trigger(void 0)),200)),s=(t,n,i)=>{const o=ODe.fromDiffs(t.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(i),this._options.hideUnchangedRegionsContextLineCount.read(i)),r=this._unchangedRegions.get(),s=r.originalDecorationIds.map((t=>e.original.getDecorationRange(t))).filter((e=>!!e)).map((e=>t6.fromRange(e))),a=r.modifiedDecorationIds.map((t=>e.modified.getDecorationRange(t))).filter((e=>!!e)).map((e=>t6.fromRange(e))),l=e.original.deltaDecorations(r.originalDecorationIds,o.map((e=>({range:e.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})))),c=e.modified.deltaDecorations(r.modifiedDecorationIds,o.map((e=>({range:e.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))));for(const e of o)for(let t=0;t<r.regions.length;t++)if(e.originalUnchangedRange.intersectsStrict(s[t])&&e.modifiedUnchangedRange.intersectsStrict(a[t])){e.setHiddenModifiedRange(r.regions[t].getHiddenModifiedRange(void 0),n);break}this._unchangedRegions.set({regions:o,originalDecorationIds:l,modifiedDecorationIds:c},n)};this._register(e.modified.onDidChangeContent((t=>{if(this._diff.get()){Uae.fromModelContentChanges(t.changes);this._lastDiff,e.original,e.modified}r.schedule()}))),this._register(e.original.onDidChangeContent((t=>{if(this._diff.get()){Uae.fromModelContentChanges(t.changes);this._lastDiff,e.original,e.modified}r.schedule()}))),this._register(lLe(((t,n)=>IDe(this,void 0,void 0,(function*(){var i,a;this._options.hideUnchangedRegionsMinimumLineCount.read(t),this._options.hideUnchangedRegionsContextLineCount.read(t),r.cancel(),o.read(t);const l=this._diffProvider.read(t);l.onChangeSignal.read(t),TLe(G6,t),TLe(j6,t),this._isDiffUpToDate.set(!1,void 0);let c=[];n.add(e.original.onDidChangeContent((e=>{const t=Uae.fromModelContentChanges(e.changes);c=xle(c,t)})));let u=[];n.add(e.modified.onDidChangeContent((e=>{const t=Uae.fromModelContentChanges(e.changes);u=xle(u,t)})));let h=yield l.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(t),maxComputationTimeMs:this._options.maxComputationTimeMs.read(t),computeMoves:this._options.showMoves.read(t)},this._cancellationTokenSource.token);var d,g,f;this._cancellationTokenSource.token.isCancellationRequested||(d=h,g=e.original,f=e.modified,h={changes:d.changes.map((e=>new o6(e.original,e.modified,e.innerChanges?e.innerChanges.map((e=>function(e,t,n){let i=e.originalRange,o=e.modifiedRange;return(1!==i.endColumn||1!==o.endColumn)&&i.endColumn===t.getLineMaxColumn(i.endLineNumber)&&o.endColumn===n.getLineMaxColumn(o.endLineNumber)&&i.endLineNumber<t.getLineCount()&&o.endLineNumber<n.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),o=o.setEndPosition(o.endLineNumber+1,1)),new r6(i,o)}(e,g,f))):void 0))),moves:d.moves,identical:d.identical,quitEarly:d.quitEarly},h=null!==(e.original,i=void e.modified)&&void 0!==i?i:h,h=null!==(e.original,a=void e.modified)&&void 0!==a?a:h,Gke((e=>{s(h,e),this._lastDiff=h;const t=RDe.fromDiffResult(h);this._diff.set(t,e),this._isDiffUpToDate.set(!0,e);const n=this.movedTextToCompare.get();this.movedTextToCompare.set(n?this._lastDiff.moves.find((e=>e.lineRangeMapping.modified.intersect(n.lineRangeMapping.modified))):void 0,e)})))})))))}ensureModifiedLineIsVisible(e,t){var n;if(0===(null===(n=this.diff.get())||void 0===n?void 0:n.mappings.length))return;const i=this._unchangedRegions.get().regions;for(const o of i)if(o.getHiddenModifiedRange(void 0).contains(e))return void o.showModifiedLine(e,t)}ensureOriginalLineIsVisible(e,t){var n;if(0===(null===(n=this.diff.get())||void 0===n?void 0:n.mappings.length))return;const i=this._unchangedRegions.get().regions;for(const o of i)if(o.getHiddenOriginalRange(void 0).contains(e))return void o.showOriginalLine(e,t)}waitForDiff(){return IDe(this,void 0,void 0,(function*(){var e,t;yield(e=this.isDiffUpToDate,t=e=>e,new Promise((n=>{let i=!1,o=!1;const r=sLe((s=>{const a=e.read(s);t(a)&&(i?r.dispose():o=!0,n(a))}));i=!0,o&&r.dispose()})))}))}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map((e=>({range:e.getHiddenModifiedRange(void 0).serialize()})))}}restoreSerializedState(e){const t=e.collapsedRegions.map((e=>t6.deserialize(e.range))),n=this._unchangedRegions.get();Gke((e=>{for(const i of n.regions)for(const n of t)if(i.modifiedUnchangedRange.intersect(n)){i.setHiddenModifiedRange(n,e);break}}))}};MDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(3,NDe)],MDe);class RDe{static fromDiffResult(e){return new RDe(e.changes.map((e=>new ADe(e))),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,n,i){this.mappings=e,this.movedTexts=t,this.identical=n,this.quitEarly=i}}class ADe{constructor(e){this.lineRangeMapping=e}}class ODe{static fromDiffs(e,t,n,i,o){const r=o6.inverse(e,t,n),s=[];for(const a of r){let e=a.original.startLineNumber,r=a.modified.startLineNumber,l=a.original.length;const c=1===e&&1===r,u=e+l===t+1&&r+l===n+1;(c||u)&&l>=o+i?(c&&!u&&(l-=o),u&&!c&&(e+=o,r+=o,l-=o),s.push(new ODe(e,r,l,0,0))):l>=2*o+i&&(e+=o,r+=o,l-=2*o,s.push(new ODe(e,r,l,0,0)))}return s}get originalUnchangedRange(){return t6.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return t6.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,n,i,o){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=n,this._visibleLineCountTop=Qke(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=Qke(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=nLe(this,(e=>this.visibleLineCountTop.read(e)+this.visibleLineCountBottom.read(e)===this.lineCount&&!this.isDragged.read(e))),this.isDragged=Qke(this,!1),this._visibleLineCountTop.set(i,void 0),this._visibleLineCountBottom.set(o,void 0)}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return t6.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return t6.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const n=e.startLineNumber-this.modifiedLineNumber,i=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(n,i,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const n=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,n),t)}showMoreBelow(e=10,t){const n=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,n),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t){const n=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),i=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;n<i?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+n,t):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+i,t)}showOriginalLine(e,t){const n=e-this.originalLineNumber,i=this.originalLineNumber+this.lineCount-e;n<i?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+i-n,this.getMaxVisibleLineCountTop()),t):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+n-i,this.getMaxVisibleLineCountBottom()),t)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,n){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,n),this._visibleLineCountBottom.set(t,n)}}var PDe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class FDe extends Yq{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,n,i,o,r,s,a,l){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=n,this._diff=i,this._editor=o,this._viewLineCounts=r,this._originalTextModel=s,this._contextMenuService=a,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=VQ.asClassName(xY.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const c=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${c}px`,this._diffActions.style.lineHeight=`${c}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const h=n.getOption(126)&&!LK,d=(e,t)=>{var o;this._contextMenuService.showContextMenu({domForShadowRoot:h&&null!==(o=n.getDomNode())&&void 0!==o?o:void 0,getAnchor:()=>({x:e,y:t}),getActions:()=>{const e=[],t=i.modified.isEmpty;e.push(new HQ("diff.clipboard.copyDeletedContent",t?i.original.length>1?nK(0,"Copy deleted lines"):nK(0,"Copy deleted line"):i.original.length>1?nK(0,"Copy changed lines"):nK(0,"Copy changed line"),void 0,!0,(()=>PDe(this,void 0,void 0,(function*(){const e=this._originalTextModel.getValueInRange(i.original.toExclusiveRange());yield this._clipboardService.writeText(e)}))))),i.original.length>1&&e.push(new HQ("diff.clipboard.copyDeletedLineContent",nK(0,t?"Copy deleted line ({0})":"Copy changed line ({0})",i.original.startLineNumber+u),void 0,!0,(()=>PDe(this,void 0,void 0,(function*(){let e=this._originalTextModel.getLineContent(i.original.startLineNumber+u);if(""===e){e=0===this._originalTextModel.getEndOfLineSequence()?"\n":"\r\n"}yield this._clipboardService.writeText(e)})))));return n.getOption(90)||e.push(new HQ("diff.inline.revertChange",nK(0,"Revert this change"),void 0,!0,(()=>PDe(this,void 0,void 0,(function*(){this._editor.revert(this._diff)}))))),e},autoSelectFirstItem:!0})};this._register(P1(this._diffActions,"mousedown",(e=>{const{top:t,height:n}=j1(this._diffActions),i=Math.floor(c/3);e.preventDefault(),d(e.posx,t+n+i)}))),this._register(n.onMouseMove((e=>{8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId!==this._getViewZoneId()?this.visibility=!1:(u=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,c),this.visibility=!0)}))),this._register(n.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._getViewZoneId()&&(e.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,c),d(e.event.posx,e.event.posy+c))}})))}_updateLightBulbPosition(e,t,n){const{top:i}=j1(e),o=t-i,r=Math.floor(o/n),s=r*n;if(this._diffActions.style.top=`${s}px`,this._viewLineCounts){let e=0;for(let t=0;t<this._viewLineCounts.length;t++)if(e+=this._viewLineCounts[t],r<e)return t}return r}}const BDe=y4("diffEditorWidget",{createHTML:e=>e});function zDe(e,t,n,i){SQ(i,t.fontInfo);const o=n.length>0,r=new q4(1e4);let s=0,a=0;const l=[];for(let h=0;h<e.lineTokens.length;h++){const i=h+1,c=e.lineTokens[h],u=e.lineBreakData[h],d=B9.filter(n,i,1,Number.MAX_SAFE_INTEGER);if(u){let n=0;for(const i of u.breakOffsets){const l=c.sliceAndInflate(n,i,0);s=Math.max(s,HDe(a,l,B9.extractWrapped(d,n,i),o,e.mightContainNonBasicASCII,e.mightContainRTL,t,r)),a++,n=i}l.push(u.breakOffsets.length)}else l.push(1),s=Math.max(s,HDe(a,c,d,o,e.mightContainNonBasicASCII,e.mightContainRTL,t,r)),a++}s+=t.scrollBeyondLastColumn;const c=r.build(),u=BDe?BDe.createHTML(c):c;i.innerHTML=u;return{heightInLines:a,minWidthInPx:s*t.typicalHalfwidthCharacterWidth,viewLineCounts:l}}class VDe{constructor(e,t,n,i){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=n,this.mightContainRTL=i}}class WDe{static fromEditor(e){var t;const n=e.getOptions(),i=n.get(50),o=n.get(143);return new WDe((null===(t=e.getModel())||void 0===t?void 0:t.getOptions().tabSize)||0,i,n.get(33),i.typicalHalfwidthCharacterWidth,n.get(103),n.get(66),o.decorationsWidth,n.get(116),n.get(98),n.get(93),n.get(51))}constructor(e,t,n,i,o,r,s,a,l,c,u){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=n,this.typicalHalfwidthCharacterWidth=i,this.scrollBeyondLastColumn=o,this.lineHeight=r,this.lineDecorationsWidth=s,this.stopRenderingLineAfter=a,this.renderWhitespace=l,this.renderControlCharacters=c,this.fontLigatures=u}}function HDe(e,t,n,i,o,r,s,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(e*s.lineHeight)),a.appendString('px;width:1000000px;">');const l=t.getLineContent(),c=i7.isBasicASCII(l,o),u=i7.containsRTL(l,c,r),h=G9(new j9(s.fontInfo.isMonospace&&!s.disableMonospaceOptimizations,s.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,u,0,t,n,s.tabSize,0,s.fontInfo.spaceWidth,s.fontInfo.middotWidth,s.fontInfo.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==gq.OFF,null),a);return a.appendString("</div>"),h.characterMapping.getHorizontalOffset(h.characterMapping.length)}var $De=function(e,t){return function(n,i){t(n,i,e)}};let jDe=class extends Yq{constructor(e,t,n,i,o,r,s){super(),this._editors=e,this._diffModel=t,this._options=n,this._diffEditorWidget=i,this._canIgnoreViewZoneUpdateEvent=o,this._clipboardService=r,this._contextMenuService=s,this._originalTopPadding=Qke(this,0),this._originalScrollOffset=Qke(this,0),this._originalScrollOffsetAnimated=kLe(this._originalScrollOffset,this._store),this._modifiedTopPadding=Qke(this,0),this._modifiedScrollOffset=Qke(this,0),this._modifiedScrollOffsetAnimated=kLe(this._modifiedScrollOffset,this._store);let a=!1;const l=Qke("state",0),c=this._register(new n4((()=>{l.set(l.get()+1,void 0)}),0));this._register(this._editors.original.onDidChangeViewZones((e=>{a||this._canIgnoreViewZoneUpdateEvent()||c.schedule()}))),this._register(this._editors.modified.onDidChangeViewZones((e=>{a||this._canIgnoreViewZoneUpdateEvent()||c.schedule()}))),this._register(this._editors.original.onDidChangeConfiguration((e=>{(e.hasChanged(144)||e.hasChanged(66))&&c.schedule()}))),this._register(this._editors.modified.onDidChangeConfiguration((e=>{(e.hasChanged(144)||e.hasChanged(66))&&c.schedule()})));const u=this._diffModel.map((e=>e?dLe(e.model.original.onDidChangeTokens,(()=>2===e.model.original.tokenization.backgroundTokenizationState)):void 0)).map(((e,t)=>null==e?void 0:e.read(t))),h=new Set,d=new Set,g=nLe((e=>{const t=this._diffModel.read(e),n=null==t?void 0:t.diff.read(e);if(!t||!n)return null;l.read(e);const i=this._options.renderSideBySide.read(e);return UDe(this._editors.original,this._editors.modified,n.mappings,h,d,i)})),f=nLe((e=>{var t;const n=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e);if(!n)return null;l.read(e);const i=n.changes.map((e=>new ADe(e)));return UDe(this._editors.original,this._editors.modified,i,h,d,!0)}));function p(){const e=document.createElement("div");return e.className="diagonal-fill",e}const m=this._register(new Gq),v=nLe((e=>{var t,n,i,o,r,s,a,l;m.clear();const c=g.read(e)||[],h=[],d=[],v=this._modifiedTopPadding.read(e);v>0&&d.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:v,showInHiddenAreas:!0,suppressMouseDown:!0});const b=this._originalTopPadding.read(e);b>0&&h.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:b,showInHiddenAreas:!0,suppressMouseDown:!0});const _=this._options.renderSideBySide.read(e),y=_||null===(t=this._editors.modified._getViewModel())||void 0===t?void 0:t.createLineBreaksComputer();if(y)for(const u of c)if(u.diff)for(let e=u.originalRange.startLineNumber;e<u.originalRange.endLineNumberExclusive;e++)null==y||y.addRequest(this._editors.original.getModel().getLineContent(e),null,null);const w=null!==(n=null==y?void 0:y.finalize())&&void 0!==n?n:[];let C=0;const S=this._editors.modified.getOption(66),x=null===(i=this._diffModel.read(e))||void 0===i?void 0:i.movedTextToCompare.read(e),k=null!==(r=null===(o=this._editors.original.getModel())||void 0===o?void 0:o.mightContainNonBasicASCII())&&void 0!==r&&r,L=null!==(a=null===(s=this._editors.original.getModel())||void 0===s?void 0:s.mightContainRTL())&&void 0!==a&&a,D=WDe.fromEditor(this._editors.modified);for(const g of c)if(g.diff&&!_){if(!g.originalRange.isEmpty){u.read(e);const t=document.createElement("div");t.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const n=new VDe(g.originalRange.mapToLineArray((e=>this._editors.original.getModel().tokenization.getLineTokens(e))),g.originalRange.mapToLineArray((e=>w[C++])),k,L),i=[];for(const e of g.diff.innerChanges||[])i.push(new o7(e.originalRange.delta(-(g.diff.original.startLineNumber-1)),rDe.className,0));const o=zDe(n,D,i,t),r=document.createElement("div");if(r.className="inline-deleted-margin-view-zone",SQ(r,D.fontInfo),this._options.renderIndicators.read(e))for(let e=0;e<o.heightInLines;e++){const t=document.createElement("div");t.className=`delete-sign ${VQ.asClassName(ZLe)}`,t.setAttribute("style",`position:absolute;top:${e*S}px;width:${D.lineDecorationsWidth}px;height:${S}px;right:0;`),r.appendChild(t)}let s;m.add(new FDe((()=>KU(s)),r,this._editors.modified,g.diff,this._diffEditorWidget,o.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let e=0;e<o.viewLineCounts.length;e++){const t=o.viewLineCounts[e];t>1&&h.push({afterLineNumber:g.originalRange.startLineNumber+e,domNode:p(),heightInPx:(t-1)*S,showInHiddenAreas:!0,suppressMouseDown:!0})}d.push({afterLineNumber:g.modifiedRange.startLineNumber-1,domNode:t,heightInPx:o.heightInLines*S,minWidthInPx:o.minWidthInPx,marginDomNode:r,setZoneId(e){s=e},showInHiddenAreas:!0,suppressMouseDown:!0})}const t=document.createElement("div");t.className="gutter-delete",h.push({afterLineNumber:g.originalRange.endLineNumberExclusive-1,domNode:p(),heightInPx:g.modifiedHeightInPx,marginDomNode:t,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const t=g.modifiedHeightInPx-g.originalHeightInPx;if(t>0){if(null==x?void 0:x.lineRangeMapping.original.delta(-1).deltaLength(2).contains(g.originalRange.endLineNumberExclusive-1))continue;h.push({afterLineNumber:g.originalRange.endLineNumberExclusive-1,domNode:p(),heightInPx:t,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let n,i=function(){const e=document.createElement("div");return e.className="arrow-revert-change "+VQ.asClassName(xY.arrowRight),v2("div",{},e)};if(null==x?void 0:x.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(g.modifiedRange.endLineNumberExclusive-1))continue;g.diff&&g.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(e)&&(n=i()),d.push({afterLineNumber:g.modifiedRange.endLineNumberExclusive-1,domNode:p(),heightInPx:-t,marginDomNode:n,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const u of null!==(l=f.read(e))&&void 0!==l?l:[]){if(!(null==x?void 0:x.lineRangeMapping.original.intersect(u.originalRange))||!(null==x?void 0:x.lineRangeMapping.modified.intersect(u.modifiedRange)))continue;const e=u.modifiedHeightInPx-u.originalHeightInPx;e>0?h.push({afterLineNumber:u.originalRange.endLineNumberExclusive-1,domNode:p(),heightInPx:e,showInHiddenAreas:!0,suppressMouseDown:!0}):d.push({afterLineNumber:u.modifiedRange.endLineNumberExclusive-1,domNode:p(),heightInPx:-e,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:h,mod:d}}));this._register(lLe((e=>{const t=xDe.capture(this._editors.modified),n=v.read(e);a=!0,this._editors.original.changeViewZones((e=>{for(const t of h)e.removeZone(t);h.clear();for(const t of n.orig){const n=e.addZone(t);t.setZoneId&&t.setZoneId(n),h.add(n)}})),this._editors.modified.changeViewZones((e=>{for(const t of d)e.removeZone(t);d.clear();for(const t of n.mod){const n=e.addZone(t);t.setZoneId&&t.setZoneId(n),d.add(n)}})),a=!1,t.restore(this._editors.modified)}))),this._register(qq((()=>{this._editors.original.changeViewZones((e=>{for(const t of h)e.removeZone(t);h.clear()})),this._editors.modified.changeViewZones((e=>{for(const t of d)e.removeZone(t);d.clear()}))})));let b=!1;this._register(this._editors.original.onDidScrollChange((e=>{e.scrollLeftChanged&&!b&&(b=!0,this._editors.modified.setScrollLeft(e.scrollLeft),b=!1)}))),this._register(this._editors.modified.onDidScrollChange((e=>{e.scrollLeftChanged&&!b&&(b=!0,this._editors.original.setScrollLeft(e.scrollLeft),b=!1)}))),this._originalScrollTop=dLe(this._editors.original.onDidScrollChange,(()=>this._editors.original.getScrollTop())),this._modifiedScrollTop=dLe(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollTop())),this._register(sLe((e=>{const t=this._originalScrollTop.read(e)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(e))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(e));t!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(t,1)}))),this._register(sLe((e=>{const t=this._modifiedScrollTop.read(e)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(e))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(e));t!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(t,1)}))),this._register(sLe((e=>{var t;const n=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e);let i=0;if(n){const e=this._editors.original.getTopForLineNumber(n.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();i=this._editors.modified.getTopForLineNumber(n.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-e}i>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(i,void 0)):i<0?(this._modifiedTopPadding.set(-i,void 0),this._originalTopPadding.set(0,void 0)):setTimeout((()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)}),400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-i,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+i,void 0,!0)})))}};function UDe(e,t,n,i,o,r){const s=new AU(KDe(e,i)),a=new AU(KDe(t,o)),l=e.getOption(66),c=t.getOption(66),u=[];let h=0,d=0;function g(e,t){for(;;){let n=s.peek(),i=a.peek();if(n&&n.lineNumber>=e&&(n=void 0),i&&i.lineNumber>=t&&(i=void 0),!n&&!i)break;const o=n?n.lineNumber-h:Number.MAX_VALUE,r=i?i.lineNumber-d:Number.MAX_VALUE;o<r?(s.dequeue(),i={lineNumber:n.lineNumber-h+d,heightInPx:0}):o>r?(a.dequeue(),n={lineNumber:i.lineNumber-d+h,heightInPx:0}):(s.dequeue(),a.dequeue()),u.push({originalRange:t6.ofLength(n.lineNumber,1),modifiedRange:t6.ofLength(i.lineNumber,1),originalHeightInPx:l+n.heightInPx,modifiedHeightInPx:c+i.heightInPx,diff:void 0})}}for(const f of n){let t=function(e,t){var n,r,h,d;if(e<p||t<o)return;if(i)i=!1;else if(e===p||t===o)return;const g=new t6(p,e),m=new t6(o,t);if(g.isEmpty&&m.isEmpty)return;const v=null!==(r=null===(n=s.takeWhile((t=>t.lineNumber<e)))||void 0===n?void 0:n.reduce(((e,t)=>e+t.heightInPx),0))&&void 0!==r?r:0,b=null!==(d=null===(h=a.takeWhile((e=>e.lineNumber<t)))||void 0===h?void 0:h.reduce(((e,t)=>e+t.heightInPx),0))&&void 0!==d?d:0;u.push({originalRange:g,modifiedRange:m,originalHeightInPx:g.length*l+v,modifiedHeightInPx:m.length*c+b,diff:f.lineRangeMapping}),p=e,o=t};const n=f.lineRangeMapping;g(n.original.startLineNumber,n.modified.startLineNumber);let i=!0,o=n.modified.startLineNumber,p=n.original.startLineNumber;if(r)for(const r of n.innerChanges||[])r.originalRange.startColumn>1&&r.modifiedRange.startColumn>1&&t(r.originalRange.startLineNumber,r.modifiedRange.startLineNumber),r.originalRange.endColumn<e.getModel().getLineMaxColumn(r.originalRange.endLineNumber)&&t(r.originalRange.endLineNumber,r.modifiedRange.endLineNumber);t(n.original.endLineNumberExclusive,n.modified.endLineNumberExclusive),h=n.original.endLineNumberExclusive,d=n.modified.endLineNumberExclusive}return g(Number.MAX_VALUE,Number.MAX_VALUE),u}function KDe(e,t){const n=[],i=[],o=-1!==e.getOption(144).wrappingColumn,r=e._getViewModel().coordinatesConverter,s=e.getOption(66);if(o)for(let a=1;a<=e.getModel().getLineCount();a++){const e=r.getModelLineViewLineCount(a);e>1&&i.push({lineNumber:a,heightInPx:s*(e-1)})}for(const a of e.getWhitespaces()){if(t.has(a.id))continue;const e=0===a.afterLineNumber?0:r.convertViewPositionToModelPosition(new bY(a.afterLineNumber,1)).lineNumber;n.push({lineNumber:e,heightInPx:a.height})}return function(e,t,n,i){if(0===e.length)return t;if(0===t.length)return e;const o=[];let r=0,s=0;for(;r<e.length&&s<t.length;){const a=e[r],l=t[s],c=n(a),u=n(l);c<u?(o.push(a),r++):c>u?(o.push(l),s++):(o.push(i(a,l)),r++,s++)}for(;r<e.length;)o.push(e[r]),r++;for(;s<t.length;)o.push(t[s]),s++;return o}(n,i,(e=>e.lineNumber),((e,t)=>({lineNumber:e.lineNumber,heightInPx:e.heightInPx+t.heightInPx})))}jDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([$De(5,Zxe),$De(6,Vpe)],jDe);var qDe;let GDe=qDe=class extends Yq{constructor(e,t,n,i,o,r,s,a){super(),this._editors=e,this._rootElement=t,this._diffModel=n,this._rootWidth=i,this._rootHeight=o,this._modifiedEditorLayoutInfo=r,this._options=s,this._themeService=a;const l=dLe(this._themeService.onDidColorThemeChange,(()=>this._themeService.getColorTheme())),c=nLe((e=>{const t=l.read(e);return{insertColor:t.getColor(Oee)||(t.getColor(Ree)||Iee).transparent(2),removeColor:t.getColor(Pee)||(t.getColor(Aee)||Mee).transparent(2)}})),u=dLe(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollTop())),h=dLe(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollHeight()));this._register(lLe(((e,t)=>{if(!this._options.renderOverviewRuler.read(e))return;const n=CQ(document.createElement("div"));n.setClassName("diffViewport"),n.setPosition("absolute");const i=N2("div.diffOverview",{style:{position:"absolute",top:"0px",width:qDe.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;t.add(SLe(i,n.domNode)),t.add(P1(i,r2.POINTER_DOWN,(e=>{this._editors.modified.delegateVerticalScrollbarPointerDown(e)}))),t.add(O1(i,r2.MOUSE_WHEEL,(e=>{this._editors.modified.delegateScrollFromMouseWheelEvent(e)}),{passive:!1})),t.add(SLe(this._rootElement,i)),t.add(lLe(((e,t)=>{const o=this._diffModel.read(e),r=this._editors.original.createOverviewRuler("original diffOverviewRuler");r&&(t.add(r),t.add(SLe(i,r.getDomNode())));const s=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(s&&(t.add(s),t.add(SLe(i,s.getDomNode()))),!r||!s)return;const a=fLe("viewZoneChanged",this._editors.original.onDidChangeViewZones),l=fLe("viewZoneChanged",this._editors.modified.onDidChangeViewZones),d=fLe("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),g=fLe("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);t.add(sLe((e=>{var t;a.read(e),l.read(e),d.read(e),g.read(e);const n=c.read(e),i=null===(t=null==o?void 0:o.diff.read(e))||void 0===t?void 0:t.mappings;function u(e,t,n){const i=n._getViewModel();return i?e.filter((e=>e.length>0)).map((e=>{const n=i.coordinatesConverter.convertModelPositionToViewPosition(new bY(e.startLineNumber,1)),o=i.coordinatesConverter.convertModelPositionToViewPosition(new bY(e.endLineNumberExclusive,1)),r=o.lineNumber-n.lineNumber;return new nae(n.lineNumber,o.lineNumber,r,t.toString())})):[]}const h=u((i||[]).map((e=>e.lineRangeMapping.original)),n.removeColor,this._editors.original),f=u((i||[]).map((e=>e.lineRangeMapping.modified)),n.insertColor,this._editors.modified);null==r||r.setZones(h),null==s||s.setZones(f)}))),t.add(sLe((e=>{const t=this._rootHeight.read(e),o=this._rootWidth.read(e),a=this._modifiedEditorLayoutInfo.read(e);if(a){const i=qDe.ENTIRE_DIFF_OVERVIEW_WIDTH-2*qDe.ONE_OVERVIEW_WIDTH;r.setLayout({top:0,height:t,right:i+qDe.ONE_OVERVIEW_WIDTH,width:qDe.ONE_OVERVIEW_WIDTH}),s.setLayout({top:0,height:t,right:0,width:qDe.ONE_OVERVIEW_WIDTH});const o=u.read(e),l=h.read(e),c=this._editors.modified.getOption(102),d=new oie(c.verticalHasArrows?c.arrowSize:0,c.verticalScrollbarSize,0,a.height,l,o);n.setTop(d.getSliderPosition()),n.setHeight(d.getSliderSize())}else n.setTop(0),n.setHeight(0);i.style.height=t+"px",i.style.left=o-qDe.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",n.setWidth(qDe.ENTIRE_DIFF_OVERVIEW_WIDTH)})))})))})))}};GDe.ONE_OVERVIEW_WIDTH=15,GDe.ENTIRE_DIFF_OVERVIEW_WIDTH=2*qDe.ONE_OVERVIEW_WIDTH,GDe=qDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([function(e,t){return function(n,i){t(n,i,e)}}(7,Fie)],GDe),g8("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},nK(0,"The border color for text that got moved in the diff editor.")),g8("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},nK(0,"The active border color for text that got moved in the diff editor."));class YDe extends Yq{constructor(){super(...arguments),this._id=++YDe.idCounter,this._onDidDispose=this._register(new sG),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,n=0){this._targetEditor.revealLines(e,t,n)}revealLinesInCenter(e,t,n=0){this._targetEditor.revealLinesInCenter(e,t,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,n)}revealLinesNearTop(e,t,n=0){this._targetEditor.revealLinesNearTop(e,t,n)}revealRange(e,t=0,n=!1,i=!0){this._targetEditor.revealRange(e,t,n,i)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,n){this._targetEditor.trigger(e,t,n)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}}YDe.idCounter=0;var XDe=function(e,t){return function(n,i){t(n,i,e)}};let ZDe=class extends Yq{constructor(e,t,n,i,o,r,s){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=n,this._createInnerEditor=o,this._instantiationService=r,this._keybindingService=s,this._onDidContentSizeChange=this._register(new sG),this.original=this._register(this._createLeftHandSideEditor(n.editorOptions.get(),i.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(n.editorOptions.get(),i.modifiedEditor||{})),this.modifiedModel=dLe(this.modified.onDidChangeModel,(()=>this.modified.getModel())),this._register(aLe({createEmptyChangeSummary:()=>({}),handleChange:(e,t)=>(e.didChange(n.editorOptions)&&Object.assign(t,e.change.changedOptions),!0)},((e,t)=>{n.editorOptions.read(e),this._options.renderSideBySide.read(e),this.modified.updateOptions(this._adjustOptionsForRightHandSide(e,t)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(e,t))})))}_createLeftHandSideEditor(e,t){const n=this._adjustOptionsForLeftHandSide(void 0,e),i=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,n,t);return i.setContextValue("isInDiffLeftEditor",!0),i}_createRightHandSideEditor(e,t){const n=this._adjustOptionsForRightHandSide(void 0,e),i=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,n,t);return i.setContextValue("isInDiffRightEditor",!0),i}_constructInnerEditor(e,t,n,i){const o=this._createInnerEditor(e,t,n,i);return this._register(o.onDidContentSizeChange((e=>{const t=this.original.getContentWidth()+this.modified.getContentWidth()+GDe.ENTIRE_DIFF_OVERVIEW_WIDTH,n=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:t,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})}))),o}_adjustOptionsForLeftHandSide(e,t){const n=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(n.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},n.wordWrapOverride1=this._options.diffWordWrap.get()):(n.wordWrapOverride1="off",n.wordWrapOverride2="off",n.stickyScroll={enabled:!1},n.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),t.originalAriaLabel&&(n.ariaLabel=t.originalAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.readOnly=!this._options.originalEditable.get(),n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(e,t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.wordWrapOverride1=this._options.diffWordWrap.get(),n.revealHorizontalRightPadding=Iq.revealHorizontalRightPadding.defaultValue+GDe.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}_adjustOptionsForSubEditor(e){const t=Object.assign(Object.assign({},e),{dimension:{height:0,width:0}});return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var t;e||(e="");const n=nK(0," use {0} to open the accessibility help.",null===(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))||void 0===t?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?e+n:e?e.replaceAll(n,""):""}};ZDe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([XDe(5,AQ),XDe(6,Hoe)],ZDe);class QDe{get editorOptions(){return this._options}constructor(e,t){this.diffEditorWidth=t,this.couldShowInlineViewBecauseOfSize=nLe(this,(e=>this._options.read(e).renderSideBySide&&this.diffEditorWidth.read(e)<=this._options.read(e).renderSideBySideInlineBreakpoint)),this.renderOverviewRuler=nLe(this,(e=>this._options.read(e).renderOverviewRuler)),this.renderSideBySide=nLe(this,(e=>this._options.read(e).renderSideBySide&&!(this._options.read(e).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(e)))),this.readOnly=nLe(this,(e=>this._options.read(e).readOnly)),this.shouldRenderRevertArrows=nLe(this,(e=>!!this._options.read(e).renderMarginRevertIcon&&(!!this.renderSideBySide.read(e)&&!this.readOnly.read(e)))),this.renderIndicators=nLe(this,(e=>this._options.read(e).renderIndicators)),this.enableSplitViewResizing=nLe(this,(e=>this._options.read(e).enableSplitViewResizing)),this.splitViewDefaultRatio=nLe(this,(e=>this._options.read(e).splitViewDefaultRatio)),this.ignoreTrimWhitespace=nLe(this,(e=>this._options.read(e).ignoreTrimWhitespace)),this.maxComputationTimeMs=nLe(this,(e=>this._options.read(e).maxComputationTime)),this.showMoves=nLe(this,(e=>this._options.read(e).experimental.showMoves&&this.renderSideBySide.read(e))),this.isInEmbeddedEditor=nLe(this,(e=>this._options.read(e).isInEmbeddedEditor)),this.diffWordWrap=nLe(this,(e=>this._options.read(e).diffWordWrap)),this.originalEditable=nLe(this,(e=>this._options.read(e).originalEditable)),this.diffCodeLens=nLe(this,(e=>this._options.read(e).diffCodeLens)),this.accessibilityVerbose=nLe(this,(e=>this._options.read(e).accessibilityVerbose)),this.diffAlgorithm=nLe(this,(e=>this._options.read(e).diffAlgorithm)),this.showEmptyDecorations=nLe(this,(e=>this._options.read(e).experimental.showEmptyDecorations)),this.onlyShowAccessibleDiffViewer=nLe(this,(e=>this._options.read(e).onlyShowAccessibleDiffViewer)),this.hideUnchangedRegions=nLe(this,(e=>this._options.read(e).hideUnchangedRegions.enabled)),this.hideUnchangedRegionsRevealLineCount=nLe(this,(e=>this._options.read(e).hideUnchangedRegions.revealLineCount)),this.hideUnchangedRegionsContextLineCount=nLe(this,(e=>this._options.read(e).hideUnchangedRegions.contextLineCount)),this.hideUnchangedRegionsMinimumLineCount=nLe(this,(e=>this._options.read(e).hideUnchangedRegions.minimumLineCount));const n=Object.assign(Object.assign({},e),JDe(e,zfe));this._options=Qke(this,n)}updateOptions(e){const t=JDe(e,this._options.get()),n=Object.assign(Object.assign(Object.assign({},this._options.get()),e),t);this._options.set(n,void 0,{changedOptions:e})}}function JDe(e,t){var n,i,o,r,s,a,l,c;return{enableSplitViewResizing:tq(e.enableSplitViewResizing,t.enableSplitViewResizing),splitViewDefaultRatio:rq(e.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:tq(e.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:tq(e.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:iq(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:iq(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:tq(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:tq(e.renderIndicators,t.renderIndicators),originalEditable:tq(e.originalEditable,t.originalEditable),diffCodeLens:tq(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:tq(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:lq(e.diffWordWrap,t.diffWordWrap,["off","on","inherit"]),diffAlgorithm:lq(e.diffAlgorithm,t.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:tq(e.accessibilityVerbose,t.accessibilityVerbose),experimental:{showMoves:tq(null===(n=e.experimental)||void 0===n?void 0:n.showMoves,t.experimental.showMoves),showEmptyDecorations:tq(null===(i=e.experimental)||void 0===i?void 0:i.showEmptyDecorations,t.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:tq(null!==(r=null===(o=e.hideUnchangedRegions)||void 0===o?void 0:o.enabled)&&void 0!==r?r:null===(s=e.experimental)||void 0===s?void 0:s.collapseUnchangedRegions,t.hideUnchangedRegions.enabled),contextLineCount:iq(null===(a=e.hideUnchangedRegions)||void 0===a?void 0:a.contextLineCount,t.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:iq(null===(l=e.hideUnchangedRegions)||void 0===l?void 0:l.minimumLineCount,t.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:iq(null===(c=e.hideUnchangedRegions)||void 0===c?void 0:c.revealLineCount,t.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:tq(e.isInEmbeddedEditor,t.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:tq(e.onlyShowAccessibleDiffViewer,t.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:iq(e.renderSideBySideInlineBreakpoint,t.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:tq(e.useInlineViewWhenSpaceIsLimited,t.useInlineViewWhenSpaceIsLimited)}}var eEe=function(e,t){return function(n,i){t(n,i,e)}};let tEe=class extends YDe{constructor(e,t,n,i,o,r,s,a){var l;super(),this._domElement=e,this._parentContextKeyService=i,this._parentInstantiationService=o,this._audioCueService=s,this._editorProgressService=a,this.elements=N2("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[N2("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[v2("span",{},"No Changes")]),N2("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),N2("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),N2("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register(new eLe(void 0,"diffModel",void 0)),this.onDidChangeModel=tG.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Lde([RJ,this._contextKeyService])),this._boundarySashes=Qke(this,void 0),this._accessibleDiffViewerShouldBeVisible=Qke(this,!1),this._accessibleDiffViewerVisible=nLe(this,(e=>!!this._options.onlyShowAccessibleDiffViewer.read(e)||this._accessibleDiffViewerShouldBeVisible.read(e))),this.movedBlocksLinesPart=Qke(this,void 0),this._layoutInfo=nLe(this,(e=>{var t,n,i;const o=this._rootSizeObserver.width.read(e),r=this._rootSizeObserver.height.read(e),s=null===(t=this._sash.read(e))||void 0===t?void 0:t.sashLeft.read(e),a=null!=s?s:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),l=o-a-(this._options.renderOverviewRuler.read(e)?GDe.ENTIRE_DIFF_OVERVIEW_WIDTH:0),c=a-(null!==(i=null===(n=this.movedBlocksLinesPart.read(e))||void 0===n?void 0:n.width.read(e))&&void 0!==i?i:0);return this.elements.original.style.width=c+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=l+"px",this.elements.modified.style.left=a+"px",this._editors.original.layout({width:c,height:r}),this._editors.modified.layout({width:l,height:r}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}})),this._diffValue=this._diffModel.map(((e,t)=>null==e?void 0:e.diff.read(t))),this.onDidUpdateDiff=tG.fromObservableLight(this._diffValue),r.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(qq((()=>this._domElement.removeChild(this.elements.root)))),this._rootSizeObserver=this._register(new xLe(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout(null!==(l=t.automaticLayout)&&void 0!==l&&l),this._options=new QDe(t,this._rootSizeObserver.width),this._contextKeyService.createKey(Tre.isEmbeddedDiffEditor.key,!1);const c=Tre.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register(sLe((e=>{c.set(this._options.isInEmbeddedEditor.read(e))})));const u=Tre.comparingMovedCode.bindTo(this._contextKeyService);this._register(sLe((e=>{var t;u.set(!!(null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e)))})));const h=Tre.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register(sLe((e=>{h.set(this._options.couldShowInlineViewBecauseOfSize.read(e))}))),this._editors=this._register(this._instantiationService.createInstance(ZDe,this.elements.original,this.elements.modified,this._options,n,((e,t,n,i)=>this._createInnerEditor(e,t,n,i)))),this._sash=iLe(this,((e,t)=>{const n=this._options.renderSideBySide.read(e);if(this.elements.root.classList.toggle("side-by-side",n),!n)return;const i=t.add(new gDe(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map(((e,t)=>e-(this._options.renderOverviewRuler.read(t)?GDe.ENTIRE_DIFF_OVERVIEW_WIDTH:0)))}));return t.add(sLe((e=>{const t=this._boundarySashes.read(e);t&&i.setBoundarySashes(t)}))),i})),this._register(vLe(this._sash)),this._register(lLe(((e,t)=>{this.unchangedRangesFeature=t.add(this._instantiationService.createInstance(TLe(wDe,e),this._editors,this._diffModel,this._options))}))),this._register(lLe(((e,t)=>{t.add(new(TLe(dDe,e))(this._editors,this._diffModel,this._options))}))),this._register(lLe(((e,t)=>{t.add(this._instantiationService.createInstance(TLe(jDe,e),this._editors,this._diffModel,this._options,this,(()=>this.unchangedRangesFeature.isUpdatingViewZones)))}))),this._register(lLe(((e,t)=>{t.add(this._instantiationService.createInstance(TLe(GDe,e),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((e=>e.modifiedEditor)),this._options))}))),this._register(lLe(((e,t)=>{this._accessibleDiffViewer=t.add(this._register(this._instantiationService.createInstance(TLe(zLe,e),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,((e,t)=>this._accessibleDiffViewerShouldBeVisible.set(e,t)),this._options.onlyShowAccessibleDiffViewer.map((e=>!e)),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map(((e,t)=>{var n;return null===(n=null==e?void 0:e.diff.read(t))||void 0===n?void 0:n.mappings.map((e=>e.lineRangeMapping))})),this._editors)))})));const d=this._accessibleDiffViewerVisible.map((e=>e?"hidden":"visible"));this._register(NLe(this.elements.modified,{visibility:d})),this._register(NLe(this.elements.original,{visibility:d})),this._createDiffEditorContributions(),r.addDiffEditor(this),this._register(vLe(this._layoutInfo)),this._register(lLe(((e,t)=>{this.movedBlocksLinesPart.set(t.add(new(TLe(cDe,e))(this.elements.root,this._diffModel,this._layoutInfo.map((e=>e.originalEditor)),this._layoutInfo.map((e=>e.modifiedEditor)),this._editors)),void 0)}))),this._register(NLe(this.elements.overlay,{width:this._layoutInfo.map(((e,t)=>e.originalEditor.width+(this._options.renderSideBySide.read(t)?0:e.modifiedEditor.width))),visibility:nLe((e=>{var t,n;return this._options.hideUnchangedRegions.read(e)&&0===(null===(n=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.diff.read(e))||void 0===n?void 0:n.mappings.length)?"visible":"hidden"}))})),this._register(this._editors.modified.onMouseDown((e=>{var t,n;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("arrow-revert-change"))){const t=e.target.position.lineNumber,i=e.target,o=this._diffModel.get();if(!o)return;const r=null===(n=o.diff.get())||void 0===n?void 0:n.mappings;if(!r)return;const s=r.find((e=>(null==i?void 0:i.detail.afterLineNumber)===e.lineRangeMapping.modified.startLineNumber-1||e.lineRangeMapping.modified.startLineNumber===t));if(!s)return;this.revert(s.lineRangeMapping),e.event.stopPropagation()}}))),this._register(tG.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(e=>{var t,n;if(3===(null==e?void 0:e.reason)){const i=null===(n=null===(t=this._diffModel.get())||void 0===t?void 0:t.diff.get())||void 0===n?void 0:n.mappings.find((t=>t.lineRangeMapping.modified.contains(e.position.lineNumber)));(null==i?void 0:i.lineRangeMapping.modified.isEmpty)?this._audioCueService.playAudioCue(Cke.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):(null==i?void 0:i.lineRangeMapping.original.isEmpty)?this._audioCueService.playAudioCue(Cke.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):i&&this._audioCueService.playAudioCue(Cke.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}})));const g=this._diffModel.map(((e,t)=>null==e?void 0:e.isDiffUpToDate.read(t)));this._register(lLe(((e,t)=>{if(!1===g.read(e)){const e=this._editorProgressService.show(!0,1e3);t.add(qq((()=>e.done())))}})))}_createInnerEditor(e,t,n,i){return e.createInstance(oge,t,n,i)}_createDiffEditorContributions(){const e=F2.getDiffEditorContributions();for(const n of e)try{this._register(this._instantiationService.createInstance(n.ctor,this))}catch(t){Rq(t)}}get _targetEditor(){return this._editors.modified}getEditorType(){return I9.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var e;return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:null===(e=this._diffModel.get())||void 0===e?void 0:e.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const n=e;this._editors.original.restoreViewState(n.original),this._editors.modified.restoreViewState(n.modified),n.modelState&&(null===(t=this._diffModel.get())||void 0===t||t.restoreSerializedState(n.modelState))}}createViewModel(e){return this._instantiationService.createInstance(MDe,e,this._options,this)}getModel(){var e,t;return null!==(t=null===(e=this._diffModel.get())||void 0===e?void 0:e.model)&&void 0!==t?t:null}setModel(e){!e&&this._diffModel.get()&&this._accessibleDiffViewer.close();const t=e?"model"in e?e:this.createViewModel(e):void 0;this._editors.original.setModel(t?t.model.original:null),this._editors.modified.setModel(t?t.model.modified:null),Gke((e=>{this._diffModel.set(t,e)}))}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.diff.get();return t?t.mappings.map((e=>{const t=e.lineRangeMapping;let n,i,o,r,s=t.innerChanges;return t.original.isEmpty?(n=t.original.startLineNumber-1,i=0,s=void 0):(n=t.original.startLineNumber,i=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(o=t.modified.startLineNumber-1,r=0,s=void 0):(o=t.modified.startLineNumber,r=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:n,originalEndLineNumber:i,modifiedStartLineNumber:o,modifiedEndLineNumber:r,charChanges:null==s?void 0:s.map((e=>({originalStartLineNumber:e.originalRange.startLineNumber,originalStartColumn:e.originalRange.startColumn,originalEndLineNumber:e.originalRange.endLineNumber,originalEndColumn:e.originalRange.endColumn,modifiedStartLineNumber:e.modifiedRange.startLineNumber,modifiedStartColumn:e.modifiedRange.startColumn,modifiedEndLineNumber:e.modifiedRange.endLineNumber,modifiedEndColumn:e.modifiedRange.endColumn})))}})):null}revert(e){var t;const n=null===(t=this._diffModel.get())||void 0===t?void 0:t.model;if(!n)return;const i=e.innerChanges?e.innerChanges.map((e=>({range:e.modifiedRange,text:n.original.getValueInRange(e.originalRange)}))):[{range:e.modified.toExclusiveRange(),text:n.original.getValueInRange(e.original.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",i)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}mapToOtherSide(){var e,t;const n=this._editors.modified.hasWidgetFocus(),i=n?this._editors.modified:this._editors.original,o=n?this._editors.original:this._editors.modified;let r;const s=i.getSelection();if(s){const i=null===(t=null===(e=this._diffModel.get())||void 0===e?void 0:e.diff.get())||void 0===t?void 0:t.mappings.map((e=>n?e.lineRangeMapping.flip():e.lineRangeMapping));if(i){const e=nEe(s.getStartPosition(),i),t=nEe(s.getEndPosition(),i);r=_Y.plusRange(e,t)}}return{destination:o,destinationSelection:r}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.unchangedRegions.get();t&&Gke((e=>{for(const n of t)n.collapseAll(e)}))}showAllUnchangedRegions(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.unchangedRegions.get();t&&Gke((e=>{for(const n of t)n.showAll(e)}))}};function nEe(e,t){const n=Y3(t,(t=>t.original.startLineNumber<=e.lineNumber));if(!n)return _Y.fromPositions(e);if(n.original.endLineNumberExclusive<=e.lineNumber){const t=e.lineNumber-n.original.endLineNumberExclusive+n.modified.endLineNumberExclusive;return _Y.fromPositions(new bY(t,e.column))}if(!n.innerChanges)return _Y.fromPositions(new bY(n.modified.startLineNumber,1));const i=Y3(n.innerChanges,(t=>t.originalRange.getStartPosition().isBeforeOrEqual(e)));if(!i){const t=e.lineNumber-n.original.startLineNumber+n.modified.startLineNumber;return _Y.fromPositions(new bY(t,e.column))}if(i.originalRange.containsPosition(e))return i.modifiedRange;{const t=(o=i.originalRange.getEndPosition(),r=e,o.lineNumber===r.lineNumber?new Tae(0,r.column-o.column):new Tae(r.lineNumber-o.lineNumber,r.column-1));return _Y.fromPositions(function(e,t){return 0===t.lineCount?new bY(e.lineNumber,e.column+t.columnCount):new bY(e.lineNumber+t.lineCount,t.columnCount+1)}(i.modifiedRange.getEndPosition(),t))}var o,r}tEe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([eEe(3,RJ),eEe(4,AQ),eEe(5,PQ),eEe(6,_ke),eEe(7,bpe)],tEe);var iEe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},oEe=function(e,t){return function(n,i){t(n,i,e)}};let rEe=0,sEe=!1;function aEe(e){if(!e){if(sEe)return;sEe=!0}!function(e){A7=document.createElement("div"),A7.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),A7.appendChild(e),e};O7=t(),P7=t();const n=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),A7.appendChild(e),e};F7=n(),B7=n(),e.appendChild(A7)}(e||document.body)}let lEe=class extends oge{constructor(e,t,n,i,o,r,s,a,l,c,u,h){const d=Object.assign({},t);d.ariaLabel=d.ariaLabel||Ape.editorViewAccessibleLabel,d.ariaLabel=d.ariaLabel+";"+Ape.accessibilityHelpMessage,super(e,d,{},n,i,o,r,a,l,c,u,h),this._standaloneKeybindingService=s instanceof Rke?s:null,aEe(d.ariaContainerElement)}addCommand(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const i="DYNAMIC_"+ ++rEe,o=dJ.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,o),i}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Yq.None;const t=e.id,n=e.label,i=dJ.and(dJ.equals("editorId",this.getId()),dJ.deserialize(e.precondition)),o=e.keybindings,r=dJ.and(i,dJ.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...n)=>Promise.resolve(e.run(this,...n)),c=new Gq,u=this.getId()+":"+t;if(c.add(YQ.registerCommand(u,l)),s){const e={command:{id:u,title:n},when:i,group:s,order:a};c.add(r0.appendMenuItem(n0.EditorContext,e))}if(Array.isArray(o))for(const d of o)c.add(this._standaloneKeybindingService.addDynamicKeybinding(u,d,l,r));const h=new kae(u,n,n,i,((...t)=>Promise.resolve(e.run(this,...t))),this._contextKeyService);return this._actions.set(t,h),c.add(qq((()=>{this._actions.delete(t)}))),c}_triggerCommand(e,t){if(this._codeEditorService instanceof yge)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};lEe=iEe([oEe(2,AQ),oEe(3,PQ),oEe(4,GQ),oEe(5,RJ),oEe(6,Hoe),oEe(7,Fie),oEe(8,Ide),oEe(9,X7),oEe(10,z5),oEe(11,b9)],lEe);let cEe=class extends lEe{constructor(e,t,n,i,o,r,s,a,l,c,u,h,d,g,f){const p=Object.assign({},t);Vke(c,p,!1);const m=a.registerEditorContainer(e);"string"==typeof p.theme&&a.setTheme(p.theme),void 0!==p.autoDetectHighContrast&&a.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast));const v=p.model;let b;if(delete p.model,super(e,p,n,i,o,r,s,a,l,u,g,f),this._configurationService=c,this._standaloneThemeService=a,this._register(m),void 0===v){const e=d.getLanguageIdByMimeType(p.language)||p.language||I5;b=hEe(h,d,p.value||"",e,void 0),this._ownsModel=!0}else b=v,this._ownsModel=!1;if(this._attachModel(b),b){const e={oldModelUrl:null,newModelUrl:b.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){Vke(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};cEe=iEe([oEe(2,AQ),oEe(3,PQ),oEe(4,GQ),oEe(5,RJ),oEe(6,Hoe),oEe(7,Pxe),oEe(8,Ide),oEe(9,a5),oEe(10,X7),oEe(11,FQ),oEe(12,g5),oEe(13,z5),oEe(14,b9)],cEe);let uEe=class extends tEe{constructor(e,t,n,i,o,r,s,a,l,c,u,h){const d=Object.assign({},t);Vke(a,d,!0);const g=r.registerEditorContainer(e);"string"==typeof d.theme&&r.setTheme(d.theme),void 0!==d.autoDetectHighContrast&&r.setAutoDetectHighContrast(Boolean(d.autoDetectHighContrast)),super(e,d,{},i,n,o,h,c),this._configurationService=a,this._standaloneThemeService=r,this._register(g)}dispose(){super.dispose()}updateOptions(e){Vke(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,n){return e.createInstance(lEe,t,n)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function hEe(e,t,n,i,o){if(n=n||"",!i){const i=n.indexOf("\n");let r=n;return-1!==i&&(r=n.substring(0,i)),dEe(e,n,t.createByFilepathOrFirstLine(o||null,r),o)}return dEe(e,n,t.createById(i),o)}function dEe(e,t,n,i){return e.createModel(t,n,i)}uEe=iEe([oEe(2,AQ),oEe(3,RJ),oEe(4,PQ),oEe(5,Pxe),oEe(6,Ide),oEe(7,a5),oEe(8,Vpe),oEe(9,bpe),oEe(10,Zxe),oEe(11,_ke)],uEe);var gEe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function fEe(e,t,n){return jke.initialize(n||{}).createInstance(cEe,e,t)}function pEe(e){return jke.get(PQ).onCodeEditorAdd((t=>{e(t)}))}function mEe(e){return jke.get(PQ).onDiffEditorAdd((t=>{e(t)}))}function vEe(){return jke.get(PQ).listCodeEditors()}function bEe(){return jke.get(PQ).listDiffEditors()}function _Ee(e,t,n){return jke.initialize(n||{}).createInstance(uEe,e,t)}function yEe(e){if("string"!=typeof e.id||"function"!=typeof e.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return YQ.registerCommand(e.id,e.run)}function wEe(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=dJ.deserialize(e.precondition),n=new Gq;if(n.add(YQ.registerCommand(e.id,((n,...i)=>A2.runEditorCommand(n,i,t,((t,n,i)=>Promise.resolve(e.run(n,...i))))))),e.contextMenuGroupId){const i={command:{id:e.id,title:e.label},when:t,group:e.contextMenuGroupId,order:e.contextMenuOrder||0};n.add(r0.appendMenuItem(n0.EditorContext,i))}if(Array.isArray(e.keybindings)){const i=jke.get(Hoe);if(i instanceof Rke){const o=dJ.and(t,dJ.deserialize(e.keybindingContext));n.add(i.addDynamicKeybindings(e.keybindings.map((t=>({keybinding:t,command:e.id,when:o})))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return n}function CEe(e){return SEe([e])}function SEe(e){const t=jke.get(Hoe);return t instanceof Rke?t.addDynamicKeybindings(e.map((e=>({keybinding:e.keybinding,command:e.command,commandArgs:e.commandArgs,when:dJ.deserialize(e.when)})))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Yq.None)}function xEe(e,t,n){const i=jke.get(g5),o=i.getLanguageIdByMimeType(t)||t;return hEe(jke.get(FQ),i,e,o,n)}function kEe(e,t){const n=jke.get(g5),i=n.getLanguageIdByMimeType(t)||t||I5;e.setLanguage(n.createById(i))}function LEe(e,t,n){if(e){jke.get(q_e).changeOne(t,e.uri,n)}}function DEe(e){jke.get(q_e).changeAll(e,[])}function EEe(e){return jke.get(q_e).read(e)}function NEe(e){return jke.get(q_e).onMarkerChanged(e)}function TEe(e){return jke.get(FQ).getModel(e)}function IEe(){return jke.get(FQ).getModels()}function MEe(e){return jke.get(FQ).onModelAdded(e)}function REe(e){return jke.get(FQ).onModelRemoved(e)}function AEe(e){return jke.get(FQ).onModelLanguageChanged((t=>{e({model:t.model,oldLanguage:t.oldLanguageId})}))}function OEe(e){return function(e,t,n){return new T9(e,t,n)}(jke.get(FQ),jke.get(z5),e)}function PEe(e,t){const n=jke.get(g5),i=jke.get(Pxe);return I7.colorizeElement(i,n,e,t).then((()=>{i.registerEditorContainer(e)}))}function FEe(e,t,n){const i=jke.get(g5);return jke.get(Pxe).registerEditorContainer(document.body),I7.colorize(i,e,t,n)}function BEe(e,t,n=4){return jke.get(Pxe).registerEditorContainer(document.body),I7.colorizeModelLine(e,t,n)}function zEe(e,t){jY.getOrCreate(t);const n=function(e){const t=jY.get(e);return t||{getInitialState:()=>M9,tokenize:(t,n,i)=>R9(e,i)}}(t),i=wZ(e),o=[];let r=n.getInitialState();for(let s=0,a=i.length;s<a;s++){const e=i[s],t=n.tokenize(e,!0,r);o[s]=t.tokens,r=t.endState}return o}function VEe(e,t){jke.get(Pxe).defineTheme(e,t)}function WEe(e){jke.get(Pxe).setTheme(e)}function HEe(){IQ.clearAllFontInfos()}function $Ee(e,t){return YQ.registerCommand({id:e,handler:t})}function jEe(e){return jke.get(jge).registerOpener({open(t){return gEe(this,void 0,void 0,(function*(){return"string"==typeof t&&(t=aY.parse(t)),e.open(t)}))}})}function UEe(e){return jke.get(PQ).registerCodeEditorOpenHandler(((t,n,i)=>gEe(this,void 0,void 0,(function*(){var i;if(!n)return null;const o=null===(i=t.options)||void 0===i?void 0:i.selection;let r;return o&&"number"==typeof o.endLineNumber&&"number"==typeof o.endColumn?r=o:o&&(r={lineNumber:o.startLineNumber,column:o.startColumn}),(yield e.openCodeEditor(n,t.resource,r))?n:null}))))}function KEe(e,t){return"boolean"==typeof e?e:t}function qEe(e,t){return"string"==typeof e?e:t}function GEe(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const n=function(e){const t={};for(const n of e)t[n]=!0;return t}(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function YEe(e,t){t=t.replace(/@@/g,"");let n,i=0;do{n=!1,t=t.replace(/@(\w+)/g,(function(i,o){n=!0;let r="";if("string"==typeof e[o])r=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?f7(e,"language definition does not contain attribute '"+o+"', used at: "+t):f7(e,"attribute reference '"+o+"' must be a string, used at: "+t);r=e[o].source}return h7(r)?"":"(?:"+r+")"})),i++}while(n&&i<5);t=t.replace(/\x01/g,"@");const o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function XEe(e,t,n,i){let o=-1,r=n,s=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);let a,l="~",c=r;if(r&&0!==r.length?/^\w*$/.test(c)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],c=s[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){const n=e[c];if(!n)throw f7(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const n of t)if(!e(n))return!1;return!0}((function(e){return"string"==typeof e}),n))throw f7(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);const i=GEe(n,e.ignoreCase);a=function(e){return"@"===l?i(e):!i(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){const t=YEe(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,n,i,o){return YEe(e,"^"+p7(e,c,n,i,o)+"$").test(t)};else if(c.indexOf("$")<0){const t=d7(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{const t=d7(e,c);a=function(n,i,o,r,s){const a=p7(e,t,i,o,r);return"=="===l?n===a:n!==a}}else{const t=GEe(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:n,value:i,test:function(e,t,n,i){return a(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){const r=function(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;const e=n.split(".");if(e.unshift(n),i<e.length)return e[i]}return null}(e,t,n,o);return a(r||"",e,t,n,i)}}}function ZEe(e,t,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw f7(e,"a 'token' attribute must be of type string, in rule: "+t);{const i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)i.bracket=1;else{if("@close"!==n.bracket)throw f7(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);i.bracket=-1}if(n.next){if("string"!=typeof n.next)throw f7(e,"the next state must be a string value in rule: "+t);{let o=n.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let n=t;for(;n&&n.length>0;){if(e.stateNames[n])return!0;const t=n.lastIndexOf(".");n=t<0?null:n.substr(0,t)}return!1}(e,p7(e,o,"",[],""))))throw f7(e,"the next state '"+n.next+"' is not defined in rule: "+t);i.next=o}}return"number"==typeof n.goBack&&(i.goBack=n.goBack),"string"==typeof n.switchTo&&(i.switchTo=n.switchTo),"string"==typeof n.log&&(i.log=n.log),"string"==typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}}if(Array.isArray(n)){const i=[];for(let o=0,r=n.length;o<r;o++)i[o]=ZEe(e,t,n[o]);return{group:i}}if(n.cases){const i=[];for(const r in n.cases)if(n.cases.hasOwnProperty(r)){const o=ZEe(e,t,n.cases[r]);"@default"===r||"@"===r||""===r?i.push({test:void 0,value:o,name:r}):"@eos"===r?i.push({test:function(e,t,n,i){return i},value:o,name:r}):i.push(XEe(e,t,r,o))}const o=e.defaultToken;return{test:function(e,t,n,r){for(const o of i){if(!o.test||o.test(e,t,n,r))return o.value}return o}}}throw f7(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class QEe{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let n;if("string"==typeof t)n=t;else{if(!(t instanceof RegExp))throw f7(e,"rules must start with a match string or regular expression: "+this.name);n=t.source}this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=YEe(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(e,t){this.action=ZEe(e,this.name,t)}}function JEe(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");const n={};n.languageId=e,n.includeLF=KEe(t.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start="string"==typeof t.start?t.start:null,n.ignoreCase=KEe(t.ignoreCase,!1),n.unicode=KEe(t.unicode,!1),n.tokenPostfix=qEe(t.tokenPostfix,"."+n.languageId),n.defaultToken=qEe(t.defaultToken,"source"),n.usesEmbedded=!1;const i=t;function o(e,r,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw f7(n,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw f7(n,"include target '"+s+"' is not defined at: "+e);o(e+"."+s,r,t.tokenizer[s])}else{const t=new QEe(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(i,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(i,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw f7(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(i,e)}}else t.setAction(i,a[1]);else{if(!a.regex)throw f7(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=KEe(a.matchOnlyAtLineStart,!1)),t.setRegex(i,a.regex),t.setAction(i,a.action)}r.push(t)}}}if(i.languageId=e,i.includeLF=n.includeLF,i.ignoreCase=n.ignoreCase,i.unicode=n.unicode,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw f7(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(const s in t.tokenizer)if(t.tokenizer.hasOwnProperty(s)){n.start||(n.start=s);const e=t.tokenizer[s];n.tokenizer[s]=new Array,o("tokenizer."+s,n.tokenizer[s],e)}if(n.usesEmbedded=i.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw f7(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(const s of t.brackets){let e=s;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw f7(n,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw f7(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");r.push({token:e.token+n.tokenPostfix,open:d7(n,e.open),close:d7(n,e.close)})}return n.brackets=r,n.noThrow=!0,n}var eNe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function tNe(e){T5.registerLanguage(e)}function nNe(){let e=[];return e=e.concat(T5.getLanguages()),e}function iNe(e){return jke.get(g5).languageIdCodec.encodeLanguageId(e)}function oNe(e,t){return jke.withServices((()=>{const n=jke.get(g5).onDidRequestRichLanguageFeatures((i=>{i===e&&(n.dispose(),t())}));return n}))}function rNe(e,t){return jke.withServices((()=>{const n=jke.get(g5).onDidRequestBasicLanguageFeatures((i=>{i===e&&(n.dispose(),t())}));return n}))}function sNe(e,t){if(!jke.get(g5).isRegisteredLanguageId(e))throw new Error(`Cannot set configuration for unknown language ${e}`);return jke.get(z5).register(e,t,100)}class aNe{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,n){if("function"==typeof this._actual.tokenize)return lNe.adaptTokenize(this._languageId,this._actual,e,n);throw new Error("Not supported!")}tokenizeEncoded(e,t,n){const i=this._actual.tokenizeEncoded(e,n);return new NY(i.tokens,i.endState)}}class lNe{constructor(e,t,n,i){this._languageId=e,this._actual=t,this._languageService=n,this._standaloneThemeService=i}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const n=[];let i=0;for(let o=0,r=e.length;o<r;o++){const r=e[o];let s=r.startIndex;0===o?s=0:s<i&&(s=i),n[o]=new DY(s,r.scopes,t),i=s}return n}static adaptTokenize(e,t,n,i){const o=t.tokenize(n,i),r=lNe._toClassicTokens(o.tokens,e);let s;return s=o.endState.equals(i)?i:o.endState,new EY(r,s)}tokenize(e,t,n){return lNe.adaptTokenize(this._languageId,this._actual,e,n)}_toBinaryTokens(e,t){const n=e.encodeLanguageId(this._languageId),i=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let r=0,s=0;for(let l=0,c=t.length;l<c;l++){const e=t[l],a=1024|i.match(n,e.scopes);if(r>0&&o[r-1]===a)continue;let c=e.startIndex;0===l?c=0:c<s&&(c=s),o[r++]=c,o[r++]=a,s=c}const a=new Uint32Array(r);for(let l=0;l<r;l++)a[l]=o[l];return a}tokenizeEncoded(e,t,n){const i=this._actual.tokenize(e,n),o=this._toBinaryTokens(this._languageService.languageIdCodec,i.tokens);let r;return r=i.endState.equals(n)?n:i.endState,new NY(o,r)}}function cNe(e){return e&&"function"==typeof e.then}function uNe(e){const t=jke.get(Pxe);if(e){const n=[null];for(let t=1,i=e.length;t<i;t++)n[t]=n9.fromHex(e[t]);t.setColorMapOverride(n)}else t.setColorMapOverride(null)}function hNe(e,t){return function(e){return"tokenizeEncoded"in e}(t)?new aNe(e,t):new lNe(e,t,jke.get(g5),jke.get(Pxe))}function dNe(e,t){const n=new $Y((()=>eNe(this,void 0,void 0,(function*(){const n=yield Promise.resolve(t.create());return n?"function"==typeof n.getInitialState?hNe(e,n):new k7(jke.get(g5),jke.get(Pxe),e,JEe(e,n),jke.get(a5)):null}))));return jY.registerFactory(e,n)}function gNe(e,t){if(!jke.get(g5).isRegisteredLanguageId(e))throw new Error(`Cannot set tokens provider for unknown language ${e}`);return cNe(t)?dNe(e,{create:()=>t}):jY.register(e,hNe(e,t))}function fNe(e,t){return cNe(t)?dNe(e,{create:()=>t}):jY.register(e,(n=t,new k7(jke.get(g5),jke.get(Pxe),e,JEe(e,n),jke.get(a5))));var n}function pNe(e,t){return jke.get(b9).referenceProvider.register(e,t)}function mNe(e,t){return jke.get(b9).renameProvider.register(e,t)}function vNe(e,t){return jke.get(b9).signatureHelpProvider.register(e,t)}function bNe(e,t){return jke.get(b9).hoverProvider.register(e,{provideHover:(e,n,i)=>{const o=e.getWordAtPosition(n);return Promise.resolve(t.provideHover(e,n,i)).then((e=>{if(e)return!e.range&&o&&(e.range=new _Y(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)),e.range||(e.range=new _Y(n.lineNumber,n.column,n.lineNumber,n.column)),e}))}})}function _Ne(e,t){return jke.get(b9).documentSymbolProvider.register(e,t)}function yNe(e,t){return jke.get(b9).documentHighlightProvider.register(e,t)}function wNe(e,t){return jke.get(b9).linkedEditingRangeProvider.register(e,t)}function CNe(e,t){return jke.get(b9).definitionProvider.register(e,t)}function SNe(e,t){return jke.get(b9).implementationProvider.register(e,t)}function xNe(e,t){return jke.get(b9).typeDefinitionProvider.register(e,t)}function kNe(e,t){return jke.get(b9).codeLensProvider.register(e,t)}function LNe(e,t,n){return jke.get(b9).codeActionProvider.register(e,{providedCodeActionKinds:null==n?void 0:n.providedCodeActionKinds,documentation:null==n?void 0:n.documentation,provideCodeActions:(e,n,i,o)=>{const r=jke.get(q_e).read({resource:e.uri}).filter((e=>_Y.areIntersectingOrTouching(e,n)));return t.provideCodeActions(e,n,{markers:r,only:i.only,trigger:i.trigger},o)},resolveCodeAction:t.resolveCodeAction})}function DNe(e,t){return jke.get(b9).documentFormattingEditProvider.register(e,t)}function ENe(e,t){return jke.get(b9).documentRangeFormattingEditProvider.register(e,t)}function NNe(e,t){return jke.get(b9).onTypeFormattingEditProvider.register(e,t)}function TNe(e,t){return jke.get(b9).linkProvider.register(e,t)}function INe(e,t){return jke.get(b9).completionProvider.register(e,t)}function MNe(e,t){return jke.get(b9).colorProvider.register(e,t)}function RNe(e,t){return jke.get(b9).foldingRangeProvider.register(e,t)}function ANe(e,t){return jke.get(b9).declarationProvider.register(e,t)}function ONe(e,t){return jke.get(b9).selectionRangeProvider.register(e,t)}function PNe(e,t){return jke.get(b9).documentSemanticTokensProvider.register(e,t)}function FNe(e,t){return jke.get(b9).documentRangeSemanticTokensProvider.register(e,t)}function BNe(e,t){return jke.get(b9).inlineCompletionsProvider.register(e,t)}function zNe(e,t){return jke.get(b9).inlayHintsProvider.register(e,t)}const VNe=OQ("IEditorCancelService"),WNe=new MJ("cancellableOperation",!1,nK(0,"Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));m5(VNe,class{constructor(){this._tokens=new WeakMap}add(e,t){let n,i=this._tokens.get(e);return i||(i=e.invokeWithinContext((e=>({key:WNe.bindTo(e.get(RJ)),tokens:new WK}))),this._tokens.set(e,i)),i.key.set(!0),n=i.tokens.push(t),()=>{n&&(n(),i.key.set(!i.tokens.isEmpty()),n=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},1),O2(new class extends A2{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:WNe})}runEditorCommand(e,t){e.get(VNe).cancel(t)}});class HNe{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}class $Ne{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(HNe.toKey(e))}has(e){return this._set.has(HNe.toKey(e))}}var jNe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(fTe){r(fTe)}}function a(e){try{l(i.throw(e))}catch(fTe){r(fTe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class UNe{static setFormatterSelector(e){return{dispose:UNe._selectors.unshift(e)}}static select(e,t,n){return jNe(this,void 0,void 0,(function*(){if(0===e.length)return;const i=zK.first(UNe._selectors);return i?yield i(e,t,n):void 0}))}}function KNe(e,t,n,i,o){return jNe(this,void 0,void 0,(function*(){const r=function(e,t,n){const i=[],o=new $Ne,r=e.ordered(n);for(const a of r)i.push(a),a.extensionId&&o.add(a.extensionId);const s=t.ordered(n);for(const a of s){if(a.extensionId){if(o.has(a.extensionId))continue;o.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits:(e,t,n)=>a.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)})}return i}(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,n);for(const t of r){const r=yield Promise.resolve(t.provideDocumentFormattingEdits(n,i,o)).catch(Aq);if(bU(r))return yield e.computeMoreMinimalEdits(n.uri,r)}}))}UNe._selectors=new WK,YQ.registerCommand("_executeFormatRangeProvider",(function(e,...t){return jNe(this,void 0,void 0,(function*(){const[n,i,o]=t;UU(aY.isUri(n)),UU(_Y.isIRange(i));const r=e.get(BQ),s=e.get(j_e),a=e.get(b9),l=yield r.createModelReference(n);try{return function(e,t,n,i,o,r){return jNe(this,void 0,void 0,(function*(){const s=t.documentRangeFormattingEditProvider.ordered(n);for(const t of s){const s=yield Promise.resolve(t.provideDocumentRangeFormattingEdits(n,i,o,r)).catch(Aq);if(bU(s))return yield e.computeMoreMinimalEdits(n.uri,s)}}))}(s,a,l.object.textEditorModel,_Y.lift(i),o,fG.None)}finally{l.dispose()}}))})),YQ.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return jNe(this,void 0,void 0,(function*(){const[n,i]=t;UU(aY.isUri(n));const o=e.get(BQ),r=e.get(j_e),s=e.get(b9),a=yield o.createModelReference(n);try{return KNe(r,s,a.object.textEditorModel,i,fG.None)}finally{a.dispose()}}))})),YQ.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return jNe(this,void 0,void 0,(function*(){const[n,i,o,r]=t;UU(aY.isUri(n)),UU(bY.isIPosition(i)),UU("string"==typeof o);const s=e.get(BQ),a=e.get(j_e),l=e.get(b9),c=yield s.createModelReference(n);try{return function(e,t,n,i,o,r,s){const a=t.onTypeFormattingEditProvider.ordered(n);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(n,i,o,r,s)).catch(Aq).then((t=>e.computeMoreMinimalEdits(n.uri,t)))}(a,l,c.object.textEditorModel,bY.lift(i),o,r,fG.None)}finally{c.dispose()}}))})),Iq.wrappingIndent.defaultValue=0,Iq.glyphMargin.defaultValue=!1,Iq.autoIndent.defaultValue=3,Iq.overviewRulerLanes.defaultValue=2,UNe.setFormatterSelector(((e,t,n)=>Promise.resolve(e[0])));const qNe=hZ();qNe.editor={create:fEe,getEditors:vEe,getDiffEditors:bEe,onDidCreateEditor:pEe,onDidCreateDiffEditor:mEe,createDiffEditor:_Ee,addCommand:yEe,addEditorAction:wEe,addKeybindingRule:CEe,addKeybindingRules:SEe,createModel:xEe,setModelLanguage:kEe,setModelMarkers:LEe,getModelMarkers:EEe,removeAllMarkers:DEe,onDidChangeMarkers:NEe,getModels:IEe,getModel:TEe,onDidCreateModel:MEe,onWillDisposeModel:REe,onDidChangeModelLanguage:AEe,createWebWorker:OEe,colorizeElement:PEe,colorize:FEe,colorizeModelLine:BEe,tokenize:zEe,defineTheme:VEe,setTheme:WEe,remeasureFonts:HEe,registerCommand:$Ee,registerLinkOpener:jEe,registerEditorOpener:UEe,AccessibilitySupport:UY,ContentWidgetPositionPreference:iX,CursorChangeReason:rX,DefaultEndOfLine:aX,EditorAutoIndentStrategy:uX,EditorOption:dX,EndOfLinePreference:fX,EndOfLineSequence:mX,MinimapPosition:MX,MouseTargetType:AX,OverlayWidgetPositionPreference:PX,OverviewRulerLane:BX,GlyphMarginLane:bX,RenderLineNumbersType:HX,RenderMinimap:jX,ScrollbarVisibility:GX,ScrollType:KX,TextEditorCursorBlinkingStyle:iZ,TextEditorCursorStyle:rZ,TrackedRangeStickiness:sZ,WrappingIndent:lZ,InjectedTextCursorStops:CX,PositionAffinity:VX,ConfigurationChangedEvent:GK,BareFontInfo:EQ,FontInfo:NQ,TextModelResolvedOptions:T3,FindMatch:I3,ApplyUpdateResult:ZK,EditorZoom:LQ,EditorType:I9,EditorOptions:Iq},qNe.languages={register:tNe,getLanguages:nNe,onLanguage:oNe,onLanguageEncountered:rNe,getEncodedLanguageId:iNe,setLanguageConfiguration:sNe,setColorMap:uNe,registerTokensProviderFactory:dNe,setTokensProvider:gNe,setMonarchTokensProvider:fNe,registerReferenceProvider:pNe,registerRenameProvider:mNe,registerCompletionItemProvider:INe,registerSignatureHelpProvider:vNe,registerHoverProvider:bNe,registerDocumentSymbolProvider:_Ne,registerDocumentHighlightProvider:yNe,registerLinkedEditingRangeProvider:wNe,registerDefinitionProvider:CNe,registerImplementationProvider:SNe,registerTypeDefinitionProvider:xNe,registerCodeLensProvider:kNe,registerCodeActionProvider:LNe,registerDocumentFormattingEditProvider:DNe,registerDocumentRangeFormattingEditProvider:ENe,registerOnTypeFormattingEditProvider:NNe,registerLinkProvider:TNe,registerColorProvider:MNe,registerFoldingRangeProvider:RNe,registerDeclarationProvider:ANe,registerSelectionRangeProvider:ONe,registerDocumentSemanticTokensProvider:PNe,registerDocumentRangeSemanticTokensProvider:FNe,registerInlineCompletionsProvider:BNe,registerInlayHintsProvider:zNe,DocumentHighlightKind:cX,CompletionItemKind:ZY,CompletionItemTag:JY,CompletionItemInsertTextRule:YY,SymbolKind:JX,SymbolTag:tZ,IndentAction:yX,CompletionTriggerKind:tX,SignatureHelpTriggerKind:QX,InlayHintKind:xX,InlineCompletionTriggerKind:kX,CodeActionTriggerType:qY,FoldingRangeKind:HY,SelectedSuggestionInfo:WY};const GNe=qNe.CancellationTokenSource,YNe=qNe.Emitter,XNe=qNe.KeyCode,ZNe=qNe.KeyMod,QNe=qNe.Position,JNe=qNe.Range,eTe=qNe.Selection,tTe=qNe.SelectionDirection,nTe=qNe.MarkerSeverity,iTe=qNe.MarkerTag,oTe=qNe.Uri,rTe=qNe.Token,sTe=qNe.editor,aTe=qNe.languages,lTe=globalThis.MonacoEnvironment;((null==lTe?void 0:lTe.globalAPI)||"function"==typeof define&&define.amd)&&(globalThis.monaco=qNe),void 0!==globalThis.require&&"function"==typeof globalThis.require.config&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const cTe=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:GNe,Emitter:YNe,KeyCode:XNe,KeyMod:ZNe,MarkerSeverity:nTe,MarkerTag:iTe,Position:QNe,Range:JNe,Selection:eTe,SelectionDirection:tTe,Token:rTe,Uri:oTe,editor:sTe,languages:aTe},Symbol.toStringTag,{value:"Module"}));function uTe(e){return/^\d+$/.test(e)?"".concat(e,"px"):e}function hTe(){}var dTe=function(){return dTe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dTe.apply(this,arguments)};function gTe(e){var t=e.width,n=e.height,i=e.value,o=e.defaultValue,r=e.language,s=e.theme,a=e.options,l=e.overrideServices,c=e.editorWillMount,u=e.editorDidMount,h=e.editorWillUnmount,d=e.onChange,g=e.className,f=e.uri,p=Y.useRef(null),m=Y.useRef(null),v=Y.useRef(null),b=Y.useRef(null),_=uTe(t),y=uTe(n),w=Y.useMemo((function(){return{width:_,height:y}}),[_,y]);return Y.useEffect((function(){var e=null!==i?i:o;if(p.current){var t=dTe(dTe({},a),c(cTe)||{}),n=null==f?void 0:f(cTe),h=n&&sTe.getModel(n);h?(h.setValue(e),sTe.setModelLanguage(h,r)):h=sTe.createModel(e,r,n),m.current=sTe.create(p.current,dTe(dTe(dTe({model:h},g?{extraEditorClassName:g}:{}),t),s?{theme:s}:{}),l),u(m.current,cTe),v.current=m.current.onDidChangeModelContent((function(e){b.current||d(m.current.getValue(),e)}))}}),[]),Y.useEffect((function(){if(m.current){if(i===m.current.getValue())return;var e=m.current.getModel();b.current=!0,m.current.pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:i}],void 0),m.current.pushUndoStop(),b.current=!1}}),[i]),Y.useEffect((function(){if(m.current){var e=m.current.getModel();sTe.setModelLanguage(e,r)}}),[r]),Y.useEffect((function(){if(m.current){a.model;var e=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(a,["model"]);m.current.updateOptions(dTe(dTe({},g?{extraEditorClassName:g}:{}),e))}}),[g,a]),Y.useEffect((function(){m.current&&m.current.layout()}),[t,n]),Y.useEffect((function(){sTe.setTheme(s)}),[s]),Y.useEffect((function(){return function(){m.current&&(h(m.current,cTe),m.current.dispose()),v.current&&v.current.dispose()}}),[]),Y.createElement("div",{ref:p,style:w,className:"react-monaco-editor-container"})}gTe.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:hTe,editorDidMount:hTe,editorWillUnmount:hTe,onChange:hTe,className:null},gTe.displayName="MonacoEditor";export{cP as $,ox as A,wk as B,Jk as C,FL as D,xx as E,gP as F,oD as G,Fg as H,Nx as I,uT as J,Hk as K,AS as L,DD as M,ak as N,oP as O,NP as P,Sk as Q,pk as R,MD as S,Rk as T,xE as U,SP as V,qk as W,CP as X,xP as Y,uP as Z,tN as _,mM as a,ZL as a0,dE as a1,AL as a2,BD as a3,NL as a4,mP as a5,sP as a6,fP as a7,KS as a8,_P as a9,rP as aA,GD as aB,gTe as aC,m$ as aD,sU as aE,gU as aF,Sg as aG,Mg as aH,nA as aI,se as aJ,X as aK,HM as aL,my as aM,pP as aa,Kx as ab,CL as ac,zF as ad,UL as ae,HD as af,nP as ag,iD as ah,vP as ai,kP as aj,LP as ak,lL as al,dD as am,wP as an,PE as ao,dP as ap,kB as aq,yB as ar,lP as as,bB as at,vB as au,gB as av,UE as aw,vL as ax,hP as ay,lE as az,qM as b,lA as c,kS as d,WS as e,cg as f,lg as g,qO as h,zx as i,re as j,QO as k,jy as l,rN as m,yP as n,yD as o,mD as p,gL as q,Y as r,iP as s,aP as t,FM as u,sg as v,vy as w,tP as x,bP as y,FE as z};
