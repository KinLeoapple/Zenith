import{m as e,J as t,a as r,c as n,u as a,b as s,r as i,j as o,L as l,T as c,d,e as u,B as x,f as h,g as m,C as p,A as f,h as g,i as j,D as v,k as y,l as b,M as w,I as C,n as S,o as N,S as k,p as E,q as I,s as z,t as T,v as R,w as B,x as F,y as L,z as $,E as D,F as P,G as _,H as O,K as V,N as M,O as H,P as q,Q as G,R as W,U as A,V as K,W as U,X,Y as J,Z as Q,_ as Y,$ as Z,a0 as ee,a1 as te,a2 as re,a3 as ne,a4 as ae,a5 as se,a6 as ie,a7 as oe,a8 as le,a9 as ce,aa as de,ab as ue,ac as xe,ad as he,ae as me,af as pe,ag as fe,ah as ge,ai as je,aj as ve,ak as ye,al as be,am as we,an as Ce,ao as Se,ap as Ne,aq as ke,ar as Ee,as as Ie,at as ze,au as Te,av as Re,aw as Be,ax as Fe,ay as Le,az as $e,aA as De,aB as Pe,aC as _e,aD as Oe,aE as Ve,aF as Me,aG as He,aH as qe,aI as Ge,aJ as We,aK as Ae,aL as Ke,aM as Ue}from"./vendor-Cjd5Vge_.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Xe=async r=>{const n=e.md5(r.toString()).toString();return new Promise((e=>{const r=new t;nt("/key",{method:"GET",withCredentials:!0}).then((t=>{if(null!==t&&t instanceof Object){const a=t.key;null!==a&&(r.setPublicKey(a),e(r.encrypt(n)))}}))}))},Je="bg-slate-50",Qe="bg-slate-900",Ye="primary.200",Ze="primary.700",et=100;class tt{constructor(e,t){this.timeout=e,this.request=t}}const rt=function(){const e=window.location.protocol,t=window.location.hostname;let r=window.location.port;return null!=r&&""!==r||(r=null),`${e}//${t}${null!=r?":8080":""}`}(),nt=(e,t={})=>new Promise((n=>{const a=new AbortController,s={signal:a.signal};Object.assign(t,s);const i=r(`${rt}/${e}`,t).then((e=>{clearTimeout(o),n(e.data)})).catch((()=>{clearTimeout(o),n(new Promise((()=>n(null))))})),o=setTimeout((()=>{a.abort();const e=new tt(!0,i);n(e)}),1e4)}));function at(e,t=0,r=5){return nt(`/blog/${e}/null?offset=${t}&size=${r}`,{method:"GET",withCredentials:!0})}function st(e,t){return nt(`/blog/${e}/${t}`,{method:"GET",withCredentials:!0})}function it(e){return nt(`/blog/content/${e}`,{method:"GET",withCredentials:!0})}function ot(e,t,r){return nt(`/blog/draft/${t}/${r}`,{method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${e}`}})}function lt(e,t,r=0,n=5){return nt(`/blog/draft/${t}/null?offset=${r}&size=${n}`,{method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${e}`}})}function ct(e,t){return nt(`/blog/draft/content/${t}`,{method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${e}`}})}function dt(e){return nt(`/cat/${e}`,{method:"GET",withCredentials:!0})}function ut(){return nt("/cat/null",{method:"GET",withCredentials:!0})}function xt(e,t=0,r=5){return nt(`/search/blog?keyword=${e}&offset=${t}&size=${r}`,{method:"GET",withCredentials:!0})}const ht=Object.freeze({Category:1,Date:2,Title:3,Description:4}),mt=n({name:"condition",initialState:{value:[]},reducers:{append:(e,t)=>{const r=t.payload;let n=!1;for(let a=0;a<e.value.length;a++){const t=e.value[a];if(r.type===t.type&&r.condition===t.condition){n=!0;break}}n||e.value.push(r)},remove:(e,t)=>{const r=t.payload;e.value=e.value.filter((e=>r.condition!==e.condition||r.type!==e.type))}}}),{append:pt,remove:ft}=mt.actions,gt=(e,t)=>({type:e,condition:t}),jt=e=>e.condition.value,vt=n({name:"search_keyword",initialState:{value:{value:"",triggeredBy:null}},reducers:{setSearchBlogKeyword:(e,t)=>{e.value=t.payload}}}),{setSearchBlogKeyword:yt}=vt.actions,bt=(e,t)=>({value:e,triggeredBy:void 0===t?null:t}),wt=e=>e.searchKeyword.value,Ct=n({name:"show_search_result",initialState:{value:!1},reducers:{setShowResultValue:(e,t)=>{e.value=t.payload}}}),{setShowResultValue:St}=Ct.actions,Nt=e=>e.showSearchResult.value,kt=()=>{const e=a(jt),t=s(),[r,n]=i.useState({data:[],refresh:!0});function h(t){let r=!1;for(let n=0;n<e.length;n++){let a=e[n];if(a.type===ht.Category&&a.condition===t){r=!0;break}}return r}return i.useEffect((()=>{let e=[];ut().then((t=>{if(null!==t)for(let a in t)Promise.all([dt(t[a].id),(r=t[a].id,nt(`/cat/number/${r}`,{method:"GET",withCredentials:!0}))]).then((t=>{t[1].count>0&&(t[0].number=t[1].count,e.push(t[0]),n({data:e,refresh:!0}))}));var r}))}),[r.refresh]),o.jsx(o.Fragment,{children:o.jsxs(l,{className:"select-none",size:"lg",color:"primary",variant:"plain",sx:{"--List-gap":"5px"},children:[o.jsxs(c,{level:"h4",color:"neutral",children:[o.jsx("span",{style:{fontSize:"x-large"},children:"C"}),"ategory"]}),r.data.length>0&&r.data.sort(((e,t)=>e.catName.toLowerCase().localeCompare(t.catName.toLowerCase()))).map(((e,r)=>o.jsx(d,{tabIndex:-1,className:"cursor-pointer select-none",sx:{width:"100%"},children:o.jsxs(u,{tabIndex:-1,onClick:()=>{var r;h(r=e.catName)?t(ft(gt(ht.Category,r))):(t(pt(gt(ht.Category,r))),t(yt(bt(""))),t(St(!1)))},selected:h(e.catName),color:"primary",className:"flex flex-row justify-between",sx:{borderRadius:"6px"},children:[o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:e.catName}),o.jsx(x,{variant:"soft",size:"sm",badgeContent:e.number,sx:{"--Badge-ring":"0 0 0 0"}})]})},r)))]})})},Et=n({name:"blog_page",initialState:{value:1},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},setPageValue:(e,t)=>{e.value=t.payload}}}),{increment:It,decrement:zt,setPageValue:Tt}=Et.actions,Rt=e=>e.blogPage.value,Bt=n({name:"blog_number",initialState:{value:0},reducers:{setNumberValue:(e,t)=>{e.value=t.payload}}}),{setNumberValue:Ft}=Bt.actions,Lt=e=>e.blogNumber.value,$t=()=>{window.scrollTo?window.scrollTo({behavior:"smooth",top:0}):window.scroll&&window.scroll({behavior:"smooth",top:0})},Dt="/webp/img-BEXlYf_p.webp";function Pt(e){let t=new Date(Number(e)),r=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return`${r}-${_t(n)}-${_t(a)}`}function _t(e){return e<10?"0"+e:e}const Ot=n({name:"blog",initialState:{value:0},reducers:{setBlogValue:(e,t)=>{e.value=t.payload}}}),{setBlogValue:Vt}=Ot.actions,Mt=e=>e.blog.value;function Ht(e){switch(e){case"primary":return"var(--variant-plainColor, var(--joy-palette-primary-plainColor, var(--joy-palette-primary-500, #0B6BCB)))";case"danger":return"var(--variant-plainColor, var(--joy-palette-danger-plainColor, var(--joy-palette-danger-500, #C41C1C)))"}}const qt=n({name:"user_basic_info",initialState:{value:{id:null,name:null,quote:null,quoteName:null}},reducers:{setUserBasicInfoValue:(e,t)=>{e.value=t.payload}}}),{setUserBasicInfoValue:Gt}=qt.actions,Wt=e=>e.userBasicInfo.value,At=n({name:"login_state",initialState:{value:!1},reducers:{setLoginStateValue:(e,t)=>{e.value=t.payload}}}),{setLoginStateValue:Kt}=At.actions,Ut=e=>e.loginState.value,Xt=n({name:"blog_delete",initialState:{value:0},reducers:{setBlogDeleteValue:(e,t)=>{e.value=t.payload}}}),{setBlogDeleteValue:Jt}=Xt.actions,Qt=e=>e.blogDelete.value,Yt=n({name:"blog_op_button",initialState:{value:0},reducers:{setOpButtonValue:(e,t)=>{e.value=t.payload}}}),{setOpButtonValue:Zt}=Yt.actions,er=e=>e.blogOpButton.value,tr=({id:e=0,title:t="",date:r=0,category:n="",desc:l=""})=>{const d=[{decorator:o.jsx(z,{}),text:"modify",color:"primary",func:function(t){t.stopPropagation(),P(!1),_.current=!1,B(`/writeblog/${e}`,{replace:!0})}},{decorator:o.jsx(T,{}),text:"delete",color:"danger",func:function(t){t.stopPropagation(),P(!1),_.current=!1,R(Jt(e))}}],u=h(),x=i.useRef(u.id),R=s(),B=m(),F=a(er),L=a(Wt),$=a(Ut),[D,P]=i.useState(!1),_=i.useRef(D),[O,V]=i.useState(!1),M=i.useRef(void 0);i.useEffect((()=>{window.addEventListener("scroll",H)}),[]),i.useEffect((()=>{F!==e&&(P(!1),_.current=!1)}),[F]);const H=i.useCallback((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{_.current&&e.intersectionRatio<1&&(P(!1),_.current=!1)}))}));let t=M.current;null!==t?void 0!==t&&e.observe(t):window.removeEventListener("scroll",H)}),[]);return i.useEffect((()=>{"blog"===location.pathname.split("/")[1]&&$&&(x.current=u.id?u.id:L.id,void 0!==x.current&&null!==x.current&&V(x.current===L.id))}),[location,u,L,$]),o.jsx(o.Fragment,{children:o.jsxs(p,{onClick:()=>(R(Vt(e)),void R(yt(bt("")))),invertedColors:!0,color:"primary",variant:"soft",className:"mb-5 cursor-pointer select-none",sx:{boxShadow:"lg",transition:"all .2s","&:hover":{background:"var(--variant-softHoverBg, var(--joy-palette-primary-softHoverBg, var(--joy-palette-primary-200, #C7DFF7)))"}},children:[o.jsx(f,{minHeight:"120px",maxHeight:"200px",children:o.jsx("img",{src:Dt,loading:"lazy",alt:"",draggable:!1})}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(c,{level:"title-lg",children:t}),o.jsxs("div",{tabIndex:-1,className:"flex gap-2",children:[o.jsxs("span",{tabIndex:-1,className:"flex items-center gap-1",children:[o.jsx(g,{sx:{fontSize:"small"}}),o.jsx(j,{tabIndex:-1,onClick:e=>{var t;e.stopPropagation(),t=r,R(pt(gt(ht.Date,t)))},size:"sm",className:"text-xs",color:"primary",variant:"soft",sx:{"--Chip-paddingInline":"5px","--Chip-minHeight":"16px","--Chip-decoratorChildHeight":"16px"},children:Pt(r)})]}),o.jsx(v,{orientation:"vertical"}),o.jsxs("span",{tabIndex:-1,className:"flex items-center gap-1",children:[o.jsx(y,{sx:{fontSize:"small"}}),o.jsx(j,{tabIndex:-1,onClick:e=>{var t;e.stopPropagation(),t=n,R(pt(gt(ht.Category,t)))},size:"sm",className:"text-xs",color:"primary",variant:"soft",sx:{"--Chip-paddingInline":"5px","--Chip-minHeight":"16px","--Chip-decoratorChildHeight":"16px"},children:n})]})]})]}),O&&o.jsxs(b,{open:D,children:[o.jsx(w,{ref:M,tabIndex:-1,slots:{root:C},slotProps:{root:{size:"sm",variant:"plain",color:"primary",onClick:function(t){t.stopPropagation(),P(!D),_.current=!_.current,_.current&&R(Zt(e))}}},children:o.jsx(S,{})}),o.jsx(N,{variant:"soft",color:"primary",placement:"bottom-end",className:"select-none",size:"sm",children:d.map(((e,t)=>o.jsxs("div",{children:[o.jsxs(k,{onClick:e.func,tabIndex:-1,autoFocus:!1,className:"flex justify-center items-center capitalize pl-2 pr-2",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px"},children:[o.jsx(E,{variant:"plain",sx:{color:Ht(e.color)},children:e.decorator}),o.jsx("span",{className:"text-sm font-bold capitalize",style:{color:Ht(e.color)},children:e.text})]}),t!==d.length-1&&o.jsx(v,{sx:{width:"80%",marginLeft:"10%"}})]},t)))})]})]}),o.jsx(I,{children:o.jsxs(c,{noWrap:!0,children:[o.jsx("span",{className:"text-xl",children:l.charAt(0)}),o.jsx("span",{children:l.substring(1,l.length)})]})})]})})},rr=n({name:"blog_filter_number",initialState:{value:0},reducers:{setFilterNumberValue:(e,t)=>{e.value=t.payload}}}),{setFilterNumberValue:nr}=rr.actions,ar=e=>e.blogFilterNumber.value,sr=()=>{const e=h(),[t,r]=i.useState({data:[],refresh:!1}),[n,l]=i.useState({data:[],refresh:!1}),[c,d]=i.useState({data:[],refresh:!1}),[u,x]=i.useState(!1),p=i.useRef(e.id),f=a(Wt),g=a(Ut),j=a(Rt),v=a(Lt),y=a(jt),b=s(),w=R(),C=m();return i.useEffect((()=>{"blog"===w.pathname.split("/")[1]&&(g?(p.current=e.id?e.id:f.id,void 0!==p.current&&null!==p.current||C("/login",{replace:!0}),x(!u)):(p.current=e.id,void 0!==p.current&&null!==p.current||C("/login",{replace:!0})))}),[g]),i.useEffect((()=>{nt("/blog/total",{method:"GET",withCredentials:!0}).then((e=>{null!==e&&b(Ft(e.total))}))}),[b]),i.useEffect((()=>{document.documentElement.scrollTop=0}),[j]),i.useEffect((()=>{if(void 0!==p.current){let e,t=0;1===j?e=5:(t=5*(j-1),e=v-t),at(p.current,t,e).then((e=>{if(null!==e){let t=[];for(let r in e)t.push(e[r].id);r({data:t,refresh:!0})}else r({data:[],refresh:!1})}))}}),[t.refresh,j,v,u]),i.useEffect((()=>{!function(){if(y.length>0){let e=n.data;y.filter((e=>e.type===ht.Category)).length>0&&(e=e.filter((e=>{for(let t=0;t<y.length;t++){let r=y[t];if(r.type===ht.Category&&e.category===r.condition)return!0}}))),y.filter((e=>e.type===ht.Date)).length>0&&(e=e.filter((e=>{for(let t=0;t<y.length;t++){let r=y[t];if(r.type===ht.Date&&e.date===r.condition)return!0}}))),d({data:e,refresh:!0})}else d(n);b(nr(c.data.length))}()}),[n.data,c.refresh,y]),i.useEffect((()=>{if(void 0!==p.current){let e=[];if(t.data.length>0){for(let r in t.data)e.push(st(p.current,t.data[r]));Promise.all(e).then((e=>{let t=[];for(let r in e)null!==e[r]?t.push(e[r]):t.push(null);l({data:t,refresh:!0})}))}}}),[n.refresh,t.data,p]),o.jsx(o.Fragment,{children:c.data.sort(((e,t)=>Number(t.date)-Number(e.date))).map(((e,t)=>o.jsx(tr,{id:e.id,title:e.title,category:e.category,date:e.date,desc:e.desc},t)))})},ir=({onMouseEnter:e,onMouseLeave:t})=>{const r=B(),n=s(),a=m(),l=[{decorator:o.jsx(F,{}),text:"profile",color:"primary",func:()=>{}},{decorator:o.jsx(L,{}),text:"sign out",color:"danger",func:function(){localStorage.removeItem("token"),n(Kt(!1)),n(Gt({id:null,name:null,quote:null,quoteName:null})),a("/",{replace:!0})}}];return o.jsx(o.Fragment,{children:o.jsx(N,{onMouseEnter:e,onMouseLeave:t,variant:"soft",color:"primary",placement:"bottom-start",className:"select-none",sx:{boxShadow:"lg",padding:0,zIndex:9999},children:l.map(((e,t)=>o.jsxs("div",{children:[o.jsxs(d,{tabIndex:-1,onClick:e.func,className:"pl-2 pr-2 cursor-pointer",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px","&:hover":{backgroundColor:"dark"===r.mode?"primary.700":"primary.200"}},children:[o.jsx(E,{children:i.cloneElement(e.decorator,{sx:{color:Ht(e.color)}})}),o.jsx("span",{className:"text-sm font-bold capitalize",style:{color:Ht(e.color)},children:e.text})]}),t!==l.length-1&&o.jsx(v,{sx:{width:"80%",marginLeft:"10%"}})]},t)))})})},or=()=>{const e=B(),t=a(wt),r=s(),[n,x]=i.useState(!1),[h,m]=i.useState([]),p=i.useRef({timer:setTimeout((()=>{})),time:(new Date).getTime()});return i.useEffect((()=>{m([]);const e=(new Date).getTime();e-p.current.time<=1200&&clearTimeout(p.current.timer),x(!0),p.current.timer=setTimeout((()=>{""!==t.value?xt(t.value).then((e=>{const t=[];if(null!==e&&e instanceof Object){const r=e;let n;for(n in r)t.push(r[n])}m(t),x(!1)})):m([])}),1200),p.current.time=e}),[t]),o.jsx(o.Fragment,{children:""!==t.value&&o.jsx($,{className:`w-full ${0===h.length?"min-h-24":"h-auto"} select-none`,sx:{boxShadow:"lg",marginTop:.5,borderRadius:"var(--joy-radius-sm)",backgroundColor:"dark"===e.mode?Ze:Ye},children:o.jsx(l,{variant:"soft",className:""+(0===h.length?"flex justify-center items-center":""),sx:{padding:0,borderRadius:"var(--joy-radius-sm)",backgroundColor:"dark"===e.mode?Ze:Ye},children:h.length>0?o.jsx(o.Fragment,{children:h.map(((e,t)=>o.jsxs("div",{children:[o.jsx(d,{className:"pl-2 pr-2",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px"},children:o.jsx(u,{tabIndex:-1,color:"primary",onClick:()=>{return t=e.id,r(yt(bt(""))),void r(Vt(t));var t},children:o.jsxs(c,{children:[o.jsx(c,{className:"font-bold",children:e.title}),o.jsx("br",{}),o.jsx(c,{level:"body-sm",children:e.desc})]})})}),t<h.length-1&&o.jsx(v,{})]},t)))}):o.jsx(o.Fragment,{children:n?o.jsx(D,{color:"primary",determinate:!1,size:"md",variant:"soft"}):o.jsx(o.Fragment,{children:0===h.length&&o.jsxs(o.Fragment,{children:[o.jsx(c,{variant:"plain",color:"primary",level:"body-lg",children:o.jsx(P,{})}),o.jsx(c,{level:"body-sm",children:"No Results Found"})]})})})})})})},lr=n({name:"drawer_open",initialState:{value:!1},reducers:{setOpenValue:(e,t)=>{e.value=t.payload}}}),{setOpenValue:cr}=lr.actions,dr=e=>e.drawerOpen.value,ur=({renderPending:e})=>{const t=s(),r=[{name:"Home",decorator:o.jsx(Q,{}),path:"/blog"}],n=B(),l=R(),c=a(wt),[d,u]=i.useState(!1),[x,h]=i.useState(""),[p,f]=i.useState(!1),g=a(Wt),[j,v]=i.useState(g.name),[y,S]=i.useState(g.quote),[N,k]=i.useState(g.quoteName),E=m(),I=a(Ut),[z,T]=i.useState(I),[F,L]=i.useState(!1),[$,D]=i.useState(!1),P=i.useRef(null);function Y(e){const r=e.target;if(r){const e=r.value;h(e),t(yt(bt(e)))}}function Z(e){e.stopPropagation(),null!==P.current&&clearTimeout(P.current),D(!0)}function ee(e){e.stopPropagation(),P.current=setTimeout((()=>{D(!1)}),100)}i.useEffect((()=>{switch(l.pathname.split("/")[1]){case"dashboard":case"login":case"signup":u(!1);break;case"blog":case"":u(!0)}}),[l]),i.useEffect((()=>{if(e(!0),z)T(!0),e(!1);else{const r=localStorage.getItem("token");null!=r&&""!==r?function(e){return nt("/login/token",{method:"POST",mode:"cors",withCredentials:!0,headers:{Authorization:`Bearer ${e}`}})}(r).then((r=>{if(null!==r){if(r instanceof Object){const e=r,n=e.id,a=e.login;null!=a?(T(!0),t(Kt(!0)),localStorage.setItem("token",a),t(Gt({id:n}))):(t(Kt(!1)),T(!1))}}else t(Kt(!1)),T(!1);e(!1)})):(t(Kt(!1)),T(!1),e(!1))}}),[]),i.useEffect((()=>{var e;z&&(L(!0),(e=g.id,nt(`/basic_info/${e}`,{method:"GET",withCredentials:!0})).then((e=>{if(e instanceof Object){const r=e,n=r.name,a=r.quote,s=r.quote_name;v(n),S(a),k(s),t(Gt({id:g.id,name:n,quote:a,quoteName:s}))}L(!1)})))}),[t,z,j,y,N]),i.useEffect((()=>{h(c.value)}),[c]);const te=i.useCallback((e=>{const r=e=>{let r=e.target;if(r){void 0===r.value&&(r=document.getElementById("searchInput"));const n=r.value;""!==n&&(t(yt(bt(n,e.type))),t(St(!0)),document.getElementById("searchInput").blur())}};("keyup"===e.type&&"Enter"===e.key||"click"===e.type)&&r(e)}),[]);return o.jsx("div",{className:"w-full h-24 z-[1200] overflow-hidden",children:o.jsxs(_,{container:!0,columns:3,spacing:.1,className:`w-full fixed flex flex-col \n             justify-between items-center gap-5 flex-nowrap p-5 mb-3 backdrop-blur-lg\n            bg-opacity-80 ${"dark"===n.mode?Qe:Je}`,sx:{flexGrow:1},children:[o.jsx(_,{xs:1,flexGrow:1,children:o.jsx("div",{className:"flex flex-row justify-start items-center gap-2",children:o.jsx("div",{className:"flex flex-row gap-3",children:r.map((e=>o.jsx(O,{tabIndex:-1,className:"blog"===e.path.split("/")[1]?z?"":"hidden":"",to:e.path,replace:!0,children:o.jsx(V,{tabIndex:-1,size:"sm",startDecorator:e.decorator,variant:l.pathname===e.path?"solid":"soft",children:e.name})},e.name)))})})}),d&&o.jsxs(_,{xs:.8,className:"relative",flexGrow:1,children:[o.jsx(M,{slots:{root:M},slotProps:{root:{id:"searchInput",endDecorator:o.jsxs("div",{className:"flex gap-2",children:[""!==x&&o.jsx(C,{tabIndex:-1,onClick:function(){h(""),t(yt(bt(""))),t(St(!1))},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(H,{})}),o.jsx(C,{onClick:te,tabIndex:-1,variant:"plain",color:"primary",sx:{borderRadius:"50%"},children:o.jsx(q,{})})]}),onFocus:function(){f(!0),document.body.addEventListener("keyup",te)},onBlur:function(){f(!1),document.body.removeEventListener("keyup",te)},onChange:e=>Y(e),onInput:e=>Y(e),value:x,variant:"soft",size:"md",placeholder:"Search",sx:{"--Input-focusedThickness":"0",transition:"box-shadow .2s",backgroundColor:"dark"===n.mode?Ze:Ye,boxShadow:p?"lg":""}}}}),"blog"===l.pathname.split("/")[1]&&o.jsx("div",{className:"absolute w-full "+(p?"":"opacity-0 -z-50"),children:o.jsx(or,{})})]}),o.jsx(_,{className:"relative z-30 flex justify-end items-center gap-3 select-none",xs:1,flexGrow:1,children:o.jsxs(_,{container:!0,spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[o.jsx(_,{xs:!0,children:z?o.jsxs(b,{open:$,children:[o.jsx(G,{display:"flex",justifyContent:"flex-end",minWidth:90,maxWidth:90,children:o.jsx(w,{tabIndex:-1,slots:{root:W},slotProps:{root:{variant:"soft",color:"primary",onMouseEnter:Z,onMouseLeave:ee,src:F?"":"/webp/avatar-CLCPMQ5P.webp",alt:j}},children:o.jsx(A,{loading:F,animation:"wave",variant:"circular"})})}),o.jsx(ir,{onMouseEnter:Z,onMouseLeave:ee})]}):o.jsx(V,{size:"sm",onClick:function(){E("/login",{replace:!0})},startDecorator:o.jsx(K,{}),sx:{minWidth:90,maxWidth:90},children:"Sign in"})}),o.jsx(_,{xs:!0,sx:{marginRight:0},children:o.jsxs(U,{color:"primary",size:"sm",spacing:2,variant:"soft",children:[o.jsx(C,{tabIndex:-1,size:"sm",color:"primary",variant:"soft",children:o.jsx(X,{})}),o.jsx(C,{tabIndex:-1,onClick:function(){t(cr(!0))},size:"sm",color:"primary",variant:"soft",children:o.jsx(J,{})})]})})]})})]})})},xr=()=>o.jsx("div",{tabIndex:-1,className:"fixed z-[999] bottom-5 right-5 m-auto",children:o.jsx(Y,{tabIndex:-1,title:"Sroll to top",placement:"left",size:"sm",children:o.jsx(C,{tabIndex:-1,onClick:$t,color:"primary",variant:"soft",sx:{borderRadius:"50%",width:40,height:40,border:"1px solid",borderColor:"var(--variant-outlinedBorder, var(--joy-palette-primary-outlinedBorder, var(--joy-palette-primary-300, #97C3F0)))",boxShadow:"lg"},children:o.jsx(Z,{})})})});const hr=()=>{const e=B(),[t,r]=i.useState(!1);return i.useEffect((()=>{setTimeout((()=>{r(!0)}),1e3)}),[]),i.useEffect((()=>{const t=document.querySelector(".loader");t&&t.querySelectorAll(".dot").forEach((t=>{t.style.border=`2px solid ${"dark"===e.mode?Qe:Je}`}))}),[e]),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center "+(t?"opacity-100":"opacity-0"),children:o.jsxs("div",{className:"loader",children:[o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"})]})})},mr=n({name:"location",initialState:{value:"/"},reducers:{setLocationValue:(e,t)=>{e.value=t.payload}}}),{setLocationValue:pr}=mr.actions,fr=e=>e.location.value,gr=()=>{const e=[{decorator:o.jsx(se,{}),value:"light"},{decorator:o.jsx(ie,{}),value:"dark"}],{mode:t,setMode:r}=B(),n=a(dr),i=s();return o.jsx(o.Fragment,{children:o.jsx(ee,{open:n,onClose:()=>i(cr(!1)),anchor:"right",color:"primary",invertedColors:!0,size:"md",variant:"plain",slotProps:{content:{sx:{bgcolor:"transparent",p:{md:3,sm:0},boxShadow:"none"}}},children:o.jsxs(te,{color:"primary",sx:{borderRadius:"md",p:2,display:"flex",flexDirection:"column",gap:2,height:"100%",overflow:"auto"},children:[o.jsx(re,{children:"Settings"}),o.jsx(ne,{tabIndex:-1}),o.jsx(v,{sx:{mt:"auto"}}),o.jsx(ae,{sx:{gap:2},children:o.jsx(U,{color:"primary",sx:{width:"100%"},children:e.map(((e,n)=>o.jsx(V,{tabIndex:-1,startDecorator:e.decorator,size:"lg",color:"primary",variant:"outlined",onClick:()=>{return t=e.value,void r(t);var t},sx:{width:"50%",backgroundColor:t===e.value?"var(--variant-outlinedHoverBg, var(--joy-palette-primary-outlinedHoverBg, var(--joy-palette-primary-100, #E3EFFB)))":""},children:e.value},n)))})})]})})})},jr=({left:e={el:o.jsx(o.Fragment,{}),fixed:!1},right:t={el:o.jsx(o.Fragment,{}),fixed:!1},content:r={el:o.jsx(o.Fragment,{})},center:n={el:o.jsx(o.Fragment,{}),show:!1,fixed:!1},leftMargin:a=!0,rightMargin:l=!0,navigate:c=!0})=>{const d=void 0===a||a,u=void 0===l||l,[x,h]=i.useState(!1),[m,p]=i.useState(!1),[f,g]=i.useState(!0),j=R(),v=s(),y=i.useMemo((()=>o.jsx(ur,{renderPending:C})),[]),b=i.useMemo((()=>o.jsx(gr,{})),[]);i.useEffect((()=>{v(pr(j.pathname))}),[j]),i.useEffect((()=>{f&&setTimeout((()=>{f&&g(!1)}),1e4)}),[f]),i.useEffect((()=>{x||(h(!0),window.removeEventListener("scroll",w),window.addEventListener("scroll",w))}),[]);const w=i.useCallback((()=>{(function(){let e=0,t=0,r=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(r=document.documentElement.scrollTop),e=t-r>0?t:r,e})()>100?p(!0):p(!1)}),[]);function C(e){g(e)}return o.jsxs(o.Fragment,{children:[o.jsxs($,{className:"min-h-full min-w-full",children:[c&&o.jsxs(o.Fragment,{children:[y,b]}),!f&&o.jsxs(_,{className:"min-h-full min-w-full flex justify-between gap-1",container:!0,spacing:0,columns:4,sx:{flexGrow:1},children:[o.jsx(_,{xs:.8,className:"flex flex-col gap-5 "+(d?"ml-5":""),children:o.jsx("div",{className:(e.fixed?"fixed w-[20%]":"")+"\n                        h-[100%] flex-shrink-0",children:e.el})}),o.jsx(_,{xs:2,children:o.jsx("div",{className:"min-h-full flex-shrink-0",children:r.el})}),o.jsx(_,{xs:.8,className:"flex flex-col gap-5 "+(u?"mr-5":""),children:o.jsx("div",{className:(t.fixed?"fixed w-[20%]":"")+"\n                        h-[100%] flex-shrink-0",children:t.el})})]}),o.jsx("div",{className:m?"":"hidden",children:o.jsx(xr,{})})]}),n.show&&o.jsx(o.Fragment,{children:!f&&o.jsx("div",{className:(n.fixed?"fixed":"")+" inset-0 flex items-center justify-center",children:n.el})}),f&&o.jsx(hr,{})]})},vr=()=>{const e=a(jt),t=a(Rt),r=a(Lt),n=a(ar),l=s(),[c,d]=i.useState(0),[u,x]=i.useState({front:!1,back:!1}),[h,m]=i.useState(p());function p(){let e=c,r=1;c>3&&(u.front&&u.back?(e=3,r=t-1):(e=4,r=u.front?c-4:2));let n=e===c?e-1:e+r,a=[];for(let t=r;t<n;t++)a.push(t);return a}function f(e){e<1?e=1:e>c&&(e=c),l(Zt(0)),l(Tt(e))}return i.useEffect((()=>{let t=e.length>0?n:r;d(parseInt(Math.ceil(t/5).toString())||0)}),[e,n,r]),i.useEffect((()=>{let e=!0,r=!0;c>3?t-1<3?e=!1:c-t<3&&(r=!1):(e=!1,r=!1),x({front:e,back:r})}),[t]),i.useEffect((()=>{m(p())}),[u]),o.jsx("div",{className:"w-full flex flex-col justify-center items-center mt-2 mb-10",children:c>1&&o.jsxs($,{direction:"row",spacing:2,className:"w-11/12 flex flex-col justify-center",children:[o.jsx(C,{onClick:function(){t>1&&(l(Zt(0)),l(zt()))},color:"primary",size:"sm",tabIndex:-1,children:o.jsx(oe,{})}),o.jsx(C,{onClick:()=>f(1),size:"sm",color:1===t?"success":"primary",tabIndex:-1,children:1}),u.front&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(le,{children:o.jsx(ce,{})})}),h.map(((e,r)=>o.jsx(C,{onClick:()=>f(e),size:"sm",color:e===t?"success":"primary",tabIndex:-1,children:e},r))),u.back&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(le,{children:o.jsx(ce,{})})}),o.jsx(C,{onClick:()=>f(c),size:"sm",color:t===c?"success":"primary",tabIndex:-1,children:c}),o.jsx(C,{onClick:function(){t<c&&(l(Zt(0)),l(It()))},color:"primary",size:"sm",tabIndex:-1,children:o.jsx(de,{})})]})})},yr=()=>{const e=a(jt),t=s();function r(e){switch(e.type){case ht.Category:return e.condition;case ht.Date:return Pt(e.condition);case ht.Title:case ht.Description:return e.condition}}return o.jsx(o.Fragment,{children:e.length>0&&o.jsxs(p,{color:"primary",variant:"soft",className:"select-none mb-5",sx:{boxShadow:"lg"},children:[o.jsx(c,{level:"title-lg",children:"Filters"}),o.jsx(v,{inset:"none"}),o.jsx(_,{container:!0,spacing:.5,children:e.map(((e,n)=>o.jsx(_,{xs:"auto",children:o.jsx(j,{variant:"outlined",color:"primary",endDecorator:o.jsx(ue,{onDelete:()=>{t(ft(e))}}),children:r(e)})},n)))})]})})},br=n({name:"blog_content",initialState:{value:""},reducers:{setContentValue:(e,t)=>{e.value=t.payload}}}),{setContentValue:wr}=br.actions,Cr=e=>e.blogContent.value,Sr=()=>{const e=s();return o.jsx(o.Fragment,{children:o.jsx(V,{tabIndex:-1,onClick:function(){e(Vt(0)),e(wr("")),e(yt(bt(""))),e(St(!1))},color:"neutral",variant:"solid",sx:{width:"50px",height:"50px",borderRadius:"50%",zIndex:1,position:"absolute",marginTop:"-15px",marginLeft:"calc(100% - 35px)",boxShadow:"lg",border:"1px solid",borderColor:"var(--variant-outlinedBorder, var(--joy-palette-primary-outlinedBorder, var(--joy-palette-primary-300, #97C3F0)))",background:"var(--joy-palette-background-surface)",color:"rgba(var(--joy-palette-danger-mainChannel) / 1)",transition:"all .2s","&:hover":{color:"white",background:"rgba(var(--joy-palette-danger-mainChannel) / 1)"}},children:o.jsx(H,{style:{width:"30px",height:"30px"}})})})},Nr=()=>{B();const e=a(Mt),t=s();i.useState("render");const[r,n]=i.useState("");return i.useEffect((()=>{t(yt(bt(""))),t(St(!1))}),[]),i.useEffect((()=>{it(e).then((e=>{n(e.content)}))}),[e]),i.useEffect((()=>{t(wr(r))}),[r,t]),o.jsxs("div",{className:"relative mt-10",children:[o.jsx(Sr,{}),o.jsxs(p,{color:"primary",variant:"outlined",sx:{boxShadow:"lg"},children:[o.jsx(xe,{children:o.jsx(f,{ratio:"2",children:o.jsx("img",{src:Dt,loading:"lazy",alt:""})})}),o.jsx(I,{})]})]})},kr=()=>{const e=a(Cr),[t,r]=i.useState([]),[n,s]=i.useState(6),[x]=i.useState(6);async function h(e,r){const n=t.filter((e=>e.tag===r));0!==n.length&&e.querySelectorAll(`h${r}`).forEach(((e,t)=>{e.setAttribute("id",`blog-index-${n[t].id}`)}))}return i.useEffect((()=>{!function(e){if(null!==e){let t=[],a=0,i=new he.Renderer;i.heading=(e,i,o)=>{n>i&&s(i),a+=1;let l=!1;for(let r=0;r<t.length;r++)if(t[r].id===a){l=!0;break}return l||(t.push({id:a,tag:i,text:e}),r(t)),`<h${i}>${e}</h${i}>`},he.setOptions({renderer:i,pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),he(e)}else r([])}(e)}),[e]),i.useEffect((()=>{for(let r=0;r<t.length;r++)n>t[r].tag&&s(t[r].tag);const e=document.querySelector("#render");for(let t=x;t>=n;t--)h(e,t)}),[t,n]),o.jsx(o.Fragment,{children:o.jsxs(l,{className:(t.length>0?"":"hidden")+" select-none",size:"lg",color:"primary",variant:"plain",sx:{"--List-gap":"5px"},children:[o.jsxs(c,{level:"h4",color:"neutral",children:[o.jsx("span",{style:{fontSize:"x-large"},children:"C"}),"ontents"]}),t.map(((e,t)=>o.jsx(d,{className:"cursor-pointer select-none",sx:{width:"100%"},children:o.jsx(u,{onClick:()=>(e=>{let t=document.getElementById(e);window.scrollTo?window.scrollTo({behavior:"smooth",top:t.offsetTop}):window.scroll&&window.scroll({behavior:"smooth",top:t.offsetTop})})(`blog-index-${e.id}`),color:"primary",className:"flex flex-row justify-start",sx:{borderRadius:"6px"},children:o.jsx("span",{style:{marginLeft:10*(e.tag-n)+"px"},className:"text-base font-bold",children:e.text})})},t)))]})})};function Er(e,t){let r=e;for(let n=0;n<t.length;n++){let e=!1;for(let a=0;a<r.length;a++)if(r[a].id===t[n].id){e=!0;break}e||r.push(t[n])}return r}const Ir=({id:e="",blog:t=!0,search:r=!1})=>{const n=a(Wt),x=a(wt),h=s(),[m,f]=i.useState(!1),[g,y]=i.useState(x.value),[b,w]=i.useState([]),C=i.useRef([]),[S,N]=i.useState(!1),[k,E]=i.useState(!1),z=i.useRef(!1),[T,R]=i.useState(1),B=i.useRef(1);i.useEffect((()=>{r&&null!==x.triggeredBy&&(w([]),y(x.value),$())}),[x]),i.useEffect((()=>{m?window.removeEventListener("scroll",F):(f(!0),y(x.value),h(yt(bt(""))),window.addEventListener("scroll",F))}),[]);const F=i.useCallback((()=>{const t=new IntersectionObserver((e=>{e.forEach(((t,r)=>{r===e.length-1&&1===t.intersectionRatio&&(z.current||($(),R(B.current+1)))}))}),{threshold:1});let r=document.querySelector(`#${e}`);if(null!==r){let e=r.children;void 0!==e[e.length-1]&&t.observe(e[e.length-1])}else window.removeEventListener("scroll",F)}),[]);function L(){const e=e=>{0===Object.getOwnPropertyNames(e).length&&(E(!0),z.current=!0),R(B.current+1)};let r=T*et;t?at(n.id,r,et).then((t=>{e(t)})):lt(localStorage.getItem("token"),n.id,r,et).then((t=>{e(t)}))}function $(){N(!0),C.current=b,B.current=T,r?function(){if(!z.current){let e=(T-1)*et;xt(x.value,e,et).then((e=>{let t=[];if(null!==e)for(let r in e)t.push(e[r]);0===t.length?(E(!0),z.current=!0):w(Er(C.current,t)),N(!1)}))}}():function(){if(!z.current){let e=(T-1)*et;t?at(n.id,e,et).then((e=>{_(e),L()})):lt(localStorage.getItem("token"),n.id,e,et).then((e=>{_(e),L()}))}}()}function _(e){let r=0,a=[],s=null;for(let i in e){let o;if(r++,clearTimeout(s),t)o=[st(n.id,e[i].id),it(e[i].id)];else{let t=localStorage.getItem("token");o=[ot(t,n.id,e[i].id),ct(t,e[i].id)]}Promise.all(o).then((e=>{e[0].content=e[1].content,a.push(e[0]),s=setTimeout((()=>{0!==a.length&&w(Er(C.current,a)),N(!1)}),100)}))}0===r&&(E(!0),z.current=!0)}return o.jsxs("div",{className:"relative mt-10",children:[o.jsx(Sr,{}),o.jsxs(p,{invertedColors:!0,variant:"soft",color:"primary",children:[r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-start gap-2 select-none",children:[o.jsx(c,{className:"font-bold",level:"title-sm",variant:"plain",color:"primary",children:"Results of"}),o.jsx(j,{color:"primary",size:"sm",variant:"outlined",sx:{"--Chip-minHeight":"19px","--Chip-gap":"8px","--Chip-paddingInline":"12px"},children:o.jsx("span",{className:"w-full text-center",children:g})})]}),o.jsx(v,{sx:{width:"95%",marginLeft:"2.5%"}})]}),o.jsxs(I,{children:[o.jsx(l,{className:""+(0===b.length?"flex justify-center items-center":""),id:e,color:"primary",variant:"soft",placement:"bottom-start",sx:{padding:0,borderRadius:"var(--joy-radius-sm)",backgroundColor:"transparent"},children:0===b.length?o.jsxs(o.Fragment,{children:[o.jsx(c,{variant:"plain",color:"primary",level:"body-lg",children:o.jsx(P,{})}),o.jsx(c,{level:"body-sm",children:"No Results Found"})]}):o.jsx(o.Fragment,{children:b.map(((e,t)=>o.jsx("div",{children:o.jsx(d,{sx:{borderRadius:6,marginTop:"3px",marginLeft:"3%",marginRight:"3%",marginBottom:"3px"},children:o.jsx(u,{tabIndex:-1,onClick:()=>{return t=e.id,h(yt(bt(""))),h(Vt(t)),void h(St(!1));var t},children:o.jsxs(c,{children:[o.jsx(c,{className:"font-bold",children:e.title}),o.jsx("br",{}),o.jsx(c,{noWrap:!0,level:"body-sm",children:e.desc}),o.jsx("br",{}),o.jsx(c,{level:"body-sm",children:e.content.length<=100?e.content:e.content.slice(0,100)+" ..."})]})})})},t)))})}),k&&S&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(D,{color:"primary",determinate:!1,size:"md",variant:"soft"})})]})]})]})},zr=()=>o.jsx("div",{className:"mb-10",children:o.jsx(Ir,{id:"resultList",search:!0})}),Tr=()=>{const e=m(),t=s(),r=a(Qt),[n,l]=i.useState(!1);function d(){var t,n;(t=localStorage.getItem("token"),n=r,nt("/blog",{method:"DELETE",mode:"cors",withCredentials:!0,headers:{Authorization:`Bearer ${t}`},data:JSON.stringify({blog_id:n})})).then((t=>{null!==t&&t.deleted&&e("/blog",{replace:!0})}))}function u(){l(!1),t(Jt(0))}return i.useEffect((()=>{l(0!==r)}),[r]),o.jsx(o.Fragment,{children:o.jsx(me,{keepMounted:!0,open:n,onClose:u,children:o.jsxs(pe,{color:"primary",variant:"outlined",sx:e=>({[e.breakpoints.only("xs")]:{top:"unset",bottom:0,left:0,right:0,borderRadius:0,transform:"none",maxWidth:"unset"}}),children:[o.jsx(c,{id:"nested-modal-title",level:"h4",children:"Are you absolutely sure?"}),o.jsx(c,{id:"nested-modal-description",textColor:"text.tertiary",children:"This action cannot be undone. This will permanently delete and remove your data."}),o.jsxs(G,{sx:{mt:1,display:"flex",gap:1,flexDirection:{xs:"column",sm:"row-reverse"}},children:[o.jsx(V,{tabIndex:-1,variant:"solid",color:"primary",onClick:function(){l(!1),d()},children:"Continue"}),o.jsx(V,{tabIndex:-1,variant:"outlined",color:"neutral",onClick:u,children:"Cancel"})]})]})})})},Rr=()=>{const e=m(),t=h(),r=a(Ut),n=a(Wt),s=i.useRef(),[l,c]=i.useState(!1);return i.useEffect((()=>{"blog"===location.pathname.split("/")[1]&&(r?(s.current=t.id?t.id:n.id,void 0===s.current||null===s.current?c(!1):c(s.current===n.id)):e("/login",{replace:!0}))}),[]),o.jsx(o.Fragment,{children:l&&o.jsx(V,{fullWidth:!0,color:"primary",variant:"soft",className:"capitalize",onClick:function(t){t.stopPropagation(),e("/writeblog",{replace:!0})},sx:{boxShadow:"md"},startDecorator:o.jsx(fe,{}),children:"new blog"})})},Br=()=>{const e=s(),t=a(Mt),r=a(Nt);return i.useEffect((()=>{e(Vt(0)),e(wr("")),e(Zt(0))}),[]),o.jsx(o.Fragment,{children:o.jsx(jr,{left:{el:o.jsx(o.Fragment,{children:0===t?o.jsxs(o.Fragment,{children:[o.jsx(Rr,{}),o.jsx(kt,{})]}):o.jsx(kr,{})}),fixed:!0},content:{el:o.jsx("div",{className:"min-h-full",children:r?o.jsx(zr,{}):o.jsx(o.Fragment,{children:0===t?o.jsxs(o.Fragment,{children:[o.jsx(yr,{}),o.jsx(sr,{}),o.jsx(vr,{}),o.jsx(Tr,{})]}):o.jsx(Nr,{})})})}})})},Fr=()=>{const e=a(Ut),t=m();return i.useEffect((()=>{e||t("/login",{replace:!0})}),[e,t]),o.jsx(o.Fragment,{})},Lr=()=>{const e=s(),t=m(),[r,n]=i.useState(!1),[l,d]=i.useState(!1),[u,x]=i.useState(""),[h,f]=i.useState(""),[g,v]=i.useState(""),[y,b]=i.useState(!1),w=a(Ut);async function S(){var r,n;d(!0),(r=u,n=h,new Promise((e=>{Xe(n).then((t=>{e(nt("/login",{method:"POST",mode:"cors",withCredentials:!0,headers:{"Content-Type":"application/json"},data:JSON.stringify({username:r,password:t})}))}))}))).then((r=>{if(null!==r&&r instanceof Object){const n=r,a=n.id,s=n.login;null!=s?(localStorage.setItem("token",s),e(Gt({id:a})),t("/",{replace:!0})):(v(n.msg),b(!0))}d(!1)}))}return i.useEffect((()=>{w&&t("/",{replace:!0})}),[w,t]),i.useEffect((()=>{!y&&v("")}),[y]),o.jsxs("div",{className:"flex flex-col gap-2",onKeyDown:async function(e){"Enter"===e.key&&await S()},children:[o.jsxs(p,{invertedColors:!0,variant:"soft",color:"primary",sx:{boxShadow:"lg"},className:"w-96 h-80 select-none",children:[o.jsx(xe,{children:o.jsx(c,{level:"h1",className:"capitalize text-center",style:{marginTop:10,textShadow:"0 0 8px var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C))"},children:"sign in"})}),o.jsx(I,{className:"mt-8",children:o.jsxs($,{direction:"column",justifyContent:"center",spacing:6,children:[o.jsx(ge,{className:"flex justify-center items-center",children:o.jsx(M,{onChange:function(e){const t=e.target;if(t){const e=t.value;e.length<=20&&x(e)}},value:u,startDecorator:o.jsx(j,{variant:"outlined",startDecorator:o.jsx(F,{}),style:{cursor:"default"},children:"username"}),endDecorator:""!==u?o.jsx(C,{tabIndex:-1,onClick:function(){x("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(H,{})}):o.jsx(o.Fragment,{}),color:"primary",variant:"soft",className:"w-11/12",size:"md",sx:{"--Input-focusedThickness":"0"}})}),o.jsx(ge,{className:"flex justify-center items-center",children:o.jsx(M,{onChange:function(e){const t=e.target;if(t){const e=t.value;e.length<=20&&f(e)}},value:h,startDecorator:o.jsx(j,{variant:"outlined",startDecorator:o.jsx(je,{}),style:{cursor:"default"},children:"password"}),endDecorator:o.jsxs("div",{className:"flex gap-2",children:[""!==h&&o.jsx(C,{tabIndex:-1,onClick:function(){f("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(H,{})}),o.jsx(C,{onClick:function(){n(!r)},children:r?o.jsx(ve,{}):o.jsx(ye,{})})]}),color:"primary",variant:"soft",className:"w-11/12",type:r?"text":"password",size:"md",sx:{"--Input-focusedThickness":"0"}})})]})}),o.jsx(be,{buttonFlex:"0 1 200px",className:"flex justify-center items-center",children:o.jsx(V,{tabIndex:-1,loading:l,variant:"solid",color:"primary",className:"capitalize",onClick:S,children:"sign in"})})]}),o.jsx(p,{invertedColors:!0,variant:"soft",color:"primary",sx:{boxShadow:"lg"},children:o.jsx(I,{className:"flex justify-center items-center",children:o.jsx(c,{endDecorator:o.jsxs(we,{variant:"plain",onClick:function(){t("/signup",{replace:!0})},fontSize:"md",borderRadius:"sm",children:["Create an account",o.jsx(Ce,{})]}),children:"New to Here?"})})}),o.jsx(Se,{autoHideDuration:3e3,color:"danger",variant:"solid",anchorOrigin:{vertical:"bottom",horizontal:"right"},open:y,onClose:()=>b(!1),startDecorator:o.jsx(Ne,{}),endDecorator:o.jsx(C,{onClick:()=>b(!1),variant:"plain",sx:{color:"inherit"},children:o.jsx(H,{style:{color:"inherit"}})}),children:o.jsx(c,{sx:{color:"inherit"},children:o.jsx(c,{level:"body-sm",sx:{color:"inherit"},children:g})})})]})},$r=()=>o.jsx(o.Fragment,{children:o.jsx(jr,{center:{el:o.jsx(o.Fragment,{children:o.jsx(Lr,{})}),show:!0,fixed:!0}})}),Dr=()=>o.jsx(o.Fragment,{children:o.jsx(jr,{center:{el:o.jsx(o.Fragment,{}),show:!0,fixed:!0}})}),Pr=()=>o.jsx(o.Fragment,{children:o.jsx(jr,{navigate:!1})});const _r=n({name:"selected_cover_image",initialState:{value:""},reducers:{setSelectedCoverImageValue:(e,t)=>{e.value=t.payload}}}),{setSelectedCoverImageValue:Or}=_r.actions,Vr=e=>e.selectedCoverImage.value,Mr=n({name:"cover_image",initialState:{value:""},reducers:{setCoverImageValue:(e,t)=>{e.value=t.payload}}}),{setCoverImageValue:Hr}=Mr.actions,qr=e=>e.coverImage.value,Gr=n({name:"cover_modal_open",initialState:{value:!1},reducers:{setCoverModalOpenValue:(e,t)=>{e.value=t.payload}}}),{setCoverModalOpenValue:Wr}=Gr.actions,Ar=e=>e.coverModalOpen.value;function Kr(e,t,r){i.useEffect((()=>{const n=setTimeout((()=>{r&&e.apply(void 0,r)}),t);return()=>{clearTimeout(n)}}),r)}const Ur=()=>{const[e,t]=i.useState(),[r,n]=i.useState(),[l]=i.useState(1),[c]=i.useState(0),[d]=i.useState(16/9),u=s(),x=a(Vr),h=a(qr),m=a(Ar),p=i.useRef(!0),f=i.useRef(null),g=i.useRef(null),[j,y]=i.useState();async function b(e,t,r,n=1,a=0){const s=t.getContext("2d");if(s){const i=e.naturalWidth/e.width,o=e.naturalHeight/e.height,l=window.devicePixelRatio;t.width=Math.floor(r.width*i*l),t.height=Math.floor(r.height*o*l),s.scale(l,l),s.imageSmoothingQuality="high";const c=r.x*i,d=r.y*o,u=a*Math.PI/180,x=e.naturalWidth/2,h=e.naturalHeight/2;s.save(),s.translate(-c,-d),s.translate(x,h),s.rotate(u),s.scale(n,n),s.translate(-x,-h),s.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),s.restore()}}return i.useEffect((()=>{u(Wr(!(!x&&""===x))),p.current=!0}),[x]),Kr((async()=>{e?.width&&e?.height&&g.current&&f.current&&m&&(b(g.current,f.current,Ee(e,g.current.width,g.current.height),l,c),p.current=!1)}),100,[e,m]),Kr((async()=>{r?.width&&r?.height&&g.current&&f.current&&(p.current||b(g.current,f.current,r,l,c))}),100,[r,l,c]),o.jsx(me,{keepMounted:!0,open:m,onClose:function(){(h||""!==h)&&u(Or("")),u(Wr(!1))},children:o.jsxs(pe,{color:"primary",variant:"outlined",children:[o.jsx(ne,{color:"danger",variant:"solid"}),o.jsx(re,{className:"capitalize",children:"Adjust Image"}),o.jsx(v,{inset:"none"}),o.jsxs(ae,{sx:{padding:2,overflow:"hidden",display:"flex",flexDirection:j,justifyContent:"space-between"},children:[o.jsx(G,{children:o.jsx(ke,{crop:e,aspect:16/9,onChange:(e,r)=>{t(r)},onComplete:(e,t)=>n(Ee(t,g?.current.width,g?.current.height)),children:o.jsx("img",{ref:g,src:m?x:"/webp/img.min-D6I2EL-p.webp",onLoad:function(e){if(d){const{width:r,height:n}=e.currentTarget;y(r>n?"column":"row");const a=function(e,t,r){return ze(Te({unit:"%",width:90},r,e,t),e,t)}(r,n,d);t(a)}},alt:""})})}),o.jsx(v,{orientation:"vertical"}),o.jsxs(G,{display:"flex",flexDirection:"column"===j?"row":"column",justifyContent:"space-around",gap:2,children:[!!r&&o.jsx("canvas",{ref:f,style:{objectFit:"contain",width:300,height:168.75}}),o.jsx(G,{display:"flex",flexDirection:j,flexGrow:1,justifyContent:"flex-end",alignItems:"flex-end",children:o.jsx(V,{className:"capitalize",size:"sm",color:"primary",variant:"solid",onClick:function(){const e=g.current,t=f.current;if(e&&t&&r){const n=e.naturalWidth/e.width,a=e.naturalHeight/e.height,s=new OffscreenCanvas(r.width*n,r.height*a),i=s.getContext("2d");i&&(i.drawImage(t,0,0,t.width,t.height,0,0,s.width,s.height),s.convertToBlob({type:"image/jpeg",quality:1}).then((e=>{h&&URL.revokeObjectURL(h),u(Hr(URL.createObjectURL(e))),u(Wr(!1))})))}},startDecorator:o.jsx(Ie,{}),sx:{minWidth:100},children:"Continue"})})]})]})]})})},Xr=n({name:"editor_text",initialState:{value:""},reducers:{setEditorTextValue:(e,t)=>{e.value=t.payload}}});Xr.actions;const Jr=e=>e.editorText.value,Qr=()=>{const e=h(),t=s(),r=i.useRef(e.id),n=a(Ut),l=R(),d=m(),u=a(Jr),[x,g]=i.useState(!1),[y,b]=i.useState(!1),[w,S]=i.useState(""),[N,k]=i.useState(""),E=i.useRef(null),z=a(qr),[T,B]=i.useState([]),[F,L]=i.useState(null),$=i.useRef(null),[D]=i.useState(!1);function P(e){if(w.length<40){const t=e.target;S(t.value)}}i.useEffect((()=>{"writeblog"===l.pathname.split("/")[1]&&(n?(r.current=e.id,void 0===r.current||null===r.current?b(!1):b(!0),_()):d("/login",{replace:!0}))}),[]),i.useEffect((()=>{const e=u.length-1;g(e<=0)}),[u]);const _=()=>{const e=[];ut().then((t=>{null!==t&&t instanceof Object&&Object.entries(t).forEach((([t,r])=>{dt(r.id).then((t=>{e.push(t),B(e)}))}))}))};return o.jsx(o.Fragment,{children:o.jsxs(p,{color:"primary",variant:"outlined",sx:{minHeight:"100%",boxShadow:"lg"},children:[o.jsx(xe,{children:o.jsx(M,{className:"mt-5",slots:{root:M},slotProps:{root:{maxLength:40,endDecorator:o.jsxs("div",{className:"flex justify-end items-center gap-2",children:[""!==w&&o.jsx(C,{tabIndex:-1,onClick:function(){S("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(H,{})}),o.jsx(c,{color:"primary",variant:"plain",level:"body-sm",children:`${w.length}/40`})]}),onChange:e=>P(e),onInput:e=>P(e),value:w,color:"primary",variant:"outlined",size:"sm",placeholder:"Type your title...",sx:{"--Input-focusedThickness":"0"}}}})}),o.jsx(v,{inset:"none"}),o.jsxs(I,{sx:{display:"flex",justifyContent:"flex-start",gap:2},children:[o.jsxs(G,{display:"flex",flexDirection:"column",gap:1,children:[o.jsx(c,{level:"title-sm",children:"Description"}),o.jsxs(p,{color:"primary",variant:"outlined",className:"overflow-hidden",sx:{padding:1},children:[o.jsx(Re,{options:{suppressScrollX:!0,useBothWheelAxes:!1},children:o.jsx(G,{minHeight:80,maxHeight:80,children:o.jsx(Be,{value:N,onChange:function(e){const t=e.target.value;t.length<=500&&k(t)},color:"primary",variant:"plain",disabled:!1,minRows:3,placeholder:"Type description...",size:"sm",sx:{"&::before":{border:"none",left:"2.5px",right:"2.5px",bottom:0,top:"unset",transition:"transform .15s cubic-bezier(0.1,0.9,0.2,1)",borderRadius:0,borderBottomLeftRadius:"64px 20px",borderBottomRightRadius:"64px 20px"}}})})}),o.jsxs(c,{level:"body-xs",color:"primary",variant:"plain",sx:{ml:"auto"},children:[N.length,"/500"]})]})]}),o.jsxs(G,{display:"flex",flexDirection:"column",gap:1,children:[o.jsx(c,{level:"title-sm",children:"Cover"}),o.jsxs(f,{onClick:function(){z||""!==z?t(Wr(!0)):E?.current?.click()},className:"cursor-pointer",children:[o.jsx(p,{color:"primary",variant:"outlined",size:"sm",children:o.jsx(Fe,{children:z&&""!==z?o.jsxs(G,{sx:{overflow:"hidden"},children:[o.jsx(ne,{onClick:function(e){e.stopPropagation(),t(Hr(""))},color:"danger",variant:"solid"}),o.jsx("img",{draggable:!1,src:z,alt:""})]}):o.jsxs(G,{display:"flex",gap:2,justifyContent:"center",alignItems:"center",children:[o.jsx(Le,{}),o.jsx(c,{color:"primary",variant:"plain",level:"body-sm",children:"Select cover image"})]})})}),o.jsx("input",{onChange:function(e){const r=e.target,n=r.files;if(n&&n.length){const e=n[n.length-1],a=new FileReader;a.onload=()=>{const e=a.result;e&&(t(Or(e)),r.value="")},a.readAsDataURL(e)}},ref:E,hidden:!0,type:"file",accept:"image/*"})]}),o.jsx(Ur,{})]}),o.jsxs(G,{display:"flex",flexDirection:"column",gap:1,children:[o.jsx(c,{level:"title-sm",children:"Category"}),o.jsx($e,{action:$,size:"sm",color:"primary",variant:"outlined",placeholder:"Choose one category…",value:F,onChange:(e,t)=>L(t),...F&&{endDecorator:o.jsx(C,{variant:"solid",color:"danger",onMouseDown:e=>{e.stopPropagation()},onClick:()=>{L(null),$.current?.focusVisible()},sx:{maxWidth:"var(--IconButton-size, 2rem)",maxHeight:"var(--IconButton-size, 2rem)"},children:o.jsx(De,{})}),indicator:null},renderValue:e=>o.jsx(G,{sx:{display:"flex",gap:"0.25rem"},children:o.jsx(j,{size:"sm",variant:"solid",color:"primary",children:e?.label})}),slotProps:{listbox:{sx:{padding:0,boxShadow:"lg"}}},children:o.jsx(Re,{options:{suppressScrollX:!0,useBothWheelAxes:!1},children:o.jsx(G,{maxHeight:150,children:T.map(((e,t)=>o.jsx(Pe,{color:"primary",variant:"plain",tabIndex:-1,value:e.id,label:e.catName,children:e.catName},t)))})})})]})]}),o.jsx(be,{children:y?o.jsx(V,{loading:D,className:"capitalize",disabled:x,tabIndex:-1,size:"sm",variant:"solid",color:"primary",children:"post"}):o.jsxs("div",{className:"w-full flex justify-end items-center gap-5",children:[o.jsx(V,{loading:D,className:"capitalize",disabled:x,tabIndex:-1,size:"sm",variant:"solid",color:"primary",children:"post"}),o.jsx(V,{loading:D,className:"capitalize",disabled:x,tabIndex:-1,size:"sm",variant:"solid",color:"primary",children:"save as draft"})]})})]})})},Yr=n({name:"editor_size",initialState:{value:{width:0,height:0}},reducers:{setEditorSizeValue:(e,t)=>{e.value=t.payload}}}),{setEditorSizeValue:Zr}=Yr.actions,en=e=>e.editorSize.value,tn=[{id:"bold",icon:"format_bold",color:"primary"},{id:"italic",icon:"format_italic",color:"primary"},{id:"underline",icon:"format_underlined",color:"primary"},{id:"strike",icon:"strikethrough_s",color:"primary"},{id:"script#super",icon:"superscript",color:"primary"},{id:"script#sub",icon:"subscript",color:"primary"},{id:"header#1",icon:"format_h1",color:"primary"},{id:"header#2",icon:"format_h2",color:"primary"},{id:"blockquote",icon:"format_quote",color:"primary"},{id:"code-block",icon:"code",color:"primary"},{id:"link",icon:"link",color:"primary"},{id:"list#ordered",icon:"format_list_numbered",color:"primary"},{id:"list#bullet",icon:"format_list_bulleted",color:"primary"},{id:"image",icon:"imagesmode",color:"primary"}],rn=()=>{const e=B(),[t,r]=i.useState(""),[n]=i.useState(0),s=a(en);return i.useEffect((()=>{!function(){const e=document.querySelector(".ql-editor");e&&(e.style.minHeight=`calc(${s.height}px - 153px)`)}()}),[s]),o.jsx(o.Fragment,{children:o.jsxs(p,{color:"primary",variant:"outlined",sx:{minHeight:"100%",boxShadow:"lg"},children:[o.jsx(I,{sx:{padding:"0"},children:o.jsxs(_,{container:!0,rowSpacing:1,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{flexGrow:1},children:[o.jsx(_,{xs:!0,children:o.jsx(p,{size:"sm",color:"primary",variant:"plain",sx:{paddingLeft:0,paddingRight:0,paddingTop:1,paddingBottom:1},children:o.jsx(U,{id:"toolbar",size:"sm",color:"primary",orientation:"horizontal",variant:"outlined",children:tn.map(((e,t)=>o.jsx(C,{tabIndex:-1,id:e.id,size:"sm",variant:"soft",className:"toolBarButton",sx:{paddingLeft:2.5,paddingRight:2.5},children:o.jsx("span",{className:"material-symbols-outlined",children:e.icon})},t)))})})}),o.jsx(_,{xs:!0,children:o.jsx(p,{size:"sm",color:"primary",variant:"outlined",sx:{padding:0,minHeight:`calc(${s.height}px - 135px)`,height:"100%",maxHeight:`calc(${s.height}px - 135px)`,overflow:"hidden"},children:o.jsxs(G,{display:"flex",justifyContent:"space-evenly",sx:{height:`calc(${s.height}px - 135px)`},children:[o.jsx(G,{flex:1,sx:{width:"50%",height:`calc(${s.height}px - 135px)`},children:o.jsx(_e,{width:"100%",height:"100%",language:"markdown",theme:"dark"===e.mode?"vs-dark":"vs",value:t,onChange:e=>function(e){r(e)}(e),options:{selectOnLineNumbers:!0,matchBrackets:"near"}})}),o.jsx(G,{flex:1,sx:{width:"50%",height:`calc(${s.height}px - 135px)`},children:o.jsx(Re,{options:{suppressScrollX:!0,useBothWheelAxes:!1},children:o.jsx(G,{flex:1,sx:{paddingLeft:2,paddingRight:2,paddingTop:.5,paddingBottom:.5,width:"100%",height:"100%"},children:o.jsx(Oe,{remarkPlugins:[Ve,Me],children:t})})})})]})})})]})}),o.jsx(be,{className:"flex justify-end items-end mt-[-20px]",children:o.jsx(c,{className:"select-none",level:"body-xs",color:"primary",variant:"plain",children:`${n}  character(s)`})})]})})},nn=()=>{const e=s(),[t,r]=i.useState(!1),[n,a]=i.useState(u()),[l,c]=i.useState(x());i.useEffect((()=>{if(!t){r(!0);const t=u(),n=x();e(Zr({width:t,height:n})),window.removeEventListener("resize",d),window.addEventListener("resize",d)}}),[]);const d=i.useCallback((()=>{const t=u(),r=x();a(t),c(r),e(Zr({width:t,height:r}))}),[]);function u(){const e=(document.compatMode&&"CSS1Compat"==document.compatMode?document.documentElement:document.body).clientWidth;return e<772?772:e}function x(){return(document.compatMode&&"CSS1Compat"==document.compatMode?document.documentElement:document.body).clientHeight-96}return o.jsx("div",{className:"ml-5 mr-5",style:{width:`${n}px`},children:o.jsxs(_,{container:!0,spacing:2,columns:4,sx:{flexGrow:1,minHeight:`${l}px`,maxHeight:`${l}px`},children:[o.jsx(_,{xs:1,children:o.jsx(Qr,{})}),o.jsx(_,{xs:3,children:o.jsx(rn,{})})]})})},an=()=>o.jsx(o.Fragment,{children:o.jsx(jr,{center:{el:o.jsx(nn,{}),show:!0,fixed:!1}})}),sn=He([{path:"/",element:o.jsx(Pr,{})},{path:"/blog",element:o.jsx(Br,{})},{path:"/blog/:id",element:o.jsx(Br,{})},{path:"/writeblog",element:o.jsx(an,{})},{path:"/writeblog/:id",element:o.jsx(an,{})},{path:"/dashboard",element:o.jsx(Fr,{})},{path:"/login",element:o.jsx($r,{})},{path:"/signup",element:o.jsx(Dr,{})}]);function on(){const e=B(),t=a(fr),r=i.useRef(null);return i.useEffect((()=>{document.body.classList.remove(Qe),document.body.classList.remove(Je),document.body.classList.add("dark"===e.mode?Qe:Je)}),[e]),i.useEffect((()=>{r.current.updateScroll()}),[t]),o.jsx(Re,{ref:r,children:o.jsx("div",{className:`min-w-full max-w-full min-h-full max-h-full ${"dark"===e.mode?Qe:Je}`,children:o.jsx(qe,{router:sn})})})}const ln=n({name:"side_bar",initialState:{value:0},reducers:{setSideBarValue:(e,t)=>{e.value=t.payload}}});ln.actions;const cn=n({name:"editor_selection",initialState:{value:null},reducers:{setEditorSelection:(e,t)=>{e.value=t.payload}}});cn.actions;const dn=Ge({reducer:{blog:Ot.reducer,blogPage:Et.reducer,blogNumber:Bt.reducer,blogFilterNumber:rr.reducer,blogContent:br.reducer,blogDelete:Xt.reducer,blogOpButton:Yt.reducer,condition:mt.reducer,searchKeyword:vt.reducer,loginState:At.reducer,userBasicInfo:qt.reducer,showSearchResult:Ct.reducer,sideBar:ln.reducer,location:mr.reducer,drawerOpen:lr.reducer,selectedCoverImage:_r.reducer,coverImage:Mr.reducer,coverModalOpen:Gr.reducer,editorSelection:cn.reducer,editorText:Xr.reducer,editorSize:Yr.reducer},middleware:e=>e({serializableCheck:!1})});We.createRoot(document.getElementById("root")).render(o.jsx(Ae.StrictMode,{children:o.jsx(Ke,{store:dn,children:o.jsx(Ue,{defaultMode:"dark",modeStorageKey:"theme-mode",children:o.jsx(on,{})})})}));
